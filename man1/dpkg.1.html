<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:05:14 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>dpkg(1) dpkg suite dpkg(1)</p>

<p style="margin-top: 1em">NAME <br>
dpkg - package manager for Debian</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dpkg [option...] action</p>

<p style="margin-top: 1em">WARNING <br>
This manual is intended for users wishing to understand
dpkg&rsquo;s command line options and package states in more
detail than that provided by dpkg --help.</p>

<p style="margin-top: 1em">It should not be used by package
maintainers wishing to understand how dpkg will install
their packages. The descriptions of what dpkg does when
installing and removing packages <br>
are particularly inadequate.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dpkg is a tool to install, build, remove and manage Debian
packages. The primary and more user-friendly front-end for
dpkg is aptitude(1). dpkg itself is controlled entirely via
<br>
command line parameters, which consist of exactly one action
and zero or more options. The action-parameter tells dpkg
what to do and options control the behavior of the action
<br>
in some way.</p>

<p style="margin-top: 1em">dpkg can also be used as a
front-end to dpkg-deb(1) and dpkg-query(1). The list of
supported actions can be found later on in the ACTIONS
section. If any such action is encoun&acirc; <br>
tered dpkg just runs dpkg-deb or dpkg-query with the
parameters given to it, but no specific options are
currently passed to them, to use any such option the
back-ends need to be <br>
called directly.</p>

<p style="margin-top: 1em">INFORMATION ABOUT PACKAGES <br>
dpkg maintains some usable information about available
packages. The information is divided in three classes:
states, selection states and flags. These values are
intended to be <br>
changed mainly with dselect.</p>

<p style="margin-top: 1em">Package states <br>
not-installed <br>
The package is not installed on your system.</p>

<p style="margin-top: 1em">config-files <br>
Only the configuration files of the package exist on the
system.</p>

<p style="margin-top: 1em">half-installed <br>
The installation of the package has been started, but not
completed for some reason.</p>

<p style="margin-top: 1em">unpacked <br>
The package is unpacked, but not configured.</p>

<p style="margin-top: 1em">half-configured <br>
The package is unpacked and configuration has been started,
but not yet completed for some reason.</p>

<p style="margin-top: 1em">triggers-awaited <br>
The package awaits trigger processing by another
package.</p>

<p style="margin-top: 1em">triggers-pending <br>
The package has been triggered.</p>

<p style="margin-top: 1em">installed <br>
The package is correctly unpacked and configured.</p>

<p style="margin-top: 1em">Package selection states <br>
install <br>
The package is selected for installation.</p>

<p style="margin-top: 1em">hold A package marked to be on
hold is not handled by dpkg, unless forced to do that with
option --force-hold.</p>

<p style="margin-top: 1em">deinstall <br>
The package is selected for deinstallation (i.e. we want to
remove all files, except configuration files).</p>

<p style="margin-top: 1em">purge The package is selected to
be purged (i.e. we want to remove everything from system
directories, even configuration files).</p>

<p style="margin-top: 1em">Package flags <br>
reinst-required <br>
A package marked reinst-required is broken and requires
reinstallation. These packages cannot be removed, unless
forced with option --force-remove-reinstreq.</p>

<p style="margin-top: 1em">ACTIONS <br>
-i, --install package-file... <br>
Install the package. If --recursive or -R option is
specified, package-file must refer to a directory
instead.</p>

<p style="margin-top: 1em">Installation consists of the
following steps:</p>

<p style="margin-top: 1em">1. Extract the control files of
the new package.</p>

<p style="margin-top: 1em">2. If another version of the
same package was installed before the new installation,
execute prerm script of the old package.</p>

<p style="margin-top: 1em">3. Run preinst script, if
provided by the package.</p>

<p style="margin-top: 1em">4. Unpack the new files, and at
the same time back up the old files, so that if something
goes wrong, they can be restored.</p>

<p style="margin-top: 1em">5. If another version of the
same package was installed before the new installation,
execute the postrm script of the old package. Note that this
script is executed after <br>
the preinst script of the new package, because new files are
written at the same time old files are removed.</p>

<p style="margin-top: 1em">6. Configure the package. See
--configure for detailed information about how this is
done.</p>

<p style="margin-top: 1em">--unpack package-file... <br>
Unpack the package, but don&rsquo;t configure it. If
--recursive or -R option is specified, package-file must
refer to a directory instead.</p>

<p style="margin-top: 1em">--configure
package...|-a|--pending <br>
Configure a package which has been unpacked but not yet
configured. If -a or --pending is given instead of package,
all unpacked but unconfigured packages are configured.</p>

<p style="margin-top: 1em">To reconfigure a package which
has already been configured, try the dpkg-reconfigure(8)
command instead.</p>

<p style="margin-top: 1em">Configuring consists of the
following steps:</p>

<p style="margin-top: 1em">1. Unpack the conffiles, and at
the same time back up the old conffiles, so that they can be
restored if something goes wrong.</p>

<p style="margin-top: 1em">2. Run postinst script, if
provided by the package.</p>

<p style="margin-top: 1em">--triggers-only
package...|-a|--pending <br>
Processes only triggers (since dpkg 1.14.17). All pending
triggers will be processed. If package names are supplied
only those packages&rsquo; triggers will be processed, <br>
exactly once each where necessary. Use of this option may
leave packages in the improper triggers-awaited and
triggers-pending states. This can be fixed later by running:
<br>
dpkg --configure --pending.</p>

<p style="margin-top: 1em">-r, --remove
package...|-a|--pending <br>
Remove an installed package. This removes everything except
conffiles, which may avoid having to reconfigure the package
if it is reinstalled later (conffiles are configu&acirc;
<br>
ration files that are listed in the DEBIAN/conffiles control
file). If -a or --pending is given instead of a package
name, then all packages unpacked, but marked to be <br>
removed in file /var/lib/dpkg/status, are removed.</p>

<p style="margin-top: 1em">Removing of a package consists
of the following steps:</p>

<p style="margin-top: 1em">1. Run prerm script</p>

<p style="margin-top: 1em">2. Remove the installed
files</p>

<p style="margin-top: 1em">3. Run postrm script</p>

<p style="margin-top: 1em">-P, --purge
package...|-a|--pending <br>
Purge an installed or already removed package. This removes
everything, including conffiles. If -a or --pending is given
instead of a package name, then all packages <br>
unpacked or removed, but marked to be purged in file
/var/lib/dpkg/status, are purged.</p>

<p style="margin-top: 1em">Note: some configuration files
might be unknown to dpkg because they are created and
handled separately through the configuration scripts. In
that case, dpkg won&rsquo;t remove <br>
them by itself, but the package&rsquo;s postrm script (which
is called by dpkg), has to take care of their removal during
purge. Of course, this only applies to files in system <br>
directories, not configuration files written to individual
users&rsquo; home directories.</p>

<p style="margin-top: 1em">Purging of a package consists of
the following steps:</p>

<p style="margin-top: 1em">1. Remove the package, if not
already removed. See --remove for detailed information about
how this is done.</p>

<p style="margin-top: 1em">2. Run postrm script.</p>

<p style="margin-top: 1em">-V, --verify [package-name...]
<br>
Verifies the integrity of package-name or all packages if
omitted, by comparing information from the files installed
by a package with the files metadata information <br>
stored in the dpkg database (since dpkg 1.17.2). The origin
of the files metadata information in the database is the
binary packages themselves. That metadata gets col&acirc;
<br>
lected at package unpack time during the installation
process.</p>

<p style="margin-top: 1em">Currently the only functional
check performed is an md5sum verification of the file
contents against the stored value in the files database. It
will only get checked if <br>
the database contains the file md5sum. To check for any
missing metadata in the database, the --audit command can be
used.</p>

<p style="margin-top: 1em">The output format is selectable
with the --verify-format option, which by default uses the
rpm format, but that might change in the future, and as
such, programs parsing <br>
this command output should be explicit about the format they
expect.</p>

<p style="margin-top: 1em">--update-avail [Packages-file]
<br>
--merge-avail [Packages-file] <br>
Update dpkg&rsquo;s and dselect&rsquo;s idea of which
packages are available. With action --merge-avail, old
information is combined with information from Packages-file.
With action <br>
--update-avail, old information is replaced with the
information in the Packages-file. The Packages-file
distributed with Debian is simply named Packages. If the
Packages- <br>
file argument is missing or named - then it will be read
from standard input (since dpkg 1.17.7). dpkg keeps its
record of available packages in /var/lib/dpkg/available.</p>

<p style="margin-top: 1em">A simpler one-shot command to
retrieve and update the available file is dselect update.
Note that this file is mostly useless if you don&rsquo;t use
dselect but an APT-based <br>
frontend: APT has its own system to keep track of available
packages.</p>

<p style="margin-top: 1em">-A, --record-avail
package-file... <br>
Update dpkg and dselect&rsquo;s idea of which packages are
available with information from the package package-file. If
--recursive or -R option is specified, package-file must
<br>
refer to a directory instead.</p>

<p style="margin-top: 1em">--forget-old-unavail <br>
Now obsolete and a no-op as dpkg will automatically forget
uninstalled unavailable packages (since dpkg 1.15.4).</p>

<p style="margin-top: 1em">--clear-avail <br>
Erase the existing information about what packages are
available.</p>

<p style="margin-top: 1em">-C, --audit [package-name...]
<br>
Performs database sanity and consistency checks for
package-name or all packages if omitted (per package checks
since dpkg 1.17.10). For example, searches for packages <br>
that have been installed only partially on your system or
that have missing, wrong or obsolete control data or files.
dpkg will suggest what to do with them to get them <br>
fixed.</p>

<p style="margin-top: 1em">--get-selections
[package-name-pattern...] <br>
Get list of package selections, and write it to stdout.
Without a pattern, non-installed packages (i.e. those which
have been previously purged) will not be shown.</p>

<p style="margin-top: 1em">--set-selections <br>
Set package selections using file read from stdin. This file
should be in the format &acirc;package state&acirc;, where
state is one of install, hold, deinstall or purge. Blank
lines <br>
and comment lines beginning with &acirc;#&acirc; are also
permitted.</p>

<p style="margin-top: 1em">The available file needs to be
up-to-date for this command to be useful, otherwise unknown
packages will be ignored with a warning. See the
--update-avail and <br>
--merge-avail commands for more information.</p>

<p style="margin-top: 1em">--clear-selections <br>
Set the requested state of every non-essential package to
deinstall (since dpkg 1.13.18). This is intended to be used
immediately before --set-selections, to deinstall <br>
any packages not in list given to --set-selections.</p>

<p style="margin-top: 1em">--yet-to-unpack <br>
Searches for packages selected for installation, but which
for some reason still haven&rsquo;t been installed.</p>

<p style="margin-top: 1em">--predep-package <br>
Print a single package which is the target of one or more
relevant pre-dependencies and has itself no unsatisfied
pre-dependencies.</p>

<p style="margin-top: 1em">If such a package is present,
output it as a Packages file entry, which can be massaged as
appropriate.</p>

<p style="margin-top: 1em">Returns 0 when a package is
printed, 1 when no suitable package is available and 2 on
error.</p>

<p style="margin-top: 1em">--add-architecture architecture
<br>
Add architecture to the list of architectures for which
packages can be installed without using --force-architecture
(since dpkg 1.16.2). The architecture dpkg is built <br>
for (i.e. the output of --print-architecture) is always part
of that list.</p>

<p style="margin-top: 1em">--remove-architecture
architecture <br>
Remove architecture from the list of architectures for which
packages can be installed without using --force-architecture
(since dpkg 1.16.2). If the architecture is cur&acirc; <br>
rently in use in the database then the operation will be
refused, except if --force-architecture is specified. The
architecture dpkg is built for (i.e. the output of <br>
--print-architecture) can never be removed from that
list.</p>

<p style="margin-top: 1em">--print-architecture <br>
Print architecture of packages dpkg installs (for example,
&acirc;i386&acirc;).</p>

<p style="margin-top: 1em">--print-foreign-architectures
<br>
Print a newline-separated list of the extra architectures
dpkg is configured to allow packages to be installed for
(since dpkg 1.16.2).</p>

<p style="margin-top: 1em">--assert-feature <br>
Asserts that dpkg supports the requested feature. Returns 0
if the feature is fully supported, 1 if the feature is known
but dpkg cannot provide support for it yet, and 2 <br>
if the feature is unknown. The current list of assertable
features is:</p>

<p style="margin-top: 1em">support-predepends <br>
Supports the Pre-Depends field (since dpkg 1.1.0).</p>

<p style="margin-top: 1em">working-epoch <br>
Supports epochs in version strings (since dpkg 1.4.0.7).</p>

<p style="margin-top: 1em">long-filenames <br>
Supports long filenames in deb(5) archives (since dpkg
1.4.1.17).</p>

<p style="margin-top: 1em">multi-conrep <br>
Supports multiple Conflicts and Replaces (since dpkg
1.4.1.19).</p>

<p style="margin-top: 1em">multi-arch <br>
Supports multi-arch fields and semantics (since dpkg
1.16.2).</p>

<p style="margin-top: 1em">versioned-provides <br>
Supports versioned Provides (since dpkg 1.17.11).</p>

<p style="margin-top: 1em">--compare-versions ver1 op ver2
<br>
Compare version numbers, where op is a binary operator. dpkg
returns success (zero result) if the specified condition is
satisfied, and failure (nonzero result) otherwise. <br>
There are two groups of operators, which differ in how they
treat an empty ver1 or ver2. These treat an empty version as
earlier than any version: lt le eq ne ge gt. These <br>
treat an empty version as later than any version: lt-nl
le-nl ge-nl gt-nl. These are provided only for compatibility
with control file syntax: &lt; &lt;&lt; &lt;= = &gt;=
&gt;&gt; &gt;. The &lt; and <br>
&gt; operators are obsolete and should not be used, due to
confusing semantics. To illustrate: 0.1 &lt; 0.1 evaluates
to true.</p>

<p style="margin-top: 1em">-?, --help <br>
Display a brief help message.</p>

<p style="margin-top: 1em">--force-help <br>
Give help about the --force-thing options.</p>

<p style="margin-top: 1em">-Dh, --debug=help <br>
Give help about debugging options.</p>

<p style="margin-top: 1em">--version <br>
Display dpkg version information.</p>

<p style="margin-top: 1em">dpkg-deb actions <br>
See dpkg-deb(1) for more information about the following
actions.</p>

<p style="margin-top: 1em">-b, --build directory
[archive|directory] <br>
Build a deb package. <br>
-c, --contents archive <br>
List contents of a deb package. <br>
-e, --control archive [directory] <br>
Extract control-information from a package. <br>
-x, --extract archive directory <br>
Extract the files contained by package. <br>
-X, --vextract archive directory <br>
Extract and display the filenames contained by a <br>
package. <br>
-f, --field archive [control-field...] <br>
Display control field(s) of a package. <br>
--ctrl-tarfile archive <br>
Output the control tar-file contained in a Debian package.
<br>
--fsys-tarfile archive <br>
Output the filesystem tar-file contained by a Debian
package. <br>
-I, --info archive [control-file...] <br>
Show information about a package.</p>

<p style="margin-top: 1em">dpkg-query actions <br>
See dpkg-query(1) for more information about the following
actions.</p>

<p style="margin-top: 1em">-l, --list
package-name-pattern... <br>
List packages matching given pattern. <br>
-s, --status package-name... <br>
Report status of specified package. <br>
-L, --listfiles package-name... <br>
List files installed to your system from package-name. <br>
-S, --search filename-search-pattern... <br>
Search for a filename from installed packages. <br>
-p, --print-avail package-name... <br>
Display details about package-name, as found in <br>
/var/lib/dpkg/available. Users of APT-based frontends <br>
should use apt-cache show package-name instead.</p>

<p style="margin-top: 1em">OPTIONS <br>
All options can be specified both on the command line and in
the dpkg configuration file /etc/dpkg/dpkg.cfg or fragment
files (with names matching this shell pattern
&rsquo;[0-9a-zA- <br>
Z_-]*&rsquo;) on the configuration directory
/etc/dpkg/dpkg.cfg.d/. Each line in the configuration file
is either an option (exactly the same as the command line
option but without <br>
leading hyphens) or a comment (if it starts with a #).</p>

<p style="margin-top: 1em">--abort-after=number <br>
Change after how many errors dpkg will abort. The default is
50.</p>

<p style="margin-top: 1em">-B, --auto-deconfigure <br>
When a package is removed, there is a possibility that
another installed package depended on the removed package.
Specifying this option will cause automatic
deconfigura&acirc; <br>
tion of the package which depended on the removed
package.</p>

<p style="margin-top: 1em">-Doctal, --debug=octal <br>
Switch debugging on. octal is formed by bitwise-orring
desired values together from the list below (note that these
values may change in future releases). -Dh or <br>
--debug=help display these debugging values.</p>

<p style="margin-top: 1em">Number Description <br>
1 Generally helpful progress information <br>
2 Invocation and status of maintainer scripts <br>
10 Output for each file processed <br>
100 Lots of output for each file processed <br>
20 Output for each configuration file <br>
200 Lots of output for each configuration file <br>
40 Dependencies and conflicts <br>
400 Lots of dependencies/conflicts output <br>
10000 Trigger activation and processing <br>
20000 Lots of output regarding triggers <br>
40000 Silly amounts of output regarding triggers <br>
1000 Lots of drivel about e.g. the dpkg/info dir <br>
2000 Insane amounts of drivel</p>

<p style="margin-top: 1em">--force-things <br>
--no-force-things, --refuse-things <br>
Force or refuse (no-force and refuse mean the same thing) to
do some things. things is a comma separated list of things
specified below. --force-help displays a message <br>
describing them. Things marked with (*) are forced by
default.</p>

<p style="margin-top: 1em">Warning: These options are
mostly intended to be used by experts only. Using them
without fully understanding their effects may break your
whole system.</p>

<p style="margin-top: 1em">all: Turns on (or off) all force
options.</p>

<p style="margin-top: 1em">downgrade(*): Install a package,
even if newer version of it is already installed.</p>

<p style="margin-top: 1em">Warning: At present dpkg does
not do any dependency checking on downgrades and therefore
will not warn you if the downgrade breaks the dependency of
some other package. <br>
This can have serious side effects, downgrading essential
system components can even make your whole system unusable.
Use with care.</p>

<p style="margin-top: 1em">configure-any: Configure also
any unpacked but unconfigured packages on which the current
package depends.</p>

<p style="margin-top: 1em">hold: Process packages even when
marked &acirc;hold&acirc;.</p>

<p style="margin-top: 1em">remove-reinstreq: Remove a
package, even if it&rsquo;s broken and marked to require
reinstallation. This may, for example, cause parts of the
package to remain on the system, <br>
which will then be forgotten by dpkg.</p>

<p style="margin-top: 1em">remove-essential: Remove, even
if the package is considered essential. Essential packages
contain mostly very basic Unix commands. Removing them might
cause the whole sys&acirc; <br>
tem to stop working, so use with caution.</p>

<p style="margin-top: 1em">depends: Turn all dependency
problems into warnings.</p>

<p style="margin-top: 1em">depends-version: Don&rsquo;t
care about versions when checking dependencies.</p>

<p style="margin-top: 1em">breaks: Install, even if this
would break another package (since dpkg 1.14.6).</p>

<p style="margin-top: 1em">conflicts: Install, even if it
conflicts with another package. This is dangerous, for it
will usually cause overwriting of some files.</p>

<p style="margin-top: 1em">confmiss: If a conffile is
missing and the version in the package did change, always
install the missing conffile without prompting. This is
dangerous, since it means not <br>
preserving a change (removing) made to the file.</p>

<p style="margin-top: 1em">confnew: If a conffile has been
modified and the version in the package did change, always
install the new version without prompting, unless the
--force-confdef is also <br>
specified, in which case the default action is
preferred.</p>

<p style="margin-top: 1em">confold: If a conffile has been
modified and the version in the package did change, always
keep the old version without prompting, unless the
--force-confdef is also spec&acirc; <br>
ified, in which case the default action is preferred.</p>

<p style="margin-top: 1em">confdef: If a conffile has been
modified and the version in the package did change, always
choose the default action without prompting. If there is no
default action it <br>
will stop to ask the user unless --force-confnew or
--force-confold is also been given, in which case it will
use that to decide the final action.</p>

<p style="margin-top: 1em">confask: If a conffile has been
modified always offer to replace it with the version in the
package, even if the version in the package did not change
(since dpkg 1.15.8). <br>
If any of --force-confmiss, --force-confnew,
--force-confold, or --force-confdef is also given, it will
be used to decide the final action.</p>

<p style="margin-top: 1em">overwrite: Overwrite one
package&rsquo;s file with another&rsquo;s file.</p>

<p style="margin-top: 1em">overwrite-dir: Overwrite one
package&rsquo;s directory with another&rsquo;s file.</p>

<p style="margin-top: 1em">overwrite-diverted: Overwrite a
diverted file with an undiverted version.</p>

<p style="margin-top: 1em">unsafe-io: Do not perform safe
I/O operations when unpacking (since dpkg 1.15.8.6).
Currently this implies not performing file system syncs
before file renames, which is <br>
known to cause substantial performance degradation on some
file systems, unfortunately the ones that require the safe
I/O on the first place due to their unreliable behav&acirc;
<br>
iour causing zero-length files on abrupt system crashes.</p>

<p style="margin-top: 1em">Note: For ext4, the main
offender, consider using instead the mount option
nodelalloc, which will fix both the performance degradation
and the data safety issues, the lat&acirc; <br>
ter by making the file system not produce zero-length files
on abrupt system crashes with any software not doing syncs
before atomic renames.</p>

<p style="margin-top: 1em">Warning: Using this option might
improve performance at the cost of losing data, use with
care.</p>

<p style="margin-top: 1em">architecture: Process even
packages with wrong or no architecture.</p>

<p style="margin-top: 1em">bad-version: Process even
packages with wrong versions (since dpkg 1.16.1).</p>

<p style="margin-top: 1em">bad-path: PATH is missing
important programs, so problems are likely.</p>

<p style="margin-top: 1em">not-root: Try to (de)install
things even when not root.</p>

<p style="margin-top: 1em">bad-verify: Install a package
even if it fails authenticity check.</p>

<p style="margin-top: 1em">--ignore-depends=package,...
<br>
Ignore dependency-checking for specified packages (actually,
checking is performed, but only warnings about conflicts are
given, nothing else).</p>

<p style="margin-top: 1em">--no-act, --dry-run, --simulate
<br>
Do everything which is supposed to be done, but don&rsquo;t
write any changes. This is used to see what would happen
with the specified action, without actually modifying
any&acirc; <br>
thing.</p>

<p style="margin-top: 1em">Be sure to give --no-act before
the action-parameter, or you might end up with undesirable
results. (e.g. dpkg --purge foo --no-act will first purge
package foo and then <br>
try to purge package --no-act, even though you probably
expected it to actually do nothing)</p>

<p style="margin-top: 1em">-R, --recursive <br>
Recursively handle all regular files matching pattern *.deb
found at specified directories and all of its
subdirectories. This can be used with -i, -A, --install,
--unpack <br>
and --avail actions.</p>

<p style="margin-top: 1em">-G Don&rsquo;t install a package
if a newer version of the same package is already installed.
This is an alias of --refuse-downgrade.</p>

<p style="margin-top: 1em">--admindir=dir <br>
Change default administrative directory, which contains many
files that give information about status of installed or
uninstalled packages, etc. (Defaults to <br>
/var/lib/dpkg)</p>

<p style="margin-top: 1em">--instdir=dir <br>
Change default installation directory which refers to the
directory where packages are to be installed. instdir is
also the directory passed to chroot(2) before running <br>
package&rsquo;s installation scripts, which means that the
scripts see instdir as a root directory. (Defaults to /)</p>

<p style="margin-top: 1em">--root=dir <br>
Changing root changes instdir to dir and admindir to
dir/var/lib/dpkg.</p>

<p style="margin-top: 1em">-O, --selected-only <br>
Only process the packages that are selected for
installation. The actual marking is done with dselect or by
dpkg, when it handles packages. For example, when a package
is <br>
removed, it will be marked selected for deinstallation.</p>

<p style="margin-top: 1em">-E, --skip-same-version <br>
Don&rsquo;t install the package if the same version of the
package is already installed.</p>

<p style="margin-top: 1em">--pre-invoke=command <br>
--post-invoke=command <br>
Set an invoke hook command to be run via &acirc;sh -c&acirc;
before or after the dpkg run for the unpack, configure,
install, triggers-only, remove, purge, add-architecture and
<br>
remove-architecture dpkg actions (since dpkg 1.15.4;
add-architecture and remove-architecture actions since dpkg
1.17.19). This option can be specified multiple times. The
<br>
order the options are specified is preserved, with the ones
from the configuration files taking precedence. The
environment variable DPKG_HOOK_ACTION is set for the hooks
<br>
to the current dpkg action. Note: front-ends might call dpkg
several times per invocation, which might run the hooks more
times than expected.</p>

<p style="margin-top: 1em">--path-exclude=glob-pattern <br>
--path-include=glob-pattern <br>
Set glob-pattern as a path filter, either by excluding or
re-including previously excluded paths matching the
specified patterns during install (since dpkg 1.15.8).</p>

<p style="margin-top: 1em">Warning: take into account that
depending on the excluded paths you might completely break
your system, use with caution.</p>

<p style="margin-top: 1em">The glob patterns use the same
wildcards used in the shell, were &acirc;*&acirc; matches
any sequence of characters, including the empty string and
also &acirc;/&acirc;. For example, <br>
&Acirc;&laquo;/usr/*/READ*&Acirc;&raquo; matches
&Acirc;&laquo;/usr/share/doc/package/README&Acirc;&raquo;.
As usual, &acirc;?&acirc; matches any single character
(again, including &acirc;/&acirc;). And &acirc;[&acirc;
starts a character class, which can <br>
contain a list of characters, ranges and complementations.
See glob(7) for detailed information about globbing. Note:
the current implementation might re-include more <br>
directories and symlinks than needed, to be on the safe side
and avoid possible unpack failures, future work might fix
this.</p>

<p style="margin-top: 1em">This can be used to remove all
paths except some particular ones; a typical case is:</p>

<p style="margin-top: 1em">--path-exclude=/usr/share/doc/*
<br>
--path-include=/usr/share/doc/*/copyright</p>

<p style="margin-top: 1em">to remove all documentation
files except the copyright files.</p>

<p style="margin-top: 1em">These two options can be
specified multiple times, and interleaved with each other.
Both are processed in the given order, with the last rule
that matches a file name mak&acirc; <br>
ing the decision.</p>

<p style="margin-top: 1em">--verify-format format-name <br>
Sets the output format for the --verify command (since dpkg
1.17.2).</p>

<p style="margin-top: 1em">The only currently supported
output format is rpm, which consists of a line for every
path that failed any check. The lines start with 9
characters to report each spe&acirc; <br>
cific check result, a &acirc;?&acirc; implies the check
could not be done (lack of support, file permissions, etc),
&acirc;.&acirc; implies the check passed, and an
alphanumeric character implies <br>
a specific check failed; the md5sum verification failure
(the file contents have changed) is denoted with a
&acirc;5&acirc; on the third character. The line is followed
by a space <br>
and an attribute character (currently &acirc;c&acirc; for
conffiles), another space and the pathname.</p>

<p style="margin-top: 1em">--status-fd n <br>
Send machine-readable package status and progress
information to file descriptor n. This option can be
specified multiple times. The information is generally one
record <br>
per line, in one of the following forms:</p>

<p style="margin-top: 1em">status: package: status <br>
Package status changed; status is as in the status file.</p>

<p style="margin-top: 1em">status: package : error :
extended-error-message <br>
An error occurred. Any possible newlines in
extended-error-message will be converted to spaces before
output.</p>

<p style="margin-top: 1em">status: file : conffile-prompt :
&rsquo;real-old&rsquo; &rsquo;real-new&rsquo; useredited
distedited <br>
User is being asked a conffile question.</p>

<p style="margin-top: 1em">processing: stage: package <br>
Sent just before a processing stage starts. stage is one of
upgrade, install (both sent before unpacking), configure,
trigproc, disappear, remove, purge.</p>

<p style="margin-top: 1em">--status-logger=command <br>
Send machine-readable package status and progress
information to the shell command&rsquo;s standard input, to
be run via &acirc;sh -c&acirc; (since dpkg 1.16.0). This
option can be speci&acirc; <br>
fied multiple times. The output format used is the same as
in --status-fd.</p>

<p style="margin-top: 1em">--log=filename <br>
Log status change updates and actions to filename, instead
of the default /var/log/dpkg.log. If this option is given
multiple times, the last filename is used. Log mes&acirc;
<br>
sages are of the form &acirc;YYYY-MM-DD HH:MM:SS startup
type command&acirc; for each dpkg invocation where type is
archives (with a command of unpack or install) or packages
(with a <br>
command of configure, triggers-only, remove or purge);
&acirc;YYYY-MM-DD HH:MM:SS status state pkg
installed-version&acirc; for status change updates;
&acirc;YYYY-MM-DD HH:MM:SS action pkg <br>
installed-version available-version&acirc; for actions where
action is one of install, upgrade, configure, trigproc,
disappear, remove or purge; and &acirc;YYYY-MM-DD HH:MM:SS
conf&acirc; <br>
file filename decision&acirc; for conffile changes where
decision is either install or keep.</p>

<p style="margin-top: 1em">--no-debsig <br>
Do not try to verify package signatures.</p>

<p style="margin-top: 1em">--no-triggers <br>
Do not run any triggers in this run (since dpkg 1.14.17),
but activations will still be recorded. If used with
--configure package or --triggers-only package then the <br>
named package postinst will still be run even if only a
triggers run is needed. Use of this option may leave
packages in the improper triggers-awaited and
triggers-pending <br>
states. This can be fixed later by running: dpkg --configure
--pending.</p>

<p style="margin-top: 1em">--triggers <br>
Cancels a previous --no-triggers (since dpkg 1.14.17).</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
External environment <br>
PATH This variable is expected to be defined in the
environment and point to the system paths where several
required programs are to be found. If it&rsquo;s not set or
the programs <br>
are not found, dpkg will abort.</p>

<p style="margin-top: 1em">HOME If set, dpkg will use it as
the directory from which to read the user specific
configuration file.</p>

<p style="margin-top: 1em">TMPDIR If set, dpkg will use it
as the directory in which to create temporary files and
directories.</p>

<p style="margin-top: 1em">PAGER The program dpkg will
execute when displaying the conffiles.</p>

<p style="margin-top: 1em">SHELL The program dpkg will
execute when starting a new interactive shell.</p>

<p style="margin-top: 1em">COLUMNS <br>
Sets the number of columns dpkg should use when displaying
formatted text. Currently only used by -l.</p>

<p style="margin-top: 1em">Internal environment <br>
DPKG_SHELL_REASON <br>
Defined by dpkg on the shell spawned on the conffile prompt
to examine the situation (since dpkg 1.15.6). Current valid
value: conffile-prompt.</p>

<p style="margin-top: 1em">DPKG_CONFFILE_OLD <br>
Defined by dpkg on the shell spawned on the conffile prompt
to examine the situation (since dpkg 1.15.6). Contains the
path to the old conffile.</p>

<p style="margin-top: 1em">DPKG_CONFFILE_NEW <br>
Defined by dpkg on the shell spawned on the conffile prompt
to examine the situation (since dpkg 1.15.6). Contains the
path to the new conffile.</p>

<p style="margin-top: 1em">DPKG_HOOK_ACTION <br>
Defined by dpkg on the shell spawned when executing a hook
action (since dpkg 1.15.4). Contains the current dpkg
action.</p>

<p style="margin-top: 1em">DPKG_RUNNING_VERSION <br>
Defined by dpkg on the maintainer script environment to the
version of the currently running dpkg instance (since dpkg
1.14.17).</p>

<p style="margin-top: 1em">DPKG_MAINTSCRIPT_PACKAGE <br>
Defined by dpkg on the maintainer script environment to the
(non-arch-qualified) package name being handled (since dpkg
1.14.17).</p>


<p style="margin-top: 1em">DPKG_MAINTSCRIPT_PACKAGE_REFCOUNT
<br>
Defined by dpkg on the maintainer script environment to the
package reference count, i.e. the number of package
instances with a state greater than not-installed (since
<br>
dpkg 1.17.2).</p>

<p style="margin-top: 1em">DPKG_MAINTSCRIPT_ARCH <br>
Defined by dpkg on the maintainer script environment to the
architecture the package got built for (since dpkg
1.15.4).</p>

<p style="margin-top: 1em">DPKG_MAINTSCRIPT_NAME <br>
Defined by dpkg on the maintainer script environment to the
name of the script running, one of preinst, postinst, prerm
or postrm (since dpkg 1.15.7).</p>

<p style="margin-top: 1em">DPKG_MAINTSCRIPT_DEBUG <br>
Defined by dpkg on the maintainer script environment to a
value (&acirc;0&acirc; or &acirc;1&acirc;) noting whether
debugging has been requested (with the --debug option) for
the maintainer <br>
scripts (since dpkg 1.18.4).</p>

<p style="margin-top: 1em">FILES <br>
/etc/dpkg/dpkg.cfg.d/[0-9a-zA-Z_-]* <br>
Configuration fragment files (since dpkg 1.15.4).</p>

<p style="margin-top: 1em">/etc/dpkg/dpkg.cfg <br>
Configuration file with default options.</p>

<p style="margin-top: 1em">/var/log/dpkg.log <br>
Default log file (see /etc/dpkg/dpkg.cfg(5) and option
--log).</p>

<p style="margin-top: 1em">The other files listed below are
in their default directories, see option --admindir to see
how to change locations of these files.</p>

<p style="margin-top: 1em">/var/lib/dpkg/available <br>
List of available packages.</p>

<p style="margin-top: 1em">/var/lib/dpkg/status <br>
Statuses of available packages. This file contains
information about whether a package is marked for removing
or not, whether it is installed or not, etc. See section
<br>
INFORMATION ABOUT PACKAGES for more info.</p>

<p style="margin-top: 1em">The status file is backed up
daily in /var/backups. It can be useful if it&rsquo;s lost
or corrupted due to filesystems troubles.</p>

<p style="margin-top: 1em">The following files are
components of a binary package. See deb(5) for more
information about them: <br>
control <br>
conffiles <br>
preinst <br>
postinst <br>
prerm <br>
postrm <br>
triggers</p>

<p style="margin-top: 1em">BUGS <br>
--no-act usually gives less information than might be
helpful.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To list installed packages related to the editor vi(1) (note
that dpkg-query does not load the available file anymore by
default, and the dpkg-query --load-avail option should be
<br>
used instead for that): <br>
dpkg -l &rsquo;*vi*&rsquo;</p>

<p style="margin-top: 1em">To see the entries in
/var/lib/dpkg/available of two packages: <br>
dpkg --print-avail elvis vim | less</p>

<p style="margin-top: 1em">To search the listing of
packages yourself: <br>
less /var/lib/dpkg/available</p>

<p style="margin-top: 1em">To remove an installed elvis
package: <br>
dpkg -r elvis</p>

<p style="margin-top: 1em">To install a package, you first
need to find it in an archive or CDROM. The available file
shows that the vim package is in section editors: <br>
cd /media/cdrom/pool/main/v/vim <br>
dpkg -i vim_4.5-3.deb</p>

<p style="margin-top: 1em">To make a local copy of the
package selection states: <br>
dpkg --get-selections &gt;myselections</p>

<p style="margin-top: 1em">You might transfer this file to
another computer, and after having updated the available
file there with your package manager frontend of choice (see
<br>
https://wiki.debian.org/Teams/Dpkg/FAQ for more details),
for example: <br>
apt-cache dumpavail | dpkg --merge-avail <br>
or with dpkg 1.17.6 and earlier: <br>
avail=&lsquo;mktemp&lsquo; <br>
apt-cache dumpavail &gt;&quot;$avail&quot; <br>
dpkg --merge-avail &quot;$avail&quot; <br>
rm &quot;$avail&quot; <br>
you can install it with: <br>
dpkg --clear-selections <br>
dpkg --set-selections &lt;myselections</p>

<p style="margin-top: 1em">Note that this will not actually
install or remove anything, but just set the selection state
on the requested packages. You will need some other
application to actually download <br>
and install the requested packages. For example, run apt-get
dselect-upgrade.</p>

<p style="margin-top: 1em">Ordinarily, you will find that
dselect(1) provides a more convenient way to modify the
package selection states.</p>

<p style="margin-top: 1em">ADDITIONAL FUNCTIONALITY <br>
Additional functionality can be gained by installing any of
the following packages: apt, aptitude and debsums.</p>

<p style="margin-top: 1em">SEE ALSO <br>
aptitude(1), apt(1), dselect(1), dpkg-deb(1), dpkg-query(1),
deb(5), deb-control(5), dpkg.cfg(5), and
dpkg-reconfigure(8).</p>

<p style="margin-top: 1em">AUTHORS <br>
See /usr/share/doc/dpkg/THANKS for the list of people who
have contributed to dpkg.</p>

<p style="margin-top: 1em">Debian Project 2014-08-16
dpkg(1)</p>
<hr>
</body>
</html>
