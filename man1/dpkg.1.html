<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>dpkg(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dpkg(1)</td>
    <td class="head-vol">dpkg suite</td>
    <td class="head-rtitle">dpkg(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dpkg - package manager for Debian
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dpkg</b> [<i>option</i>...] <i>action</i>
<h1 class="Sh" title="Sh" id="WARNING"><a class="selflink" href="#WARNING">WARNING</a></h1>
This manual is intended for users wishing to understand <b>dpkg</b>'s command
  line options and package states in more detail than that provided by <b>dpkg
  --help</b>.
<div style="height: 1.00em;">&#x00A0;</div>
It should <i>not</i> be used by package maintainers wishing to understand how
  <b>dpkg</b> will install their packages. The descriptions of what <b>dpkg</b>
  does when installing and removing packages are particularly inadequate.
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dpkg</b> is a tool to install, build, remove and manage Debian packages. The
  primary and more user-friendly front-end for <b>dpkg</b> is
  <b>aptitude</b>(1). <b>dpkg</b> itself is controlled entirely via command line
  parameters, which consist of exactly one action and zero or more options. The
  action-parameter tells <b>dpkg</b> what to do and options control the behavior
  of the action in some way.
<div style="height: 1.00em;">&#x00A0;</div>
<b>dpkg</b> can also be used as a front-end to <b>dpkg-deb</b>(1) and
  <b>dpkg-query</b>(1). The list of supported actions can be found later on in
  the <b>ACTIONS</b> section. If any such action is encountered <b>dpkg</b> just
  runs <b>dpkg-deb</b> or <b>dpkg-query</b> with the parameters given to it, but
  no specific options are currently passed to them, to use any such option the
  back-ends need to be called directly.
<h1 class="Sh" title="Sh" id="INFORMATION_ABOUT_PACKAGES"><a class="selflink" href="#INFORMATION_ABOUT_PACKAGES">INFORMATION
  ABOUT PACKAGES</a></h1>
<b>dpkg</b> maintains some usable information about available packages. The
  information is divided in three classes: <b>states</b>, <b>selection
  states</b> and <b>flags</b>. These values are intended to be changed mainly
  with <b>dselect</b>.
<h2 class="Ss" title="Ss" id="Package_states"><a class="selflink" href="#Package_states">Package
  states</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>not-installed</b></dt>
  <dd class="It-tag">The package is not installed on your system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>config-files</b></dt>
  <dd class="It-tag">Only the configuration files of the package exist on the
      system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>half-installed</b></dt>
  <dd class="It-tag">The installation of the package has been started, but not
      completed for some reason.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unpacked</b></dt>
  <dd class="It-tag">The package is unpacked, but not configured.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>half-configured</b></dt>
  <dd class="It-tag">The package is unpacked and configuration has been started,
      but not yet completed for some reason.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>triggers-awaited</b></dt>
  <dd class="It-tag">The package awaits trigger processing by another
    package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>triggers-pending</b></dt>
  <dd class="It-tag">The package has been triggered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>installed</b></dt>
  <dd class="It-tag">The package is correctly unpacked and configured.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Package_selection_states"><a class="selflink" href="#Package_selection_states">Package
  selection states</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>install</b></dt>
  <dd class="It-tag">The package is selected for installation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hold</b></dt>
  <dd class="It-tag">A package marked to be on <b>hold</b> is not handled by
      <b>dpkg</b>, unless forced to do that with option
    <b>--force-hold</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>deinstall</b></dt>
  <dd class="It-tag">The package is selected for deinstallation (i.e. we want to
      remove all files, except configuration files).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>purge</b></dt>
  <dd class="It-tag">The package is selected to be purged (i.e. we want to
      remove everything from system directories, even configuration files).</dd>
</dl>
<h2 class="Ss" title="Ss" id="Package_flags"><a class="selflink" href="#Package_flags">Package
  flags</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reinst-required</b></dt>
  <dd class="It-tag">A package marked <b>reinst-required</b> is broken and
      requires reinstallation. These packages cannot be removed, unless forced
      with option <b>--force-remove-reinstreq</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--install</b> <i>package-file</i>...</dt>
  <dd class="It-tag">Install the package. If <b>--recursive</b> or <b>-R</b>
      option is specified, <i>package-file</i> must refer to a directory
      instead.
    <div style="height: 1.00em;">&#x00A0;</div>
    Installation consists of the following steps:
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>1.</b> Extract the control files of the new package.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>2.</b> If another version of the same package was installed before the
      new installation, execute <i>prerm</i> script of the old package.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>3.</b> Run <i>preinst</i> script, if provided by the package.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>4.</b> Unpack the new files, and at the same time back up the old files,
      so that if something goes wrong, they can be restored.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>5.</b> If another version of the same package was installed before the
      new installation, execute the <i>postrm</i> script of the old package.
      Note that this script is executed after the <i>preinst</i> script of the
      new package, because new files are written at the same time old files are
      removed.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>6.</b> Configure the package. See <b>--configure</b> for detailed
      information about how this is done.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unpack </b><i>package-file</i>...</dt>
  <dd class="It-tag">Unpack the package, but don't configure it. If
      <b>--recursive</b> or <b>-R</b> option is specified, <i>package-file</i>
      must refer to a directory instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--configure
    </b><i>package</i>...|<b>-a</b>|<b>--pending</b></dt>
  <dd class="It-tag">Configure a package which has been unpacked but not yet
      configured. If <b>-a</b> or <b>--pending</b> is given instead of
      <i>package</i>, all unpacked but unconfigured packages are configured.
    <div style="height: 1.00em;">&#x00A0;</div>
    To reconfigure a package which has already been configured, try the
      <b>dpkg-reconfigure</b>(8) command instead.
    <div style="height: 1.00em;">&#x00A0;</div>
    Configuring consists of the following steps:
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>1.</b> Unpack the conffiles, and at the same time back up the old
      conffiles, so that they can be restored if something goes wrong.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>2.</b> Run <i>postinst</i> script, if provided by the package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--triggers-only</b>
    <i>package</i>...|<b>-a</b>|<b>--pending</b></dt>
  <dd class="It-tag">Processes only triggers (since dpkg 1.14.17). All pending
      triggers will be processed. If package names are supplied only those
      packages' triggers will be processed, exactly once each where necessary.
      Use of this option may leave packages in the improper
      <b>triggers-awaited</b> and <b>triggers-pending</b> states. This can be
      fixed later by running: <b>dpkg --configure --pending</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--remove</b>
    <b></b><i>package</i><b>...|</b><b>-a</b><b>|</b><b>--pending</b><b></b></dt>
  <dd class="It-tag">Remove an installed package. This removes everything except
      conffiles, which may avoid having to reconfigure the package if it is
      reinstalled later (conffiles are configuration files that are listed in
      the <i>DEBIAN/conffiles</i> control file). If <b>-a</b> or
      <b>--pending</b> is given instead of a package name, then all packages
      unpacked, but marked to be removed in file <i>/var/lib/dpkg/status</i>,
      are removed.
    <div style="height: 1.00em;">&#x00A0;</div>
    Removing of a package consists of the following steps:
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>1.</b> Run <i>prerm</i> script
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>2.</b> Remove the installed files
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>3.</b> Run <i>postrm</i> script
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>, <b>--purge
    </b><i>package</i>...|<b>-a</b>|<b>--pending</b></dt>
  <dd class="It-tag">Purge an installed or already removed package. This removes
      everything, including conffiles. If <b>-a</b> or <b>--pending</b> is given
      instead of a package name, then all packages unpacked or removed, but
      marked to be purged in file <i>/var/lib/dpkg/status</i>, are purged.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note: some configuration files might be unknown to <b>dpkg</b> because they
      are created and handled separately through the configuration scripts. In
      that case, <b>dpkg</b> won't remove them by itself, but the package's
      <i>postrm</i> script (which is called by <b>dpkg</b>), has to take care of
      their removal during purge. Of course, this only applies to files in
      system directories, not configuration files written to individual users'
      home directories.
    <div style="height: 1.00em;">&#x00A0;</div>
    Purging of a package consists of the following steps:
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>1.</b> Remove the package, if not already removed. See <b>--remove</b>
      for detailed information about how this is done.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>2.</b> Run <i>postrm</i> script.
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--verify</b> [<i>package-name</i>...]</dt>
  <dd class="It-tag">Verifies the integrity of <i>package-name</i> or all
      packages if omitted, by comparing information from the files installed by
      a package with the files metadata information stored in the <b>dpkg</b>
      database (since dpkg 1.17.2). The origin of the files metadata information
      in the database is the binary packages themselves. That metadata gets
      collected at package unpack time during the installation process.
    <div style="height: 1.00em;">&#x00A0;</div>
    Currently the only functional check performed is an md5sum verification of
      the file contents against the stored value in the files database. It will
      only get checked if the database contains the file md5sum. To check for
      any missing metadata in the database, the <b>--audit</b> command can be
      used.
    <div style="height: 1.00em;">&#x00A0;</div>
    The output format is selectable with the <b>--verify-format</b> option,
      which by default uses the <b>rpm</b> format, but that might change in the
      future, and as such, programs parsing this command output should be
      explicit about the format they expect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--update-avail</b> [<i>Packages-file</i>]</dt>
  <dd class="It-tag"><b>--merge-avail</b> [<i>Packages-file</i>] Update
      <b>dpkg</b>'s and <b>dselect</b>'s idea of which packages are available.
      With action <b>--merge-avail</b>, old information is combined with
      information from <i>Packages-file</i>. With action <b>--update-avail</b>,
      old information is replaced with the information in the
      <i>Packages-file</i>. The <i>Packages-file</i> distributed with Debian is
      simply named <i>Packages</i>. If the <i>Packages-file</i> argument is
      missing or named <b>-</b> then it will be read from standard input (since
      dpkg 1.17.7). <b>dpkg</b> keeps its record of available packages in
      <i>/var/lib/dpkg/available</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    A simpler one-shot command to retrieve and update the <i>available</i> file
      is <b>dselect update</b>. Note that this file is mostly useless if you
      don't use <b>dselect</b> but an APT-based frontend: APT has its own system
      to keep track of available packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>, <b>--record-avail</b>
    <i>package-file</i>...</dt>
  <dd class="It-tag">Update <b>dpkg</b> and <b>dselect</b>'s idea of which
      packages are available with information from the package
      <i>package-file</i>. If <b>--recursive</b> or <b>-R</b> option is
      specified, <i>package-file</i> must refer to a directory instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--forget-old-unavail</b></dt>
  <dd class="It-tag">Now <b>obsolete</b> and a no-op as <b>dpkg</b> will
      automatically forget uninstalled unavailable packages (since dpkg
    1.15.4).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clear-avail</b></dt>
  <dd class="It-tag">Erase the existing information about what packages are
      available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>, <b>--audit</b> [<i>package-name</i>...]</dt>
  <dd class="It-tag">Performs database sanity and consistency checks for
      <i>package-name</i> or all packages if omitted (per package checks since
      dpkg 1.17.10). For example, searches for packages that have been installed
      only partially on your system or that have missing, wrong or obsolete
      control data or files. <b>dpkg</b> will suggest what to do with them to
      get them fixed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--get-selections</b>
    [<i>package-name-pattern</i>...]</dt>
  <dd class="It-tag">Get list of package selections, and write it to stdout.
      Without a pattern, non-installed packages (i.e. those which have been
      previously purged) will not be shown.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--set-selections</b></dt>
  <dd class="It-tag">Set package selections using file read from stdin. This
      file should be in the format &#x201C; <i>package</i> <i>state</i>&#x201D;,
      where state is one of <b>install</b>, <b>hold</b>, <b>deinstall</b> or
      <b>purge</b>. Blank lines and comment lines beginning with
      &#x2018;#&#x2019; are also permitted.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>available</i> file needs to be up-to-date for this command to be
      useful, otherwise unknown packages will be ignored with a warning. See the
      <b>--update-avail</b> and <b>--merge-avail</b> commands for more
      information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clear-selections</b></dt>
  <dd class="It-tag">Set the requested state of every non-essential package to
      deinstall (since dpkg 1.13.18). This is intended to be used immediately
      before <b>--set-selections</b>, to deinstall any packages not in list
      given to <b>--set-selections</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--yet-to-unpack</b></dt>
  <dd class="It-tag">Searches for packages selected for installation, but which
      for some reason still haven't been installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--predep-package</b></dt>
  <dd class="It-tag">Print a single package which is the target of one or more
      relevant pre-dependencies and has itself no unsatisfied
    pre-dependencies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If such a package is present, output it as a Packages file
      entry, which can be massaged as appropriate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Returns 0 when a package is printed, 1 when no suitable
      package is available and 2 on error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--add-architecture <i>architecture</i></b></dt>
  <dd class="It-tag">Add <i>architecture</i> to the list of architectures for
      which packages can be installed without using <b>--force-architecture</b>
      (since dpkg 1.16.2). The architecture <b>dpkg</b> is built for (i.e. the
      output of <b>--print-architecture</b>) is always part of that list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--remove-architecture <i>architecture</i></b></dt>
  <dd class="It-tag">Remove <i>architecture</i> from the list of architectures
      for which packages can be installed without using
      <b>--force-architecture</b> (since dpkg 1.16.2). If the architecture is
      currently in use in the database then the operation will be refused,
      except if <b>--force-architecture</b> is specified. The architecture
      <b>dpkg</b> is built for (i.e. the output of <b>--print-architecture</b>)
      can never be removed from that list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-architecture</b></dt>
  <dd class="It-tag">Print architecture of packages <b>dpkg</b> installs (for
      example, &#x201C;i386&#x201D;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-foreign-architectures</b></dt>
  <dd class="It-tag">Print a newline-separated list of the extra architectures
      <b>dpkg</b> is configured to allow packages to be installed for (since
      dpkg 1.16.2).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--assert-</b><i>feature</i></dt>
  <dd class="It-tag">Asserts that <b>dpkg</b> supports the requested feature.
      Returns 0 if the feature is fully supported, 1 if the feature is known but
      <b>dpkg</b> cannot provide support for it yet, and 2 if the feature is
      unknown. The current list of assertable features is:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>support-predepends</b></dt>
  <dd class="It-tag">Supports the <b>Pre-Depends</b> field (since dpkg
    1.1.0).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>working-epoch</b></dt>
  <dd class="It-tag">Supports epochs in version strings (since dpkg
    1.4.0.7).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>long-filenames</b></dt>
  <dd class="It-tag">Supports long filenames in <b>deb</b>(5) archives (since
      dpkg 1.4.1.17).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>multi-conrep</b></dt>
  <dd class="It-tag">Supports multiple <b>Conflicts</b> and <b>Replaces</b>
      (since dpkg 1.4.1.19).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>multi-arch</b></dt>
  <dd class="It-tag">Supports multi-arch fields and semantics (since dpkg
      1.16.2).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>versioned-provides</b></dt>
  <dd class="It-tag">Supports versioned <b>Provides</b> (since dpkg
    1.17.11).</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--compare-versions <i>ver1 op ver2</i></b></dt>
  <dd class="It-tag">Compare version numbers, where <i>op</i> is a binary
      operator. <b>dpkg</b> returns success (zero result) if the specified
      condition is satisfied, and failure (nonzero result) otherwise. There are
      two groups of operators, which differ in how they treat an empty
      <i>ver1</i> or <i>ver2</i>. These treat an empty version as earlier than
      any version: <b>lt le eq ne ge gt</b>. These treat an empty version as
      later than any version: <b>lt-nl le-nl ge-nl gt-nl</b>. These are provided
      only for compatibility with control file syntax: <b>&lt; &lt;&lt; &lt;= =
      &gt;= &gt;&gt;</b> <b>&gt;</b>. The <b>&lt;</b> and <b>&gt;</b> operators
      are obsolete and should <b>not</b> be used, due to confusing semantics. To
      illustrate: <b>0.1 &lt; 0.1</b> evaluates to true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?</b>, <b>--help</b></dt>
  <dd class="It-tag">Display a brief help message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-help</b></dt>
  <dd class="It-tag">Give help about the <b>--force-</b><i>thing</i>
    options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Dh</b>, <b>--debug=help</b></dt>
  <dd class="It-tag">Give help about debugging options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Display <b>dpkg</b> version information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dpkg-deb actions</b></dt>
  <dd class="It-tag">See <b>dpkg-deb</b>(1) for more information about the
      following actions.
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>-b</b>, <b>--build</b> <i>directory</i> [<i>archive</i>|<i>directory</i>]
    Build a deb package.
<b>-c</b>, <b>--contents</b> <i>archive</i>
    List contents of a deb package.
<b>-e</b>, <b>--control</b> <i>archive</i> [<i>directory</i>]
    Extract control-information from a package.
<b>-x</b>, <b>--extract</b> <i>archive directory</i>
    Extract the files contained by package.
<b>-X</b>, <b>--vextract</b> <i>archive directory</i>
    Extract and display the filenames contained by a
    package.
<b>-f</b>, <b>--field</b>  <i>archive</i> [<i>control-field</i>...]
    Display control field(s) of a package.
<b>--ctrl-tarfile</b> <i>archive</i>
    Output the control tar-file contained in a Debian package.
<b>--fsys-tarfile</b> <i>archive</i>
    Output the filesystem tar-file contained by a Debian package.
<b>-I</b>, <b>--info</b> <i>archive</i> [<i>control-file</i>...]
    Show information about a package.
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dpkg-query actions</b></dt>
  <dd class="It-tag">See <b>dpkg-query</b>(1) for more information about the
      following actions.
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<div class="Pp"></div>
<b>-l</b>, <b>--list</b> <i>package-name-pattern</i>...
    List packages matching given pattern.
<b>-s</b>, <b>--status</b> <i>package-name</i>...
    Report status of specified package.
<b>-L</b>, <b>--listfiles</b> <i>package-name</i>...
    List files installed to your system from  <i>package-name</i>.
<b>-S</b>, <b>--search</b> <i>filename-search-pattern</i>...
    Search for a filename from installed packages.
<b>-p</b>, <b>--print-avail</b> <i>package-name</i>...
    Display details about  <i>package-name</i>, as found in
     <i>/var/lib/dpkg/available</i>. Users of APT-based frontends
    should use  <b>apt-cache show</b> <i>package-name</i> instead.
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
All options can be specified both on the command line and in the <b>dpkg</b>
  configuration file <i>/etc/dpkg/dpkg.cfg</i> or fragment files (with names
  matching this shell pattern '[0-9a-zA-Z_-]*') on the configuration directory
  <i>/etc/dpkg/dpkg.cfg.d/</i>. Each line in the configuration file is either an
  option (exactly the same as the command line option but without leading
  hyphens) or a comment (if it starts with a <b>#</b>).
<div>&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--abort-after=</b><i>number</i></dt>
  <dd class="It-tag">Change after how many errors <b>dpkg</b> will abort. The
      default is 50.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b>, <b>--auto-deconfigure</b></dt>
  <dd class="It-tag">When a package is removed, there is a possibility that
      another installed package depended on the removed package. Specifying this
      option will cause automatic deconfiguration of the package which depended
      on the removed package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b><i>octal</i><b>,
    </b><b>--debug=</b><b></b><i>octal</i> <b></b></dt>
  <dd class="It-tag">Switch debugging on. <i>octal</i> is formed by
      bitwise-orring desired values together from the list below (note that
      these values may change in future releases). <b>-Dh</b> or
      <b>--debug=help</b> display these debugging values.
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     Number Description
    <br/>
     1 Generally helpful progress information
    <br/>
     2 Invocation and status of maintainer scripts
    <br/>
     10 Output for each file processed
    <br/>
     100 Lots of output for each file processed
    <br/>
     20 Output for each configuration file
    <br/>
     200 Lots of output for each configuration file
    <br/>
     40 Dependencies and conflicts
    <br/>
     400 Lots of dependencies/conflicts output
    <br/>
     10000 Trigger activation and processing
    <br/>
     20000 Lots of output regarding triggers
    <br/>
     40000 Silly amounts of output regarding triggers
    <br/>
     1000 Lots of drivel about e.g. the dpkg/info dir
    <br/>
     2000 Insane amounts of drivel</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-<i>things</i></b></dt>
  <dd class="It-tag"><b>--no-force-<i>things</i></b>,
      <b>--refuse-<i>things</i></b> Force or refuse ( <b>no-force</b> and
      <b>refuse</b> mean the same thing) to do some things. <i>things</i> is a
      comma separated list of things specified below. <b>--force-help</b>
      displays a message describing them. Things marked with (*) are forced by
      default.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Warning: These options are mostly intended to be used by experts</i>
      <i>only. Using them without fully understanding their effects may
      break</i> <i>your whole system.</i>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>all</b>: Turns on (or off) all force options.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>downgrade</b>(*): Install a package, even if newer version of it is
      already installed.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Warning: At present </i><b>dpkg</b><i> does not do any dependency</i>
      <i>checking on downgrades and therefore will not warn you</i> <i>if the
      downgrade breaks the dependency of some other</i> <i>package. This can
      have serious side effects, downgrading</i> <i>essential system components
      can even make your whole</i> <i>system unusable. Use with care.</i>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>configure-any</b>: Configure also any unpacked but unconfigured packages
      on which the current package depends.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>hold</b>: Process packages even when marked &#x201C;hold&#x201D;.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>remove-reinstreq</b>: Remove a package, even if it's broken and marked
      to require reinstallation. This may, for example, cause parts of the
      package to remain on the system, which will then be forgotten by
      <b>dpkg</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>remove-essential</b>: Remove, even if the package is considered
      essential. Essential packages contain mostly very basic Unix commands.
      Removing them might cause the whole system to stop working, so use with
      caution.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>depends</b>: Turn all dependency problems into warnings.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>depends-version</b>: Don't care about versions when checking
      dependencies.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>breaks</b>: Install, even if this would break another package (since
      dpkg 1.14.6).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>conflicts</b>: Install, even if it conflicts with another package. This
      is dangerous, for it will usually cause overwriting of some files.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>confmiss</b>: If a conffile is missing and the version in the package
      did change, always install the missing conffile without prompting. This is
      dangerous, since it means not preserving a change (removing) made to the
      file.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>confnew</b>: If a conffile has been modified and the version in the
      package did change, always install the new version without prompting,
      unless the <b>--force-confdef</b> is also specified, in which case the
      default action is preferred.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>confold</b>: If a conffile has been modified and the version in the
      package did change, always keep the old version without prompting, unless
      the <b>--force-confdef</b> is also specified, in which case the default
      action is preferred.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>confdef</b>: If a conffile has been modified and the version in the
      package did change, always choose the default action without prompting. If
      there is no default action it will stop to ask the user unless
      <b>--force-confnew</b> or <b>--force-confold</b> is also been given, in
      which case it will use that to decide the final action.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>confask</b>: If a conffile has been modified always offer to replace it
      with the version in the package, even if the version in the package did
      not change (since dpkg 1.15.8). If any of <b>--force-confmiss</b>,
      <b>--force-confnew</b>, <b>--force-confold</b>, or <b>--force-confdef</b>
      is also given, it will be used to decide the final action.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>overwrite</b>: Overwrite one package's file with another's file.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>overwrite-dir</b>: Overwrite one package's directory with another's
      file.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>overwrite-diverted</b>: Overwrite a diverted file with an undiverted
      version.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>unsafe-io</b>: Do not perform safe I/O operations when unpacking (since
      dpkg 1.15.8.6). Currently this implies not performing file system syncs
      before file renames, which is known to cause substantial performance
      degradation on some file systems, unfortunately the ones that require the
      safe I/O on the first place due to their unreliable behaviour causing
      zero-length files on abrupt system crashes.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Note</i>: For ext4, the main offender, consider using instead the mount
      option <b>nodelalloc</b>, which will fix both the performance degradation
      and the data safety issues, the latter by making the file system not
      produce zero-length files on abrupt system crashes with any software not
      doing syncs before atomic renames.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Warning: Using this option might improve performance at the cost of</i>
      <i>losing data, use with care.</i>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>architecture</b>: Process even packages with wrong or no architecture.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>bad-version</b>: Process even packages with wrong versions (since dpkg
      1.16.1).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>bad-path</b>: <b>PATH</b> is missing important programs, so problems are
      likely.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>not-root</b>: Try to (de)install things even when not root.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>bad-verify</b>: Install a package even if it fails authenticity check.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-depends</b>=<i>package</i>,...</dt>
  <dd class="It-tag">Ignore dependency-checking for specified packages
      (actually, checking is performed, but only warnings about conflicts are
      given, nothing else).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-act</b>, <b>--dry-run</b>, <b>--simulate</b></dt>
  <dd class="It-tag">Do everything which is supposed to be done, but don't write
      any changes. This is used to see what would happen with the specified
      action, without actually modifying anything.
    <div style="height: 1.00em;">&#x00A0;</div>
    Be sure to give <b>--no-act</b> before the action-parameter, or you might
      end up with undesirable results. (e.g. <b>dpkg --purge foo</b>
      <b>--no-act</b> will first purge package foo and then try to purge package
      --no-act, even though you probably expected it to actually do
    nothing)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b>, <b>--recursive</b></dt>
  <dd class="It-tag">Recursively handle all regular files matching pattern
      <b>*.deb</b> found at specified directories and all of its subdirectories.
      This can be used with <b>-i</b>, <b>-A</b>, <b>--install</b>,
      <b>--unpack</b> and <b>--avail</b> actions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b></dt>
  <dd class="It-tag">Don't install a package if a newer version of the same
      package is already installed. This is an alias of
      <b>--refuse-downgrade</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--admindir=</b><i>dir</i></dt>
  <dd class="It-tag">Change default administrative directory, which contains
      many files that give information about status of installed or uninstalled
      packages, etc. (Defaults to <i>/var/lib/dpkg</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--instdir=</b><i>dir</i></dt>
  <dd class="It-tag">Change default installation directory which refers to the
      directory where packages are to be installed. <b>instdir</b> is also the
      directory passed to <b>chroot</b>(2) before running package's installation
      scripts, which means that the scripts see <b>instdir</b> as a root
      directory. (Defaults to <i>/</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--root=</b><i>dir</i></dt>
  <dd class="It-tag">Changing <b>root</b> changes <b>instdir</b> to <i>dir</i>
      and <b>admindir</b> to <i>dir</i><b>/var/lib/dpkg</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b>, <b>--selected-only</b></dt>
  <dd class="It-tag">Only process the packages that are selected for
      installation. The actual marking is done with <b>dselect</b> or by
      <b>dpkg</b>, when it handles packages. For example, when a package is
      removed, it will be marked selected for deinstallation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b>, <b>--skip-same-version</b></dt>
  <dd class="It-tag">Don't install the package if the same version of the
      package is already installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pre-invoke=</b><i>command</i></dt>
  <dd class="It-tag"><b>--post-invoke=</b><i>command</i> Set an invoke hook
      <i>command</i> to be run via &#x201C;sh -c&#x201D; before or after the
      <b>dpkg</b> run for the <i>unpack</i>, <i>configure</i>, <i>install</i>,
      <i>triggers-only</i>, <i>remove</i>, <i>purge</i>, <i>add-architecture</i>
      and <i>remove-architecture</i> <b>dpkg</b> actions (since dpkg 1.15.4;
      <i>add-architecture</i> and <i>remove-architecture</i> actions since dpkg
      1.17.19). This option can be specified multiple times. The order the
      options are specified is preserved, with the ones from the configuration
      files taking precedence. The environment variable <b>DPKG_HOOK_ACTION</b>
      is set for the hooks to the current <b>dpkg</b> action. Note: front-ends
      might call <b>dpkg</b> several times per invocation, which might run the
      hooks more times than expected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--path-exclude=</b><i>glob-pattern</i></dt>
  <dd class="It-tag"><b>--path-include=</b><i>glob-pattern</i> Set
      <i>glob-pattern</i> as a path filter, either by excluding or re-including
      previously excluded paths matching the specified patterns during install
      (since dpkg 1.15.8).
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Warning: take into account that depending on the excluded paths you</i>
      <i>might completely break your system, use with caution.</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    The glob patterns use the same wildcards used in the shell, were
      &#x2018;*&#x2019; matches any sequence of characters, including the empty
      string and also &#x2018;/&#x2019;. For example, &#x00AB;
      <i>/usr/*/READ*</i>&#x00BB; matches &#x00AB;
      <i>/usr/share/doc/package/README</i>&#x00BB;. As usual, &#x2018;?&#x2019;
      matches any single character (again, including &#x2018;/&#x2019;). And
      &#x2018;[&#x2019; starts a character class, which can contain a list of
      characters, ranges and complementations. See <b>glob</b>(7) for detailed
      information about globbing. Note: the current implementation might
      re-include more directories and symlinks than needed, to be on the safe
      side and avoid possible unpack failures, future work might fix this.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be used to remove all paths except some particular ones; a typical
      case is:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>--path-exclude=/usr/share/doc/*</b>
<b>--path-include=/usr/share/doc/*/copyright</b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    to remove all documentation files except the copyright files.
    <div style="height: 1.00em;">&#x00A0;</div>
    These two options can be specified multiple times, and interleaved with each
      other. Both are processed in the given order, with the last rule that
      matches a file name making the decision.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verify-format</b><i> format-name</i></dt>
  <dd class="It-tag">Sets the output format for the <b>--verify</b> command
      (since dpkg 1.17.2).
    <div style="height: 1.00em;">&#x00A0;</div>
    The only currently supported output format is <b>rpm</b>, which consists of
      a line for every path that failed any check. The lines start with 9
      characters to report each specific check result, a &#x2018;
      <b>?</b>&#x2019; implies the check could not be done (lack of support,
      file permissions, etc), &#x2018; <b>.</b>&#x2019; implies the check
      passed, and an alphanumeric character implies a specific check failed; the
      md5sum verification failure (the file contents have changed) is denoted
      with a &#x2018; <b>5</b>&#x2019; on the third character. The line is
      followed by a space and an attribute character (currently &#x2018;
      <b>c</b>&#x2019; for conffiles), another space and the pathname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--status-fd </b><i>n</i></dt>
  <dd class="It-tag">Send machine-readable package status and progress
      information to file descriptor <i>n</i>. This option can be specified
      multiple times. The information is generally one record per line, in one
      of the following forms:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>status: </b><i>package</i><b>: </b><i>status</i></dt>
  <dd class="It-tag">Package status changed; <i>status</i> is as in the status
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status: </b><i>package</i><b> : error :
    </b><i>extended-error-message</i></dt>
  <dd class="It-tag">An error occurred. Any possible newlines in
      <i>extended-error-message</i> will be converted to spaces before
    output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status: </b><i>file</i><b> : conffile-prompt :
    '</b><i>real-old</i><b>' '</b><i>real-new</i><b>' </b><i>useredited</i><b>
    </b><i>distedited</i></dt>
  <dd class="It-tag">User is being asked a conffile question.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>processing: </b><i>stage</i><b>: </b><i>package</i></dt>
  <dd class="It-tag">Sent just before a processing stage starts. <i>stage</i> is
      one of <b>upgrade</b>, <b>install</b> (both sent before unpacking),
      <b>configure</b>, <b>trigproc</b>, <b>disappear</b>, <b>remove</b>,
      <b>purge</b>.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--status-logger</b>=<i>command</i></dt>
  <dd class="It-tag">Send machine-readable package status and progress
      information to the shell <i>command</i>'s standard input, to be run via
      &#x201C;sh -c&#x201D; (since dpkg 1.16.0). This option can be specified
      multiple times. The output format used is the same as in
      <b>--status-fd</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log=</b><i>filename</i></dt>
  <dd class="It-tag">Log status change updates and actions to <i>filename</i>,
      instead of the default <i>/var/log/dpkg.log</i>. If this option is given
      multiple times, the last filename is used. Log messages are of the form
      &#x2018;YYYY-MM-DD HH:MM:SS startup <i>type</i> <i>command</i>&#x2019; for
      each dpkg invocation where <i>type</i> is <b>archives</b> (with a
      <i>command</i> of <b>unpack</b> or <b>install</b>) or <b>packages</b>
      (with a <i>command</i> of <b>configure</b>, <b>triggers-only</b>,
      <b>remove</b> or <b>purge</b>); &#x2018;YYYY-MM-DD HH:MM:SS status
      <i>state</i> <i>pkg</i> <i>installed-version</i>&#x2019; for status change
      updates; &#x2018;YYYY-MM-DD HH:MM:SS <i>action</i> <i>pkg</i>
      <i>installed-version</i> <i>available-version</i>&#x2019; for actions
      where <i>action</i> is one of <b>install</b>, <b>upgrade</b>,
      <b>configure</b>, <b>trigproc</b>, <b>disappear</b>, <b>remove</b> or
      <b>purge</b>; and &#x2018;YYYY-MM-DD HH:MM:SS conffile <i>filename</i>
      <i>decision</i>&#x2019; for conffile changes where <i>decision</i> is
      either <b>install</b> or <b>keep</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-debsig</b></dt>
  <dd class="It-tag">Do not try to verify package signatures.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-triggers</b></dt>
  <dd class="It-tag">Do not run any triggers in this run (since dpkg 1.14.17),
      but activations will still be recorded. If used with <b>--configure</b>
      <i>package</i> or <b>--triggers-only</b> <i>package</i> then the named
      package postinst will still be run even if only a triggers run is needed.
      Use of this option may leave packages in the improper
      <b>triggers-awaited</b> and <b>triggers-pending</b> states. This can be
      fixed later by running: <b>dpkg --configure --pending</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--triggers</b></dt>
  <dd class="It-tag">Cancels a previous <b>--no-triggers</b> (since dpkg
      1.14.17).</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<h2 class="Ss" title="Ss" id="External_environment"><a class="selflink" href="#External_environment">External
  environment</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PATH</b></dt>
  <dd class="It-tag">This variable is expected to be defined in the environment
      and point to the system paths where several required programs are to be
      found. If it's not set or the programs are not found, <b>dpkg</b> will
      abort.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>HOME</b></dt>
  <dd class="It-tag">If set, <b>dpkg</b> will use it as the directory from which
      to read the user specific configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TMPDIR</b></dt>
  <dd class="It-tag">If set, <b>dpkg</b> will use it as the directory in which
      to create temporary files and directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PAGER</b></dt>
  <dd class="It-tag">The program <b>dpkg</b> will execute when displaying the
      conffiles.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SHELL</b></dt>
  <dd class="It-tag">The program <b>dpkg</b> will execute when starting a new
      interactive shell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>COLUMNS</b></dt>
  <dd class="It-tag">Sets the number of columns <b>dpkg</b> should use when
      displaying formatted text. Currently only used by -l.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Internal_environment"><a class="selflink" href="#Internal_environment">Internal
  environment</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_SHELL_REASON</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the shell spawned on the conffile
      prompt to examine the situation (since dpkg 1.15.6). Current valid value:
      <b>conffile-prompt</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_CONFFILE_OLD</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the shell spawned on the conffile
      prompt to examine the situation (since dpkg 1.15.6). Contains the path to
      the old conffile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_CONFFILE_NEW</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the shell spawned on the conffile
      prompt to examine the situation (since dpkg 1.15.6). Contains the path to
      the new conffile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_HOOK_ACTION</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the shell spawned when executing
      a hook action (since dpkg 1.15.4). Contains the current <b>dpkg</b>
      action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_RUNNING_VERSION</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the maintainer script environment
      to the version of the currently running <b>dpkg</b> instance (since dpkg
      1.14.17).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_MAINTSCRIPT_PACKAGE</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the maintainer script environment
      to the (non-arch-qualified) package name being handled (since dpkg
      1.14.17).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_MAINTSCRIPT_PACKAGE_REFCOUNT</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the maintainer script environment
      to the package reference count, i.e. the number of package instances with
      a state greater than <b>not-installed</b> (since dpkg 1.17.2).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_MAINTSCRIPT_ARCH</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the maintainer script environment
      to the architecture the package got built for (since dpkg 1.15.4).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_MAINTSCRIPT_NAME</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the maintainer script environment
      to the name of the script running, one of <b>preinst</b>, <b>postinst</b>,
      <b>prerm</b> or <b>postrm</b> (since dpkg 1.15.7).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DPKG_MAINTSCRIPT_DEBUG</b></dt>
  <dd class="It-tag">Defined by <b>dpkg</b> on the maintainer script environment
      to a value (&#x2018; <b>0</b>&#x2019; or &#x2018;<b>1</b>&#x2019;) noting
      whether debugging has been requested (with the <b>--debug</b> option) for
      the maintainer scripts (since dpkg 1.18.4).</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/dpkg/dpkg.cfg.d/[0-9a-zA-Z_-]*</i></dt>
  <dd class="It-tag">Configuration fragment files (since dpkg 1.15.4).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/dpkg/dpkg.cfg</i></dt>
  <dd class="It-tag">Configuration file with default options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/var/log/dpkg.log</i></dt>
  <dd class="It-tag">Default log file (see <i>/etc/dpkg/dpkg.cfg</i>(5) and
      option <b>--log</b>).</dd>
</dl>
<div class="Pp"></div>
The other files listed below are in their default directories, see option
  <b>--admindir</b> to see how to change locations of these files.
<dl class="Bl-tag">
  <dt class="It-tag"><i>/var/lib/dpkg/available</i></dt>
  <dd class="It-tag">List of available packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/var/lib/dpkg/status</i></dt>
  <dd class="It-tag">Statuses of available packages. This file contains
      information about whether a package is marked for removing or not, whether
      it is installed or not, etc. See section <b>INFORMATION ABOUT PACKAGES</b>
      for more info.
    <div style="height: 1.00em;">&#x00A0;</div>
    The status file is backed up daily in <i>/var/backups</i>. It can be useful
      if it's lost or corrupted due to filesystems troubles.</dd>
</dl>
<div class="Pp"></div>
The following files are components of a binary package. See <b>deb</b>(5) for
  more information about them:
<div style="margin-left: 5.00ex;">
<pre>
<i>control</i>
<i>conffiles</i>
<i>preinst</i>
<i>postinst</i>
<i>prerm</i>
<i>postrm</i>
<i>triggers</i>
</pre>
</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
<b>--no-act</b> usually gives less information than might be helpful.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To list installed packages related to the editor <b>vi</b>(1) (note that
  <b>dpkg-query</b> does not load the <i>available</i> file anymore by default,
  and the <b>dpkg-query</b> <b>--load-avail</b> option should be used instead
  for that):
<div>&#x00A0;</div>
<b> dpkg -l '*vi*'</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
To see the entries in <i>/var/lib/dpkg/available</i> of two packages:
<div>&#x00A0;</div>
<b> dpkg --print-avail elvis vim | less</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
To search the listing of packages yourself:
<div>&#x00A0;</div>
<b> less /var/lib/dpkg/available</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
To remove an installed elvis package:
<div>&#x00A0;</div>
<b> dpkg -r elvis</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
To install a package, you first need to find it in an archive or CDROM. The
  <i>available</i> file shows that the vim package is in section <b>editors</b>:
<div>&#x00A0;</div>
<b> cd /media/cdrom/pool/main/v/vim</b> <b> dpkg -i vim_4.5-3.deb</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
To make a local copy of the package selection states:
<div>&#x00A0;</div>
<b> dpkg --get-selections &gt;myselections</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
You might transfer this file to another computer, and after having updated the
  <i>available</i> file there with your package manager frontend of choice (see
  https://wiki.debian.org/Teams/Dpkg/FAQ for more details), for example:
<div>&#x00A0;</div>
<b> apt-cache dumpavail | dpkg --merge-avail</b>
<div>&#x00A0;</div>
or with dpkg 1.17.6 and earlier:
<div>&#x00A0;</div>
<b> avail=`mktemp`</b> <b> apt-cache dumpavail &gt;&quot;$avail&quot;</b> <b>
  dpkg --merge-avail &quot;$avail&quot;</b> <b> rm &quot;$avail&quot;</b>
<div>&#x00A0;</div>
you can install it with:
<div>&#x00A0;</div>
<b> dpkg --clear-selections</b> <b> dpkg --set-selections &lt;myselections</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Note that this will not actually install or remove anything, but just set the
  selection state on the requested packages. You will need some other
  application to actually download and install the requested packages. For
  example, run <b>apt-get dselect-upgrade</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Ordinarily, you will find that <b>dselect</b>(1) provides a more convenient way
  to modify the package selection states.
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ADDITIONAL_FUNCTIONALITY"><a class="selflink" href="#ADDITIONAL_FUNCTIONALITY">ADDITIONAL
  FUNCTIONALITY</a></h1>
Additional functionality can be gained by installing any of the following
  packages: <b>apt</b>, <b>aptitude</b> and <b>debsums</b>.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>aptitude</b>(1), <b>apt</b>(1), <b>dselect</b>(1), <b>dpkg-deb</b>(1),
  <b>dpkg-query</b>(1), <b>deb</b>(5), <b>deb-control</b>(5),
  <b>dpkg.cfg</b>(5), and <b>dpkg-reconfigure</b>(8).
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
See <i>/usr/share/doc/dpkg/THANKS</i> for the list of people who have
  contributed to <b>dpkg</b>.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-08-16</td>
    <td class="foot-os">Debian Project</td>
  </tr>
</table>
</body>
</html>
