<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>IR-CTL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IR-CTL(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">IR-CTL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ir-ctl - a swiss-knife tool to handle raw IR and to set lirc options
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ir-ctl</b> [ <i>OPTION</i>]...
<div>&#x00A0;</div>
<b>ir-ctl</b> [ <i>OPTION</i>]... <i>--features</i>
<div>&#x00A0;</div>
<b>ir-ctl</b> [ <i>OPTION</i>]... <i>--send</i> [<i>pulse and space file to
  send</i>]
<div>&#x00A0;</div>
<b>ir-ctl</b> [ <i>OPTION</i>]... <i>--scancode</i> [<i>protocol and scancode to
  send</i>]
<div>&#x00A0;</div>
<b>ir-ctl</b> [ <i>OPTION</i>]... <i>--record</i> [<i>save to file</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
ir-ctl is a tool that allows one to list the features of a lirc device, set its
  options, record raw IR, send raw IR or send complete IR scancodes.
<div class="Pp"></div>
Note: You need to have read or write permissions on the /dev/lirc device for
  options to work.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--device</b>=<i>DEV</i></dt>
  <dd class="It-tag">lirc device to control, /dev/lirc0 by default</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--features</b></dt>
  <dd class="It-tag">List the features of the lirc device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--record</b>=[<i>FILE</i>]</dt>
  <dd class="It-tag">Record IR and print to standard output if no file is
      specified, else save to the filename.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--send</b>=<i>FILE</i></dt>
  <dd class="It-tag">Send IR in text file. It must be in the format described
      below. If this option is specified multiple times, send all files in order
      with 125ms delay between them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>, <b>--scancode</b>=<i>PROTOCOL:SCANCODE</i></dt>
  <dd class="It-tag">Send the IR scancode in the protocol specified. The
      protocol must one of the protocols listed below, followed by a semicolon
      and the scancode number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-1</b>, <b>--oneshot</b></dt>
  <dd class="It-tag">When recording, stop recording after the first message,
      i.e. after a space or timeout of more than 19ms is received.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>, <b>--wideband</b></dt>
  <dd class="It-tag">Use the wideband receiver if available on the hardware.
      This is also known as learning mode. The measurements should be more
      precise and any carrier frequency should be accepted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--no-wideband</b></dt>
  <dd class="It-tag">Switches back to the normal, narrowband receiver if the
      wideband receiver was enabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b>, <b>--carrier-range</b>=<i>RANGE</i></dt>
  <dd class="It-tag">Set the accepted carrier range for the narrowband receiver.
      It should be specified in the form <i>30000-50000</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--measure-carrier</b></dt>
  <dd class="It-tag">If the hardware supports it, report what the carrier
      frequency is on recording. You will get the keyword <i>carrier</i>
      followed by the frequency. This might use the wideband receiver although
      this is hardware specific.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b>, <b>--no-measure-carrier</b></dt>
  <dd class="It-tag">Disable reporting of the carrier frequency. This should
      make it possible to use the narrowband receiver. This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>, <b>--timeout-reports</b></dt>
  <dd class="It-tag">When the IR receiver times out due to inactivity, a timeout
      message is reported. When recording you will get the keyword
      <i>timeout</i> followed by the length of time that no IR was detected
    for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>, <b>--no-timeout-reports</b></dt>
  <dd class="It-tag">When the IR receiver times out due to inactivity, do not
      report this. This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--timeout</b>=<i>TIMEOUT</i></dt>
  <dd class="It-tag">Set the length of a space at which the recorder goes idle,
      specified in microseconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--carrier</b>=<i>CARRIER</i></dt>
  <dd class="It-tag">Sets the send carrier frequency.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b>, <b>--duty-cycle</b>=<i>DUTY</i></dt>
  <dd class="It-tag">Set the duty cycle for sending in percent if the hardware
      support it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--emitters</b>=<i>EMITTERS</i></dt>
  <dd class="It-tag">Comma separated list of emitters to use for sending. The
      first emitter is number 1. Some devices only support enabling one emitter
      (the winbond-cir driver).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?</b>, <b>--help</b></dt>
  <dd class="It-tag">Prints the help message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--usage</b></dt>
  <dd class="It-tag">Give a short usage message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Verbose output; this prints the IR before sending.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">print the v4l2-utils version</dd>
</dl>
<h2 class="Ss" title="Ss" id="Format_of_pulse_and_space_file"><a class="selflink" href="#Format_of_pulse_and_space_file">Format
  of pulse and space file</a></h2>
When sending IR, the format of the file should be as follows. A comment start
  with #. The carrier frequency can be specified as:
<div class="Pp"></div>
	carrier 38000
<div class="Pp"></div>
The file should contain alternating lines with pulse and space, followed by
  length in microseconds. The following is a rc-5 encoded message:
<div class="Pp"></div>
	carrier 36000
<div>&#x00A0;</div>
	pulse 940
<div>&#x00A0;</div>
	space 860
<div>&#x00A0;</div>
	pulse 1790
<div>&#x00A0;</div>
	space 1750
<div>&#x00A0;</div>
	pulse 880
<div>&#x00A0;</div>
	space 880
<div>&#x00A0;</div>
	pulse 900
<div>&#x00A0;</div>
	space 890
<div>&#x00A0;</div>
	pulse 870
<div>&#x00A0;</div>
	space 900
<div>&#x00A0;</div>
	pulse 1750
<div>&#x00A0;</div>
	space 900
<div>&#x00A0;</div>
	pulse 890
<div>&#x00A0;</div>
	space 910
<div>&#x00A0;</div>
	pulse 840
<div>&#x00A0;</div>
	space 920
<div>&#x00A0;</div>
	pulse 870
<div>&#x00A0;</div>
	space 920
<div>&#x00A0;</div>
	pulse 840
<div>&#x00A0;</div>
	space 920
<div>&#x00A0;</div>
	pulse 870
<div>&#x00A0;</div>
	space 1810
<div>&#x00A0;</div>
	pulse 840
<div class="Pp"></div>
Rather than specifying the raw IR, you can also specify the scancode and
  protocol you want to send. This will also automatically set the correct
  carrier. The above can be written as:
<div class="Pp"></div>
	scancode rc5:0x1e01
<div class="Pp"></div>
Do not specify scancodes with different protocols in one file, as the carrier
  might differ and the transmitter cannot send this. Multiple scancodes can be
  specified in one file but ensure that the rules for the protocol are met by
  inserting an appropriate space between them. Also, there are limits to what
  lirc devices can send in one go.
<h2 class="Ss" title="Ss" id="Supported_Protocols"><a class="selflink" href="#Supported_Protocols">Supported
  Protocols</a></h2>
A scancode with protocol can be specified on the command line or in the pulse
  and space file. The following protocols are supported: <b>rc5</b>,
  <b>rc5x_20</b>, <b>rc5_sz</b>, <b>jvc</b>, <b>sony12</b>,
  <b>sony</b><b>15</b>, <b>sony20</b>, <b>nec</b>, <b>necx</b>, <b>nec32</b>,
  <b>sanyo</b>, <b>rc6_0</b>, <b>rc6_6a_20</b>, <b>rc6_6a_24</b>,
  <b>rc6_6a_32</b>, <b>rc6_mce</b>, <b>sharp</b>. If the scancode starts with 0x
  it will be interpreted as a hexidecimal number, and if it starts with 0 it
  will be interpreted as an octal number.
<h2 class="Ss" title="Ss" id="Wideband_and_narrowband_receiver"><a class="selflink" href="#Wideband_and_narrowband_receiver">Wideband
  and narrowband receiver</a></h2>
Most IR receivers have a narrowband and wideband receiver. The narrowband
  receiver can receive over longer distances (usually around 10 metres without
  interference) and is limited to certain carrier frequencies.
<div class="Pp"></div>
The wideband receiver is for higher precision measurements and when the carrier
  frequency is unknown; however it only works over very short distances (about 5
  centimetres). This is also known as <b>learning mode</b>.
<div class="Pp"></div>
For most drivers, enabling <b>carrier reports</b> using <b>-m</b> also enables
  the wideband receiver.
<h2 class="Ss" title="Ss" id="Global_state"><a class="selflink" href="#Global_state">Global
  state</a></h2>
All the options which can be set for lirc devices are maintained until the
  device is powered down or a new option is set.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
On success, it returns 0. Otherwise, it will return the error code.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To list all capabilities of /dev/lirc2:
<div>&#x00A0;</div>
	 <b>ir-ctl -f -d /dev/lirc2</b>
<div class="Pp"></div>
To show the IR of the first button press on a remote in learning mode:
<div>&#x00A0;</div>
	 <b>ir-ctl -r -m -w</b>
<div class="Pp"></div>
Note that <b>ir-ctl -rmw</b> would record to a file called <b>mw</b>.
<div class="Pp"></div>
To restore the normal (longer distance) receiver:
<div>&#x00A0;</div>
	 <b>ir-ctl -n -M</b>
<div class="Pp"></div>
To send the pulse and space file <b>play</b> on emitter 3:
<div>&#x00A0;</div>
	 <b>ir-ctl -e 3 --send=play</b>
<div class="Pp"></div>
To send the rc-5 hauppuage '1' scancode:
<div>&#x00A0;</div>
	 <b>ir-ctl -S rc5:0x1e01</b>
<div class="Pp"></div>
To restore the IR receiver on /dev/lirc2 to the default state:
<div>&#x00A0;</div>
	 <b>ir-ctl -PMn --timeout 125000 --device=/dev/lirc2</b>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report bugs to <b>Linux Media Mailing List
  &lt;linux-media@vger.kernel.org&gt;</b>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2016 by Sean Young.
<div class="Pp"></div>
License GPLv2: GNU GPL version 2 &lt;http://gnu.org/licenses/gpl.html&gt;.
<div>&#x00A0;</div>
This is free software: you are free to change and redistribute it. There is NO
  WARRANTY, to the extent permitted by law.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Tue Jul 5 2016</td>
    <td class="foot-os">v4l-utils 1.12.5</td>
  </tr>
</table>
</body>
</html>
