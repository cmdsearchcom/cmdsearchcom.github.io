<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SHRINKFILE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SHRINKFILE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SHRINKFILE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
shrinkfile - shrink a file on a line boundary
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>shrinkfile</b> [ <b>-n</b> ] [ <b>-m</b><i> maxsize</i> ] [ <b>-s</b><i>
  size</i> ] [ <b>-v</b> ] <i>file...</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>shrinkfile</i> program shrinks files to a given <i>size</i> if the size
  is larger than <i>maxsize</i>,
<br/>
 preserving the data at the end of the file. Truncation is performed on line
  boundaries, where a line is a series of bytes ending with a newline, \n. There
  is no line length restriction and files may contain any binary data.
<div class="Pp"></div>
Temporary files are created in the <i>/var/spool/news/in.coming/tmp</i>
  directory. The ``TMPDIR'' environment variable may be used to specify a
  different directory.
<div class="Pp"></div>
A newline will be added to any non-empty file that does not end with a newline.
  The maximum file size will not be exceeded by this addition.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">By default, <i>size</i> is assume to be zero and files are
      truncated to zero bytes. By default, <i>maxsize</i> is the same as
      <i>size</i>. If <i>maxsize</i> is less than <i>size</i>, <i>maxsize</i> is
      reset to <i>size</i>. The `` <b>-s</b>'' flag may be used to change the
      truncation size. Because the program truncates only on line boundaries,
      the final size may be smaller then the specified truncation size. The
      <i>size</i> and <i>maxsize</i> parameter may end with a ``k'', ``m'', or
      ``g'', indicating kilobyte (1024), megabyte (1048576) or gigabyte
      (1073741824) lengths. Uppercase letters are also allowed. The maximum file
      size is 2147483647 bytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">If the ``<b>-v</b>'' flag is used, then <i>shrinkfile</i>
      will print a status line if a file was shrunk.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">If the ``<b>-n</b>'' flag is used, then <i>shrinkfile</i>
      will exit 0 if any file is larger than <i>maxsize</i> and exit 1
      otherwise. No files will be altered.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Example usage:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
shrinkfile -s 4m curds
shrinkfile -s 1g -v whey
shrinkfile -s 500k -m 4m -v curds whey
if shrinkfile -n -s 100m whey; then echo whey is way too big; fi
</pre>
</div>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
Written by Landon Curt Noll &lt;chongo@toad.com&gt; and Rich $alz
  &lt;rsalz@uunet.uu.net&gt; for InterNetNews.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
