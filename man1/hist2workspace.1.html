<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HISTTOWORKSPACE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HISTTOWORKSPACE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">HISTTOWORKSPACE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hist2workspace - utility to create RooFit/RooStats workspace from histograms
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>hist2workspace [option] input.xml</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>hist2workspace</b> is a utility to create RooFit/RooStats workspace from
  histograms
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-standard_form</b> default model, which creates an extended PDF that
  interpolates between RooHistFuncs. This is much faster for models with many
  bins and uses significantly less memory.
<div>&#x00A0;</div>
<b>-number_counting_form</b> this was the original model in 5.28 (without
  patches). It uses a Poisson for each bin of the histogram. This can become
  slow and memory intensive when there are many bins.
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Prepare_working_area"><a class="selflink" href="#Prepare_working_area">Prepare
  working area</a></h1>
The ROOT release ships with a script <b>prepareHistFactory</b> in the
  $ROOTSYS/bin directory that prepares a working area. It creates a results/,
  data/, and config/ directory. It also copies the HistFactorySchema.dtd and
  example XML files into the config/ directory. Additionally, it copies a root
  file into the data/ directory for use with the examples.
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HistFactorySchema.dtd"><a class="selflink" href="#HistFactorySchema.dtd">HistFactorySchema.dtd</a></h1>
This file is located in $ROOTSYS/etc/ specifies the XML schema. It is typically
  placed in the config/ directory of a working area together with the top-level
  XML file and the individual channel XML files. The user should not modify this
  file.
<div>&#x00A0;</div>
The HistFactorySchema.dtd is commented to specify exactly the meaning of the
  various options.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Top-Level_XML_File"><a class="selflink" href="#Top-Level_XML_File">Top-Level
  XML File</a></h1>
(see for example $ROOTSYS/tutorials/histfactory/example.xml) This file is edited
  by the user. It specifies
<br/>
 - A top level 'Combination' that is composed of:
<br/>
 - several 'Channels', which are described in separate XML files.
<br/>
 - several 'Measurements' (corresponding to a full fit of the model) each of
  which specifies
<br/>
 - a name for this measurement to be used in tables and files
<br/>
 - what is the luminosity associated to the measurement in picobarns
<br/>
 - which bins of the histogram should be used
<br/>
 - what is the relative uncertainty on the luminosity
<br/>
 - what is (are) the parameter(s) of interest that will be measured
<br/>
 - which parameters should be fixed/floating (eg. nuisance parameters)
<br/>
 - which type of constriants are desired
<br/>
 - Gaussian by default
<br/>
 - Gamma, LogNormal, and Uniform are also supported
<br/>
 - if the tool should export the model only and skip the default fit
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Channel_XML_Files"><a class="selflink" href="#Channel_XML_Files">Channel
  XML Files</a></h1>
(see for example $ROOTSYS/tutorials/histfactory/example_channel.xml) This file
  is edited by the user. It specifies for each channel
<br/>
 - observed data
<br/>
 - if absent the tool will use the expectation, which is useful for expected
  sensitivity
<br/>
 - several 'Samples' (eg. signal, bkg1, bkg2, ...), each of which has:
<br/>
 - a name
<br/>
 - if the sample is normalized by theory (eg N = L*sigma) or not (eg. data
  driven)
<br/>
 - a nominal expectation histogram
<br/>
 - a named 'Normalization Factor' (which can be fixed or allowed to float in a
  fit)
<br/>
 - several 'Overall Systematics' in normalization with:
<br/>
 - a name
<br/>
 - +/- 1 sigma variations (eg. 1.05 and 0.95 for a 5% uncertainty)
<br/>
 - several 'Histogram Systematics' in shape with:
<br/>
 - a name (which can be shared with the OverallSyst if correlated)
<br/>
 - +/- 1 sigma variational histograms
<h1 class="Sh" title="Sh" id="ORIGINAL_AUTHORS"><a class="selflink" href="#ORIGINAL_AUTHORS">ORIGINAL
  AUTHORS</a></h1>
<div style="margin-left: 5.00ex;"><b>Kyle Cranmer</b> , <b>Akira Shibata</b> ,
  and <b>Dominique Tardif</b></div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
This library is free software; you can redistribute it and/or modify it under
  the terms of the GNU Lesser General Public License as published by the Free
  Software Foundation; either version 2.1 of the License, or (at your option)
  any later version.
<div class="Pp"></div>
This library is distributed in the hope that it will be useful, but WITHOUT ANY
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
  A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
  details.
<div class="Pp"></div>
You should have received a copy of the GNU Lesser General Public License along
  with this library; if not, write to the Free Software Foundation, Inc., 51
  Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">DEC. 2010</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
