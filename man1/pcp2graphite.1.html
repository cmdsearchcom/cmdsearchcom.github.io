<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:30:10 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PCP2GRAPHITE(1) General Commands Manual
PCP2GRAPHITE(1)</p>

<p style="margin-top: 1em">NAME <br>
pcp2graphite - pcp-to-graphite metrics exporter</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pcp2graphite [-h hostspec] [-a archive] [-L] [-O origin] [-T
finish] [-s samples] [-t delta] [-g graphitehost] [-p
pickleport] [-P textport] [-r pickleprotocol] [-u units] [-m
<br>
prefix] metricname ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
pcp2graphite is a PCP metric exporter. It relays hierarchies
of the pmns(5) to a designated Graphite (Carbon/Whisper)
database by periodically polling, then copying/converting
<br>
relevant numerical metrics across the Graphite
&quot;text&quot; or &quot;pickled&quot; TCP protocols.
Metric values are optionally scaled to a given unit/scale,
but are not rate-converted. Metric <br>
names may be prefixed and are somewhat canonicalized to fit
the Graphite namespace rules.</p>

<p style="margin-top: 1em">The data transfer will continue
on a best-effort basis until the program is interrupted.
Temporary errors are ignored. Multiple copies of this
program may be run in parallel, <br>
to populate different Graphite databases or subtrees, with
different scaling or sampling intervals.</p>

<p style="margin-top: 1em">The pmmgr(1) daemon can be used
to ensure one or more pcp2grapite instances start at system
boot time.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h hostspec <br>
Extract metrics from the specified pmcd(1) daemon, using a
host specification as described on PCPIntro(1). The default
is local:.</p>

<p style="margin-top: 1em">-a archive <br>
Extract metrics from the given set of archives, which is a
comma-separated list of names, each of which may be the base
name of an archive or the name of a directory con&acirc;
<br>
taining one or more archives.</p>

<p style="margin-top: 1em">-L Extract metrics from the
local context PCP PMDAs.</p>

<p style="margin-top: 1em">-t delta <br>
Specify the polling interval in seconds. If live, polling is
aligned to natural multiples of this interval. The default
is 60 seconds.</p>

<p style="margin-top: 1em">-O origin <br>
Set the time origin for archive scanning. The default is the
start of the set of archives.</p>

<p style="margin-top: 1em">-T finish <br>
Set the time finish for archive scanning. The default is the
end of the set of archives.</p>

<p style="margin-top: 1em">-s samples <br>
Set the maximum number of samples to relay. The default is
unlimited.</p>

<p style="margin-top: 1em">-g graphitehost <br>
Specify the graphite carbon-cache server where the relayed
data is to be relayed. The default is localhost.</p>

<p style="margin-top: 1em">-p pickleport <br>
Select the more efficient &quot;pickled&quot; encoding for
carbon-cache communication, and use the given TCP port. This
is the default, using port 2004.</p>

<p style="margin-top: 1em">-P textport <br>
Alternately, select the less efficient &quot;text&quot;
encoding for carbon-cache communication, and use the given
TCP port. This protocol is not default, because it requires
a <br>
separate TCP connection for each metric. The typical port is
2003.</p>

<p style="margin-top: 1em">-r pickleprotocol <br>
Select the protocol for the &quot;pickled&quot; encoding.
The possible values are:</p>

<p style="margin-top: 1em">&Acirc;&middot; 0 - ASCII
protocol (the slowest),</p>

<p style="margin-top: 1em">&Acirc;&middot; 1 - old binary
protocol - pre Python 2.3,</p>

<p style="margin-top: 1em">&Acirc;&middot; 2 - new binary
protocol introduced in Python 2.3.</p>

<p style="margin-top: 1em">The default is 0.</p>

<p style="margin-top: 1em">-u units <br>
Rescale the metrics to the given UNITS string, as parsed by
the pmParseUnitsStr(3) function. This must be dimensionally
consistent with the underlying PCP metric. The <br>
default is to perform no scaling.</p>

<p style="margin-top: 1em">-m prefix <br>
Use the given string as a prefix for all PMNS metrics
relayed to Graphite. The default is pcp. (note the period at
the end).</p>

<p style="margin-top: 1em">metricname <br>
Relay all numeric metrics nested at or below the given name
in the PMNS. This option may be repeated. This is a
compulsory option, having no default.</p>

<p style="margin-top: 1em">SEE ALSO <br>
PCPIntro(1), pmcd(1), pmParseUnitsStr(3),
http://graphite.wikidot.com/, pmmgr(1), pmval(1), PMAPI(3),
pcp.conf(5) and pmns(5).</p>

<p style="margin-top: 1em">Performance Co-Pilot PCP
PCP2GRAPHITE(1)</p>
<hr>
</body>
</html>
