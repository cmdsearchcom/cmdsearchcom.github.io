<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pfstore(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pfstore(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">pfstore(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pfstore - Used to create and manage a pass-phrase store.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pfstore</b> [ <i>-n</i>] [<i>-d</i>] <i>-f pfsfile identity</i>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Create the file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Delete given identity from the store</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f pfsfile</b></dt>
  <dd class="It-tag">Specifies file that holds identity/pass-phrase pairs</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pfstore</b> is used to create and manage files that hold identity/pass-phrase
  pairs. It is primarily used to manage the <i>owampd.pfs</i> file for
  <b>owampd</b>.
<div class="Pp"></div>
If the <i>-d</i> option is not specified, then <b>pfstore</b> prompts the caller
  for a pass-phrase. The pass-phrase is hex-encoded and saved in the
  <i>pfsfile</i> with the associated <i>identity</i>. If the given
  <i>identity</i> already exists in the <i>pfsfile</i>, the previous pass-phrase
  is overwritten with the new one.
<div class="Pp"></div>
<i>pfsfiles</i> generated by <b>pfstore</b> are formatted for use with
  <b>OWAMP</b>.
<h1 class="Sh" title="Sh" id="PFSFILE_FORMAT"><a class="selflink" href="#PFSFILE_FORMAT">PFSFILE
  FORMAT</a></h1>
<b>pfstore</b> generates lines of the format:
<div class="Pp"></div>
test	54b0c58c7ce9f2a8b551351102ee0938
<div class="Pp"></div>
An <i>identity</i>, followed by whitespace, followed by a variable-length
  hex-encoded pass-phrase.
<div class="Pp"></div>
No other text is allowed on these lines; however, comment lines may be added.
  Comment lines are any line where the first non-white space character is '
  <b>#</b>'.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>pfstore -f /etc/owampd/owampd.pfs testuser</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Adds a pass-phrase for the identity <i>testuser</i>. The
      user is prompted for a pass-phrase. If the file does not exist, an error
      message will be printed and no action will be taken.</dd>
</dl>
<div class="Pp"></div>
<b>pfstore -f /etc/owampd/owampd.pfs -n testuser</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Creates the file before doing the same as above. If the
      file already exists, an error message will be printed and no action will
      be taken.</dd>
</dl>
<div class="Pp"></div>
<b>pfstore -f /etc/owampd/owampd.pfs -d testuser</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Deletes the identity <i>testuser</i> from the pfsfile. If
      the file does not exist, an error message will be printed and no action
      will be taken.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SECURITY_CONSIDERATIONS"><a class="selflink" href="#SECURITY_CONSIDERATIONS">SECURITY
  CONSIDERATIONS</a></h1>
The pass-phrases in the <i>pfsfile</i> are not encrypted in any way; they are
  simply hex-encoded. The security of these pass-phrases is completely dependent
  upon the security of the filesystem and the discretion of the system
  administrator.
<h1 class="Sh" title="Sh" id="RESTRICTIONS"><a class="selflink" href="#RESTRICTIONS">RESTRICTIONS</a></h1>
<i>identity</i> names are restricted to 80 characters.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
owping(1), owampd(1), owampd(1) and the http://e2epi.internet2.edu/owamp web
  site.
<h1 class="Sh" title="Sh" id="ACKNOWLEDGMENTS"><a class="selflink" href="#ACKNOWLEDGMENTS">ACKNOWLEDGMENTS</a></h1>
This material is based, in part, on work supported by the National Science
  Foundation (NSF) under Grant No. ANI-0314723. Any opinions, findings, and
  conclusions or recommendations expressed in this material are those of the
  author(s) and do not necessarily reflect the views of the NSF.</div>
<table class="foot">
  <tr>
    <td class="foot-date">$Date$</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
