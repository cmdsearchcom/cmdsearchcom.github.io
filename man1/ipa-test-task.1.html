<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:18:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ipa-test-task(1) FreeIPA Manual Pages
ipa-test-task(1)</p>

<p style="margin-top: 1em">NAME <br>
ipa-test-task - Run a task for FreeIPA testing</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ipa-test-task -h <br>
ipa-test-task [global-options] TASK [task-options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Run a task using FreeIPA integration testing configuration.
This tool is meant for use in scripts that test FreeIPA
functionality. See ipa-test-config(1) for FreeIPA
integra&acirc; <br>
tion test configuration.</p>

<p style="margin-top: 1em">This tool should never be run in
a production environment. It is not designed with security
in mind.</p>

<p style="margin-top: 1em">GLOBAL OPTIONS <br>
-h, --help <br>
Print out the command&rsquo;s usage and exit. If given after
a subcommand, prints that subcommand&rsquo;s usage
message.</p>

<p style="margin-top: 1em">--with-beakerlib <br>
Enable BeakerLib integration. Log messages are reported via
beakerlib(1) commands. This option requires an active
BeakerLib phase.</p>

<p style="margin-top: 1em">SUBCOMMANDS <br>
ipa-test-task install-master [--host HOST] <br>
Install an initial IPA server on the given host, or on the
configured master if --host is not given.</p>

<p style="margin-top: 1em">ipa-test-task install-replica
[--master MASTER] HOST <br>
Install an IPA replica on the given host. It is initialized
from the IPA server given by --master, or from the
configured master if --master is not given.</p>

<p style="margin-top: 1em">ipa-test-task install-client
[--master MASTER] HOST <br>
Install an IPA client on the given host. It is initialized
from the IPA server given by --master, or from the
configured master if --master is not given.</p>

<p style="margin-top: 1em">ipa-test-task connect-replica
HOST1 HOST2 <br>
Create a replication agreement between two given
replicas.</p>

<p style="margin-top: 1em">ipa-test-task disconnect-replica
HOST1 HOST2 <br>
Remove a replication agreement between two given
replicas.</p>

<p style="margin-top: 1em">ipa-test-task uninstall-server
[HOST [HOST ...]] <br>
Uninstall an IPA server (master or replica) on the given
host(s), and restore the host(s) to the state before
installation. If no host is given, uninstalls all configured
<br>
masters and replicas. If no server is installed on a host,
does nothing on that host.</p>

<p style="margin-top: 1em">ipa-test-task uninstall-client
[HOST [HOST ...]] <br>
Uninstall an IPA client on the given host(s), and restore
the host(s) to the state before installation. If no host is
given, uninstalls all configured clients. If no <br>
client is installed on a host, does nothing on that
host.</p>

<p style="margin-top: 1em">ipa-test-task uninstall-all <br>
Uninstall IPA from all configured master, replica and client
hosts. Equivalent to running uninstall-server and
uninstall-client without arguments.</p>

<p style="margin-top: 1em">ipa-test-task cleanup [HOST
[HOST ...]] <br>
Restore system configuration (such as /etc/resolv.conf) on
the given hosts to a state before installation. If no hosts
are given, clean up all configured hosts. This <br>
functionality is included in the uninstall-* subcommands and
is rarely useful alone.</p>

<p style="margin-top: 1em">ipa-test-task install-topo
[--skip-master] [--skip-clients] [--master M] [--replicas R1
[R2...]] [--clients C1 [C2 ...]] TOPO <br>
Install a number of FreeIPA servers and clients in the given
topology. Use the list-topos subcommand for a list of
available topologies.</p>

<p style="margin-top: 1em">Unless --skip-master is given,
an initial server is installed on the host given by
--master, or on the configured master if --master is
missing.</p>

<p style="margin-top: 1em">Replicas are installed according
to the selected topology on hosts given by --replicas, or on
all configured replicas if that option is not given.</p>

<p style="margin-top: 1em">Unless --skip-clients is given,
clients are installed on hosts given by --clients, or on all
configured clients if --clients is not given. Servers used
for client instal&acirc; <br>
lation are selected in a round-robin fashion.</p>

<p style="margin-top: 1em">ipa-test-task list-topos <br>
List the topologies available for the install-topo
subcommand.</p>

<p style="margin-top: 1em">ipa-test-task install-adtrust
HOST <br>
Run ipa-adtrust-install on the IPA and generate SIDs for the
entries in IPA.</p>

<p style="margin-top: 1em">ipa-test-task
configure-dns-for-trust HOST AD <br>
Based on the relationship of the domains configures the IPA
DNS for trust. AD DNS needs to be setup manually.</p>

<p style="margin-top: 1em">ipa-test-task
establish-trust-with-ad HOST AD <br>
Establishes trust with Active Directory. Trust type is
detected depending on the presence of SfU (Services for
Unix) support on the AD.</p>

<p style="margin-top: 1em">ipa-test-task
remove-trust-with-ad HOST AD <br>
Removes trust with Active Directory. Also removes the
associated ID range.</p>

<p style="margin-top: 1em">ipa-test-task
configure-auth-to-local-rule HOST AD <br>
Configures auth_to_local rule in /etc/krb5.conf</p>

<p style="margin-top: 1em">ipa-test-task clear-sssd-cache
HOST <br>
Clears SSSD cache by removing the cache files. Restarts
SSSD.</p>

<p style="margin-top: 1em">ipa-test-task
setup-sssd-debugging HOST <br>
Sets up SSSD debugging. Restarts SSSD.</p>

<p style="margin-top: 1em">ipa-test-task sync-time HOST
SERVER <br>
Syncs the time with the remote server. Please note that this
function leaves ntpd stopped.</p>

<p style="margin-top: 1em">ipa-test-task
add-a-records-in-master-domain MASTER <br>
Adds A records to the IPA master for all the hosts in the
master domain.</p>

<p style="margin-top: 1em">ipa-test-task add-a-record
MASTER HOST <br>
Adds an A record for the host to the IPA master.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
0 if the command was successful</p>

<p style="margin-top: 1em">nonzero if an error occurred</p>

<p style="margin-top: 1em">REFERENCES <br>
A full description of the FreeIPA integration testing
framework is available at
http://www.freeipa.org/page/V3/Integration_testing</p>

<p style="margin-top: 1em">FreeIPA Aug 29 2013
ipa-test-task(1)</p>
<hr>
</body>
</html>
