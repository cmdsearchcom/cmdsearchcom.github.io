<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:18:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ipa-test-config(1) FreeIPA Manual Pages
ipa-test-config(1)</p>

<p style="margin-top: 1em">NAME <br>
ipa-test-config - Generate FreeIPA test configuration for
use in Bash scripts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ipa-test-config [options] <br>
ipa-test-config [options] --global <br>
ipa-test-config [options] hostname</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The FreeIPA integration test suite is configured by setting
environment variables. The ipa-run-tests command reads these
variables and prints detailed configuration for shell- <br>
based scripts to standard output. The default output of
ipa-run-tests consists of export statements that can be
sourced by Bash.</p>

<p style="margin-top: 1em">If run without arguments, it
prints out configuration specific to the local host. Another
host may be specified as an argument, or via the --master,
--replica, and --client <br>
options. With the --global option, it prints only
configuration that is not specific to any host.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help <br>
Print out the command&rsquo;s usage and exit</p>

<p style="margin-top: 1em">--global <br>
Output global configuration.</p>

<p style="margin-top: 1em">--domain <br>
Output configuration for the given domain (environment). May
be given as an index or name. By default, domain 1 is
used.</p>

<p style="margin-top: 1em">--master <br>
Output configuration for the master</p>

<p style="margin-top: 1em">--replica <br>
Output configuration for the replica with the given
number</p>

<p style="margin-top: 1em">--replica <br>
Output configuration for the client with the given
number</p>

<p style="margin-top: 1em">--role Output configuration for
the host with the given role.</p>

<p style="margin-top: 1em">--no-simple <br>
Do not output Simple Vars. These are normally included for
backwards compatibility.</p>

<p style="margin-top: 1em">--yaml Output configuration in
YAML format instead of Bash script. This requires the PyYAML
library to be installed.</p>

<p style="margin-top: 1em">--json Output configuration in
JSON format instead of Bash script.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
File-based configuration:</p>

<p style="margin-top: 1em">$IPATEST_YAML_CONFIG <br>
Specifies a file that contains configuration in YAML format,
<br>
as given by ipa-test-config --global --yaml. <br>
If given, the other environment variables are ignored. <br>
This requires the PyYAML library to be installed.</p>

<p style="margin-top: 1em">$IPATEST_JSON_CONFIG <br>
Specifies a file that contains configuration in JSON format,
<br>
as given by ipa-test-config --global --json. <br>
If given, the other environment variables are ignored.</p>

<p style="margin-top: 1em">Domain configuration: <br>
Domain is implicitly defined by _envX suffix of the
environment variables, <br>
if either AD_envX or MASTER_envX is defined.</p>

<p style="margin-top: 1em">Host configuration:</p>

<p style="margin-top: 1em">$MASTER <br>
FQDN of the first IPA server</p>

<p style="margin-top: 1em">$REPLICA <br>
FQDNs of other IPA servers (space-separated)</p>

<p style="margin-top: 1em">$CLIENT <br>
FQDNs of IPA clients (space-separated)</p>

<p style="margin-top: 1em">$MASTER_env2, $REPLICA_env2,
$CLIENT_env2, $MASTER_env3, $AD_env4,... <br>
can be used for additional domains when needed</p>

<p style="margin-top: 1em">$AD_env1, $AD_env2, $AD_env3,
$AD_env4, ... <br>
can be used to define Active Directory domains. Please note
that these <br>
domains are not treated as separate from the IPA domains, so
please use an <br>
unique environment suffix for each of your Active Directory
domains.</p>


<p style="margin-top: 1em">$TESTHOST_&lt;keyword&gt;_env&lt;e&gt;,
e.g. $TESTHOST_LEGACY_env1 <br>
Defines a host with extra role identified as lowercased
&lt;keyword&gt;, e.g. &rsquo;legacy&rsquo;.</p>


<p style="margin-top: 1em">$BEAKER&lt;role&gt;&lt;num&gt;_IP_env&lt;e&gt;,
e.g. $BEAKERREPLICA1_IP_env1 <br>
the IP address of the given host <br>
Default: resolved via gethostbyname (or DNS if $IPv6SETUP is
set)</p>

<p style="margin-top: 1em">Basic configuration:</p>

<p style="margin-top: 1em">$IPATEST_DIR <br>
Directory for test data on the remote hosts <br>
Default: /root/ipatests</p>

<p style="margin-top: 1em">$DNSFORWARD <br>
IP of a DNS forwarder <br>
Default: 8.8.8.8</p>

<p style="margin-top: 1em">$IPA_ROOT_SSH_PASSWORD <br>
root password for the remote machines <br>
Used if $IPA_ROOT_SSH_KEY is not set.</p>

<p style="margin-top: 1em">$IPA_ROOT_SSH_KEY <br>
name of a file containing the private RSA key for root on
the remote machines <br>
Default: ~/.ssh/id_rsa</p>

<p style="margin-top: 1em">Test customization:</p>

<p style="margin-top: 1em">$DOMAIN <br>
IPA domain name <br>
Default: taken from $MASTER</p>

<p style="margin-top: 1em">$NISDOMAIN <br>
NIS domain name <br>
Default: ipatest</p>

<p style="margin-top: 1em">$NTPSERVER <br>
NIS domain name <br>
Default: ipatest</p>

<p style="margin-top: 1em">$IPv6SETUP <br>
Set to TRUE for IPv6-only connectivity</p>

<p style="margin-top: 1em">$IPADEBUG <br>
Set to enable test debugging</p>

<p style="margin-top: 1em">$ADMINID <br>
Admin username <br>
Default: admin</p>

<p style="margin-top: 1em">$ADMINPW <br>
Admin user password <br>
Default: Secret123</p>

<p style="margin-top: 1em">$ADADMINID <br>
Active Directory Administrator username <br>
Default: Administrator</p>

<p style="margin-top: 1em">$ADADMINPW <br>
Active Directory Administrator password <br>
Default: Secret123</p>

<p style="margin-top: 1em">$ROOTDN <br>
Directory manager DN <br>
Default: cn=Directory Manager</p>

<p style="margin-top: 1em">$ROOTDNPWD <br>
Directory manager password <br>
Default: Secret123</p>

<p style="margin-top: 1em">EXIT STATUS <br>
0 if the command was successful</p>

<p style="margin-top: 1em">1 if an error occurred</p>

<p style="margin-top: 1em">REFERENCES <br>
A full description of the FreeIPA integration testing
framework is available at
http://www.freeipa.org/page/V3/Integration_testing</p>

<p style="margin-top: 1em">FreeIPA Aug 29 2013
ipa-test-config(1)</p>
<hr>
</body>
</html>
