<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ipa-test-config(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ipa-test-config(1)</td>
    <td class="head-vol">FreeIPA Manual Pages</td>
    <td class="head-rtitle">ipa-test-config(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ipa-test-config - Generate FreeIPA test configuration for use in Bash scripts
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
ipa-test-config [options]
<div>&#x00A0;</div>
ipa-test-config [options] --global
<div>&#x00A0;</div>
ipa-test-config [options] hostname
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The FreeIPA integration test suite is configured by setting environment
  variables. The ipa-run-tests command reads these variables and prints detailed
  configuration for shell-based scripts to standard output. The default output
  of ipa-run-tests consists of export statements that can be sourced by Bash.
<div style="height: 1.00em;">&#x00A0;</div>
If run without arguments, it prints out configuration specific to the local
  host. Another host may be specified as an argument, or via the --master,
  --replica, and --client options. With the --global option, it prints only
  configuration that is not specific to any host.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Print out the command's usage and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--global</b></dt>
  <dd class="It-tag">Output global configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--domain</b></dt>
  <dd class="It-tag">Output configuration for the given domain (environment).
      May be given as an index or name. By default, domain 1 is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--master</b></dt>
  <dd class="It-tag">Output configuration for the master</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--replica</b></dt>
  <dd class="It-tag">Output configuration for the replica with the given
    number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--replica</b></dt>
  <dd class="It-tag">Output configuration for the client with the given
    number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--role</b></dt>
  <dd class="It-tag">Output configuration for the host with the given role.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-simple</b></dt>
  <dd class="It-tag">Do not output Simple Vars. These are normally included for
      backwards compatibility.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--yaml</b></dt>
  <dd class="It-tag">Output configuration in YAML format instead of Bash script.
      This requires the PyYAML library to be installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--json</b></dt>
  <dd class="It-tag">Output configuration in JSON format instead of Bash script.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">File-based configuration:</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPATEST_YAML_CONFIG</b></dt>
  <dd class="It-tag">
    <br/>
     Specifies a file that contains configuration in YAML format,
    <br/>
     as given by <b>ipa-test-config --global --yaml</b>.
    <br/>
     If given, the other environment variables are ignored.
    <br/>
     This requires the PyYAML library to be installed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPATEST_JSON_CONFIG</b></dt>
  <dd class="It-tag">
    <br/>
     Specifies a file that contains configuration in JSON format,
    <br/>
     as given by <b>ipa-test-config --global --json</b>.
    <br/>
     If given, the other environment variables are ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Domain configuration:</dt>
  <dd class="It-tag">
    <br/>
     Domain is implicitly defined by _envX suffix of the environment variables,
    <br/>
     if either AD_envX or MASTER_envX is defined.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Host configuration:</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$MASTER</b></dt>
  <dd class="It-tag">
    <br/>
     FQDN of the first IPA server</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$REPLICA</b></dt>
  <dd class="It-tag">
    <br/>
     FQDNs of other IPA servers (space-separated)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$CLIENT</b></dt>
  <dd class="It-tag">
    <br/>
     FQDNs of IPA clients (space-separated)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$MASTER_env2</b>, <b>$REPLICA_env2</b>,
    <b>$CLIENT_env2</b>, <b>$MASTER_env3</b>, <b>$AD_env4</b>,...</dt>
  <dd class="It-tag">
    <br/>
     can be used for additional domains when needed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$AD_env1</b>, <b>$AD_env2</b>, <b>$AD_env3</b>,
    <b>$AD_env4</b>, ...</dt>
  <dd class="It-tag">
    <br/>
     can be used to define Active Directory domains. Please note that these
    <br/>
     domains are not treated as separate from the IPA domains, so please use an
    <br/>
     unique environment suffix for each of your Active Directory domains.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$TESTHOST_</b>&lt;keyword&gt;<b>_env</b>&lt;e&gt;, e.g.
    <b>$TESTHOST_LEGACY_env1</b></dt>
  <dd class="It-tag">
    <br/>
     Defines a host with extra role identified as lowercased &lt;keyword&gt;,
      e.g. 'legacy'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$BEAKER</b>&lt;role&gt;&lt;num&gt;<b>_IP_env</b>&lt;e&gt;,
    e.g. <b>$BEAKERREPLICA1_IP_env1</b></dt>
  <dd class="It-tag">
    <br/>
     the IP address of the given host
    <br/>
     Default: resolved via gethostbyname (or DNS if $IPv6SETUP is set)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Basic configuration:</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPATEST_DIR</b></dt>
  <dd class="It-tag">
    <br/>
     Directory for test data on the remote hosts
    <br/>
     Default: /root/ipatests</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$DNSFORWARD</b></dt>
  <dd class="It-tag">
    <br/>
     IP of a DNS forwarder
    <br/>
     Default: 8.8.8.8</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPA_ROOT_SSH_PASSWORD</b></dt>
  <dd class="It-tag">
    <br/>
     root password for the remote machines
    <br/>
     Used if $IPA_ROOT_SSH_KEY is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPA_ROOT_SSH_KEY</b></dt>
  <dd class="It-tag">
    <br/>
     name of a file containing the private RSA key for root on the remote
      machines
    <br/>
     Default: ~/.ssh/id_rsa
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Test customization:</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$DOMAIN</b></dt>
  <dd class="It-tag">
    <br/>
     IPA domain name
    <br/>
     Default: taken from $MASTER</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$NISDOMAIN</b></dt>
  <dd class="It-tag">
    <br/>
     NIS domain name
    <br/>
     Default: ipatest</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$NTPSERVER</b></dt>
  <dd class="It-tag">
    <br/>
     NIS domain name
    <br/>
     Default: ipatest</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPv6SETUP</b></dt>
  <dd class="It-tag">
    <br/>
     Set to TRUE for IPv6-only connectivity</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$IPADEBUG</b></dt>
  <dd class="It-tag">
    <br/>
     Set to enable test debugging
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$ADMINID</b></dt>
  <dd class="It-tag">
    <br/>
     Admin username
    <br/>
     Default: admin</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$ADMINPW</b></dt>
  <dd class="It-tag">
    <br/>
     Admin user password
    <br/>
     Default: Secret123</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$ADADMINID</b></dt>
  <dd class="It-tag">
    <br/>
     Active Directory Administrator username
    <br/>
     Default: Administrator</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$ADADMINPW</b></dt>
  <dd class="It-tag">
    <br/>
     Active Directory Administrator password
    <br/>
     Default: Secret123</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$ROOTDN</b></dt>
  <dd class="It-tag">
    <br/>
     Directory manager DN
    <br/>
     Default: cn=Directory Manager</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$ROOTDNPWD</b></dt>
  <dd class="It-tag">
    <br/>
     Directory manager password
    <br/>
     Default: Secret123
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 if the command was successful
<div style="height: 1.00em;">&#x00A0;</div>
1 if an error occurred
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
A full description of the FreeIPA integration testing framework is available at
  http://www.freeipa.org/page/V3/Integration_testing</div>
<table class="foot">
  <tr>
    <td class="foot-date">Aug 29 2013</td>
    <td class="foot-os">FreeIPA</td>
  </tr>
</table>
</body>
</html>
