<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:10:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FSVS - fast versioning tool(1) fsvs FSVS - fast
versioning tool(1)</p>

<p style="margin-top: 1em">NAME <br>
Commands and command line parameters -</p>

<p style="margin-top: 1em">fsvs is a client for subversion
repositories; it is designed for fast versioning of big
directory trees. fsvs is a client for subversion
repositories; it is designed for fast <br>
versioning of big directory trees.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
fsvs command [options] [args]</p>

<p style="margin-top: 1em">The following commands are
understood by FSVS:</p>

<p style="margin-top: 1em">Local configuration and
information: <br>
urls <br>
Define working copy base directories by their URL(s)</p>

<p style="margin-top: 1em">status <br>
Get a list of changed entries</p>

<p style="margin-top: 1em">info <br>
Display detailed information about single entries</p>

<p style="margin-top: 1em">log <br>
Fetch the log messages from the repository</p>

<p style="margin-top: 1em">diff <br>
Get differences between files (local and remote)</p>

<p style="margin-top: 1em">copyfrom-detect <br>
Ask FSVS about probably copied/moved/renamed entries; see
cp</p>

<p style="margin-top: 1em">Defining which entries to take:
<br>
ignore and rign <br>
Define ignore patterns</p>

<p style="margin-top: 1em">unversion <br>
Remove entries from versioning</p>

<p style="margin-top: 1em">add <br>
Add entries that would be ignored</p>

<p style="margin-top: 1em">cp, mv <br>
Tell FSVS that entries were copied</p>

<p style="margin-top: 1em">Commands working with the
repository: <br>
commit <br>
Send changed data to the repository</p>

<p style="margin-top: 1em">update <br>
Get updates from the repository</p>

<p style="margin-top: 1em">checkout <br>
Fetch some part of the repository, and register it as
working copy</p>

<p style="margin-top: 1em">cat <br>
Get a file from the directory</p>

<p style="margin-top: 1em">revert and uncp <br>
Undo local changes and entry markings</p>

<p style="margin-top: 1em">remote-status <br>
Ask what an update would bring</p>

<p style="margin-top: 1em">Property handling: <br>
prop-set <br>
Set user-defined properties</p>

<p style="margin-top: 1em">prop-get <br>
Ask value of user-defined properties</p>

<p style="margin-top: 1em">prop-list <br>
Get a list of user-defined properties</p>

<p style="margin-top: 1em">Additional commands used for
recovery and debugging: <br>
export <br>
Fetch some part of the repository</p>

<p style="margin-top: 1em">sync-repos <br>
Drop local information about the entries, and fetch the
current list from the repository.</p>

<p style="margin-top: 1em">Note: <br>
Multi-url-operations are relatively new; there might be
rough edges.</p>

<p style="margin-top: 1em">The return code is 0 for
success, or 2 for an error. 1 is returned if the option
Checking for changes in a script is used, and changes are
found; see also Filtering entries.</p>

<p style="margin-top: 1em">Universal options <br>
-V -- show version <br>
-V makes FSVS print the version and a copyright notice, and
exit.</p>

<p style="margin-top: 1em">-d and -D -- debugging <br>
If FSVS was compiled using --enable-debug you can enable
printing of debug messages (to STDOUT) with -d. Per default
all messages are printed; if you&rsquo;re only interested in
a <br>
subset, you can use -D start-of-function-name.</p>

<p style="margin-top: 1em">fsvs -d -D waa_ status</p>

<p style="margin-top: 1em">would call the status action,
printing all debug messages of all WAA functions -
waa__init, waa__open, etc.</p>

<p style="margin-top: 1em">For more details on the other
debugging options debug_output and debug_buffer please see
the options list.</p>

<p style="margin-top: 1em">-N, -R -- recursion <br>
The -N and -R switches in effect just decrement/increment a
counter; the behaviour is chosen depending on that. So a
command line of -N -N -N -R -R is equivalent to -3 +2 = -1,
<br>
this results in -N.</p>

<p style="margin-top: 1em">-q, -v -- verbose/quiet <br>
-v/-q set/clear verbosity flags, and so give more/less
output.</p>

<p style="margin-top: 1em">Please see the verbose option
for more details.</p>

<p style="margin-top: 1em">-C -- checksum <br>
-C chooses to use more change detection checks; please see
the change_check option for more details.</p>

<p style="margin-top: 1em">-f -- filter entries <br>
This parameter allows one to do a bit of filtering of
entries, or, for some operations, modification of the work
done on given entries.</p>

<p style="margin-top: 1em">It requires a specification at
the end, which can be any combination of any, text, new,
deleted (or removed), meta, mtime, group, mode, changed or
owner; default or def use the <br>
default value.</p>

<p style="margin-top: 1em">By giving eg. the value text,
with a status action only entries that are new or changed
are shown; with mtime,group only entries whose group or
modification time has changed are <br>
printed.</p>

<p style="margin-top: 1em">Note: <br>
Please see Change detection for some more information.</p>

<p style="margin-top: 1em">If an entry gets replaced with
an entry of a different type (eg. a directory gets replaced
by a file), that counts as deleted and new.</p>

<p style="margin-top: 1em">If you use -v, it&rsquo;s used
as a any internally.</p>

<p style="margin-top: 1em">If you use the string none, it
resets the bitmask to no entries shown; then you can built a
new mask. So owner,none,any,none,delete would show deleted
entries. If the value <br>
after all commandline parsing is none, it is reset to the
default.</p>

<p style="margin-top: 1em">-W warning=action -- set
warnings <br>
Here you can define the behaviour for certain situations
that should not normally happen, but which you might
encounter.</p>

<p style="margin-top: 1em">The general format here is
specification = action, where specification is a string
matching the start of at least one of the defined
situations, and action is one of these:</p>

<p style="margin-top: 1em">&Acirc;&middot; once to print
only a single warning,</p>

<p style="margin-top: 1em">&Acirc;&middot; always to print
a warning message every time,</p>

<p style="margin-top: 1em">&Acirc;&middot; stop to abort
the program,</p>

<p style="margin-top: 1em">&Acirc;&middot; ignore to simply
ignore this situation, or</p>

<p style="margin-top: 1em">&Acirc;&middot; count to just
count the number of occurrences.</p>

<p style="margin-top: 1em">If specification matches more
than one situation, all of them are set; eg. for meta=ignore
all of meta-mtime, meta-user etc. are ignored.</p>

<p style="margin-top: 1em">If at least a single warning
that is not ignored is encountered during the program run, a
list of warnings along with the number of messages it would
have printed with the <br>
setting always is displayed, to inform the user of possible
problems.</p>

<p style="margin-top: 1em">The following situations can be
handled with this: meta-mtime, meta-user, meta-group,
meta-umask These warnings are issued if a meta-data property
that was fetched from the <br>
repository couldn&rsquo;t be parsed. This can only happen if
some other program or a user changes properties on entries.
<br>
In this case you can use -Wmeta=always or -Wmeta=count,
until the repository is clean again.</p>

<p style="margin-top: 1em">no-urllist This warning is
issued if a info action is executed, but no URLs have been
defined yet.</p>

<p style="margin-top: 1em">charset-invalid If the function
nl_langinfo(3) couldn&rsquo;t return the name of the current
character encoding, a default of UTF-8 is used. You might
need that for a minimal system <br>
installation, eg. on recovery.</p>

<p style="margin-top: 1em">chmod-eperm, chown-eperm If you
update a working copy as normal user, and get to update a
file which has another owner but which you may modify,
you&rsquo;ll get errors because neither <br>
the user, group, nor mode can be set. <br>
This way you can make the errors non-fatal.</p>

<p style="margin-top: 1em">chmod-other, chown-other If you
get another error than EPERM in the situation above, you
might find these useful.</p>

<p style="margin-top: 1em">mixed-rev-wc If you specify some
revision number on a revert, it will complain that
mixed-revision working copies are not allowed. <br>
While you cannot enable mixed-revision working copies
(I&rsquo;m working on that) you can avoid being told every
time.</p>

<p style="margin-top: 1em">propname-reserved It is normally
not allowed to set a property with the prop-set action with
a name matching some reserved prefixes.</p>

<p style="margin-top: 1em">ignpat-wcbase This warning is
issued if an absolute ignore pattern&rsquo; does not match
the working copy base directory.ef ignpat_shell_abs
&rsquo;absolute shell patterns&quot; for <br>
See more details.</p>

<p style="margin-top: 1em">diff-status GNU diff has defined
that it returns an exit code 2 in case of an error; sadly it
returns that also for binary files, so that a simply fsvs
diff some-binary-file <br>
text-file would abort without printing the diff for the
second file. <br>
Because of this FSVS currently ignores the exit status of
diff per default, but this can be changed by setting this
option to eg. stop.</p>

<p style="margin-top: 1em">Also an environment variable
FSVS_WARNINGS is used and parsed; it is simply a
whitespace-separated list of option specifications.</p>

<p style="margin-top: 1em">-u URLname[@revision[:revision]]
-- select URLs <br>
Some commands can be reduced to a subset of defined URLs;
the update command is a example.</p>

<p style="margin-top: 1em">If you have more than a single
URL in use for your working copy, update normally updates
all entries from all URLs. By using this parameter you can
tell FSVS to update only the <br>
specified URLs.</p>

<p style="margin-top: 1em">The parameter can be used
repeatedly; the value can have multiple URLs, separated by
whitespace or one of &rsquo;,;&rsquo;.</p>

<p style="margin-top: 1em">fsvs up -u base_install,boot@32
-u gcc</p>

<p style="margin-top: 1em">This would get HEAD of
base_install and gcc, and set the target revision of the
boot URL for this command at 32.</p>

<p style="margin-top: 1em">-o [name[=value]] -- other
options <br>
This is used for setting some seldom used option, for which
default can be set in a configuration file (to be
implemented, currently only command-line).</p>

<p style="margin-top: 1em">For a list of these please see
Further options for FSVS..</p>

<p style="margin-top: 1em">Signals <br>
If you have a running FSVS, and you want to change its
verbosity, you can send the process either SIGUSR1 (to make
it more verbose) or SIGUSR2 (more quiet).</p>

<p style="margin-top: 1em">add <br>
fsvs add [-u URLNAME] PATH [PATH...]</p>

<p style="margin-top: 1em">With this command you can
explicitly define entries to be versioned, even if they have
a matching ignore pattern. They will be sent to the
repository on the next commit, just <br>
like other new entries, and will therefore be reported as
New .</p>

<p style="margin-top: 1em">The -u option can be used if
you&rsquo;re have more than one URL defined for this working
copy and want to have the entries pinned to the this
URL.</p>

<p style="margin-top: 1em">Example <br>
Say, you&rsquo;re versioning your home directory, and gave
an ignore pattern of ./.* to ignore all .* entries in your
home-directory. Now you want .bashrc, .ssh/config, and your
<br>
complete .kde3-tree saved, just like other data.</p>

<p style="margin-top: 1em">So you tell fsvs to not ignore
these entries:</p>

<p style="margin-top: 1em">fsvs add .bashrc .ssh/config
.kde3</p>

<p style="margin-top: 1em">Now the entries below .kde3
would match your earlier ./.* pattern (as a match at the
beginning is sufficient), so you have to insert a negative
ignore pattern (a take pattern):</p>

<p style="margin-top: 1em">fsvs ignore prepend t./.kde3</p>

<p style="margin-top: 1em">Now a fsvs st would show your
entries as New , and the next commit will send them to the
repository.</p>

<p style="margin-top: 1em">unversion <br>
fsvs unversion PATH [PATH...]</p>

<p style="margin-top: 1em">This command flags the given
paths locally as removed. On the next commit they will be
deleted in the repository, and the local information of them
will be removed, but not the <br>
entries themselves. So they will show up as New again, and
you get another chance at ignoring them.</p>

<p style="margin-top: 1em">Example <br>
Say, you&rsquo;re versioning your home directory, and found
that you no longer want .bash_history and .sh_history
versioned. So you do</p>

<p style="margin-top: 1em">fsvs unversion .bash_history
.sh_history</p>

<p style="margin-top: 1em">and these files will be reported
as d (will be deleted, but only in the repository).</p>

<p style="margin-top: 1em">Then you do a</p>

<p style="margin-top: 1em">fsvs commit</p>

<p style="margin-top: 1em">Now fsvs would report these
files as New , as it does no longer know anything about
them; but that can be cured by</p>

<p style="margin-top: 1em">fsvs ignore
&rsquo;./.*sh_history&rsquo;</p>

<p style="margin-top: 1em">Now these two files won&rsquo;t
be shown as New , either.</p>

<p style="margin-top: 1em">The example also shows why the
given paths are not just entered as separate ignore patterns
- they are just single cases of a (probably) much broader
pattern.</p>

<p style="margin-top: 1em">Note: <br>
If you didn&rsquo;t use some kind of escaping for the
pattern, the shell would expand it to the actual filenames,
which is (normally) not what you want.</p>

<p style="margin-top: 1em">_build_new_list <br>
This is used mainly for debugging. It traverses the
filesystem and builds a new entries file. In production it
should not be used; as neither URLs nor the revision of the
<br>
entries is known, information is lost by calling this
function!</p>

<p style="margin-top: 1em">Look at sync-repos.</p>

<p style="margin-top: 1em">delay <br>
This command delays execution until time has passed at least
to the next second after writing the data files used by FSVS
(dir and urls).</p>

<p style="margin-top: 1em">This command is for use in
scripts; where previously the delay option was used, this
can be substituted by the given command followed by the
delay command.</p>

<p style="margin-top: 1em">The advantage against the delay
option is that read-only commands can be used in the
meantime.</p>

<p style="margin-top: 1em">An example:</p>

<p style="margin-top: 1em">fsvs commit /etc/X11 -m
&rsquo;Backup of X11&rsquo; <br>
... read-only commands, like &rsquo;status&rsquo; <br>
fsvs delay /etc/X11 <br>
... read-write commands, like &rsquo;commit&rsquo;</p>

<p style="margin-top: 1em">The optional path can point to
any path in the WC.</p>

<p style="margin-top: 1em">In the testing framework it is
used to save a bit of time; in normal operation, where FSVS
commands are not so tightly packed, it is normally
preferable to use the delay option.</p>

<p style="margin-top: 1em">cat <br>
fsvs cat [-r rev] path</p>

<p style="margin-top: 1em">Fetches a file repository, and
outputs it to STDOUT. If no revision is specified, it
defaults to BASE, ie. the current local revision number of
the entry.</p>

<p style="margin-top: 1em">checkout <br>
fsvs checkout [path] URL [URLs...]</p>

<p style="margin-top: 1em">Sets one or more URLs for the
current working directory (or the directory path), and does
an checkout of these URLs.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">fsvs checkout .
http://svn/repos/installation/machine-1/trunk</p>

<p style="margin-top: 1em">The distinction whether a
directory is given or not is done based on the result of
URL-parsing -- if it looks like an URL, it is used as an
URL. <br>
Please mind that at most a single path is allowed; as soon
as two non-URLs are found an error message is printed.</p>

<p style="margin-top: 1em">If no directory is given,
&rsquo;.&rsquo; is used; this differs from the usual
subversion usage, but might be better suited for usage as a
recovery tool (where versioning / is common). <br>
Opinions welcome.</p>

<p style="margin-top: 1em">The given path must exist, and
should be empty -- FSVS will abort on conflicts, ie. if
files that should be created already exist. <br>
If there&rsquo;s a need to create that directory, please say
so; patches for some parameter like -p are welcome.</p>

<p style="margin-top: 1em">For a format definition of the
URLs please see the chapter Format of URLs and the urls and
update commands.</p>

<p style="margin-top: 1em">Furthermore you might be
interested in Using an alternate root directory and Recovery
for a non-booting system.</p>

<p style="margin-top: 1em">commit <br>
fsvs commit [-m &rsquo;message&rsquo;|-F filename] [-v] [-C
[-C]] [PATH [PATH ...]]</p>

<p style="margin-top: 1em">Commits (parts of) the current
state of the working copy into the repository.</p>

<p style="margin-top: 1em">Example <br>
The working copy is /etc , and it is set up and committed
already. <br>
Then /etc/hosts and /etc/inittab got modified. Since these
are non-related changes, you&rsquo;d like them to be in
separate commits.</p>

<p style="margin-top: 1em">So you simply run these
commands:</p>

<p style="margin-top: 1em">fsvs commit -m &rsquo;Added some
host&rsquo; /etc/hosts <br>
fsvs commit -m &rsquo;Tweaked default runlevel&rsquo;
/etc/inittab</p>

<p style="margin-top: 1em">If the current directory is /etc
you could even drop the /etc/ in front, and use just the
filenames.</p>

<p style="margin-top: 1em">Please see status for
explanations on -v and -C . <br>
For advanced backup usage see also the commit-pipe
property&quot;.</p>

<p style="margin-top: 1em">cp <br>
fsvs cp [-r rev] SRC DEST <br>
fsvs cp dump <br>
fsvs cp load</p>

<p style="margin-top: 1em">The copy command marks DEST as a
copy of SRC at revision rev, so that on the next commit of
DEST the corresponding source path is sent as copy
source.</p>

<p style="margin-top: 1em">The default value for rev is
BASE, ie. the revision the SRC (locally) is at.</p>

<p style="margin-top: 1em">Please note that this command
works always on a directory structure - if you say to copy a
directory, the whole structure is marked as copy. That means
that if some entries <br>
below the copy are missing, they are reported as removed
from the copy on the next commit. <br>
(Of course it is possible to mark files as copied, too;
non-recursive copies are not possible, but can be emulated
by having parts of the destination tree removed.)</p>

<p style="margin-top: 1em">Note: <br>
TODO: There will be differences in the exact usage - copy
will try to run the cp command, whereas copied will just
remember the relation.</p>

<p style="margin-top: 1em">If this command are used without
parameters, the currently defined relations are printed;
please keep in mind that the key is the destination name,
ie. the 2nd line of each pair!</p>

<p style="margin-top: 1em">The input format for load is
newline-separated - first a SRC line, followed by a DEST
line, then an line with just a dot (&rsquo;.&rsquo;) as
delimiter. If you&rsquo;ve got filenames with <br>
newlines or other special characters, you have to give the
paths as arguments.</p>

<p style="margin-top: 1em">Internally the paths are stored
relative to the working copy base directory, and
they&rsquo;re printed that way, too.</p>

<p style="margin-top: 1em">Later definitions are appended
to the internal database; to undo mistakes, use the uncopy
action.</p>

<p style="margin-top: 1em">Note: <br>
Important: User-defined properties like fsvs:commit-pipe are
not copied to the destinations, because of space/time issues
(traversing through entire subtrees, copying a lot <br>
of property-files) and because it&rsquo;s not sure that this
is really wanted. TODO: option for copying properties?</p>

<p style="margin-top: 1em">As subversion currently treats a
rename as copy+delete, the mv command is an alias to cp.</p>

<p style="margin-top: 1em">If you have a need to give the
filenames dump or load as first parameter for copyfrom
relations, give some path, too, as in
&rsquo;./dump&rsquo;.</p>

<p style="margin-top: 1em">Note: <br>
The source is internally stored as URL with revision number,
so that operations like these</p>

<p style="margin-top: 1em">$ fsvs cp a b <br>
$ rm a/1 <br>
$ fsvs ci a <br>
$ fsvs ci b</p>

<p style="margin-top: 1em">work - FSVS sends the old (too
recent!) revision number as source, and so the local
filelist stays consistent with the repository. <br>
But it is not implemented (yet) to give an URL as copyfrom
source directly - we&rsquo;d have to fetch a list of entries
(and possibly the data!) from the repository.</p>

<p style="margin-top: 1em">copyfrom-detect <br>
fsvs copyfrom-detect [paths...]</p>

<p style="margin-top: 1em">This command tells FSVS to look
through the new entries, and see whether it can find some
that seem to be copied from others already known. <br>
It will output a list with source and destination path and
why it could match.</p>

<p style="margin-top: 1em">This is just for information
purposes and doesn&rsquo;t change any FSVS state, (TODO:
unless some option/parameter is set).</p>

<p style="margin-top: 1em">The list format is on purpose
incompatible with the load syntax, as the best match
normally has to be taken manually.</p>

<p style="margin-top: 1em">If verbose is used, an
additional value giving the percentage of matching blocks,
and the count of possibly copied entries is printed.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ fsvs copyfrom-list -v <br>
newfile1 <br>
md5:oldfileA <br>
newfile2 <br>
md5:oldfileB <br>
md5:oldfileC <br>
md5:oldfileD <br>
newfile3 <br>
inode:oldfileI <br>
manber=82.6:oldfileF <br>
manber=74.2:oldfileG <br>
manber=53.3:oldfileH <br>
... <br>
3 copyfrom relations found.</p>

<p style="margin-top: 1em">The abbreviations are: md5 The
MD5 of the new file is identical to that of one or more
already committed files; there is no percentage.</p>

<p style="margin-top: 1em">inode The device/inode number is
identical to the given known entry; this could mean that the
old entry has been renamed or hardlinked. Note: Not all
filesystems have persistent <br>
inode numbers (eg. NFS) - so depending on your filesystems
this might not be a good indicator!</p>

<p style="margin-top: 1em">name The entry has the same name
as another entry.</p>

<p style="margin-top: 1em">manber Analysing files of
similar size shows some percentage of (variable-sized)
common blocks (ignoring the order of the blocks).</p>

<p style="margin-top: 1em">dirlist The new directory has
similar files to the old directory. <br>
The percentage is (number_of_common_entries)/(files_in_dir1
+ files_in_dir2 - number_of_common_entries).</p>

<p style="margin-top: 1em">Note: <br>
manber matching is not implemented yet.</p>

<p style="margin-top: 1em">If too many possible matches for
an entry are found, not all are printed; only an indicator
... is shown at the end.</p>

<p style="margin-top: 1em">uncp <br>
fsvs uncopy DEST [DEST ...]</p>

<p style="margin-top: 1em">The uncopy command removes a
copyfrom mark from the destination entry. This will make the
entry unknown again, and reported as New on the next
invocations.</p>

<p style="margin-top: 1em">Only the base of a copy can be
un-copied; if a directory structure was copied, and the
given entry is just implicitly copied, this command will
return an error.</p>

<p style="margin-top: 1em">This is not folded in revert,
because it&rsquo;s not clear whether revert on copied,
changed entries should restore the original copyfrom data or
remove the copy attribute; by using <br>
another command this is no longer ambiguous.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ fsvs copy SourceFile DestFile
<br>
# Whoops, was wrong! <br>
$ fsvs uncopy DestFile</p>

<p style="margin-top: 1em">diff <br>
fsvs diff [-v] [-r rev[:rev2]] [-R] PATH [PATH...]</p>

<p style="margin-top: 1em">This command gives you diffs
between local and repository files.</p>

<p style="margin-top: 1em">With -v the meta-data is
additionally printed, and changes shown.</p>

<p style="margin-top: 1em">If you don&rsquo;t give the
revision arguments, you get a diff of the base revision in
the repository (the last commit) against your current local
file. With one revision, you diff <br>
this repository version against your local file. With both
revisions given, the difference between these repository
versions is calculated.</p>

<p style="margin-top: 1em">You&rsquo;ll need the diff
program, as the files are simply passed as parameters to
it.</p>

<p style="margin-top: 1em">The default is to do
non-recursive diffs; so fsvs diff . will output the changes
in all files in the current directory and below.</p>

<p style="margin-top: 1em">The output for special files is
the diff of the internal subversion storage, which includes
the type of the special file, but no newline at the end of
the line (which diff <br>
complains about).</p>

<p style="margin-top: 1em">For entries marked as copy the
diff against the (clean) source entry is printed.</p>

<p style="margin-top: 1em">Please see also Options relating
to the &rsquo;diff&rsquo; action and Using colordiff.</p>

<p style="margin-top: 1em">export <br>
fsvs export REPOS_URL [-r rev]</p>

<p style="margin-top: 1em">If you want to export a
directory from your repository without storing any
FSVS-related data you can use this command.</p>

<p style="margin-top: 1em">This restores all meta-data -
owner, group, access mask and modification time; its primary
use is for data recovery.</p>

<p style="margin-top: 1em">The data gets written (in the
correct directory structure) below the current working
directory; if entries already exist, the export will stop,
so this should be an empty <br>
directory.</p>

<p style="margin-top: 1em">help <br>
help [command]</p>

<p style="margin-top: 1em">This command shows general or
specific help (for the given command). A similar function is
available by using -h or -? after a command.</p>

<p style="margin-top: 1em">groups <br>
fsvs groups dump|load <br>
fsvs groups [prepend|append|at=n] group-definition
[group-def ...] <br>
fsvs ignore [prepend|append|at=n] pattern [pattern ...] <br>
fsvs groups test [-v|-q] [pattern ...]</p>

<p style="margin-top: 1em">This command adds patterns to
the end of the pattern list, or, with prepend, puts them at
the beginning of the list. With at=x the patterns are
inserted at the position x , <br>
counting from 0.</p>

<p style="margin-top: 1em">The difference between groups
and ignore is that groups requires a group name, whereas the
latter just assumes the default group ignore.</p>

<p style="margin-top: 1em">For the specification please see
the related documentation .</p>

<p style="margin-top: 1em">fsvs dump prints the patterns to
STDOUT . If there are special characters like CR or LF
embedded in the pattern withoutor 0, the output will be
garbled. encoding (like</p>

<p style="margin-top: 1em">The patterns may include * and ?
as wildcards in one directory level, or ** for arbitrary
strings.</p>

<p style="margin-top: 1em">These patterns are only matched
against new (not yet known) files; entries that are already
versioned are not invalidated. <br>
If the given path matches a new directory, entries below
aren&rsquo;t found, either; but if this directory or entries
below are already versioned, the pattern doesn&rsquo;t work,
as the <br>
match is restricted to the directory.</p>

<p style="margin-top: 1em">So:</p>

<p style="margin-top: 1em">fsvs ignore ./tmp</p>

<p style="margin-top: 1em">ignores the directory tmp; but
if it has already been committed, existing entries would
have to be unmarked with fsvs unversion. Normally it&rsquo;s
better to use</p>

<p style="margin-top: 1em">fsvs ignore ./tmp/**</p>

<p style="margin-top: 1em">as that takes the directory
itself (which might be needed after restore as a mount point
anyway), but ignore all entries below. <br>
Currently this has the drawback that mtime changes will be
reported and committed; this is not the case if the whole
directory is ignored.</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">fsvs group
group:unreadable,mode:4:0 <br>
fsvs group &rsquo;group:secrets,/etc/*shadow&rsquo;</p>

<p style="margin-top: 1em">fsvs ignore /proc <br>
fsvs ignore /dev/pts <br>
fsvs ignore &rsquo;./var/log/*-*&rsquo; <br>
fsvs ignore &rsquo;./**~&rsquo; <br>
fsvs ignore &rsquo;./**/*.bak&rsquo; <br>
fsvs ignore prepend &rsquo;take,./**.txt&rsquo; <br>
fsvs ignore append &rsquo;take,./**.svg&rsquo; <br>
fsvs ignore at=1 &rsquo;./**.tmp&rsquo;</p>

<p style="margin-top: 1em">fsvs group dump <br>
fsvs group dump -v</p>

<p style="margin-top: 1em">echo &rsquo;./**.doc&rsquo; |
fsvs ignore load <br>
# Replaces the whole list</p>

<p style="margin-top: 1em">Note: <br>
Please take care that your wildcard patterns are not
expanded by the shell!</p>

<p style="margin-top: 1em">Testing patterns <br>
To see more easily what different patterns do you can use
the test subcommand. The following combinations are
available:</p>

<p style="margin-top: 1em">&Acirc;&middot; fsvs groups test
pattern Tests only the given pattern against all new entries
in your working copy, and prints the matching paths. The
pattern is not stored in the pattern <br>
list. <br>
&Acirc;&middot; fsvs groups test <br>
Uses the already defined patterns on the new entries, and
prints the group name, a tab, and the path. <br>
With -v you can see the matching pattern in the middle
column, too.</p>

<p style="margin-top: 1em">By using -q you can avoid
getting the whole list; this makes sense if you use the
group_stats option at the same time.</p>

<p style="margin-top: 1em">rign <br>
fsvs rel-ignore [prepend|append|at=n] path-spec [path-spec
...] <br>
fsvs ri [prepend|append|at=n] path-spec [path-spec ...]</p>

<p style="margin-top: 1em">If you keep the same repository
data at more than one working copy on the same machine, it
will be stored in different paths - and that makes absolute
ignore patterns <br>
infeasible. But relative ignore patterns are anchored at the
beginning of the WC root - which is a bit tiring to type if
you&rsquo;re deep in your WC hierarchy and want to ignore
some <br>
files. <br>
To make that easier you can use the rel-ignore (abbreviated
as ri) command; this converts all given path-specifications
(which may include wildcards as per the shell pattern <br>
specification above) to WC-relative values before storing
them. <br>
Example for /etc as working copy root: <br>
fsvs rel-ignore &rsquo;/etc/X11/xorg.conf.*&rsquo;</p>

<p style="margin-top: 1em">cd /etc/X11 <br>
fsvs rel-ignore &rsquo;xorg.conf.*&rsquo;</p>

<p style="margin-top: 1em">Both commands would store the
pattern &rsquo;./X11/xorg.conf.*&rsquo;. <br>
Note: <br>
This works only for shell patterns. <br>
For more details about ignoring files please see the ignore
command and Specification of groups and patterns.</p>

<p style="margin-top: 1em">info <br>
fsvs info [-R [-R]] [PATH...]</p>

<p style="margin-top: 1em">Use this command to show
information regarding one or more entries in your working
copy. <br>
You can use -v to obtain slightly more information. <br>
This may sometimes be helpful for locating bugs, or to
obtain the URL and revision a working copy is currently at.
<br>
Example: <br>
$ fsvs info <br>
URL: file: <br>
.... 200 . <br>
Type: directory <br>
Status: 0x0 <br>
Flags: 0x100000 <br>
Dev: 0 <br>
Inode: 24521 <br>
Mode: 040755 <br>
UID/GID: 1000/1000 <br>
MTime: Thu Aug 17 16:34:24 2006 <br>
CTime: Thu Aug 17 16:34:24 2006 <br>
Revision: 4 <br>
Size: 200</p>

<p style="margin-top: 1em">The default is to print
information about the given entry only. With a single -R
you&rsquo;ll get this data about all entries of a given
directory; with another -R you&rsquo;ll get the <br>
whole (sub-)tree.</p>

<p style="margin-top: 1em">log <br>
fsvs log [-v] [-r rev1[:rev2]] [-u name] [path]</p>

<p style="margin-top: 1em">This command views the revision
log information associated with the given path at its
topmost URL, or, if none is given, the highest priority URL.
<br>
The optional rev1 and rev2 can be used to restrict the
revisions that are shown; if no values are given, the logs
are given starting from HEAD downwards, and then a limit on
the <br>
number of revisions is applied (but see the limit option).
<br>
If you use the -v -option, you get the files changed in each
revision printed, too. <br>
There is an option controlling the output format; see the
log_output option. <br>
Optionally the name of an URL can be given after -u; then
the log of this URL, instead of the topmost one, is shown.
<br>
TODOs: <br>
&Acirc;&middot; --stop-on-copy <br>
&Acirc;&middot; Show revision for all URLs associated with a
working copy? In which order?</p>

<p style="margin-top: 1em">prop-get <br>
fsvs prop-get PROPERTY-NAME PATH...</p>

<p style="margin-top: 1em">Prints the data of the given
property to STDOUT. <br>
Note: <br>
Be careful! This command will dump the property as it is,
ie. with any special characters! If there are escape
sequences or binary data in the property, your terminal
might <br>
get messed up! <br>
If you want a safe way to look at the properties, use
prop-list with the -v parameter.</p>

<p style="margin-top: 1em">prop-set <br>
fsvs prop-set [-u URLNAME] PROPERTY-NAME VALUE PATH...</p>

<p style="margin-top: 1em">This command sets an arbitrary
property value for the given path(s). <br>
Note: <br>
Some property prefixes are reserved; currently everything
starting with svn: throws a (fatal) warning, and fsvs: is
already used, too. See Special property names. <br>
If you&rsquo;re using a multi-URL setup, and the entry
you&rsquo;d like to work on should be pinned to a specific
URL, you can use the -u parameter; this is like the add
command, see there <br>
for more details.</p>

<p style="margin-top: 1em">prop-del <br>
fsvs prop-del PROPERTY-NAME PATH...</p>

<p style="margin-top: 1em">This command removes a property
for the given path(s). <br>
See also prop-set.</p>

<p style="margin-top: 1em">prop-list <br>
fsvs prop-list [-v] PATH...</p>

<p style="margin-top: 1em">Lists the names of all
properties for the given entry. <br>
With -v, the value is printed as well; special characters
will be translated, as arbitrary binary sequences could
interfere with your terminal settings. <br>
If you need raw output, post a patch for --raw, or write a
loop with prop-get.</p>

<p style="margin-top: 1em">remote-status <br>
fsvs remote-status PATH [-r rev]</p>

<p style="margin-top: 1em">This command looks into the
repository and tells you which files would get changed on an
update - it&rsquo;s a dry-run for update . <br>
Per default it compares to HEAD, but you can choose another
revision with the -r parameter. <br>
Please see the update documentation for details regarding
multi-URL usage.</p>

<p style="margin-top: 1em">resolve <br>
fsvs resolve PATH [PATH...]</p>

<p style="margin-top: 1em">When FSVS tries to update local
files which have been changed, a conflict might occur. (For
various ways of handling these please see the conflict
option.) <br>
This command lets you mark such conflicts as resolved.</p>

<p style="margin-top: 1em">revert <br>
fsvs revert [-rRev] [-R] PATH [PATH...]</p>

<p style="margin-top: 1em">This command undoes local
modifications: <br>
&Acirc;&middot; An entry that is marked to be unversioned
gets this flag removed. <br>
&Acirc;&middot; For a already versioned entry (existing in
the repository) the local entry is replaced with its
repository version, and its status and flags are cleared.
<br>
&Acirc;&middot; An entry that is a modified copy destination
gets reverted to the copy source data. <br>
&Acirc;&middot; Manually added entries are changed back to
&rsquo;N&rsquo;ew.</p>

<p style="margin-top: 1em">Please note that implicitly
copied entries, ie. entries that are marked as copied
because some parent directory is the base of a copy, can not
be un-copied; they can only be <br>
reverted to their original (copied-from) data, or removed.
<br>
If you want to undo a copy operation, please see the uncopy
command. <br>
See also HOWTO: Understand the entries&rsquo; statii. <br>
If a directory is given on the command line all versioned
entries in this directory are reverted to the old state;
this behaviour can be modified with -R/-N, or see below.
<br>
The reverted entries are printed, along with the status they
had before the revert (because the new status is per
definition unchanged). <br>
If a revision is given, the entries&rsquo; data is taken
from this revision; furthermore, the new status of that
entry is shown. <br>
Note: <br>
Please note that mixed revision working copies are not (yet)
possible; the BASE revision is not changed, and a simple
revert without a revision arguments gives you that. <br>
By giving a revision parameter you can just choose to get
the text from a different revision.</p>

<p style="margin-top: 1em">Difference to update <br>
If something doesn&rsquo;t work as it should in the
installation you can revert entries until you are satisfied,
and directly commit the new state. <br>
In contrast, if you update to an older version, you <br>
&Acirc;&middot; cannot choose single entries (no mixed
revision working copies yet), <br>
&Acirc;&middot; and you cannot commit the old version with
changes, as the &rsquo;skipped&rsquo; (later) changes will
create conflicts in the repository.</p>

<p style="margin-top: 1em">Currently only known entries are
handled. <br>
If you need a switch (like --delete in rsync(1) ) to remove
unknown (new, not yet versioned) entries, to get the
directory in the exact state it is in the repository, please
<br>
tell the dev@ mailing list. <br>
Removed directory structures <br>
If a path is specified whose parent is missing, fsvs
complains. <br>
We plan to provide a switch (probably -p), which would
create (a sparse) tree up to this entry. <br>
Recursive behaviour <br>
When the user specifies a non-directory entry (file, device,
symlink), this entry is reverted to the old state. <br>
If the user specifies a directory entry, these definitions
should apply: command line switchresult -N this directory
only (meta-data), none this directory, and direct children
<br>
of the directory, -R this directory, and the complete tree
below. <br>
Working with copied entries <br>
If an entry is marked as copied from another entry (and not
committed!), a revert will fetch the original copyfrom
source. To undo the copy setting use the uncopy command.</p>

<p style="margin-top: 1em">status <br>
fsvs status [-C [-C]] [-v] [-f filter] [PATHs...]</p>

<p style="margin-top: 1em">This command shows the entries
that have been changed locally since the last commit. <br>
The most important output formats are: <br>
&Acirc;&middot; A status columns of four (or, with -v , six)
characters. There are either flags or a &rsquo;.&rsquo;
printed, so that it&rsquo;s easily parsed by scripts -- the
number of columns is only changed <br>
by -q, -v -- verbose/quiet. <br>
&Acirc;&middot; The size of the entry, in bytes, or
&rsquo;dir&rsquo; for a directory, or &rsquo;dev&rsquo; for
a device. <br>
&Acirc;&middot; The path and name of the entry, formatted by
the path option.</p>

<p style="margin-top: 1em">Normally only changed entries
are printed; with -v all are printed, but see the filter
option for more details. <br>
The status column can show the following flags: <br>
&Acirc;&middot; <br>
&rsquo;D&rsquo; and &rsquo;N&rsquo; are used for deleted and
new entries. <br>
&Acirc;&middot; <br>
&rsquo;d&rsquo; and &rsquo;n&rsquo; are used for entries
which are to be unversioned or added on the next commit; the
characters were chosen as little delete (only in the
repository, not removed <br>
locally) and little new (although ignored). See add and
unversion. <br>
If such an entry does not exist, it is marked with an
&rsquo;!&rsquo; in the last column -- because it has been
manually marked, and so the removal is unexpected. <br>
&Acirc;&middot; A changed type (character device to symlink,
file to directory etc.) is given as &rsquo;R&rsquo;
(replaced), ie. as removed and newly added. <br>
&Acirc;&middot; <br>
If the entry has been modified, the change is shown as
&rsquo;C&rsquo;. <br>
If the modification or status change timestamps (mtime,
ctime) are changed, but the size is still the same, the
entry is marked as possibly changed (a question mark
&rsquo;?&rsquo; in the <br>
last column) - but see change detection for details. <br>
&Acirc;&middot; A &rsquo;x&rsquo; signifies a conflict. <br>
&Acirc;&middot; <br>
The meta-data flag &rsquo;m&rsquo; shows meta-data changes
like properties, modification timestamp and/or the rights
(owner, group, mode); depending on the -v/-q command line
parameters, <br>
it may be split into &rsquo;P&rsquo; (properties),
&rsquo;t&rsquo; (time) and &rsquo;p&rsquo; (permissions).
<br>
If &rsquo;P&rsquo; is shown for the non-verbose case, it
means only property changes, ie. the entries filesystem
meta-data is unchanged. <br>
&Acirc;&middot; A &rsquo;+&rsquo; is printed for files with
a copy-from history; to see the URL of the copyfrom source,
see the verbose option.</p>

<p style="margin-top: 1em">Here&rsquo;s a table with the
characters and their positions: <br>
* Without -v With -v <br>
* .... ...... <br>
* NmC? NtpPC? <br>
* DPx! D x! <br>
* R + R + <br>
* d d <br>
* n n <br>
*</p>

<p style="margin-top: 1em">Furthermore please take a look
at the stat_color option, and for more information about
displayed data the verbose option.</p>

<p style="margin-top: 1em">sync-repos <br>
fsvs sync-repos [-r rev] [working copy base]</p>

<p style="margin-top: 1em">This command loads the file list
afresh from the repository. <br>
A following commit will send all differences and make the
repository data identical to the local. <br>
This is normally not needed; the only use cases are <br>
&Acirc;&middot; debugging and <br>
&Acirc;&middot; recovering from data loss in the $FSVS_WAA
area.</p>

<p style="margin-top: 1em">It might be of use if you want
to backup two similar machines. Then you could commit one
machine into a subdirectory of your repository, make a copy
of that directory for <br>
another machine, and sync this other directory on the other
machine. <br>
A commit then will transfer only _changed_ files; so if the
two machines share 2GB of binaries (/usr , /bin , /lib ,
...) then these 2GB are still shared in the repository, <br>
although over time they will deviate (as both committing
machines know nothing of the other path with identical
files). <br>
This kind of backup could be substituted by two or more
levels of repository paths, which get overlaid in a defined
priority. So the base directory, which all machines derive
<br>
from, will be committed from one machine, and it&rsquo;s no
longer necessary for all machines to send identical files
into the repository. <br>
The revision argument should only ever be used for
debugging; if you fetch a filelist for a revision, and then
commit against later revisions, problems are bound to occur.
<br>
Note: <br>
There&rsquo;s issue 2286 in subversion which describes
sharing identical files in the repository in unrelated
paths. By using this relaxes the storage needs; but the
network <br>
transfers would still be much larger than with the overlaid
paths.</p>

<p style="margin-top: 1em">update <br>
fsvs update [-r rev] [working copy base] <br>
fsvs update [-u url@rev ...] [working copy base]</p>

<p style="margin-top: 1em">This command does an update on
the current working copy; per default for all defined URLs,
but you can restrict that via -u. <br>
It first reads all filelist changes from the repositories,
overlays them (so that only the highest-priority entries are
used), and then fetches all necessary changes. <br>
Updating to zero <br>
If you start an update with a target revision of zero, the
entries belonging to that URL will be removed from your
working copy, and the URL deleted from your URL list. <br>
This is a convenient way to replace an URL with another.</p>

<p style="margin-top: 1em">Note: <br>
As FSVS has no full mixed revision support yet, it
doesn&rsquo;t know whether under the removed entry is a
lower-priority one with the same path, which should get
visible now. <br>
Directories get changed to the highest priority URL that has
an entry below (which might be hidden!). <br>
Because of this you&rsquo;re advised to either use that only
for completely distinct working copies, or do a sync-repos
(and possibly one or more revert calls) after the
update.</p>

<p style="margin-top: 1em">urls <br>
fsvs urls URL [URLs...] <br>
fsvs urls dump <br>
fsvs urls load</p>

<p style="margin-top: 1em">Initializes a working copy
administrative area and connects the current working
directory to REPOS_URL. All commits and updates will be done
to this directory and against the <br>
given URL. <br>
Example: <br>
fsvs urls http://svn/repos/installation/machine-1/trunk</p>

<p style="margin-top: 1em">For a format definition of the
URLs please see the chapter Format of URLs. <br>
Note: <br>
If there are already URLs defined, and you use that command
later again, please note that as of 1.0.18 the older URLs
are not overwritten as before, but that the new URLs are
<br>
appended to the given list! If you want to start afresh, use
something like <br>
true | fsvs urls load</p>

<p style="margin-top: 1em">Loading URLs <br>
You can load a list of URLs from STDIN; use the load
subcommand for that. <br>
Example: <br>
( echo
&rsquo;N:local,prio:10,http://svn/repos/install/machine-1/trunk&rsquo;
; <br>
echo
&rsquo;P:50,name:common,http://svn/repos/install/common/trunk&rsquo;
) | <br>
fsvs urls load</p>

<p style="margin-top: 1em">Empty lines are ignored. <br>
Dumping the defined URLs <br>
To see which URLs are in use for the current WC, you can use
dump. <br>
As an optional parameter you can give a format statement: p
priority n name r current revision t target revision R
readonly-flag u URL I internal number for this URL <br>
Note: <br>
That&rsquo;s not a real printf()-format; only these and a
few &nbsp;sequences are recognized. <br>
Example: <br>
fsvs urls dump &rsquo; %u %n:%p0 <br>
http://svn/repos/installation/machine-1/trunk local:10 <br>
http://svn/repos/installation/common/trunk common:50</p>

<p style="margin-top: 1em">The default format is
&rsquo;name:%n,prio:%p,target:%t,ro:%r,%u\n&rsquo;; for a
more readable version you can use -v. <br>
Loading URLs <br>
You can change the various parameters of the defined URLs
like this: <br>
# Define an URL <br>
fsvs urls name:url1,target:77,readonly:1,http://anything/...
<br>
# Change values <br>
fsvs urls name:url1,target:HEAD <br>
fsvs urls readonly:0,http://anything/... <br>
fsvs urls name:url1,prio:88,target:32</p>

<p style="margin-top: 1em">Note: <br>
FSVS as yet doesn&rsquo;t store the whole tree structures of
all URLs. So if you change the priority of an URL, and
re-mix the directory trees that way, you&rsquo;ll need a
sync-repos <br>
and some revert commands. I&rsquo;d suggest to avoid this,
until FSVS does handle that case better.</p>

<p style="margin-top: 1em">Author <br>
Generated automatically by Doxygen for fsvs from the source
code.</p>

<p style="margin-top: 1em">Version trunk:2424 11 Mar 2010
FSVS - fast versioning tool(1)</p>
<hr>
</body>
</html>
