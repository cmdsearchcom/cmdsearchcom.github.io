<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FSVS - fast versioning tool(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FSVS - fast versioning tool(1)</td>
    <td class="head-vol">fsvs</td>
    <td class="head-rtitle">FSVS - fast versioning tool(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
Commands and command line parameters -
<div class="Pp"></div>
fsvs is a client for subversion repositories; it is designed for fast versioning
  of big directory trees. fsvs is a client for subversion repositories; it is
  designed for fast versioning of big directory trees.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
fsvs command [options] [args]
<div class="Pp"></div>
The following commands are understood by FSVS:
<h1 class="Sh" title="Sh" id="Local_configuration_and_information:"><a class="selflink" href="#Local_configuration_and_information:">Local
  configuration and information:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>urls</b><b></b><b></b></dt>
  <dd class="It-tag">Define working copy base directories by their URL(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>status</b><b></b><b></b></dt>
  <dd class="It-tag">Get a list of changed entries</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>info</b><b></b><b></b></dt>
  <dd class="It-tag">Display detailed information about single entries</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>log</b><b></b><b></b></dt>
  <dd class="It-tag">Fetch the log messages from the repository</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>diff</b><b></b><b></b></dt>
  <dd class="It-tag">Get differences between files (local and remote)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>copyfrom-detect</b><b></b><b></b></dt>
  <dd class="It-tag">Ask FSVS about probably copied/moved/renamed entries; see
      <b>cp</b><b></b></dd>
</dl>
<h1 class="Sh" title="Sh" id="Defining_which_entries_to_take:"><a class="selflink" href="#Defining_which_entries_to_take:">Defining
  which entries to take:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>ignore</b><b> and
    </b><b>rign</b><b></b><b></b></dt>
  <dd class="It-tag">Define ignore patterns</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>unversion</b><b></b><b></b></dt>
  <dd class="It-tag">Remove entries from versioning</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>add</b><b></b><b></b></dt>
  <dd class="It-tag">Add entries that would be ignored</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>cp</b><b>, </b><b>mv</b><b></b><b></b></dt>
  <dd class="It-tag">Tell FSVS that entries were copied</dd>
</dl>
<h1 class="Sh" title="Sh" id="Commands_working_with_the_repository:"><a class="selflink" href="#Commands_working_with_the_repository:">Commands
  working with the repository:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>commit</b><b></b><b></b></dt>
  <dd class="It-tag">Send changed data to the repository</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>update</b><b></b><b></b></dt>
  <dd class="It-tag">Get updates from the repository</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>checkout</b><b></b><b></b></dt>
  <dd class="It-tag">Fetch some part of the repository, and register it as
      working copy</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>cat</b><b></b><b></b></dt>
  <dd class="It-tag">Get a file from the directory </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b></b>revert<b></b> and
    <b></b>uncp<b></b><b></b></dt>
  <dd class="It-tag">Undo local changes and entry markings </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b></b>remote-status<b></b><b></b></dt>
  <dd class="It-tag">Ask what an <b>update</b> would bring<b> </b></dd>
</dl>
<h1 class="Sh" title="Sh" id="Property_handling:"><a class="selflink" href="#Property_handling:">Property
  handling:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>prop-set</b><b></b><b></b></dt>
  <dd class="It-tag">Set user-defined properties</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>prop-get</b><b></b><b></b></dt>
  <dd class="It-tag">Ask value of user-defined properties</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>prop-list</b><b></b><b></b></dt>
  <dd class="It-tag">Get a list of user-defined properties</dd>
</dl>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="Additional_commands_used_for_recovery_and_debugging:"><a class="selflink" href="#Additional_commands_used_for_recovery_and_debugging:">Additional
  commands used for recovery and debugging:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>export</b><b></b><b></b></dt>
  <dd class="It-tag">Fetch some part of the repository</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>sync-repos</b><b></b><b></b></dt>
  <dd class="It-tag">Drop local information about the entries, and fetch the
      current list from the repository.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">Multi-url-operations are relatively new; there
  might be rough edges.</div>
<div class="Pp"></div>
The <b>return code</b> is 0 for success, or 2 for an error. 1 is returned if the
  option <b>Checking for changes in a script</b> is used, and changes are found;
  see also <b>Filtering entries</b>.<b></b>
<h1 class="Sh" title="Sh" id="Universal_options"><a class="selflink" href="#Universal_options">Universal
  options</a></h1>
<h2 class="Ss" title="Ss" id="-V_--_show_version"><a class="selflink" href="#-V_--_show_version">-V
  -- show version</a></h2>
 -V makes FSVS print the version and a copyright notice, and exit.
<h2 class="Ss" title="Ss" id="-d_and_-D_--_debugging"><a class="selflink" href="#-d_and_-D_--_debugging">-d
  and -D -- debugging</a></h2>
 If FSVS was compiled using --enable-debug you can enable printing of debug
  messages (to STDOUT) with -d. Per default all messages are printed; if you're
  only interested in a subset, you can use -D <i>start-of-function-name</i>.
<div class="Pp"></div>
<pre>
      fsvs -d -D waa_ status
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 would call the <i>status</i> action, printing all debug messages of all WAA
  functions - waa__init, waa__open, etc.
<div class="Pp"></div>
 For more details on the other debugging options <b>debug_output</b> and
  <b>debug_buffer</b> please see the options list. <b></b>
<h2 class="Ss" title="Ss" id="-N,_-R_--_recursion"><a class="selflink" href="#-N,_-R_--_recursion">-N,
  -R -- recursion</a></h2>
 The -N and -R switches in effect just decrement/increment a counter; the
  behaviour is chosen depending on that. So a command line of -N -N -N -R -R is
  equivalent to -3 +2 = -1, this results in -N.
<h2 class="Ss" title="Ss" id="-q,_-v_--_verbose/quiet"><a class="selflink" href="#-q,_-v_--_verbose/quiet">-q,
  -v -- verbose/quiet</a></h2>
 -v/-q set/clear verbosity flags, and so give more/less output.
<div class="Pp"></div>
 Please see <b>the verbose option</b> for more details.<b></b><b></b><b></b>
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="-C_--_checksum"><a class="selflink" href="#-C_--_checksum">-C
  -- checksum</a></h2>
 -C chooses to use more change detection checks; please see <b>the change_check
  option</b> for more details. <b></b><b></b><b></b>
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="-f_--_filter_entries"><a class="selflink" href="#-f_--_filter_entries">-f
  -- filter entries</a></h2>
 This parameter allows one to do a bit of filtering of entries, or, for some
  operations, modification of the work done on given entries.
<div class="Pp"></div>
 It requires a specification at the end, which can be any combination of any,
  text, new, deleted (or removed), meta, mtime, group, mode, changed or owner;
  default or def use the default value.
<div class="Pp"></div>
 By giving eg. the value text, with a <b>status</b> action only entries that are
  new or changed are shown; with mtime,group only entries whose group or
  modification time has changed are printed.
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">Please see <b>Change detection</b> for some
  more information.
<div class="Pp"></div>
If an entry gets replaced with an entry of a different type (eg. a directory
  gets replaced by a file), that counts as deleted <b>and</b> new.</div>
<div class="Pp"></div>
If you use -v, it's used as a any internally.
<div class="Pp"></div>
 If you use the string none, it resets the bitmask to <b>no</b> entries shown;
  then you can built a new mask. So owner,none,any,none,delete would show
  deleted entries. If the value after all commandline parsing is none, it is
  reset to the default.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="-W_warning=action_--_set_warnings"><a class="selflink" href="#-W_warning=action_--_set_warnings">-W
  warning=action -- set warnings</a></h2>
 Here you can define the behaviour for certain situations that should not
  normally happen, but which you might encounter.
<div class="Pp"></div>
 The general format here is <i>specification</i> = <i>action</i>, where
  <i>specification</i> is a string matching the start of at least one of the
  defined situations, and <i>action</i> is one of these:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>once</i> to print only a single warning,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>always</i> to print a warning message <b>every</b>
    time,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>stop</i> to abort the program,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>ignore</i> to simply ignore this situation, or</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>count</i> to just count the number of occurrences.</dd>
</dl>
<div class="Pp"></div>
<i></i><i></i><i></i>
<div class="Pp"></div>
 If <i>specification</i> matches more than one situation, all of them are set;
  eg. for <i>meta=ignore</i> all of <i>meta-mtime</i>, <i>meta-user</i> etc. are
  ignored. <i></i><i></i><i></i>
<div class="Pp"></div>
 If at least a single warning that is <b>not</b> ignored is encountered during
  the program run, a list of warnings along with the number of messages it would
  have printed with the setting <i>always</i> is displayed, to inform the user
  of possible problems. <i></i><i></i><i></i>
<div class="Pp"></div>
 The following situations can be handled with this: <i>meta-mtime</i>,
  <i>meta-user</i>, <i>meta-group</i>, <i>meta-umask</i> These warnings are
  issued if a meta-data property that was fetched from the repository couldn't
  be parsed. This can only happen if some other program or a user changes
  properties on entries.
<div>&#x00A0;</div>
<br/>
 In this case you can use -Wmeta=always or -Wmeta=count, until the repository is
  clean again.
<div class="Pp"></div>
<i>no-urllist</i> This warning is issued if a <b>info</b> action is executed,
  but no URLs have been defined yet.
<div class="Pp"></div>
<i>charset-invalid</i> If the function nl_langinfo(3) couldn't return the name
  of the current character encoding, a default of UTF-8 is used. You might need
  that for a minimal system installation, eg. on recovery.
<div class="Pp"></div>
<i>chmod-eperm</i>, <i>chown-eperm</i> If you update a working copy as normal
  user, and get to update a file which has another owner but which you may
  modify, you'll get errors because neither the user, group, nor mode can be
  set.
<div>&#x00A0;</div>
<br/>
 This way you can make the errors non-fatal.
<div class="Pp"></div>
<i>chmod-other</i>, <i>chown-other</i> If you get another error than EPERM in
  the situation above, you might find these useful.
<div class="Pp"></div>
<i>mixed-rev-wc</i> If you specify some revision number on a <b>revert</b>, it
  will complain that mixed-revision working copies are not allowed.
<div>&#x00A0;</div>
<br/>
 While you cannot enable mixed-revision working copies (I'm working on that) you
  can avoid being told every time.
<div class="Pp"></div>
<i>propname-reserved</i> It is normally not allowed to set a property with the
  <b>prop-set</b> action with a name matching some reserved prefixes.
<div class="Pp"></div>
<br/>
 <i>ignpat-wcbase</i> This warning is issued if an <b>absolute ignore </b>
  pattern' does not match the working copy base directory. \n
<br/>
 See \ref ignpat_shell_abs 'absolute shell patterns&quot; for more details.
<div class="Pp"></div>
<i>diff-status</i> GNU diff has defined that it returns an exit code 2 in case
  of an error; sadly it returns that also for binary files, so that a simply
  fsvs diff some-binary-file text-file would abort without printing the diff for
  the second file.
<div>&#x00A0;</div>
<br/>
 Because of this FSVS currently ignores the exit status of diff per default, but
  this can be changed by setting this option to eg. <i>stop</i>.
<div class="Pp"></div>
<i></i><i></i><i></i>
<div class="Pp"></div>
 Also an environment variable FSVS_WARNINGS is used and parsed; it is simply a
  whitespace-separated list of option specifications.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="-u_URLname[@revision[:revision]]_--_select_URLs"><a class="selflink" href="#-u_URLname[@revision[:revision]]_--_select_URLs">-u
  URLname[@revision[:revision]] -- select URLs</a></h2>
 Some commands can be reduced to a subset of defined URLs; the <b>update</b>
  command is a example. <b></b><b></b><b></b>
<div class="Pp"></div>
 If you have more than a single URL in use for your working copy, update
  normally updates <b>all</b> entries from <b>all</b> URLs. By using this
  parameter you can tell FSVS to update only the specified URLs.
  <b></b><b></b><b></b>
<div class="Pp"></div>
 The parameter can be used repeatedly; the value can have multiple URLs,
  separated by whitespace or one of ',;'.
<div class="Pp"></div>
<div class="Pp"></div>
<pre>
   fsvs up -u base_install,boot@32 -u gcc
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This would get HEAD of base_install and gcc, and set the target revision of the
  boot URL <b>for this command</b> at 32.<b></b><b></b><b></b>
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="-o_[name[=value]]_--_other_options"><a class="selflink" href="#-o_[name[=value]]_--_other_options">-o
  [name[=value]] -- other options</a></h2>
 This is used for setting some seldom used option, for which default can be set
  in a configuration file (to be implemented, currently only command-line).
<div class="Pp"></div>
 For a list of these please see <b>Further options for
  FSVS.</b>.<b></b><b></b><b></b>
<div class="Pp"></div>

<h1 class="Sh" title="Sh" id="Signals"><a class="selflink" href="#Signals">Signals</a></h1>
 If you have a running FSVS, and you want to change its verbosity, you can send
  the process either SIGUSR1 (to make it more verbose) or SIGUSR2 (more quiet).
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="add"><a class="selflink" href="#add">add</a></h1>
<div class="Pp"></div>
<pre>
 fsvs add [-u URLNAME] PATH [PATH...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 With this command you can explicitly define entries to be versioned, even if
  they have a matching ignore pattern. They will be sent to the repository on
  the next commit, just like other new entries, and will therefore be reported
  as <i>New</i> .<i></i><i></i><i></i>
<div class="Pp"></div>
 The -u option can be used if you're have more than one URL defined for this
  working copy and want to have the entries pinned to the this URL.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Example"><a class="selflink" href="#Example">Example</a></h2>
 Say, you're versioning your home directory, and gave an ignore pattern of ./.*
  to ignore all .* entries in your home-directory. Now you want .bashrc,
  .ssh/config, and your complete .kde3-tree saved, just like other data.
<div class="Pp"></div>
 So you tell fsvs to not ignore these entries:
<div class="Pp"></div>
<pre>
    fsvs add .bashrc .ssh/config .kde3
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 Now the entries below .kde3 would match your earlier ./.* pattern (as a match
  at the beginning is sufficient), so you have to insert a negative ignore
  pattern (a <i>take</i> pattern):
<div class="Pp"></div>
<pre>
    fsvs ignore prepend t./.kde3
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 Now a fsvs st would show your entries as <i>New</i> , and the next commit will
  send them to the repository. <i></i><i></i><i></i>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="unversion"><a class="selflink" href="#unversion">unversion</a></h1>
<div class="Pp"></div>
<pre>
 fsvs unversion PATH [PATH...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command flags the given paths locally as removed. On the next commit they
  will be deleted in the repository, and the local information of them will be
  removed, but not the entries themselves. So they will show up as <i>New</i>
  again, and you get another chance at ignoring them. <i></i><i></i><i></i>
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Example"><a class="selflink" href="#Example">Example</a></h2>
 Say, you're versioning your home directory, and found that you no longer want
  .bash_history and .sh_history versioned. So you do
<div class="Pp"></div>
<pre>
    fsvs unversion .bash_history .sh_history
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 and these files will be reported as d (will be deleted, but only in the
  repository).
<div class="Pp"></div>
 Then you do a
<div class="Pp"></div>
<pre>
    fsvs commit
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Now fsvs would report these files as New , as it does no longer know anything
  about them; but that can be cured by
<div class="Pp"></div>
<pre>
    fsvs ignore './.*sh_history'
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 Now these two files won't be shown as <i>New</i> , either.<i></i><i></i><i></i>
<div class="Pp"></div>
 The example also shows why the given paths are not just entered as separate
  ignore patterns - they are just single cases of a (probably) much broader
  pattern.
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">If you didn't use some kind of escaping for
  the pattern, the shell would expand it to the actual filenames, which is
  (normally) not what you want.</div>
<div class="Pp"></div>
<b></b><b></b><b></b>
<h1 class="Sh" title="Sh" id="_build_new_list"><a class="selflink" href="#_build_new_list">_build_new_list</a></h1>
 This is used mainly for debugging. It traverses the filesystem and builds a new
  entries file. In production it should not be used; as neither URLs nor the
  revision of the entries is known, information is lost by calling this
  function!
<div class="Pp"></div>
 Look at <b>sync-repos</b>.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="delay"><a class="selflink" href="#delay">delay</a></h1>
 This command delays execution until time has passed at least to the next second
  after writing the data files used by FSVS ( <b>dir</b> and
  <b>urls</b>).<b></b> <b></b><b></b>
<div class="Pp"></div>
 This command is for use in scripts; where previously the <b>delay</b> option
  was used, this can be substituted by the given command followed by the delay
  command.
<div class="Pp"></div>
 The advantage against the <b>delay</b> option is that read-only commands can be
  used in the meantime. <b></b><b></b><b></b>
<div class="Pp"></div>
 An example:
<div class="Pp"></div>
<pre>
   fsvs commit /etc/X11 -m 'Backup of X11'
   ... read-only commands, like 'status'
   fsvs delay /etc/X11
   ... read-write commands, like 'commit'
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The optional path can point to any path in the WC.
<div class="Pp"></div>
 In the testing framework it is used to save a bit of time; in normal operation,
  where FSVS commands are not so tightly packed, it is normally preferable to
  use the <b>delay</b> option.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="cat"><a class="selflink" href="#cat">cat</a></h1>
<div class="Pp"></div>
<pre>
 fsvs cat [-r rev] path
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Fetches a file repository, and outputs it to STDOUT. If no revision is
  specified, it defaults to BASE, ie. the current local revision number of the
  entry.
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="checkout"><a class="selflink" href="#checkout">checkout</a></h1>
<div class="Pp"></div>
<pre>
 fsvs checkout [path] URL [URLs...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Sets one or more URLs for the current working directory (or the directory
  path), and does an <b>checkout</b> of these URLs.<b></b><b></b><b></b>
<div class="Pp"></div>
 Example:
<div class="Pp"></div>
<pre>
 fsvs checkout . http://svn/repos/installation/machine-1/trunk
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The distinction whether a directory is given or not is done based on the result
  of URL-parsing -- if it looks like an URL, it is used as an URL.
<div>&#x00A0;</div>
<br/>
 Please mind that at most a single path is allowed; as soon as two non-URLs are
  found an error message is printed.
<div class="Pp"></div>
 If no directory is given, '.' is used; this differs from the usual subversion
  usage, but might be better suited for usage as a recovery tool (where
  versioning / is common). Opinions welcome.
<div class="Pp"></div>
 The given path must exist, and <b>should</b> be empty -- FSVS will abort on
  conflicts, ie. if files that should be created already exist.
<div>&#x00A0;</div>
<br/>
 If there's a need to create that directory, please say so; patches for some
  parameter like -p are welcome.
<div class="Pp"></div>
 For a format definition of the URLs please see the chapter <b>Format of
  URLs</b> and the <b>urls</b> and <b>update</b> commands.<b></b><b></b><b></b>
<div class="Pp"></div>
 Furthermore you might be interested in <b>Using an alternate root directory</b>
  and <b>Recovery for a non-booting system</b>.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="commit"><a class="selflink" href="#commit">commit</a></h1>
<div class="Pp"></div>
<pre>
 fsvs commit [-m 'message'|-F filename] [-v] [-C [-C]] [PATH [PATH ...]]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Commits (parts of) the current state of the working copy into the repository.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Example"><a class="selflink" href="#Example">Example</a></h2>
 The working copy is /etc , and it is set up and committed already.
<div>&#x00A0;</div>
<br/>
 Then /etc/hosts and /etc/inittab got modified. Since these are non-related
  changes, you'd like them to be in separate commits.
<div class="Pp"></div>
 So you simply run these commands:
<div class="Pp"></div>
<pre>
 fsvs commit -m 'Added some host' /etc/hosts
 fsvs commit -m 'Tweaked default runlevel' /etc/inittab
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 If the current directory is /etc you could even drop the /etc/ in front, and
  use just the filenames.
<div class="Pp"></div>
 Please see <b>status</b> for explanations on -v and -C .
<div>&#x00A0;</div>
<br/>
 For advanced backup usage see also <b>the </b> commit-pipe
  property&quot;.<b></b> <b></b><b></b>
<div class="Pp"></div>

<h1 class="Sh" title="Sh" id="cp"><a class="selflink" href="#cp">cp</a></h1>
<div class="Pp"></div>
<pre>
 fsvs cp [-r rev] SRC DEST
 fsvs cp dump
 fsvs cp load
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The copy command marks DEST as a copy of SRC at revision rev, so that on the
  next commit of DEST the corresponding source path is sent as copy source.
<div class="Pp"></div>
 The default value for rev is BASE, ie. the revision the SRC (locally) is at.
<div class="Pp"></div>
 Please note that this command works <b>always</b> on a directory
  <b>structure</b> - if you say to copy a directory, the <b>whole</b> structure
  is marked as copy. That means that if some entries below the copy are missing,
  they are reported as removed from the copy on the next commit.
<div>&#x00A0;</div>
<br/>
 (Of course it is possible to mark files as copied, too; non-recursive copies
  are not possible, but can be emulated by having parts of the destination tree
  removed.) <b></b><b></b><b></b>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">TODO: There will be differences in the exact
  usage - copy will try to run the cp command, whereas copied will just remember
  the relation.</div>
<div class="Pp"></div>
If this command are used without parameters, the currently defined relations are
  printed; please keep in mind that the <b>key</b> is the destination name, ie.
  the 2nd line of each pair! <b></b><b></b><b></b>
<div class="Pp"></div>
 The input format for load is newline-separated - first a SRC line, followed by
  a DEST line, then an line with just a dot ('.') as delimiter. If you've got
  filenames with newlines or other special characters, you have to give the
  paths as arguments.
<div class="Pp"></div>
 Internally the paths are stored relative to the working copy base directory,
  and they're printed that way, too.
<div class="Pp"></div>
 Later definitions are <b>appended</b> to the internal database; to undo
  mistakes, use the <b>uncopy</b> action.<b></b><b></b><b></b>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;"><b>Important:</b> User-defined properties like
  <b>fsvs:commit-pipe</b> are <b>not</b> copied to the destinations, because of
  space/time issues (traversing through entire subtrees, copying a lot of
  property-files) and because it's not sure that this is really wanted.
  <b>TODO:</b> option for copying properties?
<div class="Pp"></div>
As subversion currently treats a rename as copy+delete, the <b>mv</b> command is
  an alias to <b>cp</b>.</div>
<div class="Pp"></div>
If you have a need to give the filenames dump or load as first parameter for
  copyfrom relations, give some path, too, as in './dump'.
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">The source is internally stored as URL with
  revision number, so that operations like these
<div class="Pp"></div>
<pre>
   $ fsvs cp a b
   $ rm a/1
   $ fsvs ci a
   $ fsvs ci b
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 work - FSVS sends the old (too recent!) revision number as source, and so the
  local filelist stays consistent with the repository.
<div>&#x00A0;</div>
<br/>
 But it is not implemented (yet) to give an URL as copyfrom source directly -
  we'd have to fetch a list of entries (and possibly the data!) from the
  repository.</div>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="copyfrom-detect"><a class="selflink" href="#copyfrom-detect">copyfrom-detect</a></h1>
<div class="Pp"></div>
<pre>
 fsvs copyfrom-detect [paths...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command tells FSVS to look through the new entries, and see whether it can
  find some that seem to be copied from others already known.
<div>&#x00A0;</div>
<br/>
 It will output a list with source and destination path and why it could match.
<div class="Pp"></div>
 This is just for information purposes and doesn't change any FSVS state, (TODO:
  unless some option/parameter is set).
<div class="Pp"></div>
 The list format is <b>on purpose</b> incompatible with the load syntax, as the
  best match normally has to be taken manually.
<div class="Pp"></div>
 If <b>verbose</b> is used, an additional value giving the percentage of
  matching blocks, and the count of possibly copied entries is printed.
  <b></b><b></b><b></b>
<div class="Pp"></div>
 Example:
<div class="Pp"></div>
<pre>
   $ fsvs copyfrom-list -v
   newfile1
     md5:oldfileA
   newfile2
     md5:oldfileB
     md5:oldfileC
     md5:oldfileD
   newfile3
     inode:oldfileI
     manber=82.6:oldfileF
     manber=74.2:oldfileG
     manber=53.3:oldfileH
     ...
   3 copyfrom relations found.
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The abbreviations are: <i>md5</i> The <b>MD5</b> of the new file is identical
  to that of one or more already committed files; there is no percentage.
<div class="Pp"></div>
<i>inode</i> The <b>device/inode</b> number is identical to the given known
  entry; this could mean that the old entry has been renamed or hardlinked.
  <b>Note:</b> Not all filesystems have persistent inode numbers (eg. NFS) - so
  depending on your filesystems this might not be a good indicator!
<div class="Pp"></div>
<i>name</i> The entry has the same name as another entry.
<div class="Pp"></div>
<i>manber</i> Analysing files of similar size shows some percentage of
  (variable-sized) <b>common blocks</b> (ignoring the order of the blocks).
<div class="Pp"></div>
<i>dirlist</i> The new directory has similar files to the old directory.
<div>&#x00A0;</div>
<br/>
 The percentage is (number_of_common_entries)/(files_in_dir1 + files_in_dir2 -
  number_of_common_entries).
<div class="Pp"></div>
<i></i><i></i><i></i>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;"><b>manber</b> matching is not implemented yet.
<div class="Pp"></div>
If too many possible matches for an entry are found, not all are printed; only
  an indicator ... is shown at the end.</div>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="uncp"><a class="selflink" href="#uncp">uncp</a></h1>
<div class="Pp"></div>
<pre>
 fsvs uncopy DEST [DEST ...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The uncopy command removes a copyfrom mark from the destination entry. This
  will make the entry unknown again, and reported as New on the next
  invocations.
<div class="Pp"></div>
 Only the base of a copy can be un-copied; if a directory structure was copied,
  and the given entry is just implicitly copied, this command will return an
  error.
<div class="Pp"></div>
 This is not folded in <b>revert</b>, because it's not clear whether revert on
  copied, changed entries should restore the original copyfrom data or remove
  the copy attribute; by using another command this is no longer ambiguous.
<div class="Pp"></div>
 Example:
<div class="Pp"></div>
<pre>
   $ fsvs copy SourceFile DestFile
   # Whoops, was wrong!
   $ fsvs uncopy DestFile
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="diff"><a class="selflink" href="#diff">diff</a></h1>
<div class="Pp"></div>
<pre>
 fsvs diff [-v] [-r rev[:rev2]] [-R] PATH [PATH...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command gives you diffs between local and repository files.
<div class="Pp"></div>
 With -v the meta-data is additionally printed, and changes shown.
<div class="Pp"></div>
 If you don't give the revision arguments, you get a diff of the base revision
  in the repository (the last commit) against your current local file. With one
  revision, you diff this repository version against your local file. With both
  revisions given, the difference between these repository versions is
  calculated.
<div class="Pp"></div>
 You'll need the diff program, as the files are simply passed as parameters to
  it.
<div class="Pp"></div>
 The default is to do non-recursive diffs; so fsvs diff . will output the
  changes in all files <b>in the current directory</b> and
  below.<b></b><b></b><b></b>
<div class="Pp"></div>
 The output for special files is the diff of the internal subversion storage,
  which includes the type of the special file, but no newline at the end of the
  line (which diff complains about).
<div class="Pp"></div>
 For entries marked as copy the diff against the (clean) source entry is
  printed.
<div class="Pp"></div>
 Please see also <b>Options relating to the 'diff' action</b> and <b>Using
  colordiff</b>. <b></b><b></b><b></b>
<div class="Pp"></div>

<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="export"><a class="selflink" href="#export">export</a></h1>
<div class="Pp"></div>
<pre>
 fsvs export REPOS_URL [-r rev]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 If you want to export a directory from your repository <b>without</b> storing
  any FSVS-related data you can use this command. <b></b><b></b><b></b>
<div class="Pp"></div>
 This restores all meta-data - owner, group, access mask and modification time;
  its primary use is for data recovery.
<div class="Pp"></div>
 The data gets written (in the correct directory structure) below the current
  working directory; if entries already exist, the export will stop, so this
  should be an empty directory.
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="help"><a class="selflink" href="#help">help</a></h1>
<div class="Pp"></div>
<pre>
 help [command]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command shows general or specific <b>help</b> (for the given command). A
  similar function is available by using -h or -? after a command.
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="groups"><a class="selflink" href="#groups">groups</a></h1>

<div class="Pp"></div>
<div class="Pp"></div>
<pre>
 fsvs groups dump|load
 fsvs groups [prepend|append|at=n] group-definition [group-def ...]
 fsvs ignore [prepend|append|at=n] pattern [pattern ...]
 fsvs groups test [-v|-q] [pattern ...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command adds patterns to the end of the pattern list, or, with prepend,
  puts them at the beginning of the list. With at=x the patterns are inserted at
  the position x , counting from 0.
<div class="Pp"></div>
 The difference between groups and ignore is that groups <b>requires</b> a group
  name, whereas the latter just assumes the default group ignore.
<div class="Pp"></div>
 For the specification please see the related <b>documentation</b>
  .<b></b><b></b> <b></b>
<div class="Pp"></div>
 fsvs dump prints the patterns to STDOUT . If there are special characters like
  CR or LF embedded in the pattern <b>without encoding</b> (like \r or \n), the
  output will be garbled.
<div class="Pp"></div>
 The patterns may include * and ? as wildcards in one directory level, or ** for
  arbitrary strings.
<div class="Pp"></div>
 These patterns are only matched against new (not yet known) files; entries that
  are already versioned are not invalidated.
<div>&#x00A0;</div>
<br/>
 If the given path matches a new directory, entries below aren't found, either;
  but if this directory or entries below are already versioned, the pattern
  doesn't work, as the match is restricted to the directory.
<div class="Pp"></div>
 So:
<div class="Pp"></div>
<pre>
     fsvs ignore ./tmp
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 ignores the directory tmp; but if it has already been committed, existing
  entries would have to be unmarked with <b>fsvs unversion</b>. Normally it's
  better to use
<div class="Pp"></div>
<pre>
     fsvs ignore ./tmp/**
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 as that takes the directory itself (which might be needed after restore as a
  mount point anyway), but ignore <b>all</b> entries below.
<div>&#x00A0;</div>
<br/>
 Currently this has the drawback that mtime changes will be reported and
  committed; this is not the case if the whole directory is ignored.
  <b></b><b></b> <b></b>
<div class="Pp"></div>
 Examples:
<div class="Pp"></div>
<pre>
     fsvs group group:unreadable,mode:4:0
     fsvs group 'group:secrets,/etc/*shadow'
<div class="Pp"></div>
     fsvs ignore /proc
     fsvs ignore /dev/pts
     fsvs ignore './var/log/*-*'
     fsvs ignore './**~'
     fsvs ignore './**/*.bak'
     fsvs ignore prepend 'take,./**.txt'
     fsvs ignore append 'take,./**.svg'
     fsvs ignore at=1 './**.tmp'
<div class="Pp"></div>
     fsvs group dump
     fsvs group dump -v
<div class="Pp"></div>
     echo './**.doc' | fsvs ignore load
     # Replaces the whole list
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">Please take care that your wildcard patterns
  are not expanded by the shell!</div>
<div class="Pp"></div>
<b></b><b></b><b></b>
<h2 class="Ss" title="Ss" id="Testing_patterns"><a class="selflink" href="#Testing_patterns">Testing
  patterns</a></h2>
 To see more easily what different patterns do you can use the test subcommand.
  The following combinations are available:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">fsvs groups test <i>pattern</i><i> Tests </i><b>only</b><i>
      the given pattern against all new entries in your working copy, and prints
      the matching paths. The pattern is not stored in the pattern
    list.</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">fsvs groups test
    <div>&#x00A0;</div>
    <br/>
     Uses the already defined patterns on the new entries, and prints the group
      name, a tab, and the path.
    <div>&#x00A0;</div>
    <br/>
     With -v you can see the matching pattern in the middle column, too.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp"></div>
 By using -q you can avoid getting the whole list; this makes sense if you use
  the <b>group_stats</b> option at the same time.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="rign"><a class="selflink" href="#rign">rign</a></h1>
<div class="Pp"></div>
<pre>
 fsvs rel-ignore [prepend|append|at=n] path-spec [path-spec ...]
 fsvs ri [prepend|append|at=n] path-spec [path-spec ...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 If you keep the same repository data at more than one working copy on the same
  machine, it will be stored in different paths - and that makes absolute ignore
  patterns infeasible. But relative ignore patterns are anchored at the
  beginning of the WC root - which is a bit tiring to type if you're deep in
  your WC hierarchy and want to ignore some files.
<div class="Pp"></div>
 To make that easier you can use the rel-ignore (abbreviated as ri) command;
  this converts all given path-specifications (which may include wildcards as
  per the shell pattern specification above) to WC-relative values before
  storing them.
<div class="Pp"></div>
 Example for /etc as working copy root:
<div class="Pp"></div>
<pre>
        fsvs rel-ignore '/etc/X11/xorg.conf.*'
 
        cd /etc/X11
        fsvs rel-ignore 'xorg.conf.*'
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<br/>
 Both commands would store the pattern './X11/xorg.conf.*'.
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">This works only for <b>shell
  patterns</b>.</div>
<div class="Pp"></div>
For more details about ignoring files please see the <b>ignore</b> command and
  <b>Specification of groups and patterns</b>.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="info"><a class="selflink" href="#info">info</a></h1>
<div class="Pp"></div>
<pre>
 fsvs info [-R [-R]] [PATH...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Use this command to show information regarding one or more entries in your
  working copy.
<div>&#x00A0;</div>
<br/>
 You can use -v to obtain slightly more information.
<div class="Pp"></div>
 This may sometimes be helpful for locating bugs, or to obtain the URL and
  revision a working copy is currently at.
<div class="Pp"></div>
 Example:
<div class="Pp"></div>
<pre>
     $ fsvs info
     URL: file:
     ....       200  .
             Type:           directory
             Status:         0x0
             Flags:          0x100000
             Dev:            0
             Inode:          24521
             Mode:           040755
             UID/GID:        1000/1000
             MTime:          Thu Aug 17 16:34:24 2006
             CTime:          Thu Aug 17 16:34:24 2006
             Revision:       4
             Size:           200
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The default is to print information about the given entry only. With a single
  -R you'll get this data about <b>all</b> entries of a given directory; with
  another -R you'll get the whole (sub-)tree.
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="log"><a class="selflink" href="#log">log</a></h1>
<div class="Pp"></div>
<pre>
 fsvs log [-v] [-r rev1[:rev2]] [-u name] [path]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command views the revision log information associated with the given
  <i>path</i> at its topmost URL, or, if none is given, the highest priority
  URL. <i></i><i></i><i></i>
<div class="Pp"></div>
 The optional <i>rev1</i> and <i>rev2</i> can be used to restrict the revisions
  that are shown; if no values are given, the logs are given starting from HEAD
  downwards, and then a limit on the number of revisions is applied (but see the
  <b>limit</b> option).<b></b><b></b><b></b>
<div class="Pp"></div>
 If you use the <b>-v</b> -option, you get the files changed in each revision
  printed, too. <b></b><b></b><b></b>
<div class="Pp"></div>
 There is an option controlling the output format; see the <b>log_output
  option</b>. <b></b><b></b><b></b>
<div class="Pp"></div>
 Optionally the name of an URL can be given after -u; then the log of this URL,
  instead of the topmost one, is shown.
<div class="Pp"></div>
 TODOs:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">--stop-on-copy</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Show revision for <b>all</b> URLs associated with a working
      copy? In which order?</dd>
</dl>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="prop-get"><a class="selflink" href="#prop-get">prop-get</a></h1>
<div class="Pp"></div>
<pre>
 fsvs prop-get PROPERTY-NAME PATH...
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Prints the data of the given property to STDOUT.
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">Be careful! This command will dump the
  property <b>as it is</b>, ie. with any special characters! If there are escape
  sequences or binary data in the property, your terminal might get messed up!
<div>&#x00A0;</div>
<br/>
 If you want a safe way to look at the properties, use prop-list with the -v
  parameter.</div>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="prop-set"><a class="selflink" href="#prop-set">prop-set</a></h1>
<div class="Pp"></div>
<pre>
 fsvs prop-set [-u URLNAME] PROPERTY-NAME VALUE PATH...
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command sets an arbitrary property value for the given path(s).
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">Some property prefixes are reserved; currently
  everything starting with svn: throws a (fatal) warning, and fsvs: is already
  used, too. See <b>Special property names</b>.</div>
<div class="Pp"></div>
If you're using a multi-URL setup, and the entry you'd like to work on should be
  pinned to a specific URL, you can use the -u parameter; this is like the
  <b>add</b> command, see there for more details. <b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="prop-del"><a class="selflink" href="#prop-del">prop-del</a></h1>
<div class="Pp"></div>
<pre>
 fsvs prop-del PROPERTY-NAME PATH...
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command removes a property for the given path(s).
<div class="Pp"></div>
 See also <b>prop-set</b>.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="prop-list"><a class="selflink" href="#prop-list">prop-list</a></h1>
<div class="Pp"></div>
<pre>
 fsvs prop-list [-v] PATH...
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Lists the names of all properties for the given entry.
<div>&#x00A0;</div>
<br/>
 With -v, the value is printed as well; special characters will be translated,
  as arbitrary binary sequences could interfere with your terminal settings.
<div class="Pp"></div>
 If you need raw output, post a patch for --raw, or write a loop with
  <b>prop-get</b>. <b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="remote-status"><a class="selflink" href="#remote-status">remote-status</a></h1>
<div class="Pp"></div>
<pre>
 fsvs remote-status PATH [-r rev]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command looks into the repository and tells you which files would get
  changed on an <b>update</b> - it's a dry-run for <b>update</b>
  .<b></b><b></b><b></b>
<div class="Pp"></div>
 Per default it compares to HEAD, but you can choose another revision with the
  -r parameter.
<div class="Pp"></div>
 Please see the <b>update</b> documentation for details regarding multi-URL
  usage. <b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="resolve"><a class="selflink" href="#resolve">resolve</a></h1>
<div class="Pp"></div>
<pre>
 fsvs resolve PATH [PATH...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 When FSVS tries to update local files which have been changed, a conflict might
  occur. (For various ways of handling these please see the <b>conflict</b>
  option.) <b></b><b></b><b></b>
<div class="Pp"></div>
 This command lets you mark such conflicts as resolved.
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="revert"><a class="selflink" href="#revert">revert</a></h1>
<div class="Pp"></div>
<pre>
 fsvs revert [-rRev] [-R] PATH [PATH...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command undoes local modifications:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">An entry that is marked to be unversioned gets this flag
      removed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">For a already versioned entry (existing in the repository)
      the local entry is replaced with its repository version, and its status
      and flags are cleared.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">An entry that is a <b>modified</b> copy destination gets
      reverted to the copy source data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Manually added entries are changed back to
      <i>'N'</i>ew.<b></b></dd>
</dl>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>
 Please note that implicitly copied entries, ie. entries that are marked as
  copied because some parent directory is the base of a copy, <b>can not</b> be
  un-copied; they can only be reverted to their original (copied-from) data, or
  removed. <b></b><b></b><b></b>
<div class="Pp"></div>
 If you want to undo a copy operation, please see the <b>uncopy</b>
  command.<b></b> <b></b><b></b>
<div class="Pp"></div>
 See also <b>HOWTO: Understand the entries' statii</b>.<b></b><b></b><b></b>
<div class="Pp"></div>
 If a directory is given on the command line <b>all versioned entries in this
  directory</b> are reverted to the old state; this behaviour can be modified
  with <b>-R/-N</b>, or see below.<b></b><b></b><b></b>
<div class="Pp"></div>
 The reverted entries are printed, along with the status they had <b>before</b>
  the revert (because the new status is per definition
  <i>unchanged</i>).<i></i><i></i><i></i>
<div class="Pp"></div>
 If a revision is given, the entries' data is taken from this revision;
  furthermore, the <b>new</b> status of that entry is
  shown.<b></b><b></b><b></b>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">Please note that mixed revision working copies
  are not (yet) possible; the <i>BASE</i> revision is not changed, and a simple
  revert without a revision arguments gives you that.
<div>&#x00A0;</div>
<br/>
 By giving a revision parameter you can just choose to get the text from a
  different revision.</div>
<div class="Pp"></div>
<h2 class="Ss" title="Ss" id="Difference_to_update"><a class="selflink" href="#Difference_to_update">Difference
  to update</a></h2>
 If something doesn't work as it should in the installation you can revert
  entries until you are satisfied, and directly <b>commit</b> the new
  state.<b></b> <b></b><b></b>
<div class="Pp"></div>
 In contrast, if you <b>update</b> to an older version, you
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">cannot choose single entries (no mixed revision working
      copies yet),</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">and you cannot commit the old version with changes, as the
      'skipped' (later) changes will create conflicts in the repository.</dd>
</dl>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Currently_only_known_entries_are_handled."><a class="selflink" href="#Currently_only_known_entries_are_handled.">Currently
  only known entries are handled.</a></h2>
 If you need a switch (like --delete in rsync(1) ) to remove unknown (new, not
  yet versioned) entries, to get the directory in the exact state it is in the
  repository, please tell the dev@ mailing list.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Removed_directory_structures"><a class="selflink" href="#Removed_directory_structures">Removed
  directory structures</a></h2>
 If a path is specified whose parent is missing, fsvs complains.
<div>&#x00A0;</div>
<br/>
 We plan to provide a switch (probably -p), which would create (a sparse) tree
  up to this entry.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Recursive_behaviour"><a class="selflink" href="#Recursive_behaviour">Recursive
  behaviour</a></h2>
 When the user specifies a non-directory entry (file, device, symlink), this
  entry is reverted to the old state.
<div class="Pp"></div>
 If the user specifies a directory entry, these definitions should apply:
  command line switchresult -N this directory only (meta-data), none this
  directory, and direct children of the directory, -R this directory, and the
  complete tree below.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Working_with_copied_entries"><a class="selflink" href="#Working_with_copied_entries">Working
  with copied entries</a></h2>
 If an entry is marked as copied from another entry (and not committed!), a
  revert will fetch the original copyfrom source. To undo the copy setting use
  the <b>uncopy</b> command.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="status"><a class="selflink" href="#status">status</a></h1>
<div class="Pp"></div>
<pre>
 fsvs status [-C [-C]] [-v] [-f filter] [PATHs...]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command shows the entries that have been changed locally since the last
  commit.
<div class="Pp"></div>
 The most important output formats are:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A status columns of four (or, with -v , six) characters.
      There are either flags or a '.' printed, so that it's easily parsed by
      scripts -- the number of columns is only changed by <b>-q, -v --
      verbose/quiet</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The size of the entry, in bytes, or 'dir' for a directory,
      or 'dev' for a device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The path and name of the entry, formatted by the
      <b>path</b> option.</dd>
</dl>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>
 Normally only changed entries are printed; with -v all are printed, but see the
  <b>filter</b> option for more details.<b></b><b></b><b></b>
<div class="Pp"></div>
 The status column can show the following flags:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"> 'D' and 'N' are used for <i>deleted</i> and <i>new</i>
      entries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"> 'd' and 'n' are used for entries which are to be
      unversioned or added on the next commit; the characters were chosen as
      <i>little delete</i> (only in the repository, not removed locally) and
      <i>little new</i> (although <b>ignored</b>). See <b>add</b> and
      <b>unversion</b>.
    <div>&#x00A0;</div>
    <br/>
     If such an entry does not exist, it is marked with an '!' in the last
      column -- because it has been manually marked, and so the removal is
      unexpected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A changed type (character device to symlink, file to
      directory etc.) is given as 'R' (replaced), ie. as removed and newly
      added.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">
    <br/>
     If the entry has been modified, the change is shown as 'C'.
    <div>&#x00A0;</div>
    <br/>
     If the modification or status change timestamps (mtime, ctime) are changed,
      but the size is still the same, the entry is marked as possibly changed (a
      question mark '?' in the last column) - but see <b>change detection</b>
      for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A 'x' signifies a conflict.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">
    <br/>
     The meta-data flag 'm' shows meta-data changes like properties,
      modification timestamp and/or the rights (owner, group, mode); depending
      on the <b>-v/-q</b> command line parameters, it may be split into 'P'
      (properties), 't' (time) and 'p' (permissions).
    <div>&#x00A0;</div>
    <br/>
     If 'P' is shown for the non-verbose case, it means <b>only</b> property
      changes, ie. the entries filesystem meta-data is unchanged.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A '+' is printed for files with a copy-from history; to see
      the URL of the copyfrom source, see the <b>verbose</b> option.</dd>
</dl>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>
 Here's a table with the characters and their positions:
<div class="Pp"></div>
<pre>
<div class="Pp"></div>
 *   Without -v    With -v
 *     ....         ......
 *     NmC?         NtpPC?
 *     DPx!         D   x!
 *     R  +         R    +
 *     d            d
 *     n            n
 * 
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Furthermore please take a look at the <b>stat_color</b> option, and for more
  information about displayed data the <b>verbose</b>
  option.<b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="sync-repos"><a class="selflink" href="#sync-repos">sync-repos</a></h1>
<div class="Pp"></div>
<pre>
 fsvs sync-repos [-r rev] [working copy base]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command loads the file list afresh from the repository.
<div>&#x00A0;</div>
<br/>
 A following commit will send all differences and make the repository data
  identical to the local.
<div class="Pp"></div>
 This is normally not needed; the only use cases are
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">debugging and</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">recovering from data loss in the <b>$FSVS_WAA</b>
    area.</dd>
</dl>
<div class="Pp"></div>
<b></b><b></b><b></b>
<div class="Pp"></div>
 It might be of use if you want to backup two similar machines. Then you could
  commit one machine into a subdirectory of your repository, make a copy of that
  directory for another machine, and sync this other directory on the other
  machine.
<div class="Pp"></div>
 A commit then will transfer only _changed_ files; so if the two machines share
  2GB of binaries (/usr , /bin , /lib , ...) then these 2GB are still shared in
  the repository, although over time they will deviate (as both committing
  machines know nothing of the other path with identical files).
<div class="Pp"></div>
 This kind of backup could be substituted by two or more levels of repository
  paths, which get <i>overlaid</i> in a defined priority. So the base directory,
  which all machines derive from, will be committed from one machine, and it's
  no longer necessary for all machines to send identical files into the
  repository. <i></i><i></i><i></i>
<div class="Pp"></div>
 The revision argument should only ever be used for debugging; if you fetch a
  filelist for a revision, and then commit against later revisions, problems are
  bound to occur.
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">There's issue 2286 in subversion which
  describes sharing identical files in the repository in unrelated paths. By
  using this relaxes the storage needs; but the network transfers would still be
  much larger than with the overlaid paths.</div>
<div class="Pp"></div>
<b></b><b></b><b></b>
<h1 class="Sh" title="Sh" id="update"><a class="selflink" href="#update">update</a></h1>
<div class="Pp"></div>
<pre>
 fsvs update [-r rev] [working copy base]
 fsvs update [-u url@rev ...] [working copy base]
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 This command does an update on the current working copy; per default for all
  defined URLs, but you can restrict that via <b>-u</b>.<b></b><b></b><b></b>
<div class="Pp"></div>
 It first reads all filelist changes from the repositories, overlays them (so
  that only the highest-priority entries are used), and then fetches all
  necessary changes.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Updating_to_zero"><a class="selflink" href="#Updating_to_zero">Updating
  to zero</a></h2>
 If you start an update with a target revision of zero, the entries belonging to
  that URL will be removed from your working copy, and the URL deleted from your
  URL list.
<div>&#x00A0;</div>
<br/>
 This is a convenient way to replace an URL with another.
<div>&#x00A0;</div>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">As FSVS has no full mixed revision support
  yet, it doesn't know whether under the removed entry is a lower-priority one
  with the same path, which should get visible now.
<div>&#x00A0;</div>
<br/>
 Directories get changed to the highest priority URL that has an entry below
  (which might be hidden!).</div>
<div class="Pp"></div>
Because of this you're advised to either use that only for completely distinct
  working copies, or do a <b>sync-repos</b> (and possibly one or more
  <b>revert</b> calls) after the update. <b></b><b></b><b></b>
<div class="Pp"></div>
<h1 class="Sh" title="Sh" id="urls"><a class="selflink" href="#urls">urls</a></h1>
<div class="Pp"></div>
<pre>
 fsvs urls URL [URLs...]
 fsvs urls dump
 fsvs urls load
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Initializes a working copy administrative area and connects the current working
  directory to REPOS_URL. All commits and updates will be done to this directory
  and against the given URL.
<div class="Pp"></div>
 Example:
<div class="Pp"></div>
<pre>
 fsvs urls http://svn/repos/installation/machine-1/trunk
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 For a format definition of the URLs please see the chapter <b>Format of
  URLs</b>. <b></b><b></b><b></b>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">If there are already URLs defined, and you use
  that command later again, please note that as of 1.0.18 <b>the older URLs are
  not overwritten</b> as before, but that the new URLs are <b>appended</b> to
  the given list! If you want to start afresh, use something like
<div class="Pp"></div>
<pre>
 true | fsvs urls load
<div class="Pp"></div>
</pre>
</div>
<div class="Pp"></div>
<b></b><b></b><b></b>
<h2 class="Ss" title="Ss" id="Loading_URLs"><a class="selflink" href="#Loading_URLs">Loading
  URLs</a></h2>
 You can load a list of URLs from STDIN; use the load subcommand for that.
<div class="Pp"></div>
 Example:
<div class="Pp"></div>
<pre>
 ( echo 'N:local,prio:10,http://svn/repos/install/machine-1/trunk' ;
     echo 'P:50,name:common,http://svn/repos/install/common/trunk' ) |
   fsvs urls load
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 Empty lines are ignored.
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Dumping_the_defined_URLs"><a class="selflink" href="#Dumping_the_defined_URLs">Dumping
  the defined URLs</a></h2>
 To see which URLs are in use for the current WC, you can use dump.
<div class="Pp"></div>
 As an optional parameter you can give a format statement: p priority n name r
  current revision t target revision R readonly-flag u URL I internal number for
  this URL
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">That's not a real printf()-format; only these
  and a few \ sequences are recognized.</div>
<div class="Pp"></div>
Example:
<div class="Pp"></div>
<pre>
 fsvs urls dump '  %u %n:%p\n'
   http://svn/repos/installation/machine-1/trunk local:10
   http://svn/repos/installation/common/trunk common:50
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
 The default format is 'name:%n,prio:%p,target:%t,ro:%r,%u\\n'; for a more
  readable version you can use <b>-v</b>.<b></b><b></b><b></b>
<div class="Pp"></div>

<h2 class="Ss" title="Ss" id="Loading_URLs"><a class="selflink" href="#Loading_URLs">Loading
  URLs</a></h2>
 You can change the various parameters of the defined URLs like this:
<div class="Pp"></div>
<pre>
 # Define an URL
 fsvs urls name:url1,target:77,readonly:1,http://anything/...
 # Change values
 fsvs urls name:url1,target:HEAD
 fsvs urls readonly:0,http://anything/...
 fsvs urls name:url1,prio:88,target:32
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
<div class="Pp"></div>
<div class="Pp"></div>
<b>Note:</b>
<div style="margin-left: 4.00ex;">FSVS as yet doesn't store the whole tree
  structures of all URLs. So if you change the priority of an URL, and re-mix
  the directory trees that way, you'll need a <b>sync-repos</b> and some
  <b>revert</b> commands. I'd suggest to avoid this, until FSVS does handle that
  case better.</div>
<div class="Pp"></div>
<b></b><b></b><b></b>
<h1 class="Sh" title="Sh" id="Author"><a class="selflink" href="#Author">Author</a></h1>
Generated automatically by Doxygen for fsvs from the source code.</div>
<table class="foot">
  <tr>
    <td class="foot-date">11 Mar 2010</td>
    <td class="foot-os">Version trunk:2424</td>
  </tr>
</table>
</body>
</html>
