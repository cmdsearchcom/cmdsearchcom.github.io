<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>d.legend.vect(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">d.legend.vect(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">d.legend.vect(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>d.legend.vect</b> - Displays a vector legend in the active graphics
  frame.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
display, cartography, vector, legend
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>d.legend.vect</b>
<div>&#x00A0;</div>
<b>d.legend.vect --help</b>
<div>&#x00A0;</div>
<b>d.legend.vect</b> [-<b>b</b>] [<b>at</b>=<i>left,top</i>]
  [<b>columns</b>=<i>integer</i>] [ <b>title</b>=<i>string</i>]
  [<b>symbol_size</b>= <i>integer</i>] [<b>border_color</b>=<i>name</i>]
  [<b>bgcolor</b>= <i>name</i>] [<b>border_width</b>=<i>integer</i>]
  [<b>font</b>= <i>string</i>] [<b>fontsize</b>=<i>float</i>]
  [<b>title_font</b>= <i>string</i>] [<b>title_fontsize</b>=<i>float</i>]
  [<b>sub_font</b>= <i>string</i>] [<b>sub_fontsize</b>=<i>float</i>]
  [<b>fontcolor</b>= <i>name</i>] [<b>separator</b>=<i>character</i>]
  [<b>input</b>= <i>name</i>] [<b>output</b>=<i>name</i>] [--<b>overwrite</b>]
  [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Display legend background</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>at</b>=<i>left,top</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Screen position of legend to be drawn (percentage, [0,0] is lower left)
    <div>&#x00A0;</div>
    Options: <i>0-100</i>
    <div>&#x00A0;</div>
    Default: <i>10,40</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>columns</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Number of legend columns
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>title</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Legend title</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>symbol_size</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Symbol size
    <div>&#x00A0;</div>
    Default: <i>20</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>border_color</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Border color
    <div>&#x00A0;</div>
    Either a standard color name, R:G:B triplet, or &quot;none&quot;
    <div>&#x00A0;</div>
    Default: <i>black</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>bgcolor</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Background color
    <div>&#x00A0;</div>
    Either a standard color name, R:G:B triplet, or &quot;none&quot;
    <div>&#x00A0;</div>
    Default: <i>white</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>border_width</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Background border width
    <div>&#x00A0;</div>
    Default: <i>2</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>font</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Font name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fontsize</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Font size
    <div>&#x00A0;</div>
    Default: 12
    <div>&#x00A0;</div>
    Options: <i>1-360</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>title_font</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Title font name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>title_fontsize</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Title font size
    <div>&#x00A0;</div>
    Default: 18
    <div>&#x00A0;</div>
    Options: <i>1-360</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sub_font</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Subtitle font name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sub_fontsize</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Subtitle font size
    <div>&#x00A0;</div>
    Default: 14
    <div>&#x00A0;</div>
    Options: <i>1-360</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fontcolor</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Font color
    <div>&#x00A0;</div>
    Either a standard color name or R:G:B triplet
    <div>&#x00A0;</div>
    Default: <i>black</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b>=<i>character</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Field separator for input file
    <div>&#x00A0;</div>
    Special characters: pipe, comma, space, tab, newline
    <div>&#x00A0;</div>
    Default: <i>pipe</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input legend file
    <div>&#x00A0;</div>
    Path to legend file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output csv file
    <div>&#x00A0;</div>
    Path to output file or &#x2019;-&#x2019; for standard output</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Module <i>d.legend.vect</i> draws vector legend of currently displayed vector
  maps.
<div class="Pp"></div>
Parameter <b>at</b> defines the screen position of upper-left legend corner.
  Parameter <b>columns</b> defines the number of legend columns. User can
  specify a title of the legend using parameter <b>title</b>. The font of the
  title can be changed with <b>title_font</b>, <b>title_fontsize</b>. Flag
  <b>-b</b> is used to draw background of specified color ( <b>bgcolor</b>),
  border color and border width ( <b>border_color</b> and <b>border_width</b>).
  Parameter <b>symbol_size</b> defines the size of line and area symbols. The
  size of point symbols is based on currently set symbology of vector maps using
  <i>d.vect</i> or <i>d.vect.thematic</i>.
<div class="Pp"></div>
Module <i>d.vect.legend</i> supports subtitles (see section Notes). Their font
  and font size can be set using parameters <b>sub_font</b> and
  <b>sub_fontsize</b>.
<h2 class="Ss" title="Ss" id="Changing_legend_symbols_and_labels"><a class="selflink" href="#Changing_legend_symbols_and_labels">Changing
  legend symbols and labels</a></h2>
Symbols for vector areas and lines, and labels for individual vector labels can
  be changed in the symbology setting of each vector map in <i>d.vect</i> or
  <i>d.vect.thematic</i> module (in Legend tab). Use its parameters
  <b>icon_area</b> and <b>icon_line</b> to pick from available symbols. By using
  parameter <b>legend_label</b> of <i>d.vect</i> module, users can change the
  default label, which is the map name.
<h2 class="Ss" title="Ss" id="Modifying_the_order_of_legend_entries_and_omitting_certain_vector_maps"><a class="selflink" href="#Modifying_the_order_of_legend_entries_and_omitting_certain_vector_maps">Modifying
  the order of legend entries and omitting certain vector maps</a></h2>
from legend Modules <i>d.vect</i> and <i>d.vect.thematic</i> have a flag
  <b>-s</b> which removes the particular vector or thematic vector from vector
  legend.
<div class="Pp"></div>
The order of entries is defined by the order in Layer Manager (if used in GRASS
  GIS GUI). If that&#x2019;s not desired, one can export the legend file into a
  text file using parameter <b>output</b>, change the order of entries (see
  section Notes for format description) and then upload the modified file with
  parameter <b>input</b>. Parameter <b>output</b> defines path to the file where
  the internal legend file will be saved to, <b>input</b> defines the input file
  which the vector legend will be based on (input file must have correct
  format).
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Module <i>d.legend.vect</i> draws vector legend based on legend file defined in
  shell environment variable GRASS_LEGEND_FILE. This file is automatically
  created and updated whenever <i>d.vect</i> command is used. User can create
  custom legend file and then use <i>export GRASS_LEGEND_FILE=path/to/file</i>
  in shell. GRASS GUI and MONITORS create the legend file automatically. By
  default the legend file is stored in grassdata/location/mapset/.tmp/user
  directory (in case of d.mon deeper in /monitor_name directory).
<div>&#x00A0;</div>
<div class="Pp"></div>
Legend file has this format:
<div>&#x00A0;</div>
<pre>
label|symbol_name|size|color_type|feature_color|fill_color|line_width|geometry_type|feature_count
</pre>
Color type can be &#x2019;lf&#x2019; or &#x2019;ps&#x2019;. Based on color type
  color columns are interpreted as line color and fill colors (lf), or primary
  and secondary colors (ps). Module d.vect always uses &#x2019;lf&#x2019; and
  d.vect.thematic &#x2019;ps&#x2019;. Here is an example of legend file with
  subtitles:
<div>&#x00A0;</div>
<pre>
Infrastructure||||||||
major roads|legend/line|5|lf|black|200:200:200|2|line|355
bridges|extra/bridge|15|lf|black|black|1|point|10938
Hydrology||||||||
streams|legend/line_crooked|5|lf|30:144:255|200:200:200|3|line|8554
water bodies|legend/area_curved|5|lf|none|30:144:255|1|area|27764
</pre>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Open cairo monitor to render to file:
<div>&#x00A0;</div>
<pre>
g.region vector=nc_state
d.mon cairo
d.vect map=nc_state color=26:26:26 fill_color=229:229:229 width=2 legend_label=&quot;state boundaries&quot;
d.vect map=urbanarea color=none fill_color=127:127:127 width=1 legend_label=&quot;urban areas&quot;
d.vect map=railroads color=red width=1
d.vect map=hospitals color=77:77:77 fill_color=0:187:0 width=1 icon=basic/cross3 size=10
d.legend.vect -b at=2,40 title=&quot;Hospitals in North Carolina&quot; symbol_size=26 fontsize=16 title_fontsize=20
</pre>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>d.vect,</i> <i>d.vect.thematic,</i> <i>d.legend</i> <i></i>
<div class="Pp"></div>
Check also Python module from AddOns: <i>d.vect.thematic2</i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Adam Laza, during GSoC 2016 Mentors: Anna Petrasova, Vaclav Petras, Martin Landa
<div class="Pp"></div>
<i>Last changed: $Date: 2016-10-16 05:22:49 +0200 (Sun, 16 Oct 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: d.legend.vect source code (history)
<div class="Pp"></div>
Main index | Display index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
