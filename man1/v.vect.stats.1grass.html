<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.vect.stats(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.vect.stats(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.vect.stats(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.vect.stats</b> - Count points in areas, calculate statistics from
  point attributes.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, attribute table, database, univariate statistics, zonal statistics
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.vect.stats</b>
<div>&#x00A0;</div>
<b>v.vect.stats --help</b>
<div>&#x00A0;</div>
<b>v.vect.stats</b> [-<b>p</b>] <b>points</b>=<i>name</i>
  <b>areas</b>=<i>name</i> [ <b>type</b>=<i>string</i>[,<i>string</i>,...]]
  [<b>points_layer</b>= <i>string</i>] [<b>areas_layer</b>=<i>string</i>]
  [<b>method</b>= <i>string</i>] [<b>points_column</b>=<i>name</i>]
  [<b>count_column</b>= <i>string</i>] [<b>stats_column</b>=<i>string</i>]
  [<b>separator</b>= <i>character</i>] [--<b>help</b>] [--<b>verbose</b>]
  [--<b>quiet</b>] [-- <b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print output to stdout, do not update attribute table
    <div>&#x00A0;</div>
    First column is always area category</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>points</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input vector map
    <div>&#x00A0;</div>
    Name of existing vector map with points</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>areas</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input vector map
    <div>&#x00A0;</div>
    Name of existing vector map with areas</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b>=<i>string[,</i><i>string</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Feature type
    <div>&#x00A0;</div>
    Input feature type
    <div>&#x00A0;</div>
    Options: <i>point, centroid</i>
    <div>&#x00A0;</div>
    Default: <i>point</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>points_layer</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer number for points map
    <div>&#x00A0;</div>
    Vector features can have category values in different layers. This number
      determines which layer to use. When used with direct OGR access this is
      the layer name.
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>areas_layer</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer number for area map
    <div>&#x00A0;</div>
    Vector features can have category values in different layers. This number
      determines which layer to use. When used with direct OGR access this is
      the layer name.
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>method</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Method for aggregate statistics
    <div>&#x00A0;</div>
    Options: <i>sum, average, median, mode, minimum, min_cat, maximum, max_cat,
      range, stddev, variance, diversity</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>points_column</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Column name of points map to use for statistics
    <div>&#x00A0;</div>
    Column of points map must be numeric</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>count_column</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Column name to upload points count
    <div>&#x00A0;</div>
    Column to hold points count, must be of type integer, will be created if not
      existing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stats_column</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Column name to upload statistics
    <div>&#x00A0;</div>
    Column to hold statistics, must be of type double, will be created if not
      existing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b>=<i>character</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Field separator
    <div>&#x00A0;</div>
    Special characters: pipe, comma, space, tab, newline
    <div>&#x00A0;</div>
    Default: <i>pipe</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.vect.stats</i> counts the number of points in vector map <i>points</i>
  falling into each area in vector map <i>areas</i>. Optionally statistics on
  point attributes in <i>points</i> are calculated for each area. The results
  are either uploaded to the attribute table of the vector map <i>areas</i> or
  printed to stdout.
<div class="Pp"></div>
<i>Statistical Methods:</i> Using numeric attribute values of all points falling
  into a given area, a new value is detmined with the selected method.
  <i>v.vect.stats</i> can perform the following operations:
<dl class="Bl-tag">
  <dt class="It-tag"><b>sum</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The sum of values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>average</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The average value of all point attributes (sum / count).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>median</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The value found half-way through a list of the attribute values, when these
      are ranged in numerical order.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mode</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The most frequently occurring value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>minimum</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The minimum observed value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>min_cat</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The point category corresponding to the minimum observed value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maximum</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The maximum observed value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>max_cat</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The point category corresponding to the maximum observed value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>range</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The range of the observed values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stddev</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The statistical standard deviation of the attribute values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>variance</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The statistical variance of the attribute values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>diversity</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The number of different attribute values.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Points not falling into any area are ignored. Areas without category (no
  centroid attached or centroid without category) are ignored. If no points are
  falling into a given area, the point count is set to 0 (zero) and the
  statistics result to &quot;null&quot;.
<div class="Pp"></div>
The columns <i>count_column</i> and <i>stats_column</i> are created if not
  existing. If they do already exist, the <i>count_column</i> must be of type
  integer and the <i>stats_column</i> of type double precision.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Preparation_for_examples"><a class="selflink" href="#Preparation_for_examples">Preparation
  for examples</a></h2>
The subsequent examples are based on randomly sampled elevation data (North
  Carolina sample database):
<div>&#x00A0;</div>
<pre>
# work on map copy for attribute editing
g.copy vector=zipcodes_wake,myzipcodes_wake
# set computational region: extent of ZIP code map, raster pixels
# aligned to raster map
g.region vector=myzipcodes_wake align=elev_state_500m -p
#  generate random elevation points
r.random elev_state_500m vector=rand5000 n=5000
v.colors rand5000 color=elevation
# visualization
d.mon wx0
d.vect myzipcodes_wake -c
d.vect rand5000
</pre>
These vector maps are used for the examples below.
<h2 class="Ss" title="Ss" id="Count_points_per_polygon_with_printed_output"><a class="selflink" href="#Count_points_per_polygon_with_printed_output">Count
  points per polygon with printed output</a></h2>
<i>See above for the creation of the input maps.</i>
<div class="Pp"></div>
Counting points per polygon, print results to terminal:
<div>&#x00A0;</div>
<pre>
v.vect.stats points=rand5000 area=myzipcodes_wake -p
</pre>
<h2 class="Ss" title="Ss" id="Count_points_per_polygon_with_column_update"><a class="selflink" href="#Count_points_per_polygon_with_column_update">Count
  points per polygon with column update</a></h2>
<i>See above for the creation of the input maps.</i>
<div class="Pp"></div>
Counting of points per polygon, with update of &quot;num_points&quot; column
  (will be automatically created):
<div>&#x00A0;</div>
<pre>
v.vect.stats points=rand5000 area=myzipcodes_wake count_column=num_points
# verify result
v.db.select myzipcodes_wake column=ZIPCODE_,ZIPNAME,num_points
</pre>
<h2 class="Ss" title="Ss" id="Average_values_of_points_in_polygon_with_printed_output"><a class="selflink" href="#Average_values_of_points_in_polygon_with_printed_output">Average
  values of points in polygon with printed output</a></h2>
<i>See above for the creation of the input maps.</i>
<div class="Pp"></div>
Calculation of average point elevation per ZIP code polygon, printed to terminal
  in comma separated style:
<div>&#x00A0;</div>
<pre>
# check name of point map column:
v.info -c rand5000
v.vect.stats points=rand5000 area=myzipcodes_wake \
  method=average points_column=value separator=comma -p
</pre>
<h2 class="Ss" title="Ss" id="Average_values_of_points_in_polygon_with_column_update"><a class="selflink" href="#Average_values_of_points_in_polygon_with_column_update">Average
  values of points in polygon with column update</a></h2>
<i>See above for the creation of the input maps.</i>
<div class="Pp"></div>
Calculation of average point elevation per ZIP code polygon, with update of
  &quot;avg_elev&quot; column and counting of points per polygon, with update of
  &quot;num_points&quot; column (new columns will be automatically created):
<div>&#x00A0;</div>
<pre>
# check name of point map column:
v.info -c rand5000
v.vect.stats points=rand5000 area=myzipcodes_wake count_column=num_points \
  method=average points_column=value stats_column=avg_elev
# verify result
v.db.select myzipcodes_wake column=ZIPCODE_,ZIPNAME,avg_elev
</pre>
<h2 class="Ss" title="Ss" id="Point_statistics_in_a_hexagonal_grid"><a class="selflink" href="#Point_statistics_in_a_hexagonal_grid">Point
  statistics in a hexagonal grid</a></h2>
The grid extent and size is influenced by the current computational region. The
  extent is based on the vector map <i>points_of_interest</i> from the basic
  North Carolina sample dataset.
<div>&#x00A0;</div>
<pre>
g.region vector=points_of_interest res=2000 -pa
</pre>
The hexagonal grid is created using the <i>v.mkgrid</i> module as a vector map
  based on the previously selected extent and size of the grid.
<div>&#x00A0;</div>
<pre>
v.mkgrid map=hexagons -h
</pre>
The <i>v.vect.stats</i> module counts the number of points and does one
  statistics on a selected column (here: <i>elev_m</i>).
<div>&#x00A0;</div>
<pre>
v.vect.stats points=points_of_interest areas=hexagons method=average \
  points_column=elev_m count_column=count stats_column=average
</pre>
User should note that some of the points may be outside the grid since the
  hexagons cannot cover all the area around the edges (the computational region
  extent needs to be enlarged if all points should be considered). The last
  command sets the vector map color table to viridis based on the count column.
<div>&#x00A0;</div>
<pre>
v.colors map=hexagons use=attr column=average color=viridis
</pre>
<div>&#x00A0;</div>
Point statistics in a hexagonal grid (count of points, average of values
  associated with point, standard deviation)
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>v.distance,</i> <i>r.distance,</i> <i>v.rast.stats,</i>
  <i>v.what.vect,</i> <i>v.mkgrid</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Markus Metz
<div class="Pp"></div>
<i>Last changed: $Date: 2016-08-23 04:07:22 +0200 (Tue, 23 Aug 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.vect.stats source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
