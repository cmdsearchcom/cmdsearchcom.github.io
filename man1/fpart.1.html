<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FPART(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FPART(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">FPART(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">fpart</b> &#x2014; <span class="Nd" title="Nd">Sort and
  pack files into partitions.</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">fpart</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-h</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-V</b></span>]
      <b class="Fl" title="Fl">-n</b> <var class="Ar" title="Ar">num</var> |
      <b class="Fl" title="Fl">-f</b> <var class="Ar" title="Ar">files</var> |
      <b class="Fl" title="Fl">-s</b> <var class="Ar" title="Ar">size</var>
      [<span class="Op"><b class="Fl" title="Fl">-i</b>
      <var class="Ar" title="Ar">infile</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-a</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-o</b>
      <var class="Ar" title="Ar">outfile</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-e</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-v</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-l</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-b</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-y</b>
      <var class="Ar" title="Ar">pattern</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-Y</b>
      <var class="Ar" title="Ar">pattern</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-x</b>
      <var class="Ar" title="Ar">pattern</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-X</b>
      <var class="Ar" title="Ar">pattern</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-z</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-Z</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-d</b>
      <var class="Ar" title="Ar">depth</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-D</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-L</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-w</b>
      <var class="Ar" title="Ar">cmd</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-W</b>
      <var class="Ar" title="Ar">cmd</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>
      <var class="Ar" title="Ar">num</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-q</b>
      <var class="Ar" title="Ar">num</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-r</b>
      <var class="Ar" title="Ar">num</var></span>]
      [<span class="Op"><var class="Ar" title="Ar">FILE or
      DIR...</var></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b class="Nm" title="Nm">fpart</b> utility helps you sort file trees and
  pack them into bags (called &quot;partitions&quot;).
<h1 class="Sh" title="Sh" id="GENERAL_OPTIONS"><a class="selflink" href="#GENERAL_OPTIONS">GENERAL
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">Print help</dd>
  <dt class="It-tag"><a class="selflink" href="#V"><b class="Fl" title="Fl" id="V">-V</b></a></dt>
  <dd class="It-tag">Print version</dd>
</dl>
<h1 class="Sh" title="Sh" id="PARTITION_CONTROL"><a class="selflink" href="#PARTITION_CONTROL">PARTITION
  CONTROL</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#-n"><b class="Ic" title="Ic" id="-n">-n</b></a>
    <var class="Ar" title="Ar">num</var></dt>
  <dd class="It-tag">Create exactly <var class="Ar" title="Ar">num</var>
      partitions and try to generate partitions with the same size and number of
      files. This option cannot be used in conjunction with
      <b class="Fl" title="Fl">-f</b>, <b class="Fl" title="Fl">-s</b> or
      <b class="Fl" title="Fl">-L</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#-f"><b class="Ic" title="Ic" id="-f">-f</b></a>
    <var class="Ar" title="Ar">files</var></dt>
  <dd class="It-tag">Create partitions containing at most
      <var class="Ar" title="Ar">files</var> files. This option can be used in
      conjunction with <b class="Fl" title="Fl">-s</b> and
      <b class="Fl" title="Fl">-L</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#-s"><b class="Ic" title="Ic" id="-s">-s</b></a>
    <var class="Ar" title="Ar">size</var></dt>
  <dd class="It-tag">Create partitions with a maximum size of
      <var class="Ar" title="Ar">size</var> bytes. With this option, partition 0
      may be used to handle files that do not fit in a regular partition, given
      the provided <var class="Ar" title="Ar">size</var> limit. This option can
      be used in conjunction with <b class="Fl" title="Fl">-f</b> and
      <b class="Fl" title="Fl">-L</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="INPUT_CONTROL"><a class="selflink" href="#INPUT_CONTROL">INPUT
  CONTROL</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#-i"><b class="Ic" title="Ic" id="-i">-i</b></a>
    <var class="Ar" title="Ar">infile</var></dt>
  <dd class="It-tag">Read file list from
      <var class="Ar" title="Ar">infile</var>. If
      <var class="Ar" title="Ar">infile</var> is
      &#x201C;<code class="Li">-</code>&#x201D;, then list is read from
    stdin.</dd>
  <dt class="It-tag"><a class="selflink" href="#a"><b class="Fl" title="Fl" id="a">-a</b></a></dt>
  <dd class="It-tag">Input contains arbitrary values; just sort them (do not
      crawl filesystem). Input must follow the
      &#x201C;<code class="Li">size(blank)path</code>&#x201D; scheme. This
      option is incompatible with crawling-related options.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OUTPUT_CONTROL"><a class="selflink" href="#OUTPUT_CONTROL">OUTPUT
  CONTROL</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#-o"><b class="Ic" title="Ic" id="-o">-o</b></a>
    <var class="Ar" title="Ar">outfile</var></dt>
  <dd class="It-tag">Output partitions' contents to
      <var class="Ar" title="Ar">outfile</var> template. Multiple files will be
      generated given that template. Each
      <var class="Ar" title="Ar">outfile</var> will get partition number as a
      suffix. If <var class="Ar" title="Ar">outfile</var> is
      &#x201C;<code class="Li">-</code>&#x201D;, then partitions will be printed
      to stdout, with partition number used as a prefix (so you can grep
      partitions you are interested in, or do whatever you want).</dd>
  <dt class="It-tag"><a class="selflink" href="#e"><b class="Fl" title="Fl" id="e">-e</b></a></dt>
  <dd class="It-tag">When adding directories (see
      <a class="Sx" title="Sx" href="#DIRECTORY_HANDLING">DIRECTORY HANDLING</a>
      ), add an ending &#x201C;<code class="Li">/</code>&#x201D; to each
      directory entry.</dd>
  <dt class="It-tag"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a></dt>
  <dd class="It-tag">Verbose mode (may be specified more than once).</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILESYSTEM_CRAWLING_CONTROL"><a class="selflink" href="#FILESYSTEM_CRAWLING_CONTROL">FILESYSTEM
  CRAWLING CONTROL</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#l"><b class="Fl" title="Fl" id="l">-l</b></a></dt>
  <dd class="It-tag">Follow symbolic links (default: do not follow).</dd>
  <dt class="It-tag"><a class="selflink" href="#b"><b class="Fl" title="Fl" id="b">-b</b></a></dt>
  <dd class="It-tag">Do not cross filesystem boundaries (default: cross).</dd>
  <dt class="It-tag"><a class="selflink" href="#-y"><b class="Ic" title="Ic" id="-y">-y</b></a>
    <var class="Ar" title="Ar">pattern</var></dt>
  <dd class="It-tag">Include files or directories matching
      <var class="Ar" title="Ar">pattern</var> only (and discard all other
      files). This option may be specified several times. It does not apply when
      computing size of directories to be added as leaf entries (the computed
      size will then include every file within directory).</dd>
  <dt class="It-tag"><a class="selflink" href="#-Y"><b class="Ic" title="Ic" id="-Y">-Y</b></a>
    <var class="Ar" title="Ar">pattern</var></dt>
  <dd class="It-tag">Same as <b class="Fl" title="Fl">-y</b> but case
      insensitive. This option may not be available on your platform (at least
      FreeBSD and GNU/Linux support it, Solaris does not).</dd>
  <dt class="It-tag"><a class="selflink" href="#-x"><b class="Ic" title="Ic" id="-x">-x</b></a>
    <var class="Ar" title="Ar">pattern</var></dt>
  <dd class="It-tag">Exclude files or directories matching
      <var class="Ar" title="Ar">pattern</var>. This option can be used in
      conjunction with <b class="Fl" title="Fl">-y</b> and
      <b class="Fl" title="Fl">-Y</b>. In this case, exclusion is performed
      after. This option may be specified several times. It does not apply when
      computing size of directories to be added as leaf entries (the computed
      size will then include every file within directory).</dd>
  <dt class="It-tag"><a class="selflink" href="#-X"><b class="Ic" title="Ic" id="-X">-X</b></a>
    <var class="Ar" title="Ar">pattern</var></dt>
  <dd class="It-tag">Same as <b class="Fl" title="Fl">-x</b> but case
      insensitive. This option may not be available on your platform (at least
      FreeBSD and GNU/Linux support it, Solaris does not).</dd>
</dl>
<h1 class="Sh" title="Sh" id="DIRECTORY_HANDLING"><a class="selflink" href="#DIRECTORY_HANDLING">DIRECTORY
  HANDLING</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#z"><b class="Fl" title="Fl" id="z">-z</b></a></dt>
  <dd class="It-tag">Pack empty directories. By default, fpart will pack files
      only (except when using the <b class="Fl" title="Fl">-d</b> or
      <b class="Fl" title="Fl">-D</b> options). This option can be useful for
      tools such as <a class="Xr" title="Xr">rsync(1)</a> to be able to recreate
      a full file tree when used with fpart (e.g. using rsync's --files-from
      option). See the <b class="Fl" title="Fl">-Z</b> option to also pack
      un-readable directories.</dd>
  <dt class="It-tag"><a class="selflink" href="#Z"><b class="Fl" title="Fl" id="Z">-Z</b></a></dt>
  <dd class="It-tag">Implies <b class="Fl" title="Fl">-z</b>. Treat un-readable
      directories as empty, causing them to be packed anyway.</dd>
  <dt class="It-tag"><a class="selflink" href="#-d"><b class="Ic" title="Ic" id="-d">-d</b></a>
    <var class="Ar" title="Ar">depth</var></dt>
  <dd class="It-tag">After a certain <var class="Ar" title="Ar">depth</var>,
      pack directories instead of files (directories themselves will be added to
      partitions, instead of their content).</dd>
  <dt class="It-tag"><a class="selflink" href="#D"><b class="Fl" title="Fl" id="D">-D</b></a></dt>
  <dd class="It-tag">Implies <b class="Fl" title="Fl">-z</b>. Pack leaf
      directories: if a directory contains files only, it will be packed as a
      single entry.</dd>
</dl>
<h1 class="Sh" title="Sh" id="LIVE_MODE"><a class="selflink" href="#LIVE_MODE">LIVE
  MODE</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#L"><b class="Fl" title="Fl" id="L">-L</b></a></dt>
  <dd class="It-tag">Live mode (default: disabled). When using this mode,
      partitions will be generated while crawling filesystem. This option saves
      time and memory, but does not give partition 0 a special meaning (see
      option <b class="Fl" title="Fl">-s</b> ). As a consequence, it can
      generate partitions larger than the size specified with option
      <b class="Fl" title="Fl">-s</b>. This option can be used in conjunction
      with options <b class="Fl" title="Fl">-f</b> and
      <b class="Fl" title="Fl">-s</b>, but not with option
      <b class="Fl" title="Fl">-n</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#-w"><b class="Ic" title="Ic" id="-w">-w</b></a>
    <var class="Ar" title="Ar">cmd</var></dt>
  <dd class="It-tag">When using live mode, execute
      <var class="Ar" title="Ar">cmd</var> when starting a new partition (before
      having opened next output file, if any).
      <var class="Ar" title="Ar">cmd</var> is run in a specific environment that
      provides several variables describing the state of the program:
      <code class="Ev" title="Ev">FPART_HOOKTYPE</code> (&quot;pre-part&quot; or
      &quot;post-part&quot;),
      <code class="Ev" title="Ev">FPART_PARTFILENAME</code> (current partition's
      output file name), <code class="Ev" title="Ev">FPART_PARTNUMBER</code>
      (current partition number),
      <code class="Ev" title="Ev">FPART_PARTSIZE</code> (current partition
      size), <code class="Ev" title="Ev">FPART_PARTNUMFILES</code> (number of
      files in current partition), <code class="Ev" title="Ev">FPART_PID</code>
      (PID of fpart). Note that variables may or may not be defined, depending
      of requested options and current partition's state when the hook is
      triggered. Also, note that hooks are executed in a synchronous way while
      crawling filesystem, so 1) avoid executing commands that take a long time
      to return as it slows down filesystem crawling and 2) do not presume cwd
      (PWD) is the one fpart has been started in, as it is regularly changed to
      speed up crawling (use abolute paths within hooks).</dd>
  <dt class="It-tag"><a class="selflink" href="#-W"><b class="Ic" title="Ic" id="-W">-W</b></a>
    <var class="Ar" title="Ar">cmd</var></dt>
  <dd class="It-tag">Same as <b class="Fl" title="Fl">-w</b>, but executes
      <var class="Ar" title="Ar">cmd</var> when finishing a partition (after
      having closed last output file, if any).</dd>
</dl>
<h1 class="Sh" title="Sh" id="SIZE_HANDLING"><a class="selflink" href="#SIZE_HANDLING">SIZE
  HANDLING</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#-p"><b class="Ic" title="Ic" id="-p">-p</b></a>
    <var class="Ar" title="Ar">num</var></dt>
  <dd class="It-tag">Preload each partition with
      <var class="Ar" title="Ar">num</var> bytes.</dd>
  <dt class="It-tag"><a class="selflink" href="#-q"><b class="Ic" title="Ic" id="-q">-q</b></a>
    <var class="Ar" title="Ar">num</var></dt>
  <dd class="It-tag">Overload each file size with
      <var class="Ar" title="Ar">num</var> bytes.</dd>
  <dt class="It-tag"><a class="selflink" href="#-r"><b class="Ic" title="Ic" id="-r">-r</b></a>
    <var class="Ar" title="Ar">num</var></dt>
  <dd class="It-tag">Round each file size up to next
      <var class="Ar" title="Ar">num</var> bytes multiple. This option can be
      used in conjunction with overloading, which is done *before*
    rounding.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Here are some examples:
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#fpart_-n_3_-o_var-parts_/var"><code class="Li" id="fpart_-n_3_-o_var-parts_/var">fpart
    -n 3 -o var-parts /var</code></a></dt>
  <dd class="It-tag">Produce 3 partitions, with (hopefully) the same size and
      number of files. Three files: var-parts.0, var-parts.1 and var-parts.2 are
      generated as output.</dd>
  <dt class="It-tag"><a class="selflink" href="#fpart_-s_4724464025_-o_music-parts_/path/to/music_./*.mp3"><code class="Li" id="fpart_-s_4724464025_-o_music-parts_/path/to/music_./*.mp3">fpart
    -s 4724464025 -o music-parts /path/to/music ./*.mp3</code></a></dt>
  <dd class="It-tag">Produce partitions of 4.4 GB, containing music files from
      /path/to/music as well as MP3 files from current directory; with such a
      partition size, each partition content will be ready to be burnt to a DVD.
      Files music-parts.0 to music-parts.n, are generated as output.</dd>
  <dt class="It-tag"><a class="selflink" href="#find_/usr_!_-type_d_|_fpart_-f_10000_-i_-_/home_|_grep_'^0:'"><code class="Li" id="find_/usr_!_-type_d_|_fpart_-f_10000_-i_-_/home_|_grep_'^0:'">find
    /usr ! -type d | fpart -f 10000 -i - /home | grep '^0:'</code></a></dt>
  <dd class="It-tag">Produce partitions containing 10000 files each by examining
      /usr first and then /home and display only partition 0 on stdout.</dd>
  <dt class="It-tag"><a class="selflink" href="#du_*_|_fpart_-n_2_-a"><code class="Li" id="du_*_|_fpart_-n_2_-a">du
    * | fpart -n 2 -a</code></a></dt>
  <dd class="It-tag">Produce two partitions by using
      <a class="Xr" title="Xr">du(1)</a> output. Fpart will not examine the file
      system but instead use arbitrary values printed by
      <a class="Xr" title="Xr">du(1)</a> and sort them.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">du(1)</a>, <a class="Xr" title="Xr">find(1)</a>,
  <a class="Xr" title="Xr">fpsync(1)</a>, <a class="Xr" title="Xr">grep(1)</a>,
  <a class="Xr" title="Xr">rsync(1)</a>
<h1 class="Sh" title="Sh" id="AUTHOR,_AVAILABILITY"><a class="selflink" href="#AUTHOR,_AVAILABILITY">AUTHOR,
  AVAILABILITY</a></h1>
Fpart has been written by <span class="An" title="An">Gana&#x00EB;l
  LAPLANCHE</span> and is available under the BSD license on
  <a class="Lk" title="Lk" href="http://contribs.martymac.org">http://contribs.martymac.org</a>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
No bug known (yet).</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 18, 2011</td>
    <td class="foot-os">Linux 4.12.14-300.fc26.x86_64</td>
  </tr>
</table>
</body>
</html>
