<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CLANG-MODERNIZE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CLANG-MODERNIZE(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">CLANG-MODERNIZE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
clang-modernize - manual page for clang-modernize 3.7
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
ERROR: ld.so: object 'libfakeroot-sysv.so' from LD_PRELOAD cannot be preloaded
  (cannot open shared object file): ignored. USAGE: clang-modernize [options]
  [&lt;sources&gt;...]
<div class="Pp"></div>
OPTIONS:
<div class="Pp"></div>
Formatting Options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-format</b> - Enable formatting of code changed by
    applying replacements.</dt>
  <dd class="It-tag">Use <b>-style</b> to choose formatting style.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-style=</b>&lt;string&gt; - Coding style, currently
    supports:</dt>
  <dd class="It-tag">LLVM, Google, Chromium, Mozilla, WebKit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Use <b>-style</b>=<i>file</i> to load style configuration
    from</dt>
  <dd class="It-tag">.clang-format file located in one of the parent directories
      of the source file (or current directory for stdin). Use
      <b>-style=</b>&quot;{key: value, ...}&quot; to set specific parameters,
      e.g.:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>-style=</b>&quot;{BasedOnStyle: llvm, IndentWidth:
      8}&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-style-config=</b>&lt;string&gt; - Path to a directory
    containing a .clang-format file</dt>
  <dd class="It-tag">describing a formatting style to use for formatting code
      when <b>-style</b>=<i>file</i>.</dd>
</dl>
<div class="Pp"></div>
Generic Options:
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-help</b>
  - Display available options ( <b>-help-hidden</b> for more)</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-help-list</b>
  - Display list of available options ( <b>-help-list-hidden</b> for more)</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-version</b>
  - Display the version of this program</div>
<div class="Pp"></div>
Inclusion/Exclusion Options:
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-exclude=</b>&lt;string&gt;
  - Comma-separated list of paths that can not be transformed</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-exclude-from=</b>&lt;filename&gt;
  - File containing a list of paths that can not be transformed</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-include=</b>&lt;string&gt;
  - Comma-separated list of paths to consider to be transformed</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-include-from=</b>&lt;filename&gt;
  - File containing a list of paths to consider to be transformed</div>
<div class="Pp"></div>
Modernizer Options:
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-final-syntax-check</b>
  - Check for correct syntax after applying transformations</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-for-compilers=</b>&lt;string&gt; - Select transforms
    targeting the intersection of</dt>
  <dd class="It-tag">language features supported by the given compilers. Takes a
      comma-separated list of &lt;compiler&gt;-&lt;version&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;compiler&gt; can be any of: clang, gcc, icc, msvc</dt>
  <dd class="It-tag">&lt;version&gt; is &lt;major&gt;[.&lt;minor&gt;]</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-perf=</b>&lt;directory
  name&gt; - Capture performance data and output to specified directory.
  Default: ./migrate_perf</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-risk</b>
  - Select a maximum risk level:</div>
<dl class="Bl-tag">
  <dt class="It-tag">=safe</dt>
  <dd class="It-tag">- Only safe transformations</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">=reasonable</dt>
  <dd class="It-tag">- Enable transformations that might change semantics
      (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">=risky</dt>
  <dd class="It-tag">- Enable transformations that are likely to change
      semantics</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-summary</b>
  - Print transform summary</div>
<div class="Pp"></div>
Serialization Options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-serialize-dir=</b>&lt;string&gt; - Path to an existing
    directory in which to write</dt>
  <dd class="It-tag">serialized replacements. Default behaviour is to write to a
      temporary directory.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-serialize-replacements</b>
  - Serialize translation unit replacements to disk instead of changing
  files.</div>
<div class="Pp"></div>
Transforms:
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-add-override</b>
  - Make use of override specifier where possible</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-loop-convert</b>
  - Make use of range-based for loops where possible</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-pass-by-value</b>
  - Pass parameters by value where possible</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-replace-auto_ptr</b>
  - Replace std::auto_ptr (deprecated) by std::unique_ptr (EXPERIMENTAL)</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-use-auto</b>
  - Use of 'auto' type specifier</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-use-nullptr</b>
  - Make use of nullptr keyword where possible</div>
<div class="Pp"></div>
Transforms' options:
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-override-macros</b>
  - Detect and use macros that expand to the 'override' keyword.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-user-null-macros=</b>&lt;string&gt;
  - Comma-separated list of user-defined macro names that behave like NULL</div>
<div class="Pp"></div>
<b>-p</b> &lt;build-path&gt; is used to read a compile command database.
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For example, it can be a CMake build directory in which a
      file named compile_commands.json exists (use
      <b>-DCMAKE_EXPORT_COMPILE_COMMANDS</b>= <i>ON</i> CMake option to get this
      output). When no build path is specified, a search for
      compile_commands.json will be attempted through all parent paths of the
      first input file . See:
      http://clang.llvm.org/docs/HowToSetupToolingForLLVM.html for an example of
      setting up Clang Tooling on a source tree.</dd>
</dl>
<div class="Pp"></div>
&lt;source0&gt; ... specify the paths of source files. These paths are
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">looked up in the compile command database. If the path of a
      file is absolute, it needs to point into CMake's source tree. If the path
      is relative, the current working directory needs to be in the CMake source
      tree and the file must be in a subdirectory of the current working
      directory. &quot;./&quot; prefixes in the relative files will be
      automatically removed, but the rest of a relative path must be a suffix of
      a path in the compile command database.</dd>
</dl>
<div class="Pp"></div>
EXAMPLES:
<div class="Pp"></div>
Apply all transforms on a file that doesn't require compilation arguments:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">clang-modernize file.cpp</dd>
</dl>
<div class="Pp"></div>
Convert for loops to ranged-based for loops for all files in the compilation
  database that belong in a project subtree and then reformat the code
  automatically using the LLVM style:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">clang-modernize <b>-p</b> build/path <b>-include</b>
      project/path <b>-format</b> <b>-loop-convert</b></dd>
</dl>
<div class="Pp"></div>
Make use of both nullptr and the override specifier, using git ls-files:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">git ls-files '*.cpp' | xargs <b>-I</b>{} clang-modernize
      <b>-p</b> build/path \</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-use-nullptr</b>
  <b>-add-override</b> <b>-override-macros</b> {}</div>
<div class="Pp"></div>
Apply all transforms supported by both clang &gt;= 3.0 and gcc &gt;= 4.7 to
  foo.cpp and any included headers in bar:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">clang-modernize
      <b>-for-compilers</b>=<i>clang-3</i>.0,gcc-4.7 foo.cpp \</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-include</b>
  bar <b>--</b> <b>-std</b>=<i>c</i>++11 <b>-Ibar</b></div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The full documentation for <b>clang-modernize</b> is maintained as a Texinfo
  manual. If the <b>info</b> and <b>clang-modernize</b> programs are properly
  installed at your site, the command
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>info clang-modernize</b></dd>
</dl>
<div class="Pp"></div>
should give you access to the complete manual.</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 2016</td>
    <td class="foot-os">clang-modernize 3.7</td>
  </tr>
</table>
</body>
</html>
