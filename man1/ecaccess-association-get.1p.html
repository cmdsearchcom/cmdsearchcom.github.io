<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:06:39 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ECACCESS-ASSOCIATION-GET(1p) User Contributed Perl
Documentation ECACCESS-ASSOCIATION-GET(1p)</p>

<p style="margin-top: 1em">NAME <br>
ecaccess-association-get - Get the Association Descriptive
File</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ecaccess-association-get -version|-help|-manual</p>

<p style="margin-top: 1em">ecaccess-association-get
[-debug] [-gateway name] [-template] association-name
target-file</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Get the Descriptive File for the ECtrans Association
specified by the association-name parameter. Once
downloaded, the target-file can be modified and processed
through the <br>
ecaccess-association-put command.</p>

<p style="margin-top: 1em">When using the -template option,
if the Association already exists in the ECaccess Gateway
Database, then the command return with an error. In order to
create a new Association <br>
similar to an existing one the ecaccess-association-get
command can be used to retrieve the Descriptive File of the
existing Association. The file can then be updated and
pushed <br>
to the ECaccess Gateway Database with the
ecaccess-association-put command.</p>

<p style="margin-top: 1em">An ECtrans Association
Descriptive File contains parameters for ECtrans of the
general form $name=&rsquo;value&rsquo;. Each ECtrans
Association has their own Descriptive File, and <br>
parameters in any given Descriptive File will be passed to
the ECtrans container whenever a transfer is requested to
the corresponding Association.</p>

<p style="margin-top: 1em">Blank lines and leading spaces
and tabs are ignored when they do not occur in single quoted
strings. Lines whose first non-space character is a
pound-sign (#) are comments, and <br>
are ignored. Note that comments are not allowed on the same
line as parameters and don&rsquo;t persist when the
Descriptive File is retrieved from the Gateway (they might
however be <br>
used when Descriptive Files are archived on your
system).</p>

<p style="margin-top: 1em">The parameters are the
following:</p>

<p style="margin-top: 1em">active This is a boolean which
indicate if the Association can be used by ECtrans or not
(e.g. &rsquo;yes&rsquo; or &rsquo;no&rsquo;). You might want
to deactivate an Association but still keep it in <br>
the ECaccess Gateway Database for later.</p>

<p style="margin-top: 1em">comment This is a comment about
your Association (e.g. &rsquo;Access to the archive
system&rsquo;).</p>

<p style="margin-top: 1em">grantedUserList <br>
This is the list of ECMWF user identifiers which are allowed
(other that you) to use this Association. Multiple users
should be separated by a column (e.g. <br>
&rsquo;abc,def,ghi&rsquo;).</p>

<p style="margin-top: 1em">directory <br>
This is the directory where to download/upload the files
from/to (e.g. &rsquo;/tmp/data&rsquo;).</p>

<p style="margin-top: 1em">hostName <br>
This is the name of the host to connect to (e.g.
&rsquo;hostname.example.ms&rsquo;).</p>

<p style="margin-top: 1em">login This is the login to use
to connect to the host specified in the hostName parameter
(e.g. &rsquo;anonymous&rsquo;).</p>

<p style="margin-top: 1em">protocol <br>
This is the protocol ECtrans will use to connect to the host
specified in the hostName parameter. The list of available
protocols for a Gateway can be displayed with the <br>
ecaccess-protocol-list command (e.g.
&rsquo;genericFtp&rsquo;).</p>

<p style="margin-top: 1em">data This parameter can be split
over multiple lines and contains various options for the
protocol which have been selected for the Association (these
options are passed <br>
verbatim to the Module which implement the protocol). In
order to get the list of available options for a protocol
please use the command ecaccess-association-protocol <br>
with the name of the protocol. The availabe options depends
of the version of the ECaccess Gateway which is used to host
the Association so it might be that some options <br>
are available for some Gateways and not available for
others. An unknown option will be silently ignored by
ECtrans. The format of an option is <br>
{protocol-shortname}.{option}={value} (e.g.
ftp.port=&quot;21&quot; would set the port option of the
genericFtp module to &quot;21&quot;). An example of this
parameter is given in the <br>
EXAMPLES section below.</p>

<p style="margin-top: 1em">ARGUMENTS <br>
association-name <br>
The name of the Association to retrieve the corresponding
Descriptive File.</p>

<p style="margin-top: 1em">target-file <br>
The name of the file where to download the Descriptive
File.</p>

<p style="margin-top: 1em">OPTIONS <br>
-gateway name <br>
This is the name of the ECaccess Gateway where the
Association is installed. It is by default the Gateway you
are connected to. In order to get the name of your current
<br>
Gateway you can use the ecaccess-gateway-name command. When
using the commands at ECMWF the default Gateway is always
&quot;ecaccess.ecmwf.int&quot;.</p>

<p style="margin-top: 1em">-template <br>
Allow creating a new Association Descriptive File for the
ecaccess-association-put command. If the Association already
exists then the command fails.</p>

<p style="margin-top: 1em">-version <br>
Display version number and exits.</p>

<p style="margin-top: 1em">-help Print a brief help message
and exits.</p>

<p style="margin-top: 1em">-manual Prints the manual page
and exits.</p>

<p style="margin-top: 1em">-retry count <br>
Number of SSL connection retries per 5s to ECMWF. This
parameter only apply to the initial SSL connection initiated
by the command to the ECMWF server. It does not apply <br>
to all the subsequent requests made afteward as it is mainly
targeting errors that can happen from time to time during
the SSL handshake. Default is no retry.</p>

<p style="margin-top: 1em">-debug Display the SOAP and SSL
messages exchanged.</p>

<p style="margin-top: 1em">EXAMPLES <br>
ecaccess-association-get -template test ./test</p>

<p style="margin-top: 1em">Create a new Association
Descriptive File for an Association named test and store it
in your current directory (file ./test). The file can then
be edited and updated accordingly <br>
to your requirements.</p>

<p style="margin-top: 1em">ecaccess-association-put
-password ./test</p>

<p style="margin-top: 1em">Create the Association with the
previously updated ./test Association Descriptive File.</p>

<p style="margin-top: 1em">ecaccess-association-get
-gateway ecaccess.ecmwf.int ginko ./ginko</p>

<p style="margin-top: 1em">Get the Descriptive File for the
existing ginko Association on the ecaccess.ecmwf.int
Gateway.</p>

<p style="margin-top: 1em">ecaccess-association-put
-gateway ecaccess.ecmwf.int ./ginko</p>

<p style="margin-top: 1em">Push the Association back (once
updated).</p>

<p style="margin-top: 1em">This is an example of an
Association Descriptive File:</p>


<p style="margin-top: 1em">##############################################################
<br>
# Main Parameters <br>

##############################################################
<br>
$active=&rsquo;yes&rsquo; <br>
$comment=&rsquo;Access to the archive system&rsquo; <br>
$grantedUserList=&rsquo;abc,def,jhi&rsquo; <br>
$directory=&rsquo;/tmp/data&rsquo; <br>
$hostName=&rsquo;hostname.example.ms&rsquo; <br>
$login=&rsquo;anonymous&rsquo; <br>
$protocol=&rsquo;genericFtp&rsquo;</p>


<p style="margin-top: 1em">##############################################################
<br>
# Data <br>

##############################################################
<br>
$data=&rsquo; <br>
ftp.mkdirs=&quot;yes&quot; <br>
ftp.passive=&quot;no&quot; <br>
ftp.port=&quot;21&quot; <br>
ftp.suffix=&quot;.tmp&quot; <br>
ftp.usetmp=&quot;yes&quot;&rsquo;</p>

<p style="margin-top: 1em">Please note the multiple lines
in the data parameter.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ecaccess-association-delete, ecaccess-association-list,
ecaccess-association-protocol, ecaccess-association-put and
ecaccess.</p>

<p style="margin-top: 1em">perl v5.18.1 2013-12-11
ECACCESS-ASSOCIATION-GET(1p)</p>
<hr>
</body>
</html>
