<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SPKAC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SPKAC(1)</td>
    <td class="head-vol">OpenSSL</td>
    <td class="head-rtitle">SPKAC(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
spkac - SPKAC printing and generating utility
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>openssl</b> <b>spkac</b> [ <b>-in filename</b>] [ <b>-out filename</b>] [
  <b>-key keyfile</b>] [ <b>-passin arg</b>] [ <b>-challenge string</b>] [
  <b>-pubkey</b>] [ <b>-spkac spkacname</b>] [ <b>-spksect section</b>] [
  <b>-noout</b>] [ <b>-verify</b>] [ <b>-engine id</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>spkac</b> command processes Netscape signed public key and challenge
  (SPKAC) files. It can print out their contents, verify the signature and
  produce its own SPKACs from a supplied private key.
<h1 class="Sh" title="Sh" id="COMMAND_OPTIONS"><a class="selflink" href="#COMMAND_OPTIONS">COMMAND
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-in filename</b></dt>
  <dd class="It-tag">This specifies the input filename to read from or standard
      input if this option is not specified. Ignored if the <b>-key</b> option
      is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-out filename</b></dt>
  <dd class="It-tag">specifies the output filename to write to or standard
      output by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-key keyfile</b></dt>
  <dd class="It-tag">create an SPKAC file using the private key in
      <b>keyfile</b>. The <b>-in</b>, <b>-noout</b>, <b>-spksect</b> and
      <b>-verify</b> options are ignored if present.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-passin password</b></dt>
  <dd class="It-tag">the input file password source. For more information about
      the format of <b>arg</b> see the <b>PASS PHRASE ARGUMENTS</b> section in
      <i>openssl</i>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-challenge string</b></dt>
  <dd class="It-tag">specifies the challenge string if an SPKAC is being
      created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-spkac spkacname</b></dt>
  <dd class="It-tag">allows an alternative name form the variable containing the
      SPKAC. The default is &quot;SPKAC&quot;. This option affects both
      generated and input SPKAC files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-spksect section</b></dt>
  <dd class="It-tag">allows an alternative name form the section containing the
      SPKAC. The default is the default section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noout</b></dt>
  <dd class="It-tag">don't output the text version of the SPKAC (not used if an
      SPKAC is being created).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pubkey</b></dt>
  <dd class="It-tag">output the public key of an SPKAC (not used if an SPKAC is
      being created).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-verify</b></dt>
  <dd class="It-tag">verifies the digital signature on the supplied SPKAC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-engine id</b></dt>
  <dd class="It-tag">specifying an engine (by its unique <b>id</b> string) will
      cause <b>spkac</b> to attempt to obtain a functional reference to the
      specified engine, thus initialising it if needed. The engine will then be
      set as the default for all available algorithms.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Print out the contents of an SPKAC:
<div class="Pp"></div>
<pre>
 openssl spkac -in spkac.cnf
</pre>
<div class="Pp"></div>
Verify the signature of an SPKAC:
<div class="Pp"></div>
<pre>
 openssl spkac -in spkac.cnf -noout -verify
</pre>
<div class="Pp"></div>
Create an SPKAC using the challenge string &quot;hello&quot;:
<div class="Pp"></div>
<pre>
 openssl spkac -key key.pem -challenge hello -out spkac.cnf
</pre>
<div class="Pp"></div>
Example of an SPKAC, (long lines split up for clarity):
<div class="Pp"></div>
<pre>
 SPKAC=MIG5MGUwXDANBgkqhkiG9w0BAQEFAANLADBIAkEA1cCoq2Wa3Ixs47uI7F\
 PVwHVIPDx5yso105Y6zpozam135a8R0CpoRvkkigIyXfcCjiVi5oWk+6FfPaD03u\
 PFoQIDAQABFgVoZWxsbzANBgkqhkiG9w0BAQQFAANBAFpQtY/FojdwkJh1bEIYuc\
 2EeM2KHTWPEepWYeawvHD0gQ3DngSC75YCWnnDdq+NQ3F+X4deMx9AaEglZtULwV\
 4=
</pre>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
A created SPKAC with suitable DN components appended can be fed into the
  <b>ca</b> utility.
<div class="Pp"></div>
SPKACs are typically generated by Netscape when a form is submitted containing
  the <b>KEYGEN</b> tag as part of the certificate enrollment process.
<div class="Pp"></div>
The challenge string permits a primitive form of proof of possession of private
  key. By checking the SPKAC signature and a random challenge string some
  guarantee is given that the user knows the private key corresponding to the
  public key being certified. This is important in some applications. Without
  this it is possible for a previous SPKAC to be used in a &quot;replay
  attack&quot;.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>ca</i>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-02-11</td>
    <td class="foot-os">1.0.1e</td>
  </tr>
</table>
</body>
</html>
