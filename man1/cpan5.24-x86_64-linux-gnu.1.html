<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CPAN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CPAN(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CPAN(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cpan - easily interact with CPAN from the command line
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
        # with arguments and no switches, installs specified modules
        cpan module_name [ module_name ... ]
        # with switches, installs modules with extra behavior
        cpan [-cfgimtTw] module_name [ module_name ... ]
        # with just the dot, install from the distribution in the
        # current directory
        cpan .
        # without arguments, starts CPAN.pm shell
        cpan
        # force install modules (usually those that fail tests)
        cpan -f module_name [ module_name ... ]
        # install modules but without testing them
        cpan -T module_name [ module_name ... ]
        # dump the configuration
        cpan -J
        # load a different configuration to install Module::Foo
        cpan -j some/other/file Module::Foo
        # without arguments, but some switches
        cpan [-ahrvACDlLO]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This script provides a command interface (not a shell) to CPAN. At the moment it
  uses CPAN.pm to do the work, but it is not a one-shot command runner for
  CPAN.pm.
<h2 class="Ss" title="Ss" id="Options"><a class="selflink" href="#Options">Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">-a</dt>
  <dd class="It-tag">Creates a CPAN.pm autobundle with
      CPAN::Shell-&gt;autobundle.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-A module [ module ... ]</dt>
  <dd class="It-tag">Shows the primary maintainers for the specified
    modules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c module</dt>
  <dd class="It-tag">Runs a `make clean` in the specified module's
    directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-C module [ module ... ]</dt>
  <dd class="It-tag">Show the <i>Changes</i> files for the specified
    modules</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-D module [ module ... ]</dt>
  <dd class="It-tag">Show the module details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f</dt>
  <dd class="It-tag">Force the specified action, when it normally would have
      failed. Use this to install a module even if its tests fail. When you use
      this option, -i is not optional for installing a module when you need to
      force it:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
        % cpan -f -i Module::Foo
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-F</dt>
  <dd class="It-tag">Turn off CPAN.pm's attempts to lock anything. You should be
      careful with this since you might end up with multiple scripts trying to
      muck in the same directory. This isn't so much of a concern if you're
      loading a special config with &quot;-j&quot;, and that config sets up its
      own work directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-g module [ module ... ]</dt>
  <dd class="It-tag">Downloads to the current directory the latest distribution
      of the module.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-G module [ module ... ]</dt>
  <dd class="It-tag">UNIMPLEMENTED
    <div style="height: 1.00em;">&#x00A0;</div>
    Download to the current directory the latest distribution of the modules,
      unpack each distribution, and create a git repository for each
      distribution.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you want this feature, check out Yanick Champoux's
      &quot;Git::CPAN::Patch&quot; distribution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h</dt>
  <dd class="It-tag">Print a help message and exit. When you specify
      &quot;-h&quot;, it ignores all of the other options and arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i</dt>
  <dd class="It-tag">Install the specified modules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-I</dt>
  <dd class="It-tag">Load &quot;local::lib&quot; (think like &quot;-I&quot; for
      loading lib paths).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-j Config.pm</dt>
  <dd class="It-tag">Load the file that has the CPAN configuration data. This
      should have the same format as the standard <i>CPAN/Config.pm</i> file,
      which defines $CPAN::Config as an anonymous hash.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-J</dt>
  <dd class="It-tag">Dump the configuration in the same format that CPAN.pm
      uses. This is useful for checking the configuration as well as using the
      dump as a starting point for a new, custom configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l</dt>
  <dd class="It-tag">List all installed modules with their versions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-L author [ author ... ]</dt>
  <dd class="It-tag">List the modules by the specified authors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m</dt>
  <dd class="It-tag">Make the specified modules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-O</dt>
  <dd class="It-tag">Show the out-of-date modules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p</dt>
  <dd class="It-tag">Ping the configured mirrors</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-P</dt>
  <dd class="It-tag">Find the best mirrors you could be using (but doesn't
      configure them just yet)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r</dt>
  <dd class="It-tag">Recompiles dynamically loaded modules with
      CPAN::Shell-&gt;recompile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t</dt>
  <dd class="It-tag">Run a `make test` on the specified modules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-T</dt>
  <dd class="It-tag">Do not test modules. Simply install them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-u</dt>
  <dd class="It-tag">Upgrade all installed modules. Blindly doing this can
      really break things, so keep a backup.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">Print the script version and CPAN.pm version then
    exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V</dt>
  <dd class="It-tag">Print detailed information about the cpan client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-w</dt>
  <dd class="It-tag">UNIMPLEMENTED
    <div style="height: 1.00em;">&#x00A0;</div>
    Turn on cpan warnings. This checks various things, like directory
      permissions, and tells you about problems you might have.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Examples"><a class="selflink" href="#Examples">Examples</a></h2>
<pre>
        # print a help message
        cpan -h
        # print the version numbers
        cpan -v
        # create an autobundle
        cpan -a
        # recompile modules
        cpan -r
        # upgrade all installed modules
        cpan -u
        # install modules ( sole -i is optional )
        cpan -i Netscape::Booksmarks Business::ISBN
        # force install modules ( must use -i )
        cpan -fi CGI::Minimal URI
</pre>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<div style="margin-left: 4.00ex;">There are several components in CPAN.pm that
  use environment variables. The build tools, ExtUtils::MakeMaker and
  Module::Build use some, while others matter to the levels above them. Some of
  these are specified by the Perl Toolchain Gang:
<div style="height: 1.00em;">&#x00A0;</div>
Lancaster Concensus:
  &lt;https://github.com/Perl-Toolchain-Gang/toolchain-site/blob/master/lancaster-consensus.md&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Oslo Concensus:
  &lt;https://github.com/Perl-Toolchain-Gang/toolchain-site/blob/master/oslo-consensus.md&gt;
<dl class="Bl-tag">
  <dt class="It-tag">CPAN_OPTS</dt>
  <dd class="It-tag">&quot;cpan&quot; splits this variable on whitespace and
      prepends that list to @ARGV before it processes the command-line
      arguments. For instance, if you always want to use &quot;local:lib&quot;,
      you can set &quot;CPAN_OPTS&quot; to &quot;-I&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">CPANSCRIPT_LOGLEVEL</dt>
  <dd class="It-tag">The log level to use, with either the embedded, minimal
      logger or Log::Log4perl if it is installed. Possible values are the same
      as the &quot;Log::Log4perl&quot; levels: &quot;TRACE&quot;,
      &quot;DEBUG&quot;, &quot;INFO&quot;, &quot;WARN&quot;, &quot;ERROR&quot;,
      and &quot;FATAL&quot;. The default is &quot;INFO&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">GIT_COMMAND</dt>
  <dd class="It-tag">The path to the &quot;git&quot; binary to use for the Git
      features. The default is &quot;/usr/local/bin/git&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">NONINTERACTIVE_TESTING</dt>
  <dd class="It-tag">Assume no one is paying attention and skips prompts for
      distributions that do that correctly. cpan(1) sets this to 1 unless it
      already has a value (even if that value is false).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">PERL_MM_USE_DEFAULT</dt>
  <dd class="It-tag">Use the default answer for a prompted questions. cpan(1)
      sets this to 1 unless it already has a value (even if that value is
      false).</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<h1 class="Sh" title="Sh" id="EXIT_VALUES"><a class="selflink" href="#EXIT_VALUES">EXIT
  VALUES</a></h1>
The script exits with zero if it thinks that everything worked, or a positive
  number if it thinks that something failed. Note, however, that in some cases
  it has to divine a failure by the output of things it does not control. For
  now, the exit codes are vague:
<div class="Pp"></div>
<pre>
        1       An unknown error
        2       The was an external problem
        4       There was an internal problem with the script
        8       A module failed to install
</pre>
<h1 class="Sh" title="Sh" id="TO_DO"><a class="selflink" href="#TO_DO">TO
  DO</a></h1>
* one shot configuration values from the command line
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
* none noted
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Most behaviour, including environment variables and configuration, comes
  directly from CPAN.pm.
<h1 class="Sh" title="Sh" id="SOURCE_AVAILABILITY"><a class="selflink" href="#SOURCE_AVAILABILITY">SOURCE
  AVAILABILITY</a></h1>
This code is in Github in the CPAN.pm repository:
<div class="Pp"></div>
<pre>
        https://github.com/andk/cpanpm
</pre>
<div class="Pp"></div>
The source used to be tracked separately in another GitHub repo, but the
  canonical source is now in the above repo.
<h1 class="Sh" title="Sh" id="CREDITS"><a class="selflink" href="#CREDITS">CREDITS</a></h1>
Japheth Cleaver added the bits to allow a forced install (-f).
<div class="Pp"></div>
Jim Brandt suggest and provided the initial implementation for the up-to-date
  and Changes features.
<div class="Pp"></div>
Adam Kennedy pointed out that <i>exit()</i> causes problems on Windows where
  this script ends up with a .bat extension
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
brian d foy, &quot;&lt;bdfoy@cpan.org&gt;&quot;
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2001-2014, brian d foy, All Rights Reserved.
<div class="Pp"></div>
You may redistribute this under the same terms as Perl itself.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-03-18</td>
    <td class="foot-os">perl v5.24.1</td>
  </tr>
</table>
</body>
</html>
