<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>landscape-config(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">landscape-config(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">landscape-config(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>landscape-config </b>- configure the Landscape management client <b></b>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>landscape-config</b> [<i>options</i>]
<div class="Pp"></div>
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Before using the landscape-client it must be configured with account and
  computer information that is transmitted to the Landscape server when the
  client connects. The registration can be performed with or without user
  interaction.
<div class="Pp"></div>
Running the <b>landscape-config</b> program without arguments will start the
  program, prompting you for the necessary information to run the client.
  Optionally you can provide command-line arguments (detailed below) to specify
  default responses.
<div class="Pp"></div>
You will be told if the registration was successful or if an error occurred.
  When registration is successful Landscape is configured and running on your
  system. Errors can occur if you provide incorrect registration details or if
  there are network issues. In the latter case, the client will keep trying to
  complete the registration in the background.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--version</b></b></dt>
  <dd class="It-tag">Show program's version number and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>, <b>--help</b></b></dt>
  <dd class="It-tag">Show this help message and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c</b> FILE, <b>--config</b>=FILE</b></dt>
  <dd class="It-tag">Use config from this file (any command line <i>options</i>
      override settings from the file) (default:
    '/etc/landscape/client.conf').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b> PATH, <b>--data-path</b>=PATH</b></dt>
  <dd class="It-tag">The directory to store data files in (default:
      '/var/lib/landscape/client').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-q</b>, <b>--quiet</b></b></dt>
  <dd class="It-tag">Do not log to the standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-l</b> FILE, <b>--log-dir</b>=FILE</b></dt>
  <dd class="It-tag">The directory to write log files to (default:
      '/var/log/landscape').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--log-level</b>=LOG_LEVEL</b></dt>
  <dd class="It-tag">One of 'debug', 'info', 'warning', 'error' or 'critical'
      (default: 'info').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--ignore-sigint</b></b></dt>
  <dd class="It-tag">Ignore interrupt signals.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--ignore-sigusr1</b></b></dt>
  <dd class="It-tag">Ignore SIGUSR1 signal to rotate logs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-a</b> NAME, <b>--account-name</b>=NAME</b></dt>
  <dd class="It-tag">The account this computer belongs to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-p</b> KEY, <b>--registration-key</b>=KEY</b></dt>
  <dd class="It-tag">The account-wide key used for registering clients.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-t</b> TITLE, <b>--computer-title</b>=TITLE</b></dt>
  <dd class="It-tag">The title of this computer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-u</b> URL, <b>--url</b>=URL</b></dt>
  <dd class="It-tag">The server URL to connect to (default:
      'https://landscape.canonical.com/message-system').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k</b> SSL_PUBLIC_KEY,
    <b>--ssl-public-key</b>=SSL_PUBLIC_KEY</b></dt>
  <dd class="It-tag">The SSL CA certificate to verify the server with. Only used
      if the server URL to which we connect is https.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--exchange-interval</b>=INTERVAL</b></dt>
  <dd class="It-tag">The number of seconds between server exchanges (default:
      900).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--urgent-exchange-interval</b>=INTERVAL</b></dt>
  <dd class="It-tag">The number of seconds between urgent server exchanges
      (default: 60).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--ping-interval</b>=INTERVAL</b></dt>
  <dd class="It-tag">The number of seconds between pings (default: 30).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--ping-url</b>=PING_URL</b></dt>
  <dd class="It-tag">The URL to perform lightweight exchange initiation with
      (default: 'http://landscape.canonical.com/ping').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--package-monitor-interval</b>=PACKAGE_MONITOR_INTERVAL</b></dt>
  <dd class="It-tag">The interval between package monitor runs (default:
    1800).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--apt-update-interval</b>=APT_UPDATE_INTERVAL</b></dt>
  <dd class="It-tag">The interval between apt update runs (default: 21600).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--http-proxy</b>=URL</b></dt>
  <dd class="It-tag">The URL of the HTTP proxy, if one is needed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--https-proxy</b>=URL</b></dt>
  <dd class="It-tag">The URL of the HTTPS proxy, if one is needed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--cloud</b></b></dt>
  <dd class="It-tag">Set this if this computer is a cloud instance in EC2 or
      UEC. Read below for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--tags</b>=TAGS</b></dt>
  <dd class="It-tag">Comma separated list of tag names to be sent to the
    server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--import</b>=FILENAME_OR_URL</b></dt>
  <dd class="It-tag">Filename or URL to import configuration from. Imported
      <i>options</i> behave as if they were passed in the command line, with
      precedence being given to real command line <i>options</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--script-users</b>=USERS</b></dt>
  <dd class="It-tag">A comma-separated list of users to allow scripts to run. To
      allow scripts to be run by any user, enter: ALL.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--include-manager-plugins</b>=PLUGINS</b></dt>
  <dd class="It-tag">A comma-separated list of manager plugins to load
      explicitly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-n</b>, <b>--no-start</b></b></dt>
  <dd class="It-tag">Don't start the client automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--ok-no-register</b></b></dt>
  <dd class="It-tag">Return exit code 0 instead of 2 if the client can't be
      registered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--silent</b></b></dt>
  <dd class="It-tag">Run without manual interaction.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--disable</b></b></dt>
  <dd class="It-tag">Stop running clients and disable start at boot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--otp</b>=OTP</b></dt>
  <dd class="It-tag">The one-time password (OTP) to use in cloud
    configuration.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CLOUD"><a class="selflink" href="#CLOUD">CLOUD</a></h1>
Landscape has some cloud features that become available when the EC2 or UEC
  machine instance was started using Landscape and the AMI is one of the
  official ones provided in the Web user interface. We call these instances
  &quot;Landscape enabled&quot;, because they contain a pre-configured
  landscape-client installed in them which will register the running instance
  automatically with Landscape as soon as it starts up.
<div class="Pp"></div>
You can deploy your own AMI, but if you wish the instance to become
  &quot;Landscape managed&quot; you need to take a few steps:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">make sure the cloud is created in Landscape</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">either add &quot;CLOUD=1&quot; to
      /etc/default/landscape-client or use the <b>--cloud</b> switch in the
      <b>landscape-config</b>(1) command line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">make sure the client is configured to start at boot (i.e.,
      the /etc/default/landscape-client has the line &quot;RUN=1&quot;)</dd>
</dl>
<div class="Pp"></div>
There is no need to further configure the /etc/landscape/client.conf file with
  details such as account or key, because when in cloud mode this is all
  discovered by the client itself.
<div class="Pp"></div>
You can avoid this all if you just re-bundle the AMIs we provide.
  landscape-client is already configured and prepared for the cloud in them.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Register a machine for the first time, or reconfigure an already registered
  machine, interactively. Command line parameters suppress interaction for
  provided values.
<div class="Pp"></div>
<pre>
  landscape-config
<div class="Pp"></div>
</pre>
Register a machine for the first time, or reconfigure an already registered
  machine, without requiring user interaction. The client will be configured to
  start on boot automatically:
<div class="Pp"></div>
<pre>
  landscape-config --silent -a account-name -p secret -t `hostname`
<div class="Pp"></div>
</pre>
Register a machine with the script execution plugin enabled, without requiring
  user interaction:
<div class="Pp"></div>
<pre>
  landscape-config --silent -a account-name -p secret -t `hostname` --script-users nobody,landscape,root
<div class="Pp"></div>
</pre>
Register a machine with some tags:
<div class="Pp"></div>
<pre>
  landscape-config --silent -a account-name -p secret -t `hostname` --tags=server,www
<div class="Pp"></div>
</pre>
To disable a client, stopping current instances and disabling start at bootup:
<div class="Pp"></div>
<pre>
  landscape-config --disable
<div class="Pp"></div>
<div class="Pp"></div>
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
landscape-client (1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Landscape Development Team &lt;landscape-team@canonical.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">10 July 2014</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
