<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MYSQLUSERCLONE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MYSQLUSERCLONE(1)</td>
    <td class="head-vol">MySQL Utilities</td>
    <td class="head-rtitle">MYSQLUSERCLONE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mysqluserclone - Clone Existing User to Create New User
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 74.00ex; text-indent: -74.00ex;"><b>mysqluserclone
  [</b> <b></b><i>options</i><b>] </b><b></b><i>base_user</i><b>
  </b><b></b><i>new_user</i>
  <b>[</b><b></b><i>:password</i><b>][</b><b></b><i>@host_name</i> <b>]
  ...</b></div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This utility uses an existing MySQL user account on one server as a template,
  and clones it to create one or more new user accounts with the same privileges
  as the original user. The new users can be created on the original server or a
  different server.
<div class="Pp"></div>
To list users for a server, specify the <b>--list</b> option. This prints a list
  of the users on the source (no destination is needed). To control how to
  display list output, use one of the following values with the <b>--format</b>
  option:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>grid</b> (default)
<div style="height: 1.00em;">&#x00A0;</div>
Display output in grid or table format like that of the <b>mysql</b> client
  command-line tool.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>csv</b>
<div style="height: 1.00em;">&#x00A0;</div>
Display output in comma-separated values format.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>tab</b>
<div style="height: 1.00em;">&#x00A0;</div>
Display output in tab-separated format.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>vertical</b>
<div style="height: 1.00em;">&#x00A0;</div>
Display output in single-column format like that of the \G command for the
  <b>mysql</b> client command-line tool.</div>
OPTIONS.PP <b>mysqluserclone</b> accepts the following command-line options:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--help
<div style="height: 1.00em;">&#x00A0;</div>
Display a help message and exit.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--license
<div style="height: 1.00em;">&#x00A0;</div>
Display license information and exit.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--destination=&lt;destination&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Connection information for the destination server.
<div style="height: 1.00em;">&#x00A0;</div>
To connect to a server, it is necessary to specify connection parameters such as
  user name, host name, password, and either a port or socket. MySQL Utilities
  provides a number of ways to provide this information. All of the methods
  require specifying your choice via a command-line option such as --server,
  --master, --slave, etc. The methods include the following in order of most
  secure to least secure.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Use login-paths from your .mylogin.cnf
  file (encrypted, not visible). Example : &lt;
  <i>login-path</i>&gt;[:&lt;<i>port</i>&gt;][:&lt; <i>socket</i>&gt;]</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Use a configuration file (unencrypted,
  not visible) Note: available in release-1.5.0. Example : &lt;
  <i>configuration-file-path</i>&gt;[:&lt; <i>section</i>&gt;]</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Specify the data on the command-line
  (unencrypted, visible). Example : &lt;
  <i>user</i>&gt;[:&lt;<i>passwd</i>&gt;]@&lt;
  <i>host</i>&gt;[:&lt;<i>port</i>&gt;][:&lt; <i>socket</i>&gt;]</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--dump, -d
<div style="height: 1.00em;">&#x00A0;</div>
Display the <b>GRANT</b> statements to create the account rather than executing
  them. In this case, the utility does not connect to the destination server and
  no <b>--destination</b> option is needed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--format=&lt;list_format&gt;,
  -f&lt;list_format&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Specify the user display format. Permitted format values are <b>grid</b>,
  <b>csv</b>, <b>tab</b>, and <b>vertical</b>. The default is <b>grid</b>. This
  option is valid only if <b>--list</b> is given.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--force
<div style="height: 1.00em;">&#x00A0;</div>
Drop the new user account if it exists before creating the new account. Without
  this option, it is an error to try to create an account that already
  exists.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--include-global-privileges
<div style="height: 1.00em;">&#x00A0;</div>
Include privileges that match base_user@% as well as base_user@host.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--list
<div style="height: 1.00em;">&#x00A0;</div>
List all users on the source server. With this option, a destination server need
  not be specified.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--quiet, -q
<div style="height: 1.00em;">&#x00A0;</div>
Turn off all messages for quiet execution.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--source=&lt;source&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Connection information for the source server.
<div style="height: 1.00em;">&#x00A0;</div>
To connect to a server, it is necessary to specify connection parameters such as
  user name, host name, password, and either a port or socket. MySQL Utilities
  provides a number of ways to provide this information. All of the methods
  require specifying your choice via a command-line option such as --server,
  --master, --slave, etc. The methods include the following in order of most
  secure to least secure.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Use login-paths from your .mylogin.cnf
  file (encrypted, not visible). Example : &lt;
  <i>login-path</i>&gt;[:&lt;<i>port</i>&gt;][:&lt; <i>socket</i>&gt;]</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Use a configuration file (unencrypted,
  not visible) Note: available in release-1.5.0. Example : &lt;
  <i>configuration-file-path</i>&gt;[:&lt; <i>section</i>&gt;]</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Specify the data on the command-line
  (unencrypted, visible). Example : &lt;
  <i>user</i>&gt;[:&lt;<i>passwd</i>&gt;]@&lt;
  <i>host</i>&gt;[:&lt;<i>port</i>&gt;][:&lt; <i>socket</i>&gt;]</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--ssl-ca
<div style="height: 1.00em;">&#x00A0;</div>
The path to a file that contains a list of trusted SSL CAs.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--ssl-cert
<div style="height: 1.00em;">&#x00A0;</div>
The name of the SSL certificate file to use for establishing a secure
  connection.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--ssl-cert
<div style="height: 1.00em;">&#x00A0;</div>
The name of the SSL key file to use for establishing a secure connection.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--ssl
<div style="height: 1.00em;">&#x00A0;</div>
Specifies if the server connection requires use of SSL. If an encrypted
  connection cannot be established, the connection attempt fails. Default
  setting is 0 (SSL not required).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--verbose, -v
<div style="height: 1.00em;">&#x00A0;</div>
Specify how much information to display. Use this option multiple times to
  increase the amount of information. For example, <b>-v</b> = verbose,
  <b>-vv</b> = more verbose, <b>-vvv</b> = debug.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;--version
<div style="height: 1.00em;">&#x00A0;</div>
Display version information and exit.</div>
NOTES.PP You must provide connection parameters (user, host, password, and so
  forth) for an account that has the appropriate privileges to access all
  objects in the operation.
<div class="Pp"></div>
The account used to connect to the source server must have privileges to read
  the <b>mysql</b> database.
<div class="Pp"></div>
The account used to connect to the destination server must have privileges to
  execute <b>CREATE USER</b> (and <b>DROP USER</b> if the <b>--force</b> option
  is given), and privileges to execute <b>GRANT</b> for all privileges to be
  granted to the new accounts.
<div class="Pp"></div>
For the <b>--format</b> option, the permitted values are not case sensitive. In
  addition, values may be specified as any unambiguous prefix of a valid value.
  For example, <b>--format=g</b> specifies the grid format. An error occurs if a
  prefix matches more than one valid value.
<div class="Pp"></div>
The path to the MySQL client tools should be included in the PATH environment
  variable in order to use the authentication mechanism with login-paths. This
  will allow the utility to use the my_print_defaults tools which is required to
  read the login-path values from the login configuration file (.mylogin.cnf).
  EXAMPLES.PP To clone joe as sam and sally with passwords and logging in as
  root on the local machine, use this command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
shell&gt;  <b>mysqluserclone --source=root@localhost \</b>
           <b>--destination=root@localhost \</b>
           <b>joe@localhost sam:secret1@localhost sally:secret2@localhost</b>
# Source on localhost: ... connected.
# Destination on localhost: ... connected.
# Cloning 2 users...
# Cloning joe@localhost to user sam:secret1@localhost
# Cloning joe@localhost to user sally:secret2@localhost
# ...done.
</pre>
</div>
<div class="Pp"></div>
The following command shows all users on the local server in the most verbose
  output in CSV format:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
shell&gt;  <b>mysqluserclone --source=root@localhost --list --format=csv -vvv</b>
# Source on localhost: ... connected.
user,host,database
joe,localhost,util_test
rpl,localhost,
sally,localhost,util_test
sam,localhost,util_test
joe,user,util_test
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
PERMISSIONS REQUIRED.PP The permissions required include the ability to read the
  mysql database and to have read access to the data directory.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2006, 2015, Oracle and/or its affiliates. All rights
  reserved.
<div class="Pp"></div>
This documentation is free software; you can redistribute it and/or modify it
  only under the terms of the GNU General Public License as published by the
  Free Software Foundation; version 2 of the License.
<div class="Pp"></div>
This documentation is distributed in the hope that it will be useful, but
  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
  details.
<div class="Pp"></div>
You should have received a copy of the GNU General Public License along with the
  program; if not, write to the Free Software Foundation, Inc., 51 Franklin
  Street, Fifth Floor, Boston, MA 02110-1301 USA or see
  http://www.gnu.org/licenses/.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
For more information, please refer to the MySQL Utilities and Fabric
  documentation, which is available online at
  http://dev.mysql.com/doc/index-utils-fabric.html
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Oracle Corporation (http://dev.mysql.com/).</div>
<table class="foot">
  <tr>
    <td class="foot-date">09/15/2015</td>
    <td class="foot-os">MySQL 1.5.6</td>
  </tr>
</table>
</body>
</html>
