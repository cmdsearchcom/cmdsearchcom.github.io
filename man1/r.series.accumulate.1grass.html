<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.series.accumulate(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.series.accumulate(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.series.accumulate(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.series.accumulate</b> - Makes each output cell value a
  accumulationfunction of the values assigned to the corresponding cells in the
  input raster map layers.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, series, accumulation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.series.accumulate</b>
<div>&#x00A0;</div>
<b>r.series.accumulate --help</b>
<div>&#x00A0;</div>
<b>r.series.accumulate</b> [-<b>nzf</b>] [<b>basemap</b>=<i>name</i>]
  [<b>input</b>= <i>name</i>[,<i>name</i>,...]] [<b>file</b>=<i>name</i>]
  <b>output</b>= <i>name</i> [<b>scale</b>=<i>float</i>]
  [<b>shift</b>=<i>float</i>] [ <b>lower</b>=<i>name</i>]
  [<b>upper</b>=<i>name</i>] [ <b>range</b>=<i>min,max</i>]
  [<b>limits</b>=<i>lower,upper</i>] [ <b>method</b>=<i>string</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Propagate NULLs</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not keep files open</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Create a FCELL map (floating point single precision) as output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>basemap</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Existing map to be added to output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name[,</i><i>name</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>file</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input file with raster map names, one per line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output raster map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>scale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Scale factor for input
    <div>&#x00A0;</div>
    Default: <i>1.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shift</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Shift factor for input
    <div>&#x00A0;</div>
    Default: <i>0.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lower</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The raster map specifying the lower accumulation limit, also called
    baseline</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>upper</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The raster map specifying the upper accumulation limit, also called cutoff.
      Only applied to BEDD computation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>range</b>=<i>min,max</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Ignore values outside this range</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>limits</b>=<i>lower,upper</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use these limits in case lower and/or upper input maps are not defined
    <div>&#x00A0;</div>
    Default: <i>10,30</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>method</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This method will be applied to compute the accumulative values from the
      input maps
    <div>&#x00A0;</div>
    Options: <i>gdd, bedd, huglin, mean</i>
    <div>&#x00A0;</div>
    Default: <i>gdd</i>
    <div>&#x00A0;</div>
     <b>gdd</b>: Growing Degree Days or Winkler indices
    <div>&#x00A0;</div>
     <b>bedd</b>: Biologically Effective Degree Days
    <div>&#x00A0;</div>
     <b>huglin</b>: Huglin Heliothermal index
    <div>&#x00A0;</div>
     <b>mean</b>: Mean: sum(input maps)/(number of input maps)</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.series.accumulate</i> calculates (accumulated) raster value using growing
  degree days (GDDs)/Winkler indices&#x2019;s, Biologically Effective Degree
  Days (BEDD), Huglin heliothermal indices or an average approach from several
  input maps.
<div class="Pp"></div>
The flag <b>-a</b> determines the average computation of the input raster maps.
  In case the flag is not set, the average calculation is:
<div>&#x00A0;</div>
<pre>
    average = (min + max) / 2
</pre>
In case the flag was set, the calculation changes to arithmetic mean
<div>&#x00A0;</div>
<pre>
    average = sum(input maps) / (number of input maps)
</pre>
<div class="Pp"></div>
<b>GDD</b> Growing Degree Days are calculated as
<div>&#x00A0;</div>
<pre>
    gdd = average - lower
</pre>
<div class="Pp"></div>
In case the <b>-a</b> is set, the Winkler indices are calculated instead of GDD,
  usually accumulated for the period April 1st to October 31st (northern
  hemisphere) or the period October 1st to April 30th (southern hemisphere).
<div class="Pp"></div>
<b>BEDDs</b> Biologically Effective Degree Days are calculated as
<div>&#x00A0;</div>
<pre>
    bedd = average - lower
</pre>
with an optional upper <i>cutoff</i> applied to the average instead of the
  temperature values.
<div class="Pp"></div>
The <b>Huglin heliothermal index</b> is calculated as
<div>&#x00A0;</div>
<pre>
    huglin = (average + max) / 2 - lower
</pre>
usually accumulated for the period April 1st to September 30th (northern
  hemisphere) or the period September 1st to April 30th (southern hemisphere).
<div class="Pp"></div>
<b>Mean</b> raster values are calculated as
<div>&#x00A0;</div>
<pre>
    mean = average
</pre>
<div class="Pp"></div>
For all formulas is <i>min</i> the minimum value, <i>max</i> the maximum value
  and <i>average</i> the average value. The <i>min</i>, <i>max</i> and
  <i>average</i> values are automatically calculated from the input maps.
<div class="Pp"></div>
The <i>shift</i> and <i>scale</i> values are applied directly to the input
  values. The <i>lower</i> and <i>upper</i> maps, as well as the <i>range</i>
  options are applied to constrain the accumulation. In case the <i>lower</i>
  and <i>upper</i> maps are not provided the <i>limits</i> option with default
  values will be applied.
<div class="Pp"></div>
If an existing map is provided with the <i>basemap</i> option, the values of
  this map are added to the output.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The <i>scale</i> and <i>shift</i> parameters are used to transform input values
  with
<div>&#x00A0;</div>
<pre>
    new = old * scale + shift
</pre>
<div class="Pp"></div>
With the <i>-n</i> flag, any cell for which any of the corresponding input cells
  are NULL is automatically set to NULL (NULL propagation) and the accumulated
  value is not calculated.
<div class="Pp"></div>
Negative results are set to 0 (zero).
<div class="Pp"></div>
Without the <i>-n</i> flag, all non-NULL cells are used for calculation.
<div class="Pp"></div>
If the <i>range=</i> option is given, any values which fall outside that range
  will be treated as if they were NULL. Note that the range is applied to the
  scaled and shifted input data. The <i>range</i> parameter can be set to
  <i>low,high</i> thresholds: values outside of this range are treated as NULL
  (i.e., they will be ignored by most aggregates, or will cause the result to be
  NULL if -n is given). The <i>low,high</i> thresholds are floating point, so
  use <i>-inf</i> or <i>inf</i> for a single threshold (e.g., <i>range=0,inf</i>
  to ignore negative values, or <i>range=-inf,-200.4</i> to ignore values above
  -200.4).
<div class="Pp"></div>
The number of input raster maps to be processed is given by the limit of the
  operating system. For example, both the hard and soft limits are typically
  1024. The soft limit can be changed with e.g. ulimit -n 1500 (UNIX-based
  operating systems) but not higher than the hard limit. If it is too low, you
  can as superuser add an entry in
<div>&#x00A0;</div>
<pre>
/etc/security/limits.conf
# &lt;domain&gt;      &lt;type&gt;  &lt;item&gt;         &lt;value&gt;
your_username  hard    nofile          1500
</pre>
This would raise the hard limit to 1500 file. Be warned that more files open
  need more RAM. See also the Wiki page Hints for large raster data processing.
<div class="Pp"></div>
Use the <i>file</i> option to analyze large amount of raster maps without
  hitting open files limit and the size limit of command line arguments. The
  computation is slower than the <i>input</i> option method. For every sinlge
  row in the output map(s) all input maps are opened and closed. The amount of
  RAM will rise linear with the number of specified input maps. The input and
  file options are mutually exclusive. Input is a text file with a new line
  separated list of raster map names and optional weights. As separator between
  the map name and the weight the character &quot;|&quot; must be used.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Example with MODIS Land Surface Temperature, transforming values from Kelvin *
  50 to degrees Celsius:
<div>&#x00A0;</div>
<pre>
r.series.accumulate in=MOD11A1.Day,MOD11A1.Night,MYD11A1.Day,MYD11A1.Night out=MCD11A1.GDD \
      scale=0.02 shift=-273.15 limits=10,30
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>g.list,</i> <i>g.region,</i> <i>r.series,</i> <i>r.series.interp</i>
  <i></i>
<div class="Pp"></div>
Hints for large raster data processing
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Jones, G.V., Duff, A.A., Hall, A., Myers, J.W., 2010.
      Spatial analysis of climate in winegrape growing regions in the Western
      United States. Am. J. Enol. Vitic. 61, 313-326.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Markus Metz and Soeren Gebbert (based on r.series)
<div class="Pp"></div>
<i>Last changed: $Date: 2014-10-08 21:55:23 +0200 (Wed, 08 Oct 2014) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.series.accumulate source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
