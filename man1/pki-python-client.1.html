<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:46 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PKI-PYTHON-CLIENT(1) Dogtag Certificate System
PKI-PYTHON-CLIENT(1)</p>

<p style="margin-top: 1em">NAME <br>
pki-python-client - Dogtag Python Client API</p>

<p style="margin-top: 1em">Dogtag is an enterprise software
system designed to manage enterprise Public Key
Infrastructure (PKI) deployments. These pages document the
Python client API that can be used to <br>
interact with Dogtag&rsquo;s REST API to request and issue
certificates, store secrets in the KRA etc.</p>

<p style="margin-top: 1em">PKI PACKAGE <br>
pki Package <br>
This module contains top-level classes and functions used by
the Dogtag project.</p>

<p style="margin-top: 1em">class pki.Attribute(name, value)
<br>
Bases: object</p>

<p style="margin-top: 1em">Class representing a key/value
pair.</p>

<p style="margin-top: 1em">This object is the basis of the
representation of a ResourceMessage.</p>

<p style="margin-top: 1em">class pki.AttributeList <br>
Bases: object</p>

<p style="margin-top: 1em">Class representing a list of
attributes.</p>

<p style="margin-top: 1em">This class is needed because of
a JavaMapper used in the REST API.</p>

<p style="margin-top: 1em">exception
pki.BadRequestException(message, exception=None, code=None,
class_name=None) <br>
Bases: pki.PKIException</p>

<p style="margin-top: 1em">Bad Request Exception: return
code = 400</p>

<p style="margin-top: 1em">exception
pki.CertNotFoundException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.ResourceNotFoundException</p>

<p style="margin-top: 1em">Cert Not Found Exception: return
code = 404</p>

<p style="margin-top: 1em">exception
pki.ConflictingOperationException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.PKIException</p>

<p style="margin-top: 1em">Conflicting Operation Exception:
return code = 409</p>

<p style="margin-top: 1em">exception
pki.ForbiddenException(message, exception=None, code=None,
class_name=None) <br>
Bases: pki.PKIException</p>

<p style="margin-top: 1em">Forbidden Exception: return code
= 403</p>

<p style="margin-top: 1em">exception
pki.GroupNotFoundException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.ResourceNotFoundException</p>

<p style="margin-top: 1em">Group Not Found Exception:
return code = 404</p>

<p style="margin-top: 1em">exception
pki.HTTPGoneException(message, exception=None, code=None,
class_name=None) <br>
Bases: pki.PKIException</p>

<p style="margin-top: 1em">Gone Exception: return code =
410</p>

<p style="margin-top: 1em">exception
pki.KeyNotFoundException(message, exception=None, code=None,
class_name=None) <br>
Bases: pki.ResourceNotFoundException</p>

<p style="margin-top: 1em">Key Not Found Exception: return
code 404</p>

<p style="margin-top: 1em">class pki.Link <br>
Bases: object</p>

<p style="margin-top: 1em">Stores the information of the
resteasy&rsquo;s Link object sent by the server for a
resource.</p>

<p style="margin-top: 1em">classmethod from_json(attr_list)
<br>
Generate Link from JSON</p>

<p style="margin-top: 1em">Parameters <br>
attr_list (str) -- JSON representation of Link</p>

<p style="margin-top: 1em">Returns <br>
pki.Link</p>

<p style="margin-top: 1em">exception
pki.PKIException(message, exception=None, code=None,
class_name=None) <br>
Bases: exceptions.Exception, pki.ResourceMessage</p>

<p style="margin-top: 1em">Base exception class for REST
Interface</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Construct PKIException from JSON. :param json_value: JSON
representation of the exception. :type json_value: str
:return: pki.PKIException</p>

<p style="margin-top: 1em">exception
pki.ProfileNotFoundException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.ResourceNotFoundException</p>

<p style="margin-top: 1em">Profile Not Found Exception:
return code = 404</p>

<p style="margin-top: 1em">class pki.PropertyFile(filename,
delimiter=&rsquo;=&rsquo;) <br>
Bases: object</p>

<p style="margin-top: 1em">Class to manage property files
The contents of the property file are maintained internally
as a list of properties.</p>

<p style="margin-top: 1em">Properties are strings of the
format &lt;name&gt; &lt;delimiter&gt; &lt;value&gt; where
&rsquo;=&rsquo; is the default delimiter.</p>

<p style="margin-top: 1em">get(name) <br>
Get the value of the specified property.</p>

<p style="margin-top: 1em">Parameters <br>
name (str) -- name of property to be fetched.</p>

<p style="margin-top: 1em">Returns <br>
str -- value of property</p>

<p style="margin-top: 1em">index(name) <br>
Find the index (position) of a property in a property
file.</p>

<p style="margin-top: 1em">Parameters <br>
name (str) -- name of property</p>

<p style="margin-top: 1em">Returns <br>
int -- index of property.</p>

<p style="margin-top: 1em">insert_line(index, line) <br>
Insert property into the list of properties maintained by
this object at the specified location (index).</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; index (int) --
point at which to insert value.</p>

<p style="margin-top: 1em">&Acirc;&middot; line (str) --
value to be inserted.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">read() Read from property file
into the list of properties maintained by this object.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">remove(name) <br>
Remove property from list of properties maintained by this
object.</p>

<p style="margin-top: 1em">Parameters <br>
name (str) -- name of property to be removed.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">remove_line(index) <br>
Remove property at specified index from the properties
list.</p>

<p style="margin-top: 1em">Parameters <br>
index (int) -- location of property to be removed.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">set(name, value, index=None)
<br>
Set value of specified property.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name (str) --
name of property to set.</p>

<p style="margin-top: 1em">&Acirc;&middot; value (str) --
value to set</p>

<p style="margin-top: 1em">&Acirc;&middot; index (int) --
(optional) position of property</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">show() Print the contents of the
list of properties maintained by this object to STDOUT.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">write() <br>
Write the list of properties maintained by this object to
the property file.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">exception
pki.RequestNotFoundException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.ResourceNotFoundException</p>

<p style="margin-top: 1em">Request Not Found Exception:
return code = 404</p>

<p style="margin-top: 1em">class
pki.ResourceMessage(class_name) <br>
Bases: object</p>

<p style="margin-top: 1em">This class is the basis for the
various types of key requests. It is essentially a list of
attributes.</p>

<p style="margin-top: 1em">add_attribute(name, value) <br>
Add an attribute to the list.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name (str) --
name of attribute to add</p>

<p style="margin-top: 1em">&Acirc;&middot; value (str) --
value to add</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">get_attribute_value(name) <br>
Get the value of a given attribute.</p>

<p style="margin-top: 1em">Parameters <br>
name (str) -- name of attribute to retrieve</p>

<p style="margin-top: 1em">Returns <br>
str -- value of parameter</p>

<p style="margin-top: 1em">exception
pki.ResourceNotFoundException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.PKIException</p>

<p style="margin-top: 1em">Not Found Exception: return code
= 404</p>

<p style="margin-top: 1em">exception
pki.UnauthorizedException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.PKIException</p>

<p style="margin-top: 1em">Unauthorized Exception: return
code = 401</p>

<p style="margin-top: 1em">exception
pki.UserNotFoundException(message, exception=None,
code=None, class_name=None) <br>
Bases: pki.ResourceNotFoundException</p>

<p style="margin-top: 1em">User Not Found Exception: return
code = 404</p>

<p style="margin-top: 1em">pki.handle_exceptions() <br>
Decorator handling exceptions from REST methods.</p>

<p style="margin-top: 1em">pki.implementation_version()
<br>
Return implementation version.</p>

<p style="margin-top: 1em">Returns <br>
str --implementation version</p>

<p style="margin-top: 1em">pki.read_text(message,
options=None, default=None, delimiter=&rsquo;:&rsquo;,
allow_empty=True, case_sensitive=True) <br>
Get an input from the user. This is used, for example, in
pkispawn and pkidestroy to obtain user input.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; message (str) --
prompt to display to the user</p>

<p style="margin-top: 1em">&Acirc;&middot; options (list)
-- list of possible inputs by the user.</p>

<p style="margin-top: 1em">&Acirc;&middot; default (str) --
default value of parameter being prompted.</p>

<p style="margin-top: 1em">&Acirc;&middot; delimiter (str)
-- delimiter to be used at the end of the prompt.</p>

<p style="margin-top: 1em">&Acirc;&middot; allow_empty
(boolean -- True/False) -- Allow input to be empty.</p>

<p style="margin-top: 1em">&Acirc;&middot; case_sensitive
(boolean -- True/False) -- Allow input to be case
sensitive.</p>

<p style="margin-top: 1em">Returns <br>
str -- value obtained from user input.</p>

<p style="margin-top: 1em">account Module <br>
class pki.account.AccountClient(connection) <br>
Class used to associate an authentication session variable
with a connection.</p>

<p style="margin-top: 1em">To use this class:</p>

<p style="margin-top: 1em">&Acirc;&middot; set the
authentication credentials with the connection,</p>

<p style="margin-top: 1em">&Acirc;&middot; create an
AccountClient and then call login().</p>

<p style="margin-top: 1em">&Acirc;&middot; further
operations in this session will use the same authentication
credentials without re-authentication.</p>

<p style="margin-top: 1em">&Acirc;&middot; call logout() to
invalidate the session.</p>

<p style="margin-top: 1em">login(inst, *args, **kwargs)
<br>
Login to account REST interface. If login is successful, an
authentication session variable is associated with the
connection.</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">logout(inst, *args, **kwargs)
<br>
Logs out of the session. Authentication session variables
are invalidated for the connection</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">cert Module <br>
class pki.cert.CertClient(connection) <br>
Bases: object</p>

<p style="margin-top: 1em">Class encapsulating and
mirroring the functionality in the CertResource Java
interface class defining the REST API for Certificate
resources.</p>

<p style="margin-top: 1em">approve_request(request_id,
cert_review_response=None) <br>
Approves a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">assign_request(request_id,
cert_review_response) <br>
Assigns a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">cancel_request(request_id,
cert_review_response=None) <br>
Cancels a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">create_enrollment_request(inst,
*args, **kwargs) <br>
Fetches the enrollment request object for the given profile
and sets values to its attributes using the values provided
in the inputs dictionary. Returns the <br>
CertEnrollmentRequest object, which can be submitted to
enroll a certificate.</p>

<p style="margin-top: 1em">enroll_cert(inst, *args,
**kwargs) <br>
A convenience method for enrolling a certificate for a given
profile id. The inputs parameter should be a dictionary with
values for the profile attributes for an <br>
enrollment request.</p>

<p style="margin-top: 1em">Calling this method with valid
arguments, creates an enrollment request, submits it to the
server, approves the certificate requests generated for the
enrollment <br>
and returns a list of CertData objects for all the
certificates generated as part of this enrollment.</p>

<p style="margin-top: 1em">Note: This method supports only
certificate enrollment where only one agent approval is
sufficient.</p>

<p style="margin-top: 1em">Requires an agent level
authentication. Returns a list of CertEnrollmentResult
objects.</p>

<p style="margin-top: 1em">get_cert(inst, *args, **kwargs)
<br>
Return a CertData object for a particular certificate.</p>

<p style="margin-top: 1em">get_enrollment_template(inst,
*args, **kwargs) <br>
Fetch the enrollment template for the given profile id. For
the first time, the request is sent to the server. The
retrieved CertEnrollmentRequest object is then <br>
cached locally for future requests. Returns a
CerEnrollmentRequest object.</p>

<p style="margin-top: 1em">get_request(inst, *args,
**kwargs) <br>
Get information of a certificate request with the given
request ID. Returns a CertRequestInfo object.</p>

<p style="margin-top: 1em">hold_cert(inst, *args, **kwargs)
<br>
Places a certificate on-hold. Calls the revoke_cert method
with reason - CertRevokeRequest.REASON_CERTIFICATE_HOLD.
Returns a CertRequestInfo object. This method <br>
requires an agent&rsquo;s authentication cert in the
connection object.</p>

<p style="margin-top: 1em">list_certs(inst, *args,
**kwargs) <br>
Return a CertDataInfoCollection object with a information
about all the certificates that satisfy the search criteria.
If cert_search_request=None, returns all the <br>
certificates.</p>

<p style="margin-top: 1em">list_enrollment_templates(inst,
*args, **kwargs) <br>
Gets the list of profile templates supported by the CA. The
values for start and size arguments determine the starting
point and the length of the list. Returns a <br>
ProfileDataInfoCollection object.</p>

<p style="margin-top: 1em">list_requests(inst, *args,
**kwargs) <br>
Query for a list of certificates using the arguments passed.
Returns a CertRequestInfoCollection object.</p>

<p style="margin-top: 1em">reject_request(request_id,
cert_review_response=None) <br>
Rejects a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">review_cert(inst, *args,
**kwargs) <br>
Reviews a certificate. Returns a CertData object with a
nonce. This method requires an agent&rsquo;s authentication
cert in the connection object.</p>

<p style="margin-top: 1em">review_request(inst, *args,
**kwargs) <br>
Reviews a certificate enrollment request. Returns a
CertReviewResponse object which contains the nonce from the
server needed to perform an action on the request.</p>

<p style="margin-top: 1em">revoke_ca_cert(inst, *args,
**kwargs) <br>
Revokes a CA certificate. Returns a CertRequestInfo object
with information about the request. This method requires an
agent&rsquo;s authentication cert in the connec&acirc; <br>
tion object.</p>

<p style="margin-top: 1em">revoke_cert(inst, *args,
**kwargs) <br>
Revokes a certificate. Returns a CertRequestInfo object with
information about the request. This method requires an
agent&rsquo;s authentication cert in the connection <br>
object.</p>

<p style="margin-top: 1em">submit_enrollment_request(inst,
*args, **kwargs) <br>
Submits the CertEnrollmentRequest object to the server.
Returns a CertRequestInfoCollection object with information
about the certificate requests enrolled at the <br>
CA.</p>

<p style="margin-top: 1em">unassign_request(request_id,
cert_review_response) <br>
Un-assigns a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">unrevoke_cert(inst, *args,
**kwargs) <br>
Un-revokes a revoked certificate. Returns a CertRequestInfo
object. This method requires an agent&rsquo;s authentication
cert in the connection object.</p>

<p style="margin-top: 1em">update_request(request_id,
cert_review_response) <br>
Updates a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">validate_request(request_id,
cert_review_response) <br>
Validates a certificate enrollment request. If
cert_review_response is None, a review request operation is
performed to fetch the CertReviewResponse object. <br>
Requires as agent level authentication.</p>

<p style="margin-top: 1em">class pki.cert.CertData <br>
Bases: object</p>

<p style="margin-top: 1em">Class containing certificate
data as returned from getCert()</p>

<p style="margin-top: 1em">classmethod from_json(attr_list)
<br>
Return CertData object from JSON dict</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;Nonce&rsquo;: &rsquo;nonce&rsquo;,
&rsquo;SubjectDN&rsquo;: &rsquo;subject_dn&rsquo;,
&rsquo;NotBefore&rsquo;: &rsquo;not_before&rsquo;,
&rsquo;IssuerDN&rsquo;: &rsquo;issuer_dn&rsquo;,
&rsquo;NotAfter&rsquo;: &rsquo;not_after&rsquo;,
&rsquo;id&rsquo;: &rsquo;serial_number&rsquo;, <br>
&rsquo;Status&rsquo;: &rsquo;status&rsquo;,
&rsquo;PKCS7CertChain&rsquo;:
&rsquo;pkcs7_cert_chain&rsquo;, &rsquo;PrettyPrint&rsquo;:
&rsquo;pretty_repr&rsquo;, &rsquo;Link&rsquo;:
&rsquo;link&rsquo;, &rsquo;Encoded&rsquo;:
&rsquo;encoded&rsquo;}</p>

<p style="margin-top: 1em">class pki.cert.CertDataInfo <br>
Bases: object</p>

<p style="margin-top: 1em">Class containing information
contained in a CertRecord on the CA. This data is returned
when searching/listing certificate records.</p>

<p style="margin-top: 1em">classmethod from_json(attr_list)
<br>
Return CertDataInfo object from JSON dict</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;IssuedOn&rsquo;: &rsquo;issued_on&rsquo;,
&rsquo;SubjectDN&rsquo;: &rsquo;subject_dn&rsquo;,
&rsquo;NotValidBefore&rsquo;:
&rsquo;not_valid_before&rsquo;, &rsquo;Version&rsquo;:
&rsquo;version&rsquo;, &rsquo;Type&rsquo;:
&rsquo;type&rsquo;, &rsquo;id&rsquo;:
&rsquo;serial_num&acirc; <br>
ber&rsquo;, &rsquo;Status&rsquo;: &rsquo;status&rsquo;,
&rsquo;NotValidAfter&rsquo;: &rsquo;not_valid_after&rsquo;,
&rsquo;IssuedBy&rsquo;: &rsquo;issued_by&rsquo;,
&rsquo;KeyLength&rsquo;: &rsquo;key_length&rsquo;,
&rsquo;Link&rsquo;: &rsquo;link&rsquo;,
&rsquo;KeyAlgorithmOID&rsquo;:
&rsquo;key_algorithm_oid&rsquo;}</p>

<p style="margin-top: 1em">class
pki.cert.CertDataInfoCollection <br>
Bases: object</p>

<p style="margin-top: 1em">Class containing list of
CertDataInfo objects and their respective link objects. This
data is returned when searching/listing certificate records
in the CA.</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Populate object from JSON input</p>

<p style="margin-top: 1em">class
pki.cert.CertEnrollmentRequest(profile_id=None,
renewal=False, serial_number=None, remote_host=None,
remote_address=None, inputs=None, outputs=None) <br>
Bases: object</p>

<p style="margin-top: 1em">This class encapsulates the
parameters required for a certificate <br>
enrollment request.</p>

<p style="margin-top: 1em">add_input(profile_input)</p>

<p style="margin-top: 1em">add_output(profile_output)</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>


<p style="margin-top: 1em">get_input(profile_input_name)</p>


<p style="margin-top: 1em">get_output(profile_output_name)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;RemoteAddress&rsquo;: &rsquo;remote_address&rsquo;,
&rsquo;RemoteHost&rsquo;: &rsquo;remote_host&rsquo;,
&rsquo;SerialNumber&rsquo;: &rsquo;serial_number&rsquo;,
&rsquo;Output&rsquo;: &rsquo;outputs&rsquo;,
&rsquo;Input&rsquo;: &rsquo;inputs&rsquo;,
&rsquo;Renewal&rsquo;: <br>
&rsquo;renewal&rsquo;, &rsquo;ProfileID&rsquo;:
&rsquo;profile_id&rsquo;}</p>


<p style="margin-top: 1em">remove_input(profile_input_name)</p>


<p style="margin-top: 1em">remove_output(profile_output_name)</p>

<p style="margin-top: 1em">class
pki.cert.CertEnrollmentResult(request, cert) <br>
Bases: object</p>

<p style="margin-top: 1em">Class containing results of an
enrollment request.</p>

<p style="margin-top: 1em">This structure contains
information about the cert request generated and any
certificates issued.</p>

<p style="margin-top: 1em">class pki.cert.CertRequestInfo
<br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class stores
represents a certificate request.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;certRequestType&rsquo;:
&rsquo;cert_request_type&rsquo;, &rsquo;certId&rsquo;:
&rsquo;cert_id&rsquo;, &rsquo;operationResult&rsquo;:
&rsquo;operation_result&rsquo;, &rsquo;requestType&rsquo;:
&rsquo;request_type&rsquo;, &rsquo;requestStatus&rsquo;:
<br>
&rsquo;request_status&rsquo;, &rsquo;errorMessage&rsquo;:
&rsquo;error_message&rsquo;, &rsquo;requestURL&rsquo;:
&rsquo;request_url&rsquo;, &rsquo;certURL&rsquo;:
&rsquo;cert_url&rsquo;}</p>

<p style="margin-top: 1em">class
pki.cert.CertRequestInfoCollection <br>
Bases: object</p>

<p style="margin-top: 1em">Class containing list of
CertRequestInfo objects. This data is returned when listing
certificate request records in the CA.</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Populate object from JSON input</p>

<p style="margin-top: 1em">class pki.cert.CertRequestStatus
<br>
Bases: object</p>

<p style="margin-top: 1em">Class containing valid cert
statuses.</p>

<p style="margin-top: 1em">CANCELED =
&rsquo;canceled&rsquo;</p>

<p style="margin-top: 1em">COMPLETE =
&rsquo;complete&rsquo;</p>

<p style="margin-top: 1em">PENDING =
&rsquo;pending&rsquo;</p>

<p style="margin-top: 1em">REJECTED =
&rsquo;rejected&rsquo;</p>

<p style="margin-top: 1em">class
pki.cert.CertReviewResponse(profile_id=None, renewal=False,
serial_number=None, remote_host=None, remote_address=None,
inputs=None, outputs=None, nonce=None, <br>
request_id=None, request_type=None, request_status=None,
request_owner=None, request_creation_time=None,
request_modification_time=None, request_notes=None,
pro&acirc; <br>
file_approval_by=None, profile_set_id=None,
profile_is_visible=None, profile_name=None,
profile_description=None, profile_remote_host=None,
profile_remote_address=None, pol&acirc; <br>
icy_sets=None) <br>
Bases: pki.cert.CertEnrollmentRequest</p>

<p style="margin-top: 1em">An object of this class
represent the response from the server when reviewing a
certificate enrollment request. It contains a nonce required
to perform action on the <br>
request.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;ProfilePolicySet&rsquo;: &rsquo;policy_sets&rsquo;,
&rsquo;profileSetId&rsquo;: &rsquo;profile_set_id&rsquo;,
&rsquo;RemoteAddress&rsquo;: &rsquo;remote_address&rsquo;,
&rsquo;requestType&rsquo;: &rsquo;request_type&rsquo;,
&rsquo;Remote&acirc; <br>
Host&rsquo;: &rsquo;remote_host&rsquo;,
&rsquo;SerialNumber&rsquo;: &rsquo;serial_number&rsquo;,
&rsquo;requestCreationTime&rsquo;:
&rsquo;request_creation_time&rsquo;,
&rsquo;requestOwner&rsquo;: &rsquo;request_owner&rsquo;,
&rsquo;Input&rsquo;: &rsquo;inputs&rsquo;,
&rsquo;Output&rsquo;: &rsquo;out&acirc; <br>
puts&rsquo;, &rsquo;profileIsVisible&rsquo;:
&rsquo;profile_is_visible&rsquo;,
&rsquo;requestStatus&rsquo;: &rsquo;request_status&rsquo;,
&rsquo;profileRemoteHost&rsquo;:
&rsquo;profile_remote_host&rsquo;,
&rsquo;profileApprovedBy&rsquo;:
&rsquo;profile_approved_by&rsquo;, <br>
&rsquo;requestNotes&rsquo;: &rsquo;request_notes&rsquo;,
&rsquo;Renewal&rsquo;: &rsquo;renewal&rsquo;,
&rsquo;profileDescription&rsquo;:
&rsquo;profile_description&rsquo;,
&rsquo;profileRemoteAddr&rsquo;:
&rsquo;profile_remote_address&rsquo;,
&rsquo;ProfileID&rsquo;: &rsquo;pro&acirc; <br>
file_id&rsquo;, &rsquo;profileName&rsquo;:
&rsquo;profile_name&rsquo;,
&rsquo;requestModificationTime&rsquo;:
&rsquo;request_modification_time&rsquo;,
&rsquo;requestId&rsquo;: &rsquo;request_id&rsquo;}</p>

<p style="margin-top: 1em">class
pki.cert.CertRevokeRequest(nonce, reason=None,
invalidity_date=None, comments=None) <br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class
encapsulates all the parameters required for revoking a
certificate.</p>

<p style="margin-top: 1em">Valid values for reasons for
revoking a request are: <br>
&rsquo;Unspecified&rsquo;, &rsquo;Key_Compromise&rsquo;,
&rsquo;CA_Compromise&rsquo;,
&rsquo;Affiliation_Changed&rsquo;, &rsquo;Superseded&rsquo;,
&rsquo;Cessation_of_Operation&rsquo;,
&rsquo;Certificate_Hold&rsquo;,
&rsquo;Remove_from_CRL&rsquo;, &rsquo;Privi&acirc; <br>
lege_Withdrawn&rsquo;, &rsquo;AA_Compromise&rsquo;</p>

<p style="margin-top: 1em">reasons =
[&rsquo;Unspecified&rsquo;, &rsquo;Key_Compromise&rsquo;,
&rsquo;CA_Compromise&rsquo;,
&rsquo;Affiliation_Changed&rsquo;, &rsquo;Superseded&rsquo;,
&rsquo;Cessation_of_Operation&rsquo;,
&rsquo;Certificate_Hold&rsquo;,
&rsquo;Remove_from_CRL&rsquo;, &rsquo;Privi&acirc; <br>
lege_Withdrawn&rsquo;, &rsquo;AA_Compromise&rsquo;]</p>

<p style="margin-top: 1em">class
pki.cert.CertSearchRequest(**cert_search_params) <br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class is used
to store the search parameters and send them to server.</p>

<p style="margin-top: 1em">search_params =
{&rsquo;valid_not_before_from&rsquo;:
&rsquo;validNotBeforeFrom&rsquo;,
&rsquo;cert_type_ssl_client&rsquo;:
&rsquo;certTypeSSLClient&rsquo;, &rsquo;common_name&rsquo;:
&rsquo;commonName&rsquo;, &rsquo;serial_to&rsquo;:
&rsquo;serialTo&rsquo;, &rsquo;valid&acirc; <br>
ity_unit&rsquo;: &rsquo;validityUnit&rsquo;,
&rsquo;cert_type_sub_ssl_ca&rsquo;:
&rsquo;certTypeSubSSLCA&rsquo;, &rsquo;user_id&rsquo;:
&rsquo;userID&rsquo;, &rsquo;locality&rsquo;:
&rsquo;locality&rsquo;, &rsquo;org_unit&rsquo;:
&rsquo;orgUnit&rsquo;, &rsquo;issued_by&rsquo;:
&rsquo;issuedBy&rsquo;, &rsquo;revo&acirc; <br>
cation_reason&rsquo;: &rsquo;revocationReason&rsquo;,
&rsquo;state&rsquo;: &rsquo;state&rsquo;,
&rsquo;validity_operation&rsquo;:
&rsquo;validityOperation&rsquo;, &rsquo;email&rsquo;:
&rsquo;eMail&rsquo;, &rsquo;status&rsquo;:
&rsquo;status&rsquo;, &rsquo;valid_not_after_from&rsquo;:
&rsquo;validNo&acirc; <br>
tAfterFrom&rsquo;, &rsquo;match_exactly&rsquo;:
&rsquo;matchExactly&rsquo;,
&rsquo;valid_not_before_to&rsquo;:
&rsquo;validNotBeforeTo&rsquo;,
&rsquo;revoked_on_from&rsquo;: &rsquo;revokedOnFrom&rsquo;,
&rsquo;validity_count&rsquo;: &rsquo;validityCount&rsquo;,
&rsquo;org&rsquo;: <br>
&rsquo;org&rsquo;, &rsquo;cert_type_ssl_server&rsquo;:
&rsquo;certTypeSSLServer&rsquo;,
&rsquo;issued_on_from&rsquo;: &rsquo;issuedOnFrom&rsquo;,
&rsquo;cert_type_sub_email_ca&rsquo;:
&rsquo;certTypeSubEmailCA&rsquo;, &rsquo;serial_from&rsquo;:
&rsquo;serialFrom&rsquo;, &rsquo;coun&acirc; <br>
try&rsquo;: &rsquo;country&rsquo;,
&rsquo;issued_on_to&rsquo;: &rsquo;issuedOnTo&rsquo;,
&rsquo;revoked_by&rsquo;: &rsquo;revokedBy&rsquo;,
&rsquo;valid_not_after_to&rsquo;:
&rsquo;validNotAfterTo&rsquo;,
&rsquo;cert_type_secure_email&rsquo;:
&rsquo;certTypeSecureEmail&rsquo;, <br>
&rsquo;revoked_on_to&rsquo;: &rsquo;revokedOnTo&rsquo;}</p>

<p style="margin-top: 1em">pki.cert.main()</p>

<p style="margin-top: 1em">client Module <br>
class pki.client.PKIConnection(protocol=&rsquo;http&rsquo;,
hostname=&rsquo;localhost&rsquo;, port=&rsquo;8080&rsquo;,
subsystem=&rsquo;ca&rsquo;,
accept=&rsquo;application/json&rsquo;, trust_env=None) <br>
Class to encapsulate the connection between the client and a
Dogtag subsystem.</p>

<p style="margin-top: 1em">authenticate(username=None,
password=None) <br>
Set the parameters used for authentication if
username/password is to be used. Both username and password
must not be None. Note that this method only sets the <br>
parameters. Actual authentication occurs when the connection
is attempted,</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; username --
username to authenticate connection</p>

<p style="margin-top: 1em">&Acirc;&middot; password --
password to authenticate connection</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">delete(*args, **kwargs) <br>
Uses python-requests to issue a DEL request to the
server.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; path (str) --
path URI for the DEL request</p>

<p style="margin-top: 1em">&Acirc;&middot; headers (dict)
-- headers for the DEL request</p>

<p style="margin-top: 1em">Returns <br>
request.response -- response from the server</p>

<p style="margin-top: 1em">Raises Exception from
python-requests in case the DEL was not successful, or
returns an error code.</p>

<p style="margin-top: 1em">get(*args, **kwargs) <br>
Uses python-requests to issue a GET request to the
server.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; path (str) --
path URI for the GET request</p>

<p style="margin-top: 1em">&Acirc;&middot; headers (dict)
-- headers for the GET request</p>

<p style="margin-top: 1em">&Acirc;&middot; params (dict or
bytes) -- Query parameters for the GET request</p>

<p style="margin-top: 1em">&Acirc;&middot; payload (dict,
bytes, file-like object) -- data to be sent in the body of
the request</p>

<p style="margin-top: 1em">Returns <br>
request.response -- response from the server</p>

<p style="margin-top: 1em">Raises Exception from
python-requests in case the GET was not successful, or
returns an error code.</p>

<p style="margin-top: 1em">post(*args, **kwargs) <br>
Uses python-requests to issue a POST request to the
server.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; path (str) --
path URI for the POST request</p>

<p style="margin-top: 1em">&Acirc;&middot; payload (dict,
bytes, file-like object) -- data to be sent in the body of
the request</p>

<p style="margin-top: 1em">&Acirc;&middot; headers (dict)
-- headers for the POST request</p>

<p style="margin-top: 1em">&Acirc;&middot; params (dict or
bytes) -- Query parameters for the POST request</p>

<p style="margin-top: 1em">Returns <br>
request.response -- response from the server</p>

<p style="margin-top: 1em">Raises Exception from
python-requests in case the POST was not successful, or
returns an error code.</p>

<p style="margin-top: 1em">put(*args, **kwargs) <br>
Uses python-requests to issue a PUT request to the
server.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; path (str) --
path URI for the PUT request</p>

<p style="margin-top: 1em">&Acirc;&middot; payload (dict,
bytes, file-like object) -- data to be sent in the body of
the request</p>

<p style="margin-top: 1em">&Acirc;&middot; headers (dict)
-- headers for the PUT request</p>

<p style="margin-top: 1em">Returns <br>
request.response -- response from the server</p>

<p style="margin-top: 1em">Raises Exception from
python-requests in case the PUT was not successful, or
returns an error code.</p>


<p style="margin-top: 1em">set_authentication_cert(pem_cert_path)
<br>
Set the path to the PEM file containing the certificate and
private key for the client certificate to be used for
authentication to the server, when client certifi&acirc;
<br>
cate authentication is required.</p>

<p style="margin-top: 1em">Parameters <br>
pem_cert_path (str) -- path to the PEM file</p>

<p style="margin-top: 1em">Returns <br>
None</p>

<p style="margin-top: 1em">Raises Exception if path is
empty or None.</p>


<p style="margin-top: 1em">pki.client.catch_insecure_warning(func)
<br>
Temporary silence InsecureRequestWarning</p>

<p style="margin-top: 1em">PKIConnection is not able to
verify HTTPS connections yet. This decorator catches the
warning.</p>

<p style="margin-top: 1em">See
https://fedorahosted.org/pki/ticket/1253</p>

<p style="margin-top: 1em">pki.client.main() <br>
Test code for the PKIConnection class. :return: None</p>

<p style="margin-top: 1em">crypto Module <br>
Module containing crypto classes.</p>

<p style="margin-top: 1em">class pki.crypto.CryptoProvider
<br>
Bases: object</p>

<p style="margin-top: 1em">Abstract class containing
methods to do cryptographic operations.</p>

<p style="margin-top: 1em">asymmetric_wrap(data,
wrapping_cert, mechanism=None) <br>
encrypt a symmetric key with the public key of a transport
cert.</p>

<p style="margin-top: 1em">The mechanism is the type of
symmetric key, which defaults to a 56 bit DES3 key.</p>

<p style="margin-top: 1em">static
generate_nonce_iv(mechanism) <br>
Create a random initialization vector</p>

<p style="margin-top: 1em">generate_session_key() <br>
Generate a session key to be used for wrapping data to the
DRM This must return a 3DES 168 bit key</p>


<p style="margin-top: 1em">generate_symmetric_key(mechanism=None,
size=0) <br>
Generate and return a symmetric key</p>

<p style="margin-top: 1em">get_cert(cert_nick) <br>
Get the certificate for the specified cert_nick.</p>

<p style="margin-top: 1em">initialize() <br>
Initialization code</p>

<p style="margin-top: 1em">symmetric_unwrap(data,
wrapping_key, mechanism=None, nonce_iv=None) <br>
decrypt data originally encrypted with symmetric key
(wrapping key)</p>

<p style="margin-top: 1em">We expect the data and nonce_iv
values to be base64 encoded. The mechanism is the type of
key used to do the wrapping. It defaults to a 56 bit DES3
key.</p>

<p style="margin-top: 1em">symmetric_wrap(data,
wrapping_key, mechanism=None, nonce_iv=None) <br>
encrypt data using a symmetric key (wrapping key)</p>

<p style="margin-top: 1em">class
pki.crypto.NSSCryptoProvider(certdb_dir,
certdb_password=None, password_file=None) <br>
Bases: pki.crypto.CryptoProvider</p>

<p style="margin-top: 1em">Class that defines NSS
implementation of CryptoProvider. Requires an NSS database
to have been set up and initialized.</p>

<p style="margin-top: 1em">Note that all inputs and outputs
are unencoded.</p>

<p style="margin-top: 1em">asymmetric_wrap(data,
wrapping_cert, mechanism=310) <br>
:param data Data to be wrapped :param wrapping_cert Public
key to wrap data :param mechanism algorithm of symmetric key
to be wrapped</p>

<p style="margin-top: 1em">Wrap (encrypt) data using the
supplied asymmetric key</p>

<p style="margin-top: 1em">static
generate_nonce_iv(mechanism=310) <br>
Create a random initialization vector</p>

<p style="margin-top: 1em">generate_session_key() <br>
Returns a session key to be used when wrapping secrets for
the DRM This will return a 168 bit 3DES key.</p>


<p style="margin-top: 1em">generate_symmetric_key(mechanism=310,
size=0) <br>
Returns a symmetric key.</p>

<p style="margin-top: 1em">Note that for fixed length keys,
this length should be 0. If no length is provided, then the
function will either use 0 (for fixed length keys) or the
maximum <br>
available length for that algorithm and the token.</p>

<p style="margin-top: 1em">get_cert(cert_nick) <br>
:param cert_nick Nickname for the certificate to be
returned</p>

<p style="margin-top: 1em">Searches NSS database and
returns SecItem object for this certificate.</p>

<p style="margin-top: 1em">import_cert(cert_nick, cert,
trust=&rsquo;, &rsquo;) <br>
Import a certificate into the nss database</p>

<p style="margin-top: 1em">initialize() <br>
Initialize the nss db. Must be done before any crypto
operations</p>

<p style="margin-top: 1em">classmethod
setup_contexts(mechanism, sym_key, nonce_iv) <br>
Set up contexts to do wrapping/unwrapping by symmetric
keys.</p>

<p style="margin-top: 1em">static setup_database(db_dir,
password=None, over_write=False, password_file=None) <br>
Create an NSS database</p>

<p style="margin-top: 1em">symmetric_unwrap(data,
wrapping_key, mechanism=310, nonce_iv=None) <br>
:param data Data to be unwrapped :param wrapping_key
Symmetric key to unwrap data :param nonce_iv iv data</p>

<p style="margin-top: 1em">Unwrap (decrypt) data using the
supplied symmetric key</p>

<p style="margin-top: 1em">symmetric_wrap(data,
wrapping_key, mechanism=310, nonce_iv=None) <br>
:param data Data to be wrapped :param wrapping_key Symmetric
key to wrap data</p>

<p style="margin-top: 1em">Wrap (encrypt) data using the
supplied symmetric key</p>

<p style="margin-top: 1em">encoder Module <br>
pki.encoder.CustomTypeDecoder(dct)</p>

<p style="margin-top: 1em">class
pki.encoder.CustomTypeEncoder(skipkeys=False,
ensure_ascii=True, check_circular=True, allow_nan=True,
sort_keys=False, indent=None, separators=None,
encoding=&rsquo;utf-8&rsquo;, <br>
default=None) <br>
Bases: json.encoder.JSONEncoder</p>

<p style="margin-top: 1em">A custom JSONEncoder class that
knows how to encode core custom objects.</p>

<p style="margin-top: 1em">Custom objects are encoded as
JSON object literals (ie, dicts) with one key,
&rsquo;TypeName&rsquo; where &rsquo;TypeName&rsquo; is the
actual name of the type to which the object belongs. That
<br>
single key maps to another object literal which is just the
__dict__ of the object encoded.</p>

<p style="margin-top: 1em">Reason for ignoring the error:
E0202 - An attribute affected in json.encoder line 157 hide
this method reported by pylint:</p>

<p style="margin-top: 1em">The error is in
json.encoder.JSONEncoder class. There is a default method
(which is overridden here) and also a class attribute
self.default initialized in the init <br>
method of the class. The intention of such usage being that
a custom default method object can be passed to init when
creating an instance of JSONEncoder, which is then <br>
assigned to class&rsquo;s default method. (which is valid)
But pylint raises an issue due to the usage of same name for
a method and an attribute in which case the attribute <br>
definition hides the method. The reason and example for the
issue: (top rated comment) <br>

http://stackoverflow.com/questions/12949064/python-what-happens-
when-instance-variable-name-is-same-as-method-name</p>

<p style="margin-top: 1em">static
attr_name_conversion(attr_dict, object_class)</p>

<p style="margin-top: 1em">default(obj)</p>

<p style="margin-top: 1em">pki.encoder.decode_cert(data)
<br>
base64 decode X.509 certificate</p>

<p style="margin-top: 1em">Parameters <br>
data (str, bytes) -- data as bytes or ASCII text</p>

<p style="margin-top: 1em">Return type <br>
bytes</p>

<p style="margin-top: 1em">pki.encoder.encode_cert(data)
<br>
base64 encode X.509 certificate</p>

<p style="margin-top: 1em">Python 3&rsquo;s
base64.b64encode() doesn&rsquo;t support ASCII text.</p>

<p style="margin-top: 1em">Parameters <br>
data (str, bytes) -- data as bytes or ASCII text</p>

<p style="margin-top: 1em">Return type <br>
bytes</p>

<p style="margin-top: 1em">key Module <br>
Module containing the Python client classes for the
KeyClient and KeyRequestClient REST API on a DRM</p>

<p style="margin-top: 1em">class
pki.key.AsymKeyGenerationRequest(client_key_id=None,
key_size=None, key_algorithm=None, key_usages=None,
trans_wrapped_session_key=None, realm=None) <br>
Bases: pki.ResourceMessage</p>

<p style="margin-top: 1em">Class representing the data sent
to the DRM when generating and archiving asymmetric keys in
the DRM.</p>

<p style="margin-top: 1em">DECRYPT_USAGE =
&rsquo;decrypt&rsquo;</p>

<p style="margin-top: 1em">DERIVE_USAGE =
&rsquo;derive&rsquo;</p>

<p style="margin-top: 1em">ENCRYPT_USAGE =
&rsquo;encrypt&rsquo;</p>

<p style="margin-top: 1em">SIGN_RECOVER_USAGE =
&rsquo;sign_recover&rsquo;</p>

<p style="margin-top: 1em">SIGN_USAGE =
&rsquo;sign&rsquo;</p>

<p style="margin-top: 1em">UNWRAP_USAGE =
&rsquo;unwrap&rsquo;</p>

<p style="margin-top: 1em">VERIFY_RECOVER_USAGE =
&rsquo;verify_recover&rsquo;</p>

<p style="margin-top: 1em">VERIFY_USAGE =
&rsquo;verify&rsquo;</p>

<p style="margin-top: 1em">WRAP_USAGE =
&rsquo;wrap&rsquo;</p>

<p style="margin-top: 1em">class pki.key.Key(key_data) <br>
Bases: object</p>

<p style="margin-top: 1em">An instance of this class stores
the decoded encrypted secret present in the KeyData object
passed in the constructor. All the key retrieval requests
return this object.</p>

<p style="margin-top: 1em">class
pki.key.KeyArchivalRequest(client_key_id=None,
data_type=None, wrapped_private_data=None,
trans_wrapped_session_key=None, pki_archive_options=None,
algorithm_oid=None, <br>
symkey_params=None, key_algorithm=None, key_size=None,
realm=None) <br>
Bases: pki.ResourceMessage</p>

<p style="margin-top: 1em">Class representing the object
sent to the DRM when archiving a secret.</p>

<p style="margin-top: 1em">class
pki.key.KeyClient(connection, crypto,
transport_cert_nick=None) <br>
Bases: object</p>

<p style="margin-top: 1em">Class that encapsulates and
mirrors the functions in the KeyResource and
KeyRequestResource Java classes in the DRM REST API.</p>

<p style="margin-top: 1em">AES_ALGORITHM =
&rsquo;AES&rsquo;</p>

<p style="margin-top: 1em">ASYMMETRIC_KEY_TYPE =
&rsquo;asymmetricKey&rsquo;</p>

<p style="margin-top: 1em">DES3_ALGORITHM =
&rsquo;DES3&rsquo;</p>

<p style="margin-top: 1em">DESEDE_ALGORITHM =
&rsquo;DESede&rsquo;</p>

<p style="margin-top: 1em">DES_ALGORITHM =
&rsquo;DES&rsquo;</p>

<p style="margin-top: 1em">DES_EDE3_CBC_OID = &rsquo;{1 2
840 113549 3 7}&rsquo;</p>

<p style="margin-top: 1em">DSA_ALGORITHM =
&rsquo;DSA&rsquo;</p>

<p style="margin-top: 1em">KEY_STATUS_ACTIVE =
&rsquo;active&rsquo;</p>

<p style="margin-top: 1em">KEY_STATUS_INACTIVE =
&rsquo;inactive&rsquo;</p>

<p style="margin-top: 1em">PASS_PHRASE_TYPE =
&rsquo;passPhrase&rsquo;</p>

<p style="margin-top: 1em">RC2_ALGORITHM =
&rsquo;RC2&rsquo;</p>

<p style="margin-top: 1em">RC4_ALGORITHM =
&rsquo;RC4&rsquo;</p>

<p style="margin-top: 1em">RSA_ALGORITHM =
&rsquo;RSA&rsquo;</p>

<p style="margin-top: 1em">SYMMETRIC_KEY_TYPE =
&rsquo;symmetricKey&rsquo;</p>

<p style="margin-top: 1em">approve_request(inst, *args,
**kwargs) <br>
Approve a secret recovery request</p>

<p style="margin-top: 1em">archive_encrypted_data(inst,
*args, **kwargs) <br>
Archive a secret (symmetric key or passphrase) on the
DRM.</p>

<p style="margin-top: 1em">Refer to archive_key() comments
for a description of client_key_id, data_type, key_algorithm
and key_size.</p>

<p style="margin-top: 1em">The following parameters are
also required:</p>

<p style="margin-top: 1em">&Acirc;&middot; encrypted_data -
which is the data encrypted by a session key (168 bit 3DES
symmetric key)</p>

<p style="margin-top: 1em">&Acirc;&middot;
wrapped_session_key - the above session key wrapped by the
DRM transport certificate public key.</p>

<p style="margin-top: 1em">&Acirc;&middot; the
algorithm_oid string for the symmetric key wrap</p>

<p style="margin-top: 1em">&Acirc;&middot; the nonce_iv for
the symmetric key wrap</p>

<p style="margin-top: 1em">This function is useful if the
caller wants to do their own wrapping of the secret, or if
the secret was generated on a separate client machine and
the wrapping was <br>
done there.</p>

<p style="margin-top: 1em">The function returns a
KeyRequestResponse object containing a KeyRequestInfo object
with details about the archival request and key
archived.</p>

<p style="margin-top: 1em">archive_key(inst, *args,
**kwargs) <br>
Archive a secret (symmetric key or passphrase) on the
DRM.</p>

<p style="margin-top: 1em">Requires a user-supplied client
ID. There can be only one active key with a specified client
ID. If a record for a duplicate active key exists, a
BadRequestExcep&acirc; <br>
tion is thrown.</p>

<p style="margin-top: 1em">data_type can be one of the
following: <br>
KeyClient.SYMMETRIC_KEY_TYPE, KeyClient.ASYMMETRIC_KEY_TYPE,
KeyClient.PASS_PHRASE_TYPE</p>

<p style="margin-top: 1em">key_algorithm and key_size are
applicable to symmetric keys only. If a symmetric key is
being archived, these parameters are required.</p>

<p style="margin-top: 1em">private_data is the raw secret
to be archived. It will be wrapped and sent to the DRM.</p>

<p style="margin-top: 1em">The function returns a
KeyRequestResponse object containing a KeyRequestInfo object
with details about the archival request and key
archived.</p>

<p style="margin-top: 1em">archive_pki_options(inst, *args,
**kwargs) <br>
Archive a secret (symmetric key or passphrase) on the
DRM.</p>

<p style="margin-top: 1em">Refer to archive_key() comments
for a description of client_key_id, data_type, key_algorithm
and key_size.</p>

<p style="margin-top: 1em">pki_archive_options is the data
to be archived wrapped in a PKIArchiveOptions structure,</p>

<p style="margin-top: 1em">The function returns a
KeyRequestResponse object containing a KeyRequestInfo object
with details about the archival request and key
archived.</p>

<p style="margin-top: 1em">cancel_request(inst, *args,
**kwargs) <br>
Cancel a secret recovery request</p>

<p style="margin-top: 1em">generate_asymmetric_key(inst,
*args, **kwargs) <br>
Generate and archive asymmetric keys in the DRM. Supports
algorithms RSA and DSA. Valid key size for RSA = 256 + (16 *
n), where n: 0-496 Valid key size for DSA = <br>
512, 768, 1024. p,q,g params are not supported.</p>

<p style="margin-top: 1em">Return a KeyRequestResponse
which contains a KeyRequestInfo object that describes the
URL for the request and generated keys.</p>

<p style="margin-top: 1em">generate_symmetric_key(inst,
*args, **kwargs) <br>
Generate and archive a symmetric key on the DRM.</p>

<p style="margin-top: 1em">Return a KeyRequestResponse
which contains a KeyRequestInfo object that describes the
URL for the request and generated key.</p>

<p style="margin-top: 1em">get_active_key_info(inst, *args,
**kwargs) <br>
Get the info in the KeyRecord for the active secret in the
DRM.</p>

<p style="margin-top: 1em">get_key_info(inst, *args,
**kwargs) <br>
Get the info in the KeyRecord for a specific secret in the
DRM.</p>

<p style="margin-top: 1em">get_request_info(inst, *args,
**kwargs) <br>
Return a KeyRequestInfo object for a specific request.</p>

<p style="margin-top: 1em">list_keys(inst, *args, **kwargs)
<br>
List/Search archived secrets in the DRM.</p>

<p style="margin-top: 1em">See KRAClient.list_keys for the
valid values of status. Returns a KeyInfoCollection
object.</p>

<p style="margin-top: 1em">list_requests(inst, *args,
**kwargs) <br>
List/Search key requests in the DRM.</p>

<p style="margin-top: 1em">See KRAClient.list_requests for
the valid values of request_state and request_type. Returns
a KeyRequestInfoCollection object.</p>

<p style="margin-top: 1em">modify_key_status(inst, *args,
**kwargs) <br>
Modify the status of a key</p>

<p style="margin-top: 1em">recover_key(inst, *args,
**kwargs) <br>
Create a request to recover a secret.</p>

<p style="margin-top: 1em">To retrieve a symmetric key or
passphrase, the only parameter that is required is the
keyId. It is possible (but not required) to pass in the
session <br>
keys/passphrase and nonceData for the retrieval at this
time. Those parameters are documented in the docstring for
retrieve_key below.</p>

<p style="margin-top: 1em">To retrieve an asymmetric key,
the keyId and the the base-64 encoded certificate is
required.</p>

<p style="margin-top: 1em">reject_request(inst, *args,
**kwargs) <br>
Reject a secret recovery request.</p>

<p style="margin-top: 1em">retrieve_key(inst, *args,
**kwargs) <br>
Retrieve a secret (passphrase or symmetric key) from the
DRM.</p>

<p style="margin-top: 1em">This function generates a key
recovery request, approves it, and retrieves the secret
referred to by key_id. This assumes that only one approval
is required to <br>
authorize the recovery.</p>

<p style="margin-top: 1em">To ensure data security in
transit, the data will be returned encrypted by a session
key (168 bit 3DES symmetric key) - which is first wrapped
(encrypted) by the <br>
public key of the DRM transport certificate before being
sent to the DRM. The parameter trans_wrapped_session_key
refers to this wrapped session key.</p>

<p style="margin-top: 1em">There are two ways of using this
function:</p>

<p style="margin-top: 1em">1. trans_wrapped_session_key is
not provided by caller.</p>

<p style="margin-top: 1em">In this case, the function will
call CryptoProvider methods to generate and wrap the session
key. The function will return the KeyData object with a
private_data <br>
attribute which stores the unwrapped key information.</p>

<p style="margin-top: 1em">2. The trans_wrapped_session_key
is provided by the caller.</p>

<p style="margin-top: 1em">In this case, the function will
simply pass the data to the DRM, and will return the secret
wrapped in the session key. The secret will still need to be
unwrapped <br>
by the caller.</p>

<p style="margin-top: 1em">The function will return the
KeyData object, where the KeyData structure includes the
wrapped secret and some nonce data to be used as a salt when
unwrapping.</p>


<p style="margin-top: 1em">retrieve_key_by_passphrase(inst,
*args, **kwargs) <br>
Retrieve a secret (passphrase or symmetric key) from the DRM
using a passphrase.</p>

<p style="margin-top: 1em">This function generates a key
recovery request, approves it, and retrieves the secret
referred to by key_id. This assumes that only one approval
is required to <br>
authorize the recovery.</p>

<p style="margin-top: 1em">The secret is secured in transit
by wrapping the secret with a passphrase using PBE
encryption.</p>

<p style="margin-top: 1em">There are two ways of using this
function:</p>

<p style="margin-top: 1em">1. A passphrase is provided by
the caller.</p>

<p style="margin-top: 1em">In this case, CryptoProvider
methods will be called to create the data to securely send
the passphrase to the DRM. Basically, three pieces of data
will be sent:</p>

<p style="margin-top: 1em">&Acirc;&middot; the passphrase
wrapped by a 168 bit 3DES symmetric key (the session key).
This is referred to as the parameter
session_wrapped_passphrase.</p>

<p style="margin-top: 1em">&Acirc;&middot; the session key
wrapped with the public key in the DRM transport
certificate. This is referred to as the
trans_wrapped_session_key.</p>

<p style="margin-top: 1em">&Acirc;&middot; ivps nonce data,
referred to as nonce_data</p>

<p style="margin-top: 1em">The function will return the
tuple (KeyData, unwrapped_secret)</p>

<p style="margin-top: 1em">2. The caller provides the
trans_wrapped_session_key, session_wrapped_passphrase and
nonce_data.</p>

<p style="margin-top: 1em">In this case, the data will
simply be passed to the DRM. The function will return the
secret encrypted by the passphrase using PBE Encryption. The
secret will <br>
still need to be decrypted by the caller.</p>

<p style="margin-top: 1em">The function will return the
tuple (KeyData, None)</p>

<p style="margin-top: 1em">retrieve_key_by_pkcs12(inst,
*args, **kwargs) <br>
Retrieve an asymmetric private key and return it as PKCS12
data.</p>

<p style="margin-top: 1em">This function generates a key
recovery request, approves it, and retrieves the secret
referred to by key_id in a PKCS12 file. This assumes that
only one approval <br>
is required to authorize the recovery.</p>

<p style="margin-top: 1em">This function requires the
following parameters: - key_id : the ID of the key -
certificate: the certificate associated with the private key
- passphrase: A <br>
passphrase for the pkcs12 file.</p>

<p style="margin-top: 1em">The function returns a KeyData
object.</p>

<p style="margin-top: 1em">retrieve_key_data(inst, *args,
**kwargs) <br>
Retrieve a secret from the DRM.</p>

<p style="margin-top: 1em">@param: data - a
KeyRecoveryRequest containing the keyId of the secret being
retrieved, the request_id of the approved recovery request
and a wrapping mechanism. <br>
More details at KRAClient.retrieve_key.</p>

<p style="margin-top: 1em">Returns a KeyData object
containing the wrapped secret.</p>


<p style="margin-top: 1em">set_transport_cert(transport_cert_nick)
<br>
Set the transport certificate for crypto operations</p>

<p style="margin-top: 1em">submit_request(inst, *args,
**kwargs) <br>
Submit an archival, recovery or key generation request to
the DRM.</p>

<p style="margin-top: 1em">@param request - is either a
KeyArchivalRequest, KeyRecoverRequest,
SymKeyGenerationRequest or AsymKeyGenerationRequest.</p>

<p style="margin-top: 1em">returns a KeyRequestResponse
object.</p>

<p style="margin-top: 1em">class pki.key.KeyData <br>
Bases: object</p>

<p style="margin-top: 1em">This is the object that contains
the encoded wrapped secret when that secret is retrieved. It
is used by the DRM to send information of the key in the key
retrieval <br>
requests.</p>

<p style="margin-top: 1em">classmethod from_json(attr_list)
<br>
Return a KeyData object from a JSON dict</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;nonceData&rsquo;: &rsquo;nonce_data&rsquo;,
&rsquo;wrappedPrivateData&rsquo;:
&rsquo;wrapped_private_data&rsquo;}</p>

<p style="margin-top: 1em">class pki.key.KeyInfo <br>
Bases: object</p>

<p style="margin-top: 1em">This is the object that contains
information stored in the database record for an archived
secret. It does not contain the secret itself.</p>

<p style="margin-top: 1em">classmethod from_json(attr_list)
<br>
Return KeyInfo from JSON dict</p>

<p style="margin-top: 1em">get_key_id() <br>
Return the key ID as parsed from key URL</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;publicKey&rsquo;: &rsquo;public_key&rsquo;,
&rsquo;clientKeyID&rsquo;: &rsquo;client_key_id&rsquo;,
&rsquo;ownerName&rsquo;: &rsquo;owner_name&rsquo;,
&rsquo;keyURL&rsquo;: &rsquo;key_url&rsquo;}</p>

<p style="margin-top: 1em">class pki.key.KeyInfoCollection
<br>
Bases: object</p>

<p style="margin-top: 1em">This class represents data
returned when searching the DRM archived secrets.
Essentially, its a list of KeyInfo objects.</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Return a KeyInfoCollection object from its JSON
representation</p>

<p style="margin-top: 1em">class
pki.key.KeyRecoveryRequest(key_id=None, request_id=None,
trans_wrapped_session_key=None,
session_wrapped_passphrase=None, nonce_data=None,
certificate=None, <br>
passphrase=None) <br>
Bases: pki.ResourceMessage</p>

<p style="margin-top: 1em">Class representing the data sent
to the DRM when either creating a request for the recovery
of a secret, or, once the request is approved, retrieving
the secret.</p>

<p style="margin-top: 1em">class pki.key.KeyRequestInfo
<br>
Bases: object</p>

<p style="margin-top: 1em">This class represents data about
key requests (archival, recovery, key generation etc.) in
the DRM.</p>

<p style="margin-top: 1em">classmethod from_json(attr_list)
<br>
Return a KeyRequestInfo object from a JSON dict.</p>

<p style="margin-top: 1em">get_key_id() <br>
Return the ID of the secret referred to by this request.</p>

<p style="margin-top: 1em">get_request_id() <br>
Return the request ID by parsing the request URL.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;requestType&rsquo;: &rsquo;request_type&rsquo;,
&rsquo;requestStatus&rsquo;: &rsquo;request_status&rsquo;,
&rsquo;requestURL&rsquo;: &rsquo;request_url&rsquo;,
&rsquo;keyURL&rsquo;: &rsquo;key_url&rsquo;}</p>

<p style="margin-top: 1em">class
pki.key.KeyRequestInfoCollection <br>
Bases: object</p>

<p style="margin-top: 1em">This class represents the data
returned when searching the key requests in the DRM.
Essentially, its a list of KeyRequestInfo objects.</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Return a KeyRequestInfoCollection object from its JSON
representation.</p>

<p style="margin-top: 1em">class pki.key.KeyRequestResponse
<br>
Bases: object</p>

<p style="margin-top: 1em">This class is returned when an
archival, recovery or key generation request is created. It
includes a KeyRequestInfo object with information about the
created request, <br>
and a KeyData structure which contains the wrapped secret
(if that operation is supported).</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Return a KeyRequestResponse object from its JSON
representation.</p>

<p style="margin-top: 1em">get_key_id() <br>
Return the id for the key archived, recovered or
generated</p>

<p style="margin-top: 1em">get_request_id() <br>
Return the id for the created request</p>

<p style="margin-top: 1em">class pki.key.RequestId(req_id)
<br>
Bases: object</p>

<p style="margin-top: 1em">Class representing a Request
ID</p>

<p style="margin-top: 1em">class
pki.key.SymKeyGenerationRequest(client_key_id=None,
key_size=None, key_algorithm=None, key_usages=None,
trans_wrapped_session_key=None, realm=None) <br>
Bases: pki.ResourceMessage</p>

<p style="margin-top: 1em">Class representing the data sent
to the DRM when generating and archiving a symmetric key in
the DRM.</p>

<p style="margin-top: 1em">DECRYPT_USAGE =
&rsquo;decrypt&rsquo;</p>

<p style="margin-top: 1em">ENCRYPT_USAGE =
&rsquo;encrypt&rsquo;</p>

<p style="margin-top: 1em">SIGN_USAGE =
&rsquo;sign&rsquo;</p>

<p style="margin-top: 1em">UNWRAP_USAGE =
&rsquo;unwrap&rsquo;</p>

<p style="margin-top: 1em">VERIFY_USAGE =
&rsquo;verify&rsquo;</p>

<p style="margin-top: 1em">WRAP_USAGE =
&rsquo;wrap&rsquo;</p>

<p style="margin-top: 1em">pki.key.main() <br>
Some unit tests - basically printing different types of
requests</p>

<p style="margin-top: 1em">kra Module <br>
Module containing KRAClient class. This class should be used
by Python clients to interact with the DRM to expose the
functionality of the KeyClient and KeyRequestResource REST
<br>
APIs.</p>

<p style="margin-top: 1em">class
pki.kra.KRAClient(connection, crypto,
transport_cert_nick=None) <br>
Bases: object</p>

<p style="margin-top: 1em">Client class that models
interactions with a KRA using the Key and KeyRequest REST
APIs.</p>

<p style="margin-top: 1em">profile Module <br>
class pki.profile.Descriptor(syntax=None, constraint=None,
description=None, default_value=None) <br>
Bases: object</p>

<p style="margin-top: 1em">This class represents the
description of a ProfileAttribute. It stores information
such as the syntax, constraint and default value of a
profile attribute.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;DefaultValue&rsquo;: &rsquo;default_value&rsquo;,
&rsquo;Constraint&rsquo;: &rsquo;constraint&rsquo;,
&rsquo;Description&rsquo;: &rsquo;description&rsquo;,
&rsquo;Syntax&rsquo;: &rsquo;syntax&rsquo;}</p>

<p style="margin-top: 1em">class
pki.profile.PolicyConstraint(name=None, description=None,
class_id=None, policy_constraint_values=None) <br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class contains
the policy constraints applied to a ProfileInput used by a
certificate enrollment request.</p>


<p style="margin-top: 1em">add_constraint_value(policy_constraint_value)
<br>
Add a PolicyConstraintValue to the policy_constraint_values
list.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>


<p style="margin-top: 1em">get_constraint_value(policy_constraint_value_name)
<br>
Returns a PolicyConstraintValue object with the given name.
None, if there is no match.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;classId&rsquo;: &rsquo;class_id&rsquo;,
&rsquo;id&rsquo;: &rsquo;name&rsquo;,
&rsquo;constraint&rsquo;:
&rsquo;policy_constraint_values&rsquo;}</p>


<p style="margin-top: 1em">remove_constraint_value(policy_constraint_value_name)
<br>
Removes a PolicyConstraintValue with the given name form the
policy_constraint_values list.</p>

<p style="margin-top: 1em">class
pki.profile.PolicyConstraintValue(name=None, value=None,
descriptor=None) <br>
Bases: object</p>

<p style="margin-top: 1em">Represents a
PolicyConstraintValue</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">name</p>

<p style="margin-top: 1em">class
pki.profile.PolicyDefault(name=None, class_id=None,
description=None, policy_attributes=None,
policy_params=None) <br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class contains
information of the default usage of a specific
ProfileInput.</p>

<p style="margin-top: 1em">add_attribute(policy_attribute)
<br>
Add a policy attribute to the attribute list. @param
policy_attribute - A ProfileAttribute object</p>

<p style="margin-top: 1em">add_parameter(policy_parameter)
<br>
Add a profile parameter to the parameters list. @param
policy_parameter - A ProfileParameter object.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>


<p style="margin-top: 1em">get_attribute(policy_attribute_name)
<br>
Fetch the policy attribute with the given name from the
attributes list.</p>


<p style="margin-top: 1em">get_parameter(profile_parameter_name)
<br>
Fetch a profile parameter with the given name from the
parameters list.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;classId&rsquo;: &rsquo;class_id&rsquo;,
&rsquo;params&rsquo;: &rsquo;policy_params&rsquo;,
&rsquo;id&rsquo;: &rsquo;name&rsquo;,
&rsquo;policyAttribute&rsquo;:
&rsquo;policy_attributes&rsquo;}</p>


<p style="margin-top: 1em">remove_attribute(policy_attribute_name)
<br>
Remove a policy attribute with the given name from the
attributes list.</p>


<p style="margin-top: 1em">remove_parameter(profile_parameter_name)
<br>
Remove a profile parameter with the given name from the
parameters list.</p>

<p style="margin-top: 1em">class
pki.profile.PolicySet(name=None, policy_list=None) <br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class contains
a name value pair of the policy name and the ProfilePolicy
object.</p>

<p style="margin-top: 1em">add_policy(profile_policy) <br>
Add a ProfilePolicy object to the policy_list</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">get_policy(policy_id) <br>
Returns a ProfilePolicy object with the given profile
id.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;id&rsquo;: &rsquo;name&rsquo;, &rsquo;value&rsquo;:
&rsquo;policy_list&rsquo;}</p>

<p style="margin-top: 1em">remove_policy(policy_id) <br>
Removes a ProfilePolicy with the given ID from the
PolicySet.</p>

<p style="margin-top: 1em">class
pki.profile.PolicySetList(policy_sets=None) <br>
Bases: object</p>

<p style="margin-top: 1em">An object of this class stores a
list of ProfileSet objects.</p>

<p style="margin-top: 1em">add_policy_set(policy_set) <br>
Add a PolicySet object to the policy_sets list.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">get_policy_set(policy_set_name)
<br>
Fetch the PolicySet object for the given name. Returns None,
if not found.</p>

<p style="margin-top: 1em">policy_sets</p>


<p style="margin-top: 1em">remove_policy_set(policy_set_name)
<br>
Remove a PolicySet object with the given name from the
policy_sets list.</p>

<p style="margin-top: 1em">class
pki.profile.Profile(profile_id=None, class_id=None,
name=None, description=None, enabled=None, visible=None,
enabled_by=None, authenticator_id=None,
authorization_acl=None, <br>
renewal=None, xml_output=None, inputs=None, outputs=None,
policy_set_list=None, link=None) <br>
Bases: object</p>

<p style="margin-top: 1em">This class represents an
enrollment profile.</p>

<p style="margin-top: 1em">add_input(profile_input) <br>
Add a ProfileInput object to the inputs list of the
Profile.</p>

<p style="margin-top: 1em">add_output(profile_output) <br>
Add a ProfileOutput object to the outputs list of the
Profile.</p>

<p style="margin-top: 1em">add_policy_set(policy_set) <br>
Add a PolicySet object to the policy_sets list of the
Profile.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">get_input(profile_input_id) <br>
Fetches a ProfileInput with the given ProfileInput id.
Returns None, if there is no matching input.</p>

<p style="margin-top: 1em">get_output(profile_output_id)
<br>
Fetches a ProfileOutput with the given ProfileOutput id.
Returns None, if there is no matching output.</p>

<p style="margin-top: 1em">get_policy_set(policy_set_name)
<br>
Fetches a ProfileInput with the given ProfileInput id.
Returns None, if there is no matching input.</p>

<p style="margin-top: 1em">static
get_profile_data_from_file(path_to_file) <br>
Reads the file for the serialized Profile object. Currently
supports only data format in json.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;classId&rsquo;: &rsquo;class_id&rsquo;,
&rsquo;authenticatorId&rsquo;:
&rsquo;authenticator_id&rsquo;, &rsquo;Output&rsquo;:
&rsquo;outputs&rsquo;, &rsquo;PolicySets&rsquo;:
&rsquo;policy_set_list&rsquo;, &rsquo;xmlOutput&rsquo;:
&rsquo;xml_output&rsquo;, <br>
&rsquo;authzAcl&rsquo;: &rsquo;authorization_acl&rsquo;,
&rsquo;enabledBy&rsquo;: &rsquo;enabled_by&rsquo;,
&rsquo;Input&rsquo;: &rsquo;inputs&rsquo;, &rsquo;id&rsquo;:
&rsquo;profile_id&rsquo;}</p>

<p style="margin-top: 1em">remove_input(profile_input_id)
<br>
Remove a ProfileInput from the inputs list of the
Profile.</p>


<p style="margin-top: 1em">remove_output(profile_output_id)
<br>
Remove a ProfileOutput from the outputs list of the
Profile.</p>


<p style="margin-top: 1em">remove_policy_set(policy_set_name)
<br>
Remove a PolicySet from the policy_sets list of the
Profile.</p>

<p style="margin-top: 1em">class
pki.profile.ProfileAttribute(name=None, value=None,
descriptor=None) <br>
Bases: object</p>

<p style="margin-top: 1em">Represents a profile attribute
of a ProfileInput.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;Descriptor&rsquo;: &rsquo;descriptor&rsquo;,
&rsquo;Value&rsquo;: &rsquo;value&rsquo;}</p>

<p style="margin-top: 1em">class
pki.profile.ProfileClient(connection) <br>
Bases: object</p>

<p style="margin-top: 1em">This class consists of methods
for accessing the ProfileResource.</p>

<p style="margin-top: 1em">create_profile(inst, *args,
**kwargs) <br>
Create a new profile for the given Profile object.</p>


<p style="margin-top: 1em">create_profile_from_file(path_to_file)
<br>
Reads the file for the serialized Profile object. Performs
the profile create operation. Currently supports only data
format in json.</p>

<p style="margin-top: 1em">delete_profile(inst, *args,
**kwargs) <br>
Delete a profile with the given Profile Id.</p>

<p style="margin-top: 1em">disable_profile(inst, *args,
**kwargs) <br>
Disables a profile.</p>

<p style="margin-top: 1em">enable_profile(inst, *args,
**kwargs) <br>
Enables a profile.</p>

<p style="margin-top: 1em">get_profile(inst, *args,
**kwargs) <br>
Fetches information for the profile for the given profile
id. Returns a ProfileData object.</p>

<p style="margin-top: 1em">list_profiles(inst, *args,
**kwargs) <br>
Fetches the list of profiles. The start and size arguments
provide pagination support. Returns a
ProfileDataInfoCollection object.</p>

<p style="margin-top: 1em">modify_profile(inst, *args,
**kwargs) <br>
Modify an existing profile with the given Profile
object.</p>


<p style="margin-top: 1em">modify_profile_from_file(path_to_file)
<br>
Reads the file for the serialized Profile object. Performs
the profile modify operation. Currently supports only data
format in json.</p>

<p style="margin-top: 1em">class
pki.profile.ProfileDataInfo <br>
Bases: object</p>

<p style="margin-top: 1em">Stores information about a
profile</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;profileDescription&rsquo;:
&rsquo;profile_description&rsquo;, &rsquo;profileId&rsquo;:
&rsquo;profile_id&rsquo;, &rsquo;profileURL&rsquo;:
&rsquo;profile_url&rsquo;, &rsquo;profileName&rsquo;:
&rsquo;profile_name&rsquo;}</p>

<p style="margin-top: 1em">class
pki.profile.ProfileDataInfoCollection <br>
Bases: object</p>

<p style="margin-top: 1em">Represents a collection of
ProfileDataInfo objects. Also encapsulates the links for the
list of the objects stored.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">class
pki.profile.ProfileInput(profile_input_id=None,
class_id=None, name=None, text=None, attributes=None,
config_attributes=None) <br>
Bases: object</p>

<p style="margin-top: 1em">This class encapsulates all the
attributes of a profile to generate a specific property of a
certificate. Ex. Subject name, Requestor Information
etc.</p>


<p style="margin-top: 1em">add_attribute(profile_attribute)
<br>
Add a ProfileAttribute object to the attributes list.</p>


<p style="margin-top: 1em">add_config_attribute(profile_attribute)
<br>
Add a ProfileAttribute object to the config_attributes
list.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>


<p style="margin-top: 1em">get_attribute(profile_attribute_name)
<br>
Returns a ProfileAttribute object for the given name. None,
if no match.</p>


<p style="margin-top: 1em">get_config_attribute(config_attribute_name)
<br>
Returns a ProfileAttribute object with the given name. None,
if there is no match in the config_attributes list.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;ClassID&rsquo;: &rsquo;class_id&rsquo;,
&rsquo;Name&rsquo;: &rsquo;name&rsquo;, &rsquo;Text&rsquo;:
&rsquo;text&rsquo;, &rsquo;ConfigAttribute&rsquo;:
&rsquo;config_attributes&rsquo;, &rsquo;Attribute&rsquo;:
&rsquo;attributes&rsquo;, &rsquo;id&rsquo;:
&rsquo;profile_input_id&rsquo;}</p>


<p style="margin-top: 1em">remove_attribute(profile_attribute_name)
<br>
Remove a ProfileAttribute object with the given name from
the attributes list.</p>


<p style="margin-top: 1em">remove_config_attribute(config_attribute_name)
<br>
Remove a ProfileAttribute object with the given name from
the config_attributes list.</p>

<p style="margin-top: 1em">class
pki.profile.ProfileOutput(profile_output_id=None, name=None,
text=None, class_id=None, attributes=None) <br>
Bases: object</p>

<p style="margin-top: 1em">This class defines the output of
a certificate enrollment request using a profile.</p>


<p style="margin-top: 1em">add_attribute(profile_attribute)
<br>
Add a ProfileAttribute object to the attributes list.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>


<p style="margin-top: 1em">get_attribute(profile_attribute_name)
<br>
Returns a ProfileAttribute object for the given name. None,
if no match.</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;classId&rsquo;: &rsquo;class_id&rsquo;,
&rsquo;id&rsquo;: &rsquo;profile_output_id&rsquo;}</p>


<p style="margin-top: 1em">remove_attribute(profile_attribute_name)
<br>
Remove a ProfileAttribute object with the given name from
the attributes list.</p>

<p style="margin-top: 1em">class
pki.profile.ProfileParameter(name=None, value=None) <br>
Bases: object</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">class
pki.profile.ProfilePolicy(policy_id=None,
policy_default=None, policy_constraint=None) <br>
Bases: object</p>

<p style="margin-top: 1em">This class represents the policy
a profile adheres to. An object of this class stores the
default values for profile and the constraints present on
the values of the <br>
attributes of the profile submitted for an enrollment
request.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">json_attribute_names =
{&rsquo;id&rsquo;: &rsquo;policy_id&rsquo;,
&rsquo;def&rsquo;: &rsquo;policy_default&rsquo;,
&rsquo;constraint&rsquo;:
&rsquo;policy_constraint&rsquo;}</p>

<p style="margin-top: 1em">class
pki.profile.ProfilePolicySet <br>
Bases: object</p>

<p style="margin-top: 1em">Stores a list of ProfilePolicy
objects.</p>

<p style="margin-top: 1em">classmethod
from_json(attr_list)</p>

<p style="margin-top: 1em">pki.profile.main()</p>

<p style="margin-top: 1em">system Module <br>
class pki.system.ConfigurationRequest <br>
Bases: object</p>

<p style="margin-top: 1em">Class used to represent a
configuration request to be submitted to the Java
installation servlet during the execution of pkispawn.</p>

<p style="margin-top: 1em">This class is the python
equivalent of the Java class:
com.netscape.certsrv.system.ConfigurationRequest</p>

<p style="margin-top: 1em">class
pki.system.ConfigurationResponse <br>
Bases: object</p>

<p style="margin-top: 1em">Class used to represent the
response from the Java configuration servlet during the
execution of pkispawn.</p>

<p style="margin-top: 1em">This class is the python
equivalent of the Java class:
com.netscape.certsrv.system.ConfigurationRequest</p>

<p style="margin-top: 1em">class
pki.system.SecurityDomainClient(connection) <br>
Bases: object</p>

<p style="margin-top: 1em">Client used to get the security
domain from a security domain CA. The connection details for
the security domain CA are specified in a PKIConnection
object used to con&acirc; <br>
struct this client.</p>

<p style="margin-top: 1em">get_old_security_domain_info()
<br>
Contact the security domain CA specified in the connection
object used to construct this client and get the security
domain using the old servlet-based interface. <br>
This method is useful when contacting old servers which do
not provide the REST API.</p>

<p style="margin-top: 1em">Returns <br>
pki.system.SecurityDomainInfo</p>

<p style="margin-top: 1em">get_security_domain_info() <br>
Contact the security domain CA specified in the connection
object used to construct this client and get the security
domain using the REST API.</p>

<p style="margin-top: 1em">Returns <br>
pki.system.SecurityDomainInfo</p>

<p style="margin-top: 1em">class
pki.system.SecurityDomainHost <br>
Bases: object</p>

<p style="margin-top: 1em">Class representing a security
domain host.</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Constructs a SecurityDomainHost object from JSON.</p>

<p style="margin-top: 1em">Parameters <br>
json_value (str) -- JSON string representing a security
domain host.</p>

<p style="margin-top: 1em">Returns <br>
SecurityDomainHost</p>

<p style="margin-top: 1em">class
pki.system.SecurityDomainInfo <br>
Bases: object</p>

<p style="margin-top: 1em">Class representing the entire
security domain. This is essentially a list of
SecurityDomainSubsystem components.</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Create a SecurityDomainInfo object from JSON.</p>

<p style="margin-top: 1em">Parameters <br>
json_value (str) -- JSON representation of a security
domain.</p>

<p style="margin-top: 1em">Returns <br>
SecurityDomainInfo</p>

<p style="margin-top: 1em">class
pki.system.SecurityDomainSubsystem <br>
Bases: object</p>

<p style="margin-top: 1em">Class representing a security
domain subsystem. This is essentially a list of
SecurityDomainHost objects of a particular subsystem type
(ca, kra, tps, tks, ocsp).</p>

<p style="margin-top: 1em">classmethod
from_json(json_value) <br>
Constructs a SecurityDomainSubsystem from a JSON
representation.</p>

<p style="margin-top: 1em">Parameters <br>
json_value (str) -- JSON representation of the Security
Domain Subsystem</p>

<p style="margin-top: 1em">Returns <br>
SecurityDomainSubsystem</p>

<p style="margin-top: 1em">class pki.system.SystemCertData
<br>
Bases: object</p>

<p style="margin-top: 1em">Class used to represent the data
for a system certificate, which is used in the data passed
into and returned from the Java installation servlet during
the execution of <br>
pkispawn.</p>

<p style="margin-top: 1em">This class is the python
equivalent of the Java class:
com.netscape.certsrv.system.SystemCertData</p>

<p style="margin-top: 1em">class
pki.system.SystemConfigClient(connection) <br>
Bases: object</p>

<p style="margin-top: 1em">Client used to interact with the
Java configuration servlet to configure a Dogtag subsystem
during the execution of pkispawn.</p>

<p style="margin-top: 1em">The connection details for the
system being configured are passed in the PKIConnection
object used when constructing this object.</p>

<p style="margin-top: 1em">configure(data) <br>
Contacts the server and invokes the Java configuration REST
API to configure a Dogtag subsystem.</p>

<p style="margin-top: 1em">Parameters <br>
data (ConfigurationRequest) -- Configuration request
containing all the input needed to configure the
subsystem</p>

<p style="margin-top: 1em">Returns <br>
ConfigurationResponse -- response from configuration
servlet.</p>

<p style="margin-top: 1em">class
pki.system.SystemStatusClient(connection) <br>
Bases: object</p>

<p style="margin-top: 1em">Client used to check the status
of a Dogtag subsystem.</p>

<p style="margin-top: 1em">get_status() <br>
Checks the status of the subsystem by calling the
getStatus() servlet. This is used to determine if the server
is up and ready to receive and process requests.</p>

<p style="margin-top: 1em">Returns <br>
str - getStatus response</p>

<p style="margin-top: 1em">systemcert Module <br>
Module containing the Python client classes for the
SystemCert REST API</p>

<p style="margin-top: 1em">class
pki.systemcert.SystemCertClient(connection) <br>
Bases: object</p>

<p style="margin-top: 1em">Class encapsulating and
mirroring the functionality in the SystemCertResource Java
interface class defining the REST API for system certificate
resources.</p>

<p style="margin-top: 1em">get_transport_cert(inst, *args,
**kwargs) <br>
Return transport certificate.</p>

<p style="margin-top: 1em">Returns <br>
pki.cert.CertData -- transport certificate data</p>

<p style="margin-top: 1em">upgrade Module <br>
class pki.upgrade.PKIUpgradeScriptlet <br>
Bases: object</p>

<p style="margin-top: 1em">backup(path)</p>

<p style="margin-top: 1em">can_upgrade()</p>

<p style="margin-top: 1em">get_backup_dir()</p>

<p style="margin-top: 1em">init()</p>

<p style="margin-top: 1em">revert()</p>

<p style="margin-top: 1em">update_tracker()</p>

<p style="margin-top: 1em">upgrade()</p>

<p style="margin-top: 1em">upgrade_system()</p>

<p style="margin-top: 1em">class
pki.upgrade.PKIUpgradeTracker(name, filename,
delimiter=&rsquo;=&rsquo;,
version_key=&rsquo;PKI_VERSION&rsquo;,
index_key=&rsquo;PKI_UPGRADE_INDEX&rsquo;) <br>
Bases: object</p>

<p style="margin-top: 1em">get_index()</p>

<p style="margin-top: 1em">get_version()</p>

<p style="margin-top: 1em">remove()</p>

<p style="margin-top: 1em">remove_index()</p>

<p style="margin-top: 1em">remove_version()</p>

<p style="margin-top: 1em">set(version)</p>

<p style="margin-top: 1em">set_index(index)</p>

<p style="margin-top: 1em">set_version(version)</p>

<p style="margin-top: 1em">show()</p>

<p style="margin-top: 1em">class
pki.upgrade.PKIUpgrader(upgrade_dir=&rsquo;/usr/share/pki/upgrade&rsquo;,
version=None, index=None, silent=False) <br>
Bases: object</p>

<p style="margin-top: 1em">all_versions()</p>

<p style="margin-top: 1em">get_current_version()</p>

<p style="margin-top: 1em">get_target_version()</p>

<p style="margin-top: 1em">get_tracker()</p>

<p style="margin-top: 1em">is_complete()</p>

<p style="margin-top: 1em">remove_tracker()</p>

<p style="margin-top: 1em">reset_tracker()</p>

<p style="margin-top: 1em">revert()</p>

<p style="margin-top: 1em">revert_version(version)</p>

<p style="margin-top: 1em">scriptlets(version)</p>

<p style="margin-top: 1em">set_tracker(version)</p>

<p style="margin-top: 1em">show_tracker()</p>

<p style="margin-top: 1em">status()</p>

<p style="margin-top: 1em">upgrade()</p>

<p style="margin-top: 1em">upgrade_version(version)</p>

<p style="margin-top: 1em">version_dir(version)</p>

<p style="margin-top: 1em">versions()</p>

<p style="margin-top: 1em">class pki.upgrade.Version(obj)
<br>
Bases: object</p>

<p style="margin-top: 1em">util Module <br>
Module containing utility functions and classes for the
Dogtag python code</p>

<p style="margin-top: 1em">pki.util.chown(path, uid, gid)
<br>
Change ownership of a folder and its contents.</p>

<p style="margin-top: 1em">pki.util.copy(source, dest) <br>
Copy a file or a folder and its contents.</p>

<p style="margin-top: 1em">pki.util.copydirs(source, dest)
<br>
Copy a folder and its parents while preserving their
attributes.</p>

<p style="margin-top: 1em">pki.util.copyfile(source, dest,
overwrite=True) <br>
Copy a file or link while preserving its attributes.</p>


<p style="margin-top: 1em">pki.util.customize_file(input_file,
output_file, params) <br>
Customize a file with specified parameters.</p>

<p style="margin-top: 1em">&Acirc;&middot; genindex</p>

<p style="margin-top: 1em">&Acirc;&middot; modindex</p>

<p style="margin-top: 1em">&Acirc;&middot; search</p>

<p style="margin-top: 1em">AUTHOR <br>
Dogtag PKI Project Team</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2014, Dogtag PKI Team</p>

<p style="margin-top: 1em">@APPLICATION_VERSION@ June 28,
2017 PKI-PYTHON-CLIENT(1)</p>
<hr>
</body>
</html>
