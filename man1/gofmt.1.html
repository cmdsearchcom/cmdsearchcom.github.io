<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GOFMT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GOFMT(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">GOFMT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gofmt - formats Go programs
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gofmt</b> [<i>flags</i>] [ <i>path ...</i> ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Without an explicit path, it processes the standard input. Given a file, it
  operates on that file; given a directory, it operates on all .go files in that
  directory, recursively. (Files starting with a period are ignored.) By
  default, gofmt prints the reformatted sources to standard output.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Do not print reformatted sources to standard output. If a
      file's formatting is different than gofmt's, print diffs to standard
      output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Print all (including spurious) errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">Do not print reformatted sources to standard output. If a
      file's formatting is different from gofmt's, print its name to standard
      output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r rule</b></dt>
  <dd class="It-tag">Apply the rewrite rule to the source before
    reformatting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">Try to simplify code (after applying the rewrite rule, if
      any).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">Do not print reformatted sources to standard output. If a
      file's formatting is different from gofmt's, overwrite it with gofmt's
      version.</dd>
</dl>
<div class="Pp"></div>
Formatting control flags:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-comments=true</b></dt>
  <dd class="It-tag">Print comments; if false, all comments are elided from the
      output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-tabs=true</b></dt>
  <dd class="It-tag">Indent with tabs; if false, spaces are used instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-tabwidth=8</b></dt>
  <dd class="It-tag">Tab width in spaces.</dd>
</dl>
<div class="Pp"></div>
The rewrite rule specified with the -r flag must be a string of the form:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      pattern -&gt; replacement
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Both pattern and replacement must be valid Go expressions. In the pattern,
  single-character lowercase identifiers serve as wildcards matching arbitrary
  sub-expressions; those expressions will be substituted for the same
  identifiers in the replacement.
<div style="height: 1.00em;">&#x00A0;</div>
When gofmt reads from standard input, it accepts either a full Go program or a
  program fragment. A program fragment must be a syntactically valid declaration
  list, statement list, or expression. When formatting such a fragment, gofmt
  preserves leading indentation as well as leading and trailing spaces, so that
  individual sections of a Go program can be formatted by piping them through
  gofmt.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To check files for unnecessary parentheses:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      gofmt -r '(a) -&gt; a' -l *.go
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To remove the parentheses:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      gofmt -r '(a) -&gt; a' -w *.go
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To convert the package tree from explicit slice upper bounds to implicit ones:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      gofmt -r '&#x03B1;[&#x03B2;:len(&#x03B1;)] -&gt; &#x03B1;[&#x03B2;:]' -w $GOROOT/src/pkg
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The implementation of -r is a bit slow.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This manual page was written by Michael Stapelberg
  &lt;stapelberg@debian.org&gt;, for the Debian project (and may be used by
  others).</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-05-13</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
