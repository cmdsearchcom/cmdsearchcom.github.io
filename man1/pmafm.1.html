<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PMAFM(1) General Commands Manual PMAFM(1)</p>

<p style="margin-top: 1em">NAME <br>
pmafm - Performance Co-Pilot archive folio manager</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pmafm folioname [command [arg ...]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
A collection of one or more Performance Co-Pilot (PCP)
archive logs may be combined with a control file to produce
a PCP archive folio. Archive folios are created using either
<br>
mkaf(1) or the interactive &lsquo;&lsquo;record
mode&rsquo;&rsquo; services of PCP clients like
pmchart(1).</p>

<p style="margin-top: 1em">pmafm provides a number of
services that may be used to process folios. In particular,
it provides support for execution of PCP tools using one or
more of the component archive <br>
logs within an archive folio.</p>

<p style="margin-top: 1em">The target folio is identified
by the folio control file folioname. The syntax for a folio
control file is described in mkaf(1).</p>

<p style="margin-top: 1em">If present, the command and
arguments following folioname are interpreted and executed
as a single command, otherwise commands are read from
standard input.</p>

<p style="margin-top: 1em">The following commands are
supported.</p>

<p style="margin-top: 1em">archives <br>
Subsequent commands apply to all archives in the folio.</p>

<p style="margin-top: 1em">archives N[,...] <br>
Archives within a folio are numbered 1, 2, etc. Subsequent
commands are restricted to apply only to the designated
archives.</p>

<p style="margin-top: 1em">archives name[,...] <br>
Archives within a folio have unique names. Subsequent
commands are restricted to apply only to the designated
archives.</p>

<p style="margin-top: 1em">check Validate the presence and
format of each file in the folio and the component
archives.</p>

<p style="margin-top: 1em">help <br>
A brief reminder of the command syntax. ? is a synonym for
help.</p>

<p style="margin-top: 1em">hosts <br>
Subsequent commands apply to all archives in the folio.</p>

<p style="margin-top: 1em">hosts hostname[,...] <br>
Subsequent commands are restricted to apply only to those
archives that match the designated hostnames.</p>

<p style="margin-top: 1em">list [verbose] <br>
Display the contents of the folio. By default the control
header and the ordinal number, hostname and archive base
name for each archive in the folio. The verbose option <br>
causes pmafm to dump the label record from each archive
using pmdumplog -l.</p>

<p style="margin-top: 1em">The first named archive in the
folio is assumed to be associated with the default host for
any tool that tries to replay multiple archives from the
folio.</p>

<p style="margin-top: 1em">quit <br>
Exit pmafm.</p>

<p style="margin-top: 1em">remove <br>
Echo on standard output the sh(1) commands required to
remove all of the physical files associated with this
archive folio.</p>

<p style="margin-top: 1em">repeat tool [arg ...] <br>
Execute the known PCP tool once per selected archive. For
example, the command <br>
repeat pmval -t60 kernel.all.load <br>
would run pmval(1) once per archive, with an appropriate -a
argument.</p>

<p style="margin-top: 1em">replay <br>
Some archive folios are created by tools (e.g. pmchart(1))
that provide sufficient information to allow all of the
information in all of the archives of a folio to be <br>
replayed.</p>

<p style="margin-top: 1em">[run] tool [arg ...] <br>
Execute the known PCP tool on the selected archives. Some
PCP tools are able to process multiple concurrent archives,
and in this case the tool is run once with the list <br>
of all selected archives passed via a -a argument.
Otherwise, this command is synonymous with repeat.</p>

<p style="margin-top: 1em">selections <br>
Display those archives that would be selected for processing
with a repeat, replay or run command.</p>

<p style="margin-top: 1em">The restrictions via any hosts
and archives commands are conjuncted. These restrictions
serve to limit the specific archives processed in the
subsequent repeat, replay, run and <br>
selections commands. By default, all archives are
selected.</p>

<p style="margin-top: 1em">Keywords in commands may be
abbreviated provided no ambiguity is introduced, e.g. help,
hel and he are synonymous, but h is ambiguous.</p>

<p style="margin-top: 1em">FILES <br>
$PCP_VAR_DIR/config/pmafm/* <br>
control files that define the behavior of each PCP tool
known to pmafm. This information may be customized or
extended, see $PCP_VAR_DIR/config/pmafm/pcp for
documen&acirc; <br>
tation of the syntax and semantics of these files. <br>
$HOME/.pcp/pmafm/* <br>
User customization of the control files. All files in this
directory are treated in the same manner as control files in
the $PCP_VAR_DIR/config/pmafm directory.</p>

<p style="margin-top: 1em">PCP ENVIRONMENT <br>
Environment variables with the prefix PCP_ are used to
parameterize the file and directory names used by PCP. On
each installation, the file /etc/pcp.conf contains the local
<br>
values for these variables. The $PCP_CONF variable may be
used to specify an alternative configuration file, as
described in pcp.conf(5).</p>

<p style="margin-top: 1em">SEE ALSO <br>
mkaf(1), pmchart(1), pmview(1), PMAPI(3), pmRecordSetup(3),
pcp.conf(5) and pcp.env(5).</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
Many, but all are intended to be easily understood.</p>

<p style="margin-top: 1em">Performance Co-Pilot PCP
PMAFM(1)</p>
<hr>
</body>
</html>
