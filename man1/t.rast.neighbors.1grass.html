<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>t.rast.neighbors(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">t.rast.neighbors(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">t.rast.neighbors(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>t.rast.neighbors</b> - Performs a neighborhood analysis for each map
  in a space time raster dataset.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
temporal, aggregation, raster, time
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>t.rast.neighbors</b>
<div>&#x00A0;</div>
<b>t.rast.neighbors --help</b>
<div>&#x00A0;</div>
<b>t.rast.neighbors</b> [-<b>nr</b>] <b>input</b>=<i>name</i>
  <b>output</b>=<i>name</i> [ <b>where</b>=<i>sql_query</i>]
  [<b>size</b>=<i>integer</i>] <b>method</b>=<i>string</i>
  <b>basename</b>=<i>string</i> [ <b>suffix</b>=<i>string</i>]
  [<b>nprocs</b>=<i>integer</i>] [--<b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Register Null maps</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Ignore the current region settings and use the raster map regions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of the input space time raster dataset</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of the output space time raster dataset</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>where</b>=<i>sql_query</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    WHERE conditions of SQL statement without &#x2019;where&#x2019; keyword used
      in the temporal GIS framework
    <div>&#x00A0;</div>
    Example: start_time &gt; &#x2019;2001-01-01 12:30:00&#x2019;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>size</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Neighborhood size
    <div>&#x00A0;</div>
    Default: <i>3</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>method</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Aggregate operation to be performed on the raster maps
    <div>&#x00A0;</div>
    Options: <i>average, median, mode, minimum, maximum, range, stddev, sum,
      count, variance, diversity, interspersion, quart1, quart3, perc90,
      quantile</i>
    <div>&#x00A0;</div>
    Default: <i>average</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>basename</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Basename of the new generated output maps
    <div>&#x00A0;</div>
    A numerical suffix separated by an underscore will be attached to create a
      unique identifier</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>suffix</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Suffix to add at basename: set &#x2019;gran&#x2019; for granularity,
      &#x2019;time&#x2019; for the full time format, &#x2019;num&#x2019; for
      numerical suffix with a specific number of digits (default %05)
    <div>&#x00A0;</div>
    Default: <i>gran</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nprocs</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Number of r.neighbor processes to run in parallel
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>t.rast.neighbors</i> performs r.neighbors computations on the maps of a space
  time raster dataset (STRDS). This module supports a subset of options that are
  available in r.neighbors. The size of the neighborhood and the aggregation
  method can be chosen.
<div class="Pp"></div>
The user must provide an input and an output space time raster dataset and the
  basename of the resulting raster maps. The resulting STRDS will have the same
  temporal resolution as the input dataset. All maps will be processed using the
  current region settings.
<div class="Pp"></div>
The user can select a subset of the input space time raster dataset for
  processing using a SQL WHERE statement. The number of CPU&#x2019;s to be used
  for parallel processing can be specified with the <i>nprocs</i> option to
  speedup the computation on multi-core system.
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
To smooth the maps contained in a space time dataset run:
<div>&#x00A0;</div>
<pre>
t.rast.neighbors input=tempmean_monthly output=smooth_tempmean_monthly \
                 basename=tmean_smooth size=5 method=average nprocs=4
# show some info about the new space time dataset
t.info smooth_tempmean_monthly
 +-------------------- Space Time Raster Dataset -----------------------------+
 |                                                                            |
 +-------------------- Basic information -------------------------------------+
 | Id: ........................ smooth_tempmean_monthly@climate_2000_2012
 | Name: ...................... smooth_tempmean_monthly
 | Mapset: .................... climate_2000_2012
 | Creator: ................... lucadelu
 | Temporal type: ............. absolute
 | Creation time: ............. 2014-11-27 11:41:36.444579
 | Modification time:.......... 2014-11-27 11:41:39.978232
 | Semantic type:.............. mean
 +-------------------- Absolute time -----------------------------------------+
 | Start time:................. 2009-01-01 00:00:00
 | End time:................... 2013-01-01 00:00:00
 | Granularity:................ 1 month
 | Temporal type of maps:...... interval
 +-------------------- Spatial extent ----------------------------------------+
 | North:...................... 320000.0
 | South:...................... 10000.0
 | East:.. .................... 935000.0
 | West:....................... 120000.0
 | Top:........................ 0.0
 | Bottom:..................... 0.0
 +-------------------- Metadata information ----------------------------------+
 | Raster register table:...... raster_map_register_ea1c9a83524e41a784d72744b08c6107
 | North-South resolution min:. 500.0
 | North-South resolution max:. 500.0
 | East-west resolution min:... 500.0
 | East-west resolution max:... 500.0
 | Minimum value min:.......... -6.428905
 | Minimum value max:.......... 18.867296
 | Maximum value min:.......... 4.247691
 | Maximum value max:.......... 28.767953
 | Aggregation type:........... None
 | Number of registered maps:.. 48
 |
 | Title:
 | Monthly precipitation
 | Description:
 | Dataset with monthly precipitation
 | Command history:
 | # 2014-11-27 11:41:36
 | t.rast.neighbors input=&quot;tempmean_monthly&quot;
 |     output=&quot;smooth_tempmean_monthly&quot; basename=&quot;tmean_smooth&quot; size=&quot;5&quot;
 |     method=&quot;average&quot; nprocs=&quot;4&quot;
 |
 +----------------------------------------------------------------------------+
# now compare the values between the original and the smoothed dataset
t.rast.list input=smooth_tempmean_monthly columns=name,start_time,min,max
name|start_time|min|max
tmean_smooth_1|2009-01-01 00:00:00|-3.361714|7.409861
tmean_smooth_2|2009-02-01 00:00:00|-1.820261|7.986794
tmean_smooth_3|2009-03-01 00:00:00|2.912971|11.799684
...
tmean_smooth_46|2012-10-01 00:00:00|9.38767|18.709297
tmean_smooth_47|2012-11-01 00:00:00|1.785653|10.911189
tmean_smooth_48|2012-12-01 00:00:00|1.784212|11.983857
t.rast.list input=tempmean_monthly columns=name,start_time,min,max
name|start_time|min|max
2009_01_tempmean|2009-01-01 00:00:00|-3.380823|7.426054
2009_02_tempmean|2009-02-01 00:00:00|-1.820261|8.006386
2009_03_tempmean|2009-03-01 00:00:00|2.656992|11.819274
...
2012_10_tempmean|2012-10-01 00:00:00|9.070884|18.709297
2012_11_tempmean|2012-11-01 00:00:00|1.785653|10.911189
2012_12_tempmean|2012-12-01 00:00:00|1.761019|11.983857
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>r.neighbors,</i> <i>t.rast.aggregate.ds,</i> <i>t.rast.extract,</i>
  <i>t.info,</i> <i>g.region,</i> <i>r.mask</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
S&#x00F6;ren Gebbert, Th&#x00FC;nen Institute of Climate-Smart Agriculture
<div class="Pp"></div>
<i>Last changed: $Date: 2016-10-27 23:24:04 +0200 (Thu, 27 Oct 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: t.rast.neighbors source code (history)
<div class="Pp"></div>
Main index | Temporal index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
