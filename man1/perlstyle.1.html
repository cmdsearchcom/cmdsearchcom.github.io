<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PERLSTYLE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLSTYLE(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLSTYLE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
perlstyle - Perl style guide
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Each programmer will, of course, have his or her own preferences in regards to
  formatting, but there are some general guidelines that will make your programs
  easier to read, understand, and maintain.
<div class="Pp"></div>
The most important thing is to run your programs under the <b>-w</b> flag at all
  times. You may turn it off explicitly for particular portions of code via the
  &quot;no warnings&quot; pragma or the $^W variable if you must. You should
  also always run under &quot;use strict&quot; or know the reason why not. The
  &quot;use sigtrap&quot; and even &quot;use diagnostics&quot; pragmas may also
  prove useful.
<div class="Pp"></div>
Regarding aesthetics of code lay out, about the only thing Larry cares strongly
  about is that the closing curly bracket of a multi-line BLOCK should line up
  with the keyword that started the construct. Beyond that, he has other
  preferences that aren't so strong:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">4-column indent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Opening curly on same line as keyword, if possible,
      otherwise line up.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Space before the opening curly of a multi-line BLOCK.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">One-line BLOCK may be put on one line, including
    curlies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">No space before the semicolon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Semicolon omitted in &quot;short&quot; one-line BLOCK.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Space around most operators.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Space around a &quot;complex&quot; subscript (inside
      brackets).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Blank lines between chunks that do different things.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Uncuddled elses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">No space between function name and its opening
    parenthesis.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Space after each comma.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Long lines broken after an operator (except &quot;and&quot;
      and &quot;or&quot;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Space after last parenthesis matching on current line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Line up corresponding items vertically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Omit redundant punctuation as long as clarity doesn't
      suffer.</dd>
</dl>
<div class="Pp"></div>
Larry has his reasons for each of these things, but he doesn't claim that
  everyone else's mind works the same as his does.
<div class="Pp"></div>
Here are some other more substantive style issues to think about:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Just because you <i>CAN</i> do something a particular way
      doesn't mean that you <i>SHOULD</i> do it that way. Perl is designed to
      give you several ways to do anything, so consider picking the most
      readable one. For instance
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    open(FOO,$foo) || die &quot;Can't open $foo: $!&quot;;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    is better than
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    die &quot;Can't open $foo: $!&quot; unless open(FOO,$foo);
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    because the second way hides the main point of the statement in a modifier.
      On the other hand
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    print &quot;Starting analysis\n&quot; if $verbose;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    is better than
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    $verbose &amp;&amp; print &quot;Starting analysis\n&quot;;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    because the main point isn't whether the user typed <b>-v</b> or not.
    <div style="height: 1.00em;">&#x00A0;</div>
    Similarly, just because an operator lets you assume default arguments
      doesn't mean that you have to make use of the defaults. The defaults are
      there for lazy systems programmers writing one-shot programs. If you want
      your program to be readable, consider supplying the argument.
    <div style="height: 1.00em;">&#x00A0;</div>
    Along the same lines, just because you <i>CAN</i> omit parentheses in many
      places doesn't mean that you ought to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    return print reverse sort num values %array;
    return print(reverse(sort num (values(%array))));
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    When in doubt, parenthesize. At the very least it will let some poor schmuck
      bounce on the % key in <b>vi</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Even if you aren't in doubt, consider the mental welfare of the person who
      has to maintain the code after you, and who will probably put parentheses
      in the wrong place.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Don't go through silly contortions to exit a loop at the
      top or the bottom, when Perl provides the &quot;last&quot; operator so you
      can exit in the middle. Just &quot;outdent&quot; it a little to make it
      more visible:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    LINE:
        for (;;) {
            statements;
          last LINE if $foo;
            next LINE if /^#/;
            statements;
        }
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Don't be afraid to use loop labels--they're there to
      enhance readability as well as to allow multilevel loop breaks. See the
      previous example.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Avoid using &quot;grep()&quot; (or &quot;map()&quot;) or
      `backticks` in a void context, that is, when you just throw away their
      return values. Those functions all have return values, so use them.
      Otherwise use a &quot;foreach()&quot; loop or the &quot;system()&quot;
      function instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">For portability, when using features that may not be
      implemented on every machine, test the construct in an eval to see if it
      fails. If you know what version or patchlevel a particular feature was
      implemented, you can test $] ($PERL_VERSION in &quot;English&quot;) to see
      if it will be there. The &quot;Config&quot; module will also let you
      interrogate values determined by the <b>Configure</b> program when Perl
      was installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Choose mnemonic identifiers. If you can't remember what
      mnemonic means, you've got a problem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">While short identifiers like $gotit are probably ok, use
      underscores to separate words in longer identifiers. It is generally
      easier to read $var_names_like_this than $VarNamesLikeThis, especially for
      non-native speakers of English. It's also a simple rule that works
      consistently with &quot;VAR_NAMES_LIKE_THIS&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    Package names are sometimes an exception to this rule. Perl informally
      reserves lowercase module names for &quot;pragma&quot; modules like
      &quot;integer&quot; and &quot;strict&quot;. Other modules should begin
      with a capital letter and use mixed case, but probably without underscores
      due to limitations in primitive file systems' representations of module
      names as files that must fit into a few sparse bytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">You may find it helpful to use letter case to indicate the
      scope or nature of a variable. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    $ALL_CAPS_HERE   constants only (beware clashes with perl vars!)
    $Some_Caps_Here  package-wide global/static
    $no_caps_here    function scope my() or local() variables
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Function and method names seem to work best as all lowercase. E.g.,
      &quot;$obj-&gt;as_string()&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use a leading underscore to indicate that a variable or function
      should not be used outside the package that defined it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">If you have a really hairy regular expression, use the
      &quot;/x&quot; modifier and put in some whitespace to make it look a
      little less like line noise. Don't use slash as a delimiter when your
      regexp has slashes or backslashes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Use the new &quot;and&quot; and &quot;or&quot; operators to
      avoid having to parenthesize list operators so much, and to reduce the
      incidence of punctuation operators like &quot;&amp;&amp;&quot; and
      &quot;||&quot;. Call your subroutines as if they were functions or list
      operators to avoid excessive ampersands and parentheses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Use here documents instead of repeated &quot;print()&quot;
      statements.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Line up corresponding things vertically, especially if it'd
      be too long to fit on one line anyway.
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    $IDX = $ST_MTIME;
    $IDX = $ST_ATIME       if $opt_u;
    $IDX = $ST_CTIME       if $opt_c;
    $IDX = $ST_SIZE        if $opt_s;
    mkdir $tmpdir, 0700 or die &quot;can't mkdir $tmpdir: $!&quot;;
    chdir($tmpdir)      or die &quot;can't chdir $tmpdir: $!&quot;;
    mkdir 'tmp',   0777 or die &quot;can't mkdir $tmpdir/tmp: $!&quot;;
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Always check the return codes of system calls. Good error
      messages should go to &quot;STDERR&quot;, include which program caused the
      problem, what the failed system call and arguments were, and (VERY
      IMPORTANT) should contain the standard system error message for what went
      wrong. Here's a simple but sufficient example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    opendir(D, $dir)     or die &quot;can't opendir $dir: $!&quot;;
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Line up your transliterations when it makes sense:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    tr [abc]
       [xyz];
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Think about reusability. Why waste brainpower on a one-shot
      when you might want to do something like it again? Consider generalizing
      your code. Consider writing a module or object class. Consider making your
      code run cleanly with &quot;use strict&quot; and &quot;use warnings&quot;
      (or <b>-w</b>) in effect. Consider giving away your code. Consider
      changing your whole world view. Consider... oh, never mind.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Try to document your code and use Pod formatting in a
      consistent way. Here are commonly expected conventions:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">use &quot;C&lt;&gt;&quot; for function, variable and module
      names (and more generally anything that can be considered part of code,
      like filehandles or specific values). Note that function names are
      considered more readable with parentheses after their name, that is
      &quot;function()&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">use &quot;B&lt;&gt;&quot; for commands names like
      <b>cat</b> or <b>grep</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">use &quot;F&lt;&gt;&quot; or &quot;C&lt;&gt;&quot; for file
      names. &quot;F&lt;&gt;&quot; should be the only Pod code for file names,
      but as most Pod formatters render it as italic, Unix and Windows paths
      with their slashes and backslashes may be less readable, and better
      rendered with &quot;C&lt;&gt;&quot;.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Be consistent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Be nice.</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-02-26</td>
    <td class="foot-os">perl v5.16.3</td>
  </tr>
</table>
</body>
</html>
