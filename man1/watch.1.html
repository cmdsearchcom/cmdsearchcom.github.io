<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>WATCH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">WATCH(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">WATCH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
watch - execute a program periodically, showing output fullscreen
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>watch</b> [ <i>options</i>] <i>command</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>watch</b> runs <i>command</i> repeatedly, displaying its output and errors
  (the first screenfull). This allows you to watch the program output change
  over time. By default, the program is run every 2 seconds. By default,
  <b>watch</b> will run until interrupted.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--differences</b> [<i>permanent</i>]</dt>
  <dd class="It-tag">Highlight the differences between successive updates.
      Option will read optional argument that changes highlight to be permanent,
      allowing to see what has changed at least once since first iteration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--interval</b> <i>seconds</i></dt>
  <dd class="It-tag">Specify update interval. The command will not allow quicker
      than 0.1 second interval, in which the smaller values are converted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>, <b>--precise</b></dt>
  <dd class="It-tag">Make <b>watch</b> attempt to run <i>command</i> every
      <i>interval</i> seconds. Try it with <b>ntptime</b> and notice how the
      fractional seconds stays (nearly) the same, as opposed to normal mode
      where they continuously increase.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--no-title</b></dt>
  <dd class="It-tag">Turn off the header showing the interval, command, and
      current time at the top of the display, as well as the following blank
      line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b>, <b>--beep</b></dt>
  <dd class="It-tag">Beep if command has a non-zero exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--errexit</b></dt>
  <dd class="It-tag">Freeze updates on command error, and exit after a key
      press.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b>, <b>--chgexit</b></dt>
  <dd class="It-tag">Exit when the output of <i>command</i> changes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--color</b></dt>
  <dd class="It-tag">Interpret ANSI color and style sequences.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>, <b>--exec</b></dt>
  <dd class="It-tag"><i>command</i> is given to <b>sh -c</b> which means that
      you may need to use extra quoting to get the desired effect. This with the
      --exec option, which passes the command to <b>exec</b>(2) instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Display help text and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--version</b></dt>
  <dd class="It-tag">Display version information and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTE"><a class="selflink" href="#NOTE">NOTE</a></h1>
Note that POSIX option processing is used (i.e., option processing stops at the
  first non-option argument). This means that flags after <i>command</i> don't
  get interpreted by <b>watch</b> itself.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To watch for mail, you might do
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">watch -n 60 from</dd>
</dl>
<div class="Pp"></div>
To watch the contents of a directory change, you could use
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">watch -d ls -l</dd>
</dl>
<div class="Pp"></div>
If you're only interested in files owned by user joe, you might use
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">watch -d 'ls -l | fgrep joe'</dd>
</dl>
<div class="Pp"></div>
To see the effects of quoting, try these out
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">watch echo $$
    <div>&#x00A0;</div>
    watch echo '$$'
    <div>&#x00A0;</div>
    watch echo &quot;'&quot;'$$'&quot;'&quot;</dd>
</dl>
<div class="Pp"></div>
To see the effect of precision time keeping, try adding <i>-p</i> to
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">watch -n 10 sleep 1</dd>
</dl>
<div class="Pp"></div>
You can watch for your administrator to install the latest kernel with
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">watch uname -r</dd>
</dl>
<div class="Pp"></div>
(Note that <i>-p</i> isn't guaranteed to work across reboots, especially in the
  face of <b>ntpdate</b> or other bootup time-changing mechanisms)
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Upon terminal resize, the screen will not be correctly repainted until the next
  scheduled update. All <b>--differences</b> highlighting is lost on that update
  as well.
<div class="Pp"></div>
Non-printing characters are stripped from program output. Use &quot;cat -v&quot;
  as part of the command pipeline if you want to see them.
<div class="Pp"></div>
Combining Characters that are supposed to display on the character at the last
  column on the screen may display one column early, or they may not display at
  all.
<div class="Pp"></div>
Combining Characters never count as different in <i>--differences</i> mode. Only
  the base character counts.
<div class="Pp"></div>
Blank lines directly after a line which ends in the last column do not display.
<div class="Pp"></div>
<i>--precise</i> mode doesn't yet have advanced temporal distortion technology
  to compensate for a <i>command</i> that takes more than <i>interval</i>
  seconds to execute. <b>watch</b> also can get into a state where it
  rapid-fires as many executions of <i>command</i> as it can to catch up from a
  previous executions running longer than <i>interval</i> (for example,
  <b>netstat</b> taking ages on a DNS lookup).
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">Success.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">Various failures.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">Forking the process to watch failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>3</b></dt>
  <dd class="It-tag">Replacing child process stdout with write side pipe
    failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>4</b></dt>
  <dd class="It-tag">Command execution failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>5</b></dt>
  <dd class="It-tag">Closing child process write pipe failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>7</b></dt>
  <dd class="It-tag">IPC pipe creation failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>8</b></dt>
  <dd class="It-tag">Getting child process return value with <b>waitpid</b>(2)
      failed, or command exited up on error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>other</b></dt>
  <dd class="It-tag">The watch will propagate command exit status as child exit
      status.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
The original <b>watch</b> was written by
  <a class="Lk" title="Lk" href="rembo@unisoft.com">Tony Rems</a> in 1991, with
  mods and corrections by Francois Pinard. It was reworked and new features
  added by <a class="Lk" title="Lk" href="mkc@acm.org">Mike Coleman</a> in 1999.
  The beep, exec, and error handling features were added by
  <a class="Lk" title="Lk" href="morty@frakir.org">Morty Abzug</a> in 2008. On a
  not so dark and stormy morning in March of 2003,
  <a class="Lk" title="Lk" href="asd@suespammers.org">Anthony DeRobertis</a> got
  sick of his watches that should update every minute eventually updating many
  seconds after the minute started, and added microsecond precision. Unicode
  support was added in 2009 by
  <a class="Lk" title="Lk" href="procps@rrod.net">Jarrod Lowe</a></div>
<table class="foot">
  <tr>
    <td class="foot-date">June 2011</td>
    <td class="foot-os">procps-ng</td>
  </tr>
</table>
</body>
</html>
