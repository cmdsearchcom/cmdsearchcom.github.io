<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>jarsigner(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">jarsigner(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">jarsigner(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
jarsigner - JAR Signing and Verification Tool
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Generates signatures for Java ARchive (JAR) files, and verifies the signatures
  of signed JAR files.</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b></b>
<b></b><b>jarsigner</b> [ options ] jar-file alias
<b>jarsigner</b> -verify [ options ] jar-file 
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>jarsigner</b> tool is used for two purposes:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">to sign Java ARchive (JAR) files, and</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">to verify the signatures and integrity of signed JAR
    files.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The JAR feature enables the packaging of class files, images, sounds, and other
  digital data in a single file for faster and easier distribution. A tool named
  <b>jar</b> enables developers to produce JAR files. (Technically, any zip file
  can also be considered a JAR file, although when created by <b>jar</b> or
  processed by <b>jarsigner</b>, JAR files also contain a META-INF/MANIFEST.MF
  file.)
<div class="Pp"></div>
A <i>digital signature</i> is a string of bits that is computed from some data
  (the data being &quot;signed&quot;) and the private key of an entity (a
  person, company, etc.). Like a handwritten signature, a digital signature has
  many useful characteristics:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">Its authenticity can be verified, via a computation that
      uses the public key corresponding to the private key used to generate the
      signature.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">It cannot be forged, assuming the private key is kept
      secret.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">It is a function of the data signed and thus can't be
      claimed to be the signature for other data as well.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The signed data cannot be changed; if it is, the signature
      will no longer verify as being authentic.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
In order for an entity's signature to be generated for a file, the entity must
  first have a public/private key pair associated with it, and also one or more
  certificates authenticating its public key. A <i>certificate</i> is a
  digitally signed statement from one entity, saying that the public key of some
  other entity has a particular value.
<div class="Pp"></div>
<b>jarsigner</b> uses key and certificate information from a <i>keystore</i> to
  generate digital signatures for JAR files. A keystore is a database of private
  keys and their associated X.509 certificate chains authenticating the
  corresponding public keys. The <b>keytool</b> utility is used to create and
  administer keystores.
<div class="Pp"></div>
<b>jarsigner</b> uses an entity's private key to generate a signature. The
  signed JAR file contains, among other things, a copy of the certificate from
  the keystore for the public key corresponding to the private key used to sign
  the file. <b>jarsigner</b> can verify the digital signature of the signed JAR
  file using the certificate inside it (in its signature block file).
<div class="Pp"></div>
Starting in J2SE 5.0, <b>jarsigner</b> can generate signatures that include a
  timestamp, thus enabling systems/deployer (including Java Plug-in) to check
  whether the JAR file was signed while the signing certificate was still valid.
  In addition, APIs were added in J2SE 5.0 to allow applications to obtain the
  timestamp information.
<div class="Pp"></div>
At this time, <b>jarsigner</b> can only sign JAR files created by the SDK
  <b>jar</b> tool or zip files. (JAR files are the same as zip files, except
  they also have a META-INF/MANIFEST.MF file. Such a file will automatically be
  created when <b>jarsigner</b> signs a zip file.)
<div class="Pp"></div>
The default <b>jarsigner</b> behavior is to <i>sign</i> a JAR (or zip) file. Use
  the <i>-verify</i> option to instead have it <i>verify</i> a signed JAR file.
<h2 class="Ss" title="Ss" id="Compatibility_with_JDK_1.1"><a class="selflink" href="#Compatibility_with_JDK_1.1">Compatibility
  with JDK 1.1</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The <b>keytool</b> and <b>jarsigner</b> tools completely replace the
  <b>javakey</b> tool provided in JDK 1.1. These new tools provide more features
  than <b>javakey</b>, including the ability to protect the keystore and private
  keys with passwords, and the ability to verify signatures in addition to
  generating them.
<div class="Pp"></div>
The new keystore architecture replaces the identity database that <b>javakey</b>
  created and managed. There is no backwards compatibility between the keystore
  format and the database format used by <b>javakey</b> in 1.1. However,
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">It is possible to import the information from an identity
      database into a keystore, via the <b>keytool</b> <i>-identitydb</i>
      command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>jarsigner</b> can sign JAR files also previously signed
      using <b>javakey</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>jarsigner</b> can verify JAR files signed using
      <b>javakey</b>. Thus, it recognizes and can work with signer aliases that
      are from a JDK 1.1 identity database rather than a Java 2 SDK
    keystore.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following table explains how JAR files that were signed in JDK 1.1.x are
  treated in the Java 2 platform.
<div class="Pp"></div>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>\f3Policy File grants privileges to Identity/Alias\fP</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code.</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code.</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code.</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code. (3)</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code. (1,3)</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code plus privileges granted in policy
      file.</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>0</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Default privileges granted to all code plus privileges granted in policy
      file. (2)</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?<b>JAR File Type</b>???<b>Identity in 1.1
      database</b>?????????<b>Privileges Granted</b>??</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1032u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1032u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1176u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1176u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???NO???NO???NO?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Unsigned JAR???NO???NO???NO?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???NO???YES???NO?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???YES/Untrusted???NO???NO?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???YES/Untrusted???NO???YES?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???NO???YES???YES?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???YES/Trusted???YES???YES?????</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>+1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>-1320u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???YES/Trusted???NO???NO???All privileges??</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???YES/Trusted???YES???NO???All privileges (1)??</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<table class="tbl">
  <colgroup>
    <col style="width: 136.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>?Signed JAR???YES/Trusted???NO???YES???All privileges (1)??</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>0u</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Notes:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">If an identity/alias is mentioned in the policy file, it
      must be imported into the keystore for the policy file to have any effect
      on privileges granted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">The policy file/keystore combination has precedence over a
      trusted identity in the identity database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">Untrusted identities are ignored in the Java 2
    platform.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.</dt>
  <dd class="It-tag">Only trusted identities can be imported into Java 2 SDK
      keystores.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h2 class="Ss" title="Ss" id="Keystore_Aliases"><a class="selflink" href="#Keystore_Aliases">Keystore
  Aliases</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
All keystore entities are accessed via unique <i>aliases</i>.
<div class="Pp"></div>
When using <b>jarsigner</b> to sign a JAR file, you must specify the alias for
  the keystore entry containing the private key needed to generate the
  signature. For example, the following will sign the JAR file named
  &quot;MyJARFile.jar&quot;, using the private key associated with the alias
  &quot;duke&quot; in the keystore named &quot;mystore&quot; in the
  &quot;working&quot; directory. Since no output file is specified, it
  overwrites MyJARFile.jar with the signed JAR file.
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -keystore /working/mystore -storepass myspass</b>
<b>      -keypass dukekeypasswd MyJARFile.jar duke </b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Keystores are protected with a password, so the store password (in this case
  &quot;myspass&quot;) must be specified. You will be prompted for it if you
  don't specify it on the command line. Similarly, private keys are protected in
  a keystore with a password, so the private key's password (in this case
  &quot;dukekeypasswd&quot;) must be specified, and you will be prompted for it
  if you don't specify it on the command line and it isn't the same as the store
  password.</div>
<h2 class="Ss" title="Ss" id="Keystore_Location"><a class="selflink" href="#Keystore_Location">Keystore
  Location</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>jarsigner</b> has a <i>-keystore</i> option for specifying the URL of the
  keystore to be used. The keystore is by default stored in a file named
  <i>.keystore</i> in the user's home directory, as determined by the
  <i>user.home</i> system property. On Solaris systems <i>user.home</i> defaults
  to the user's home directory.
<div class="Pp"></div>
Note that the input stream from the <i>-keystore</i> option is passed to the
  <i>KeyStore.load</i> method. If <i>NONE</i> is specified as the URL, then a
  null stream is passed to the <i>KeyStore.load</i> method. <i>NONE</i> should
  be specified if the <i>KeyStore</i> is not file-based, for example, if it
  resides on a hardware token device.</div>
<h2 class="Ss" title="Ss" id="Keystore_Implementation"><a class="selflink" href="#Keystore_Implementation">Keystore
  Implementation</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The <i>KeyStore</i> class provided in the <i>java.security</i> package supplies
  well-defined interfaces to access and modify the information in a keystore. It
  is possible for there to be multiple different concrete implementations, where
  each implementation is that for a particular <i>type</i> of keystore.
<div class="Pp"></div>
Currently, there are two command-line tools that make use of keystore
  implementations ( <b>keytool</b> and <b>jarsigner</b>), and also a GUI-based
  tool named <b>Policy Tool</b>. Since <i>KeyStore</i> is publicly available,
  Java 2 SDK users can write additional security applications that use it.
<div class="Pp"></div>
There is a built-in default implementation, provided by Sun Microsystems. It
  implements the keystore as a file, utilizing a proprietary keystore type
  (format) named &quot;JKS&quot;. It protects each private key with its
  individual password, and also protects the integrity of the entire keystore
  with a (possibly different) password.
<div class="Pp"></div>
Keystore implementations are provider-based. More specifically, the application
  interfaces supplied by <i>KeyStore</i> are implemented in terms of a
  &quot;Service Provider Interface&quot; (SPI). That is, there is a
  corresponding abstract <i>KeystoreSpi</i> class, also in the
  <i>java.security</i> package, which defines the Service Provider Interface
  methods that &quot;providers&quot; must implement. (The term
  &quot;provider&quot; refers to a package or a set of packages that supply a
  concrete implementation of a subset of services that can be accessed by the
  Java Security API.) Thus, to provide a keystore implementation, clients must
  implement a provider and supply a KeystoreSpi subclass implementation, as
  described in <i>How to Implement a Provider for the Java Cryptography
  Architecture</i> @
<br/>
http://java.sun.com/javase/6/docs/technotes/guides/security/HowToImplAProvider.html.
<div class="Pp"></div>
Applications can choose different <i>types</i> of keystore implementations from
  different providers, using the &quot;getInstance&quot; factory method supplied
  in the <i>KeyStore</i> class. A keystore type defines the storage and data
  format of the keystore information, and the algorithms used to protect private
  keys in the keystore and the integrity of the keystore itself. Keystore
  implementations of different types are not compatible.
<div class="Pp"></div>
<b>keytool</b> works on any file-based keystore implementation. (It treats the
  keytore location that is passed to it at the command line as a filename and
  converts it to a FileInputStream, from which it loads the keystore
  information.) The <b>jarsigner</b> and <b>policytool</b> tools, on the other
  hand, can read a keystore from any location that can be specified using a URL.
<div class="Pp"></div>
For <b>jarsigner</b> and <b>keytool</b>, you can specify a keystore type at the
  command line, via the <i>-storetype</i> option. For <b>Policy Tool</b>, you
  can specify a keystore type via the &quot;Change Keystore&quot; command in the
  Edit menu.
<div class="Pp"></div>
If you don't explicitly specify a keystore type, the tools choose a keystore
  implementation based simply on the value of the <i>keystore.type</i> property
  specified in the security properties file. The security properties file is
  called <i>java.security</i>, and it resides in the SDK security properties
  directory, <i>java.home</i>/lib/security, where <i>java.home</i> is the
  runtime environment's directory (the <i>jre</i> directory in the SDK or the
  top-level directory of the Java 2 Runtime Environment).
<div class="Pp"></div>
Each tool gets the <i>keystore.type</i> value and then examines all the
  currently-installed providers until it finds one that implements keystores of
  that type. It then uses the keystore implementation from that provider.
<div class="Pp"></div>
The <i>KeyStore</i> class defines a static method named <i>getDefaultType</i>
  that lets applications and applets retrieve the value of the
  <i>keystore.type</i> property. The following line of code creates an instance
  of the default keystore type (as specified in the <i>keystore.type</i>
  property):
<div class="Pp"></div>
<pre>
<b></b>
<b>    KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The default keystore type is &quot;jks&quot; (the proprietary type of the
  keystore implementation provided by Sun). This is specified by the following
  line in the security properties file:
<div class="Pp"></div>
<pre>
<b></b>
<b>    keystore.type=jks</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note: Case doesn't matter in keystore type designations. For example,
  &quot;JKS&quot; would be considered the same as &quot;jks&quot;.
<div class="Pp"></div>
To have the tools utilize a keystore implementation other than the default,
  change that line to specify a different keystore type. For example, if you
  have a provider package that supplies a keystore implementation for a keystore
  type called &quot;pkcs12&quot;, change the line to
<div class="Pp"></div>
<pre>
<b></b>
<b>    keystore.type=pkcs12</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note that if you us the PKCS#11 provider package, you should refer to the
  <i>KeyTool and JarSigner</i> @
<br/>
http://java.sun.com/javase/6/docs/technotes/guides/security/p11guide.html#keytooljarsigner
  section of the Java PKCS#11 Reference Guide for details.</div>
<h2 class="Ss" title="Ss" id="Supported_Algorithms"><a class="selflink" href="#Supported_Algorithms">Supported
  Algorithms</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
By default, <b>jarsigner</b> signs a JAR file using either
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">DSA (Digital Signature Algorithm) with the SHA-1 digest
      algorithm, or</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">the RSA algorithm with the MD5 digest algorithm.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
That is, if the signer's public and private keys are DSA keys, <b>jarsigner</b>
  will sign the JAR file using the &quot;SHA1withDSA&quot; algorithm. If the
  signer's keys are RSA keys, <b>jarsigner</b> will attempt to sign the JAR file
  using the &quot;MD5withRSA&quot; algorithm.
<div class="Pp"></div>
These default signature algorithms can be overridden using the <i>-sigalg</i>
  option.</div>
<h2 class="Ss" title="Ss" id="The_Signed_JAR_File"><a class="selflink" href="#The_Signed_JAR_File">The
  Signed JAR File</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
When <b>jarsigner</b> is used to sign a JAR file, the output signed JAR file is
  exactly the same as the input JAR file, except that it has two additional
  files placed in the META-INF directory:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">a signature file, with a .SF extension, and</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">a signature block file, with a .DSA extension.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The base file names for these two files come from the value of the
  <i>-sigFile</i> option. For example, if the option appears as
<div class="Pp"></div>
<pre>
<b></b>
<b>  -sigFile MKSIGN</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
the files are named &quot;MKSIGN.SF&quot; and &quot;MKSIGN.DSA&quot;.
<div class="Pp"></div>
If no <i>-sigfile</i> option appears on the command line, the base file name for
  the .SF and .DSA files will be the first 8 characters of the alias name
  specified on the command line, all converted to upper case. If the alias name
  has fewer than 8 characters, the full alias name is used. If the alias name
  contains any characters that are not allowed in a signature file name, each
  such character is converted to an underscore (&quot;_&quot;) character in
  forming the file name. Legal characters include letters, digits, underscores,
  and hyphens.
<div class="Pp"></div>
<b>The Signature (.SF) File</b>
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A signature file (the .SF file) looks similar to the manifest file that is
  always included in a JAR file when <b>jarsigner</b> is used to sign the file.
  That is, for each source file included in the JAR file, the .SF file has three
  lines, just as in the manifest file, listing the following:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">the file name,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">the name of the digest algorithm used (SHA), and</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">a SHA digest value.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
In the manifest file, the SHA digest value for each source file is the digest
  (hash) of the binary data in the source file. In the .SF file, on the other
  hand, the digest value for a given source file is the hash of the three lines
  in the manifest file for the source file.
<div class="Pp"></div>
The signature file also, by default, includes a header containing a hash of the
  whole manifest file. The presence of the header enables verification
  optimization, as described in JAR File Verification.</div>
<div class="Pp"></div>
<b>The Signature Block (.DSA) File</b>
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The .SF file is signed and the signature is placed in the .DSA file. The .DSA
  file also contains, encoded inside it, the certificate or certificate chain
  from the keystore which authenticates the public key corresponding to the
  private key used for signing.</div>
</div>
<h2 class="Ss" title="Ss" id="Signature_Timestamp"><a class="selflink" href="#Signature_Timestamp">Signature
  Timestamp</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
As of the J2SE 5.0 release, the <i>jarsigner</i> tool can now generate and store
  a signature timestamp when signing a JAR file. In addition, <i>jarsigner</i>
  supports alternative signing mechanisms. This behavior is optional and is
  controlled by the user at the time of signing through these options:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>-tsa url</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>-tsacert alias</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>-altsigner class</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>-altsignerpath classpathlist</i></dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Each of these options is detailed in the Options section below.</div>
<h2 class="Ss" title="Ss" id="JAR_File_Verification"><a class="selflink" href="#JAR_File_Verification">JAR
  File Verification</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A successful JAR file verification occurs if the signature(s) are valid, and
  none of the files that were in the JAR file when the signatures were generated
  have been changed since then. JAR file verification involves the following
  steps:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">Verify the signature of the .SF file itself.</dd>
</dl>
<div class="Pp"></div>
That is, the verification ensures that the signature stored in each signature
  block (.DSA) file was in fact generated using the private key corresponding to
  the public key whose certificate (or certificate chain) also appears in the
  .DSA file. It also ensures that the signature is a valid signature of the
  corresponding signature (.SF) file, and thus the .SF file has not been
  tampered with.
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">Verify the digest listed in each entry in the .SF file with
      each corresponding section in the manifest.</dd>
</dl>
<div class="Pp"></div>
The .SF file by default includes a header containing a hash of the entire
  manifest file. When the header is present, then the verification can check to
  see whether or not the hash in the header indeed matches the hash of the
  manifest file. If that is the case, verification proceeds to the next step.
<div class="Pp"></div>
If that is not the case, a less optimized verification is required to ensure
  that the hash in each source file information section in the .SF file equals
  the hash of its corresponding section in the manifest file (see The Signature
  (.SF) File).
<div class="Pp"></div>
One reason the hash of the manifest file that is stored in the .SF file header
  may not equal the hash of the current manifest file would be because one or
  more files were added to the JAR file (using the <i>jar</i> tool) after the
  signature (and thus the .SF file) was generated. When the <i>jar</i> tool is
  used to add files, the manifest file is changed (sections are added to it for
  the new files), but the .SF file is not. A verification is still considered
  successful if none of the files that were in the JAR file when the signature
  was generated have been changed since then, which is the case if the hashes in
  the non-header sections of the .SF file equal the hashes of the corresponding
  sections in the manifest file.
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">Read each file in the JAR file that has an entry in the .SF
      file. While reading, compute the file's digest, and then compare the
      result with the digest for this file in the manifest section. The digests
      should be the same, or verification fails.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If any serious verification failures occur during the verification process, the
  process is stopped and a security exception is thrown. It is caught and
  displayed by <b>jarsigner</b>.</div>
<h2 class="Ss" title="Ss" id="Multiple_Signatures_for_a_JAR_File"><a class="selflink" href="#Multiple_Signatures_for_a_JAR_File">Multiple
  Signatures for a JAR File</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A JAR file can be signed by multiple people simply by running the
  <b>jarsigner</b> tool on the file multiple times, specifying the alias for a
  different person each time, as in:
<div class="Pp"></div>
<pre>
<b></b>
<b>  jarsigner myBundle.jar susan</b>
<b>  jarsigner myBundle.jar kevin</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
When a JAR file is signed multiple times, there are multiple .SF and .DSA files
  in the resulting JAR file, one pair for each signature. Thus, in the example
  above, the output JAR file includes files with the following names:
<div class="Pp"></div>
<pre>
<b></b>
<b>  SUSAN.SF</b>
<b>  SUSAN.DSA</b>
<b>  KEVIN.SF</b>
<b>  KEVIN.DSA</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note: It is also possible for a JAR file to have mixed signatures, some
  generated by the JDK 1.1 <b>javakey</b> tool and others by <b>jarsigner</b>.
  That is, <b>jarsigner</b> can be used to sign JAR files already previously
  signed using <b>javakey</b>.</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The various <b>jarsigner</b> options are listed and described below. Note:
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">All option names are preceded by a minus sign (-).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The options may be provided in any order.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">Items in italics (option values) represent the actual
      values that must be supplied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The <i>-keystore</i>, <i>-storepass</i>, <i>-keypass</i>,
      <i>-sigfile</i>, <i>-sigalg</i>, <i>-digestalg</i>, and <i>-signedjar</i>
      options are only relevant when signing a JAR file, not when verifying a
      signed JAR file. Similarly, an alias is only specified on the command line
      when signing a JAR file.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">-keystore url</dt>
  <dd class="It-tag">Specifies the URL that tells the keystore location. This
      defaults to the file <i>.keystore</i> in the user's home directory, as
      determined by the &quot;user.home&quot; system property.</dd>
</dl>
<div class="Pp"></div>
A keystore is required when signing, so you must explicitly specify one if the
  default keystore does not exist (or you want to use one other than the
  default).
<div class="Pp"></div>
A keystore is <i>not</i> required when verifying, but if one is specified, or
  the default exists, and the <i>-verbose</i> option was also specified,
  additional information is output regarding whether or not any of the
  certificates used to verify the JAR file are contained in that keystore.
<div class="Pp"></div>
Note: the <i>-keystore</i> argument can actually be a file name (and path)
  specification rather than a URL, in which case it will be treated the same as
  a &quot;file:&quot; URL. That is,
<pre>
<b></b>
<b>  -keystore </b>filePathAndName<b></b>
<b></b>
</pre>
is treated as equivalent to
<pre>
<b></b>
<b>  -keystore file:</b>filePathAndName<b></b>
<b></b>
</pre>
If the Sun PKCS#11 provider has been configured in the <i>java.security</i>
  security properties file (located in the JRE's <i>$JAVA_HOME/lib/security</i>
  directory), then keytool and jarsigner can operate on the PKCS#11 token by
  specifying these options:
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>-keystore NONE</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>-storetype PKCS11</i></dd>
</dl>
</div>
For example, this command lists the contents of the configured PKCS#11 token:
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b></b>
<b>   jarsigner -keystore NONE -storetype PKCS11 -list</b>
<b>  </b>
<b></b>
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">-storetype storetype</dt>
  <dd class="It-tag">Specifies the type of keystore to be instantiated. The
      default keystore type is the one that is specified as the value of the
      &quot;keystore.type&quot; property in the security properties file, which
      is returned by the static <i>getDefaultType</i> method in
      <i>java.security.KeyStore</i>.</dd>
</dl>
<div class="Pp"></div>
The PIN for a PCKS#11 token can also be specified using the <i>-storepass</i>
  option. If none has been specified, keytool and jarsigner will prompt for the
  token PIN. If the token has a protected authentication path (such as a
  dedicated PIN-pad or a biometric reader), then the <i>-protected</i> option
  must be specified and no password options can be specified.
<dl class="Bl-tag">
  <dt class="It-tag">-storepass password</dt>
  <dd class="It-tag">Specifies the password which is required to access the
      keystore. This is only needed when signing (not verifying) a JAR file. In
      that case, if a <i>-storepass</i> option is not provided at the command
      line, the user is prompted for the password.</dd>
</dl>
<div class="Pp"></div>
Note: The password shouldn't be specified on the command line or in a script
  unless it is for testing purposes, or you are on a secure system. Also, when
  typing in a password at the password prompt, the password is echoed (displayed
  exactly as typed), so be careful not to type it in front of anyone.
<dl class="Bl-tag">
  <dt class="It-tag">-keypass password</dt>
  <dd class="It-tag">Specifies the password used to protect the private key of
      the keystore entry addressed by the alias specified on the command line.
      The password is required when using <b>jarsigner</b> to sign a JAR file.
      If no password is provided on the command line, and the required password
      is different from the store password, the user is prompted for it.</dd>
</dl>
<div class="Pp"></div>
Note: The password shouldn't be specified on the command line or in a script
  unless it is for testing purposes, or you are on a secure system. Also, when
  typing in a password at the password prompt, the password is echoed (displayed
  exactly as typed), so be careful not to type it in front of anyone.
<dl class="Bl-tag">
  <dt class="It-tag">-sigfile file</dt>
  <dd class="It-tag">Specifies the base file name to be used for the generated
      .SF and .DSA files. For example, if <i>file</i> is &quot;DUKESIGN&quot;,
      the generated .SF and .DSA files will be named &quot;DUKESIGN.SF&quot; and
      &quot;DUKESIGN.DSA&quot;, and will be placed in the &quot;META-INF&quot;
      directory of the signed JAR file.</dd>
</dl>
<div class="Pp"></div>
The characters in <i>file</i> must come from the set &quot;a-zA-Z0-9_-&quot;.
  That is, only letters, numbers, underscore, and hyphen characters are allowed.
  Note: All lowercase characters will be converted to uppercase for the .SF and
  .DSA file names.
<div class="Pp"></div>
If no <i>-sigfile</i> option appears on the command line, the base file name for
  the .SF and .DSA files will be the first 8 characters of the alias name
  specified on the command line, all converted to upper case. If the alias name
  has fewer than 8 characters, the full alias name is used. If the alias name
  contains any characters that are not legal in a signature file name, each such
  character is converted to an underscore (&quot;_&quot;) character in forming
  the file name.
<dl class="Bl-tag">
  <dt class="It-tag">-sigalg algorithm</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specifies the name of the signature algorithm to use to sign the JAR file.
<div class="Pp"></div>
See <i>Appendix A</i> @
<br/>
http://java.sun.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#appa
  of the Java Cryptography Architecture for a list of standard signature
  algorithm names. This algorithm must be compatible with the private key used
  to sign the JAR file. If this option is not specified, SHA1withDSA or
  MD5withRSA will be used depending on the type of private key. There must
  either be a statically installed provider supplying an implementation of the
  specified algorithm or the user must specify one with the
  <i>-providerClass</i> option, otherwise the command will not succeed.</div>
<dl class="Bl-tag">
  <dt class="It-tag">-digestalg algorithm</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 3.00ex;">Specifies the name of the message digest
  algorithm to use when digesting the entries of a jar file.
<div class="Pp"></div>
See <i>Appendix A</i> @
<br/>
http://java.sun.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#appa
  of the Java Cryptography Architecture for a list of standard message digest
  algorithm names. If this option is not specified, SHA-1 will be used. There
  must either be a statically installed provider supplying an implementation of
  the specified algorithm or the user must specify one with the
  <i>-providerClass</i> option, otherwise the command will not succeed.</div>
<dl class="Bl-tag">
  <dt class="It-tag">-signedjar file</dt>
  <dd class="It-tag">Specifies the name to be used for the signed JAR file.</dd>
</dl>
<div class="Pp"></div>
If no name is specified on the command line, the name used is the same as the
  input JAR file name (the name of the JAR file to be signed); in other words,
  that file is overwritten with the signed JAR file.
<dl class="Bl-tag">
  <dt class="It-tag">-verify</dt>
  <dd class="It-tag">If this appears on the command line, the specified JAR file
      will be verified, not signed. If the verification is successful, &quot;jar
      verified&quot; will be displayed. If you try to verify an unsigned JAR
      file, or a JAR file signed with an unsupported algorithm (e.g., RSA when
      you don't have an RSA provider installed), the following is displayed:
      &quot;jar is unsigned. (signatures missing or not parsable)&quot;</dd>
</dl>
<div class="Pp"></div>
It is possible to verify JAR files signed using either <b>jarsigner</b> or the
  JDK 1.1 <b>javakey</b> tool, or both.
<div class="Pp"></div>
For further information on verification, see JAR File Verification.
<dl class="Bl-tag">
  <dt class="It-tag">-certs</dt>
  <dd class="It-tag">If this appears on the command line, along with the
      <i>-verify</i> and <i>-verbose</i> options, the output includes
      certificate information for each signer of the JAR file. This information
      includes</dd>
</dl>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">the name of the type of certificate (stored in the .DSA
      file) that certifies the signer's public key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">if the certificate is an X.509 certificate (more
      specifically, an instance of <i>java.security.cert.X509Certificate</i>):
      the distinguished name of the signer</dd>
</dl>
</div>
<div class="Pp"></div>
The keystore is also examined. If no keystore value is specified on the command
  line, the default keystore file (if any) will be checked. If the public key
  certificate for a signer matches an entry in the keystore, then the following
  information will also be displayed:
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">in parentheses, the alias name for the keystore entry for
      that signer. If the signer actually comes from a JDK 1.1 identity database
      instead of from a keystore, the alias name will appear in brackets instead
      of parentheses.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">-verbose</dt>
  <dd class="It-tag">If this appears on the command line, it indicates
      &quot;verbose&quot; mode, which causes <b>jarsigner</b> to output extra
      information as to the progress of the JAR signing or verification.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-internalsf</dt>
  <dd class="It-tag">In the past, the .DSA (signature block) file generated when
      a JAR file was signed used to include a complete encoded copy of the .SF
      file (signature file) also generated. This behavior has been changed. To
      reduce the overall size of the output JAR file, the .DSA file by default
      doesn't contain a copy of the .SF file anymore. But if <i>-internalsf</i>
      appears on the command line, the old behavior is utilized. <b>This option
      is mainly useful for testing; in practice, it should not be used, since
      doing so eliminates a useful optimization.</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-sectionsonly</dt>
  <dd class="It-tag">If this appears on the command line, the .SF file
      (signature file) generated when a JAR file is signed does <i>not</i>
      include a header containing a hash of the whole manifest file. It just
      contains information and hashes related to each individual source file
      included in the JAR file, as described in The Signature (.SF) File .</dd>
</dl>
<div class="Pp"></div>
By default, this header is added, as an optimization. When the header is
  present, then whenever the JAR file is verified, the verification can first
  check to see whether or not the hash in the header indeed matches the hash of
  the whole manifest file. If so, verification proceeds to the next step. If
  not, it is necessary to do a less optimized verification that the hash in each
  source file information section in the .SF file equals the hash of its
  corresponding section in the manifest file.
<div class="Pp"></div>
For further information, see JAR File Verification.
<div class="Pp"></div>
<b>This option is mainly useful for testing; in practice, it should not be used,
  since doing so eliminates a useful optimization.</b>
<dl class="Bl-tag">
  <dt class="It-tag">-protected</dt>
  <dd class="It-tag">Either <i>true</i> or <i>false</i>. This value should be
      specified as <i>true</i> if a password must be given via a protected
      authentication path such as a dedicated PIN reader.</dd>
</dl>
</div>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">-provider provider-class-name</dt>
  <dd class="It-tag">Used to specify the name of cryptographic service
      provider's master class file when the service provider is not listed in
      the security properties file, <i>java.security</i>.</dd>
</dl>
<div class="Pp"></div>
Used in conjunction with the <i>-providerArg</i> <i>ConfigFilePath</i> option,
  keytool and jarsigner will install the provider dynamically (where
  <i>ConfigFilePath</i> is the path to the token configuration file). Here's an
  example of a command to list a PKCS#11 keystore when the Sun PKCS#11 provider
  has not been configured in the security properties file.
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b></b>
<b>jarsigner -keystore NONE -storetype PKCS11 \</b>
<b>          -providerClass sun.security.pkcs11.SunPKCS11 \</b>
<b>          -providerArg /foo/bar/token.config \</b>
<b>          -list</b>
<b></b>
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">-providerName providerName</dt>
  <dd class="It-tag">If more than one provider has been configured in the
      <i>java.security</i> security properties file, you can use the
      <i>-providerName</i> option to target a specific provider instance. The
      argument to this option is the name of the provider.</dd>
</dl>
<div class="Pp"></div>
For the Sun PKCS#11 provider, <i>providerName</i> is of the form
  <i>SunPKCS11-</i> <i>TokenName</i>, where <i>TokenName</i> is the name suffix
  that the provider instance has been configured with, as detailed in the
  <i>configuration attributes table</i> @
<br/>
http://java.sun.com/javase/6/docs/technotes/guides/security/p11guide.html#KeyToolJarSigner#ATTRS.
  For example, the following command lists the contents of the PKCS#11 keystore
  provider instance with name suffix <i>SmartCard</i>:
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b></b>
<b>jarsigner -keystore NONE -storetype PKCS11 \</b>
<b>        -providerName SunPKCS11-SmartCard \</b>
<b>        -list</b>
<b></b>
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">-Jjavaoption</dt>
  <dd class="It-tag">Passes through the specified <i>javaoption</i> string
      directly to the Java interpreter. ( <b>jarsigner</b> is actually a
      &quot;wrapper&quot; around the interpreter.) This option should not
      contain any spaces. It is useful for adjusting the execution environment
      or memory usage. For a list of possible interpreter options, type <i>java
      -h</i> or <i>java -X</i> at the command line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-tsa url</dt>
  <dd class="It-tag">If <i>&quot;-tsa http://example.tsa.url&quot;</i> appears
      on the command line when signing a JAR file then a timestamp is generated
      for the signature. The URL, <i>http://example.tsa.url</i>, identifies the
      location of the Time Stamping Authority (TSA). It overrides any URL found
      via the <i>-tsacert</i> option. The <i>-tsa</i> option does not require
      the TSA's public key certificate to be present in the keystore.</dd>
</dl>
<div class="Pp"></div>
To generate the timestamp, <i>jarsigner</i> communicates with the TSA using the
  Time-Stamp Protocol (TSP) defined in <i>RFC 3161</i> @
<br/>
http://www.ietf.org/rfc/rfc3161.txt. If successful, the timestamp token returned
  by the TSA is stored along with the signature in the signature block file.
<dl class="Bl-tag">
  <dt class="It-tag">-tsacert alias</dt>
  <dd class="It-tag">If <i>&quot;-tsacert alias&quot;</i> appears on the command
      line when signing a JAR file then a timestamp is generated for the
      signature. The <i>alias</i> identifies the TSA's public key certificate in
      the keystore that is currently in effect. The entry's certificate is
      examined for a Subject Information Access extension that contains a URL
      identifying the location of the TSA.</dd>
</dl>
<div class="Pp"></div>
The TSA's public key certificate must be present in the keystore when using
  <i>-tsacert</i>.
<dl class="Bl-tag">
  <dt class="It-tag">-altsigner class</dt>
  <dd class="It-tag">Specifies that an alternative signing mechanism be used.
      The fully-qualified class name identifies a class file that extends the
      <i>com.sun.jarsigner.ContentSigner abstract class</i>. The path to this
      class file is defined by the <i>-altsignerpath</i> option. If the
      <i>-altsigner</i> option is used, <i>jarsigner</i> uses the signing
      mechanism provided by the specified class. Otherwise, <i>jarsigner</i>
      uses its default signing mechanism.</dd>
</dl>
<div class="Pp"></div>
For example, to use the signing mechanism provided by a class named
  <i>com.sun.sun.jarsigner.AuthSigner</i>, use the <i>jarsigner</i> option
  <i>&quot;-altsigner com.sun.jarsigner.AuthSigner&quot;</i>
<dl class="Bl-tag">
  <dt class="It-tag">-altsignerpath classpathlist</dt>
  <dd class="It-tag">Specifies the path to the class file (the class file name
      is specified with the <i>-altsigner</i> option described above) and any
      JAR files it depends on. If the class file is in a JAR file, then this
      specifies the path to that JAR file, as shown in the example below.</dd>
</dl>
<div class="Pp"></div>
An absolute path or a path relative to the current directory may be specified.
  If <i>classpathlist</i> contains multiple paths or JAR files, they should be
  separated with a colon ( <i>:</i>) on Solaris and a semi-colon (<i>;</i>) on
  Windows. This option is not necessary if the class is already in the search
  path.
<div class="Pp"></div>
Example of specifying the path to a jar file that contains the class file:
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<i>-altsignerpath /home/user/lib/authsigner.jar</i></div>
<div class="Pp"></div>
Note that the JAR file name is included.
<div class="Pp"></div>
Example of specifying the path to the jar file that contains the class file:
<div style="margin-left: 3.00ex;">
<div class="Pp"></div>
<i>-altsignerpath /home/user/classes/com/sun/tools/jarsigner/</i></div>
<div class="Pp"></div>
Note that the JAR file name is omitted.</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Signing_a_JAR_File"><a class="selflink" href="#Signing_a_JAR_File">Signing
  a JAR File</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Suppose you have a JAR file named &quot;bundle.jar&quot; and you'd like to sign
  it using the private key of the user whose keystore alias is &quot;jane&quot;
  in the keystore named &quot;mystore&quot; in the &quot;working&quot;
  directory. Suppose the keystore password is &quot;myspass&quot; and the
  password for <i>jane</i>'s private key is &quot;j638klm&quot;. You can use the
  following to sign the JAR file and name the signed JAR file
  &quot;sbundle.jar&quot;:
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -keystore /working/mystore -storepass myspass</b>
<b>      -keypass j638klm -signedjar sbundle.jar bundle.jar jane </b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note that there is no <i>-sigfile</i> specified in the command above, so the
  generated .SF and .DSA files to be placed in the signed JAR file will have
  default names based on the alias name. That is, they will be named
  <i>JANE.SF</i> and <i>JANE.DSA</i>.
<div class="Pp"></div>
If you want to be prompted for the store password and the private key password,
  you could shorten the above command to
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -keystore /working/mystore</b>
<b>      -signedjar sbundle.jar bundle.jar jane </b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If the keystore to be used is the default keystore (the one named
  &quot;.keystore&quot; in your home directory), you don't need to specify a
  keystore, as in:
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -signedjar sbundle.jar bundle.jar jane </b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Finally, if you want the signed JAR file to simply overwrite the input JAR file
  ( <i>bundle.jar</i>), you don't need to specify a <i>-signedjar</i> option:
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner bundle.jar jane </b>
<b></b>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Verifying_a_Signed_JAR_File"><a class="selflink" href="#Verifying_a_Signed_JAR_File">Verifying
  a Signed JAR File</a></h2>
<div style="margin-left: 3.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To verify a signed JAR file, that is, to verify that the signature is valid and
  the JAR file has not been tampered with, use a command such as the following:
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -verify sbundle.jar </b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If the verification is successful,
<div class="Pp"></div>
<pre>
<b></b>
<b>    jar verified.</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
is displayed. Otherwise, an error message appears.
<div class="Pp"></div>
You can get more information if you use the <i>-verbose</i> option. A sample use
  of <b>jarsigner</b> with the <i>-verbose</i> option is shown below, along with
  sample output:
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -verify -verbose sbundle.jar</b>
<div class="Pp"></div>
<b>           198 Fri Sep 26 16:14:06 PDT 1997 META-INF/MANIFEST.MF</b>
<b>           199 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.SF</b>
<b>          1013 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.DSA</b>
<b>    smk   2752 Fri Sep 26 16:12:30 PDT 1997 AclEx.class</b>
<b>    smk    849 Fri Sep 26 16:12:46 PDT 1997 test.class</b>
<div class="Pp"></div>
<b>      s = signature was verified</b>
<b>      m = entry is listed in manifest</b>
<b>      k = at least one certificate was found in keystore</b>
<div class="Pp"></div>
<b>    jar verified.</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h2 class="Ss" title="Ss" id="Verification_with_Certificate_Information"><a class="selflink" href="#Verification_with_Certificate_Information">Verification
  with Certificate Information</a></h2>
If you specify the <i>-certs</i> option when verifying, along with the
  <i>-verify</i> and <i>-verbose</i> options, the output includes certificate
  information for each signer of the JAR file, including the certificate type,
  the signer distinguished name information (iff it's an X.509 certificate),
  and, in parentheses, the keystore alias for the signer if the public key
  certificate in the JAR file matches that in a keystore entry. For example,
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -keystore /working/mystore -verify -verbose -certs myTest.jar</b>
<div class="Pp"></div>
<b>           198 Fri Sep 26 16:14:06 PDT 1997 META-INF/MANIFEST.MF</b>
<b>           199 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.SF</b>
<b>          1013 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.DSA</b>
<b>           208 Fri Sep 26 16:23:30 PDT 1997 META-INF/JAVATEST.SF</b>
<b>          1087 Fri Sep 26 16:23:30 PDT 1997 META-INF/JAVATEST.DSA</b>
<b>    smk   2752 Fri Sep 26 16:12:30 PDT 1997 Tst.class</b>
<div class="Pp"></div>
<b>      X.509, CN=Test Group, OU=Java Software, O=Sun Microsystems, L=CUP, S=CA, C=US (javatest)</b>
<b>      X.509, CN=Jane Smith, OU=Java Software, O=Sun, L=cup, S=ca, C=us (jane)</b>
<div class="Pp"></div>
<b>      s = signature was verified</b>
<b>      m = entry is listed in manifest</b>
<b>      k = at least one certificate was found in keystore</b>
<div class="Pp"></div>
<b>    jar verified.</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If the certificate for a signer is not an X.509 certificate, there is no
  distinguished name information. In that case, just the certificate type and
  the alias are shown. For example, if the certificate is a PGP certificate, and
  the alias is &quot;bob&quot;, you'd get
<div class="Pp"></div>
<pre>
<b></b>
<b>      PGP, (bob)</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Verification_of_a_JAR_File_that_Includes_Identity_Database_Signers"><a class="selflink" href="#Verification_of_a_JAR_File_that_Includes_Identity_Database_Signers">Verification
  of a JAR File that Includes Identity Database Signers</a></h2>
If a JAR file has been signed using the JDK 1.1 <b>javakey</b> tool, and thus
  the signer is an alias in an identity database, the verification output
  includes an &quot;i&quot; symbol. If the JAR file has been signed by both an
  alias in an identity database and an alias in a keystore, both &quot;k&quot;
  and &quot;i&quot; appear.
<div class="Pp"></div>
When the <i>-certs</i> option is used, any identity database aliases are shown
  in square brackets rather than the parentheses used for keystore aliases. For
  example:
<div class="Pp"></div>
<pre>
<b></b>
<b>    jarsigner -keystore /working/mystore -verify -verbose -certs writeFile.jar</b>
<div class="Pp"></div>
<b>           198 Fri Sep 26 16:14:06 PDT 1997 META-INF/MANIFEST.MF</b>
<b>           199 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.SF</b>
<b>          1013 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.DSA</b>
<b>           199 Fri Sep 27 12:22:30 PDT 1997 META-INF/DUKE.SF</b>
<b>          1013 Fri Sep 27 12:22:30 PDT 1997 META-INF/DUKE.DSA</b>
<b>   smki   2752 Fri Sep 26 16:12:30 PDT 1997 writeFile.html</b>
<div class="Pp"></div>
<b>      X.509, CN=Jane Smith, OU=Java Software, O=Sun, L=cup, S=ca, C=us (jane)</b>
<b>      X.509, CN=Duke, OU=Java Software, O=Sun, L=cup, S=ca, C=us [duke]</b>
<div class="Pp"></div>
<b>      s = signature was verified</b>
<b>      m = entry is listed in manifest</b>
<b>      k = at least one certificate was found in keystore</b>
<b>      i = at least one certificate was found in identity scope</b>
<div class="Pp"></div>
<b>    jar verified.</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note that the alias &quot;duke&quot; is in brackets to denote that it is an
  identity database alias, not a keystore alias.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<div style="margin-left: 3.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">jar tool documentation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">keytool tool documentation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">the Security @
    <br/>
    http://java.sun.com/docs/books/tutorial/security1.2/index.html trail of the
      Java Tutorial @
    <br/>
    http://java.sun.com/docs/books/tutorial/trailmap.html for examples of the
      use of the <b>jarsigner</b> tool</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">07 Aug 2006</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
