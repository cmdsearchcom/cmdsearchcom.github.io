<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:06:07 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DYNAMIPS(1) General Commands Manual DYNAMIPS(1)</p>

<p style="margin-top: 1em">NAME <br>
dynamips - Cisco router simulator</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dynamips [options] ios_image</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Emulates Cisco routers on a traditional PC. You can use
dynamips to create labs. It uses real Cisco IOS Images,
which are not included in this package. Of course, this
emulator <br>
cannot replace a real router. It is simply a complementary
tool to real labs for administrators of Cisco networks or
people wanting to pass their CCNA/CCNP/CCIE exams. <br>
The emulator currently supports Cisco 7200, Cisco 3745,
Cisco 3725, Cisco 3600, Cisco 2691, Cisco 2600, and Cisco
1700 series. <br>
By default, a Cisco 7206VXR with NPE-200 (256 Mb of DRAM) is
emulated. <br>
To emulate another platform, like the Cisco 3600 series, use
the &quot;-P&quot; command line option. You can change the
chassis type with &quot;-t&quot;. Don&rsquo;t forget to set
it depending on your <br>
IOS image, a c3660 image will not run on c3640 hardware and
vice-versa.</p>

<p style="margin-top: 1em">OPTIONS <br>
A summary of options is included below.</p>

<p style="margin-top: 1em">-H &lt;tcp_port&gt; <br>
Enable hypervisor mode. <br>
The hypervisor mode of dynamips allows you to run
simultaneously many virtual router instances, and to
simulate ATM, Ethernet or Frame&acirc;Relay networks. <br>
You can connect directly to the TCP control port with
telnet, or use dynagen(1), dynagui(1) that will pass
commands transparently. The second method is highly
recom&acirc; <br>
mended.</p>

<p style="margin-top: 1em">-l &lt;log_file&gt; <br>
Set logging file (default is dynamips_log.txt)</p>

<p style="margin-top: 1em">-j Disable the JIT compiler,
very slow</p>

<p style="margin-top: 1em">--exec-area &lt;size&gt; <br>
Set the exec area size (default: 64 Mb) <br>
The exec area is a pool of host memory used to store pages
translated by the JIT (they contain the native code
corresponding to MIPS code pages).</p>

<p style="margin-top: 1em">--idle-pc &lt;pc&gt; <br>
Set the idle PC (default: disabled) <br>
The &quot;idle PC&quot; feature allows you to run a router
instance without having a 100% CPU load. This implies that
you can run a larger number of instances per real machine.
<br>
To determine the &quot;idle PC&quot;, start normally the
emulator with your Cisco IOS image, and a totally IOS empty
configuration (although not mandatory, this will give better
<br>
results). When the image is fully booted, wait for the
&quot;Press RETURN to get started!&quot; message prompt, but
do not press Enter key. Wait about 5 seconds, then press
&quot;Ctrl&acirc;] <br>
+ i&quot;. Some statistics will be gathered during 10
seconds. At the end, the emulator will display a list of
possible values to pass to the &quot;--idle-pc&quot; option.
You may have <br>
to try some values before finding the good one. To check if
the idle PC value is good, just boot the Cisco IOS image,
and check your CPU load when the console prompt is <br>
available. If it is low, you have found a good value, keep
it preciously. <br>
Important remarks: <br>
* An &quot;idle PC&quot; value is *specific* to a Cisco IOS
image. You cannot boot a different IOS image without
proceeding as described above. <br>
* Do not run the process while having the
&quot;autoconfiguration&quot; prompt.</p>

<p style="margin-top: 1em">--timer-itv &lt;val&gt; <br>
Timer IRQ interval check (default: 1000)</p>

<p style="margin-top: 1em">-i &lt;instance&gt; <br>
Set instance ID</p>

<p style="margin-top: 1em">-r &lt;ram_size&gt; <br>
Set the virtual RAM size (default: 256 Mb)</p>

<p style="margin-top: 1em">-o &lt;rom_size&gt; <br>
Set the virtual ROM size (default: 4 Mb)</p>

<p style="margin-top: 1em">-n &lt;nvram_size&gt; <br>
Set the NVRAM size (default: 128 Kb)</p>

<p style="margin-top: 1em">-c &lt;conf_reg&gt; <br>
Set the configuration register (default: 0x2102)</p>

<p style="margin-top: 1em">-m &lt;mac_addr&gt; <br>
Set the MAC address of the chassis (default: automatically
generated)</p>

<p style="margin-top: 1em">-C, --startup-config
&lt;file&gt; <br>
Import IOS configuration file into NVRAM</p>

<p style="margin-top: 1em">--private-config &lt;file&gt;
<br>
Import IOS configuration file into NVRAM</p>

<p style="margin-top: 1em">-X Do not use a file to simulate
RAM (faster)</p>

<p style="margin-top: 1em">-R &lt;rom_file&gt; <br>
Load an alternate ROM (default: embedded)</p>

<p style="margin-top: 1em">-k &lt;clock_div&gt; <br>
Set the clock divisor (default: 4) <br>
Specify the clock divider (integer) based on the host clock.
Alter the value to match the CISCO clock with the real time.
The command &quot;show clock&quot; at the IOS&rsquo; CLI
will <br>
help you set this value.</p>

<p style="margin-top: 1em">-T &lt;port&gt; <br>
Console is on TCP &lt;port&gt;</p>

<p style="margin-top: 1em">-U &lt;si_desc&gt; <br>
Console in on serial interface &lt;si_desc&gt; (default is
on the terminal)</p>

<p style="margin-top: 1em">-A &lt;port&gt; <br>
AUX is on TCP &lt;port&gt;</p>

<p style="margin-top: 1em">-B &lt;si_desc&gt; <br>
AUX is on serial interface &lt;si_desc&gt; (default is no
AUX port)</p>

<p style="margin-top: 1em">--disk0 &lt;size&gt; <br>
Set PCMCIA ATA disk0: size (default: 64 Mb)</p>

<p style="margin-top: 1em">--disk1 &lt;size&gt; <br>
Set PCMCIA ATA disk1: size (default: 0 Mb)</p>

<p style="margin-top: 1em">-a &lt;cfg_file&gt; <br>
Virtual ATM switch configuration file.</p>

<p style="margin-top: 1em">-f &lt;cfg_file&gt; <br>
Virtual Frame&acirc;Relay switch configuration file.</p>

<p style="margin-top: 1em">-E &lt;cfg_file&gt; <br>
Virtual Ethernet switch configuration file.</p>

<p style="margin-top: 1em">-e Show network device list of
the host machine.</p>

<p style="margin-top: 1em">OPTIONS specific to the Cisco
7200 series <br>
-t &lt;npe_type&gt; <br>
Select NPE type (default: &quot;npe&acirc;200&quot;)</p>

<p style="margin-top: 1em">-M &lt;midplane&gt; <br>
Select Midplane (&quot;std&quot; or &quot;vxr&quot;)</p>

<p style="margin-top: 1em">-p &lt;pa_desc&gt; <br>
Define a Port Adapter</p>

<p style="margin-top: 1em">-s &lt;pa_nio&gt; <br>
Bind a Network IO interface to a Port Adapter</p>

<p style="margin-top: 1em">OPTIONS specific to the Cisco
3600 series <br>
-t &lt;chassis_type&gt; <br>
Select Chassis type (default: &quot;3640&quot;)</p>

<p style="margin-top: 1em">-p &lt;nm_desc&gt; <br>
Define a Network Module</p>

<p style="margin-top: 1em">-s &lt;nm_nio&gt; <br>
Bind a Network IO interface to a Network Module</p>

<p style="margin-top: 1em">Cisco 7200 Port Adapter
Description &lt;pa_desc&gt; <br>
Format slot:pa_driver</p>

<p style="margin-top: 1em">slot the number of the physical
slot (starts from 0)</p>

<p style="margin-top: 1em">pa_driver <br>
the name of a Port Adapter driver in:</p>

<p style="margin-top: 1em">C7200&acirc;IO&acirc;FE <br>
(FastEthernet, slot 0 only)</p>

<p style="margin-top: 1em">PA&acirc;FE&acirc;TX <br>
(FastEthernet, slots 1 to 6)</p>

<p style="margin-top: 1em">PA&acirc;4E (Ethernet, 4
ports)</p>

<p style="margin-top: 1em">PA&acirc;8E (Ethernet, 8
ports)</p>

<p style="margin-top: 1em">PA&acirc;4T+ (Serial, 4
ports)</p>

<p style="margin-top: 1em">PA&acirc;8T (Serial, 8
ports)</p>

<p style="margin-top: 1em">PA&acirc;A1 (ATM)</p>

<p style="margin-top: 1em">Cisco 3600 Network Module
Description &lt;nm_desc&gt; <br>
Format slot:nm_driver</p>

<p style="margin-top: 1em">slot the number of the physical
slot (starts from 0)</p>

<p style="margin-top: 1em">nm_driver <br>
the name of a Network Module driver in:</p>

<p style="margin-top: 1em">NM&acirc;1E (Ethernet, 1
port)</p>

<p style="margin-top: 1em">NM&acirc;4E (Ethernet, 4
ports)</p>

<p style="margin-top: 1em">NM&acirc;1FE&acirc;TX <br>
(FastEthernet, 1 port)</p>

<p style="margin-top: 1em">NM&acirc;4T (Serial, 4
ports)</p>

<p style="margin-top: 1em">Leopard&acirc;2FE <br>
(Cisco 3660 FastEthernet in slot 0, automatically used)</p>

<p style="margin-top: 1em">NIO binding to Port Adapter
&lt;pa_nio&gt; and Network Modules &lt;nm_nio&gt; : <br>
Format slot:port:netio_type[:netio_parameters]</p>

<p style="margin-top: 1em">slot the number of the physical
slot (starts from 0)</p>

<p style="margin-top: 1em">port the port in the specified
slot (starts from 0)</p>

<p style="margin-top: 1em">netio_type <br>
host interface for communication</p>


<p style="margin-top: 1em">unix:&lt;local_sock&gt;:&lt;remote_sock&gt;
<br>
Use unix sockets for local communication. &lt;local_sock&gt;
is created and represents the local NIC. &lt;remote_sock&gt;
is the file used by the other interface. (ex. <br>
&quot;/tmp/local:/tmp/remote&quot;)</p>


<p style="margin-top: 1em">vde:&lt;control_sock&gt;:&lt;local_sock&gt;
<br>
For use with UML (User&acirc;Mode&acirc;Linux) or VDE
switches. VDE stands for &quot;Virtual Distributed
Ethernet&quot;. Please refer to :
http://sourceforge.net/projects/vde/</p>

<p style="margin-top: 1em">tap:&lt;tap_name&gt; <br>
Use a virtual ethernet device for communication.
&lt;tap_name&gt; is the name of the tap device (ex.
&quot;tap0&quot;)</p>

<p style="margin-top: 1em">gen_eth:&lt;dev_name&gt; <br>
Use a real ethernet device for communication, using libpcap
0.9 or WinPcap. Works on Windows and Unix systems. <br>
&lt;dev_name&gt; is the name of the Ethernet device (ex.
&quot;eth0&quot;) <br>
The device list can be found using the &quot;-e&quot;
option.</p>

<p style="margin-top: 1em">linux_eth:&lt;dev_name&gt; <br>
Use a real ethernet device for communication (Linux
specific). &lt;dev_name&gt; is the name of the Ethernet
device (ex. &quot;eth0&quot;)</p>


<p style="margin-top: 1em">udp:&lt;local_port&gt;:&lt;remote_host&gt;:&lt;remote_port&gt;
<br>
Use an UDP socket for connection between remote instances.
&lt;local_port&gt; is the port we listen to.
&lt;remote_host&gt; is the host listening the port you want
to connect <br>
to. &lt;remote_port&gt; is the port you want to connect to.
(ex. &quot;1000:somehost:2000&quot; and
&quot;2000:otherhost:1000&quot; on the other side)</p>


<p style="margin-top: 1em">tcp_cli:&lt;host&gt;:&lt;port&gt;
<br>
Client side of a tcp connection. &lt;host&gt; is the ip
address of the server. &lt;port&gt; is the port to connect
to.</p>

<p style="margin-top: 1em">tcp_ser:&lt;port&gt; <br>
Server side of a tcp connection. &lt;port&gt; is the port to
listen to.</p>

<p style="margin-top: 1em">null Dummy netio (used for
testing/debugging), no parameters needed.</p>

<p style="margin-top: 1em">VTTY binding to real serial port
device &lt;si_desc&gt; <br>
Format
&lt;device&gt;{:baudrate{:databits{:parity{:stopbits{:hwflow}}}}}}</p>

<p style="margin-top: 1em">device character device name,
e.g. /dev/ttyS0</p>

<p style="margin-top: 1em">baudrate <br>
baudrate</p>

<p style="margin-top: 1em">databits <br>
number of databits</p>

<p style="margin-top: 1em">parity data parity: N=none,
O=odd, E=even</p>

<p style="margin-top: 1em">stopbits <br>
number of stop bits</p>

<p style="margin-top: 1em">hwflow hardware flow control
(0=disable, 1=enable) <br>
Note that the device field is mandatory, however other
fields are optional. (dynamips will default to 9600, 8, N,
1, no hardware flow control) <br>
Note that access to the escape commands (described below)
through a serial port are deliberately prevented, as the
escape commands interfere with serial encapsula&acirc; <br>
tion protocols.</p>

<p style="margin-top: 1em">Escape commands <br>
You can press ^] (Ctrl + ]) at any time, followed by one of
these characters:</p>

<p style="margin-top: 1em">o Show the VM object list</p>

<p style="margin-top: 1em">d Show the device list</p>

<p style="margin-top: 1em">r Dump MIPS CPU registers</p>

<p style="margin-top: 1em">t Dump MIPS TLB entries</p>

<p style="margin-top: 1em">m Dump the latest memory
accesses</p>

<p style="margin-top: 1em">s Suspend CPU emulation</p>

<p style="margin-top: 1em">u Resume CPU emulation</p>

<p style="margin-top: 1em">q Quit the emulator</p>

<p style="margin-top: 1em">b Dump the instruction block
tree</p>

<p style="margin-top: 1em">h JIT hash table statistics</p>

<p style="margin-top: 1em">l MTS64 cache statistics</p>

<p style="margin-top: 1em">c Write IOS configuration to
disk (ios_cfg.txt)</p>

<p style="margin-top: 1em">j Non&acirc;JIT mode
statistics</p>

<p style="margin-top: 1em">x Experimentations (can crash
the box!)</p>

<p style="margin-top: 1em">^] Send ^] <br>
If you press an unrecognized key, help will be shown. Note:
on Windows, it may be the &quot;Ctrl + $&quot; sequence.</p>

<p style="margin-top: 1em">Virtual Bridge <br>
The virtual bridge is used to emulate a shared network
between emulator instances. Any emulator instance can act as
a virtual bridge. <br>
The configuration file (specified by the &quot;-b&quot;
option) contains a list of NetIO descriptors, with the
following syntax:</p>


<p style="margin-top: 1em">interface_name:netio_type[:netio_parameters]</p>

<p style="margin-top: 1em">Example: <br>
# Connection to instance &quot;I0&quot; <br>
I0:udp:10000:127.0.0.1:10001 <br>
# Connection to instance &quot;I1&quot; <br>
I1:udp:10002:127.0.0.1:10003 <br>
# Connection to instance &quot;I2&quot; <br>
I2:udp:10004:127.0.0.1:10005</p>

<p style="margin-top: 1em">The &quot;I0&quot; instance
would be launched with the following parameters:</p>

<p style="margin-top: 1em">dynamips ios.bin -p 1:PA-FE-TX
-s 1:0:udp:10001:127.0.0.1:10000</p>

<p style="margin-top: 1em">Virtual Ethernet switch <br>
The virtual ethernet switch is used to emulate an Ethernet
network between emulator instances. This switch supports
access and trunk ports (802.1Q). ISL will be available in a
<br>
future release. <br>
Any emulator instance can act as a virtual ethernet switch.
<br>
The configuration file (specified by the &quot;-E&quot;
option) contains a list of NetIO descriptors (representing
interfaces) and a list of interface properties (access/trunk
port, VLAN <br>
info...) <br>
The interface definition is similar to Port Adapters:</p>


<p style="margin-top: 1em">IF:interface_name:netio_type[:netio_parameters]</p>

<p style="margin-top: 1em">Access Port <br>
ACCESS:interface_name:vlan_id</p>

<p style="margin-top: 1em">802.1Q Trunk Port <br>
DOT1Q:interface_name:native_vlan</p>

<p style="margin-top: 1em">The native VLAN is not tagged.
On Cisco devices, by default the native VLAN is VLAN 1.</p>

<p style="margin-top: 1em">Example of configuration file:
<br>
IF:E0:udp:10000:127.0.0.1:10001 <br>
IF:E1:udp:10002:127.0.0.1:10003 <br>
IF:E2:gen_eth:eth0 <br>
DOT1Q:E0:1 <br>
ACCESS:E1:4 <br>
DOT1Q:E2:1</p>

<p style="margin-top: 1em">Virtual ATM switch <br>
The virtual ATM switch fabric is used to emulate an ATM
backbone between emulator instances. The use of this virtual
switch is not mandatory, you can directly connect emulator
<br>
instances for point&acirc;to&acirc;point ATM connections.
Please note that only basic VP/VC switching is supported,
there is no support for ILMI/QSAAL/... or other specific ATM
protocols. <br>
Any emulator instance can act as a virtual ATM switch.</p>

<p style="margin-top: 1em">Example of configuration file
(specified by the &quot;-a&quot; option): <br>
# Virtual Interface List <br>
IF:A0:udp:10001:127.0.0.1:10000 <br>
IF:A1:udp:10002:127.0.0.1:10003 <br>
IF:A2:udp:10004:127.0.0.1:10005 <br>
# VP connection between I0 and I1 <br>
VP:A0:10:A1:20 <br>
VP:A1:20:A0:10 <br>
# VP connection between I0 and I2 <br>
VP:A0:11:A2:30 <br>
VP:A2:30:A0:11 <br>
# VC connection between I1 and I2 <br>
VC:A1:5:2:A2:7:3 <br>
VC:A2:7:3:A1:5:2</p>

<p style="margin-top: 1em">In this example, we have 3
virtual interfaces, A0, A1 and A2. The syntax for interface
definition is similar to Port Adapters:</p>


<p style="margin-top: 1em">IF:interface_name:netio_type[:netio_parameters]
<br>
You can do VP switching or VC switching:</p>

<p style="margin-top: 1em">VP switching <br>
VP:input_if:input_vpi:output_if:output_vpi</p>

<p style="margin-top: 1em">VC switching <br>

VC:input_if:input_vpi:input_vci:output_if:output_vpi:output_vci</p>

<p style="margin-top: 1em">Testing the Virtual ATM switch
with one dynamips instance <br>
Virtual ATM switch configuration file (&quot;atm.cfg&quot;):
<br>
IF:A0:udp:10003:127.0.0.1:10001 <br>
IF:A1:udp:10004:127.0.0.1:10002 <br>
# a0/vpi=1/vci=100 connects to a1/vpi=2/vci=200 <br>
VC:A0:1:100:A1:2:200 <br>
VC:A1:2:200:A0:1:100</p>

<p style="margin-top: 1em">Invoking dynamips: <br>
./dynamips -p 1:PA-A1 -s 1:0:udp:10001:127.0.0.1:10003 -p
2:PA-A1 -s 2:0:udp:10002:127.0.0.1:10004 -a atm.cfg IOS.BIN
<br>
(note input ports of IOS interfaces are output ports of ATM
switch interfaces, and vice versa).</p>

<p style="margin-top: 1em">IOS Configuration: <br>
ip cef <br>
ip vrf test <br>
rd 1:1 <br>
route-target both 1:1 <br>
int a1/0 <br>
no shut <br>
int a1/0.2 p <br>
ip addr 1.1.1.1 255.255.255.0 <br>
pvc 1/100 <br>
interface a2/0 <br>
no shut <br>
interface a2/0.2 p <br>
ip vrf forwarding test <br>
ip addr 1.1.1.2 255.255.255.0 <br>
pvc 2/200 <br>
!</p>

<p style="margin-top: 1em">Virtual Frame&acirc;Relay switch
<br>
The virtual Frame&acirc;Relay switch fabric is used to
emulate a Frame&acirc;Relay backbone between emulator
instances. The use of this virtual switch is not mandatory,
you can directly con&acirc; <br>
nect emulator instances with appropriate IOS configuration.
<br>
Any emulator instance can act as a virtual Frame&acirc;Relay
switch. There is only a basic implementation of the LMI
protocol (ANSI Annex D), which is probably not conforming
but <br>
works with Cisco IOS. Fortunately, Cisco IOS is able to
detect automatically the LMI protocol.</p>

<p style="margin-top: 1em">Example of configuration file
(specified by the &quot;-f&quot; option): <br>
# Virtual Interface List <br>
IF:S0:udp:10001:127.0.0.1:10000 <br>
IF:S1:udp:10002:127.0.0.1:10003 <br>
# DLCI switching between S0 and S1 <br>
VC:S0:200:S1:100 <br>
VC:S1:100:S0:200</p>

<p style="margin-top: 1em">In this example, we have 2
virtual interfaces, S0 and S1. The syntax for interface
definition is similar to Port Adapters:</p>


<p style="margin-top: 1em">IF:interface_name:netio_type[:netio_parameters]</p>

<p style="margin-top: 1em">DLCI switching syntax:</p>


<p style="margin-top: 1em">VC:input_if:input_dlci:output_if:output_dlci
<br>
In the example above, the switch is configured to switch
packets received on interface S0 with DLCI 200 to interface
S1 with DLCI 100, and vice&acirc;versa.</p>

<p style="margin-top: 1em">BUGS <br>
See RELEASE-NOTES.</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Please send bug reports to
&acirc;&uml;https://github.com/GNS3/dynamips/issues&acirc;&copy;</p>

<p style="margin-top: 1em">SEE ALSO <br>
nvram_export(1), hypervisor_mode(7), dynagen(1), dynagui(1)
<br>
&acirc;&uml;http://www.gns3.net/dynamips/&acirc;&copy; <br>
&acirc;&uml;http://forum.gns3.net/&acirc;&copy; <br>

&acirc;&uml;https://github.com/GNS3/dynamips&acirc;&copy;</p>

<p style="margin-top: 1em">OLD WEBSITES <br>

&acirc;&uml;http://www.ipflow.utc.fr/index.php/&acirc;&copy;
<br>
&acirc;&uml;http://www.ipflow.utc.fr/blog/&acirc;&copy; <br>

&acirc;&uml;http://hacki.at/7200emu/index.php&acirc;&copy;</p>

<p style="margin-top: 1em">AUTHOR <br>
dynamips is being maintained by Fl&Atilde;&iexcl;vio J.
Saraiva &lt;flaviojs2005@gmail.com&gt;. This manual page was
initially written by Erik Wenzel &lt;erik@debian.org&gt; for
the Debian GNU/Linux sys&acirc; <br>
tem.</p>

<p style="margin-top: 1em">Sep 28, 2013 DYNAMIPS(1)</p>
<hr>
</body>
</html>
