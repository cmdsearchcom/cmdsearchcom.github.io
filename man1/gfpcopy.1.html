<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:12:52 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GFPCOPY(1) Gfarm GFPCOPY(1)</p>

<p style="margin-top: 1em">NAME <br>
gfpcopy - copy Gfarm files in parallel</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gfpcopy [-nqvdpPU] [-X regexp] [-S source-domainname] [-h
source-hostfile] [-D destination-domainname] [-H
destination-hostfile] [-j num-of-processes] [-J
num-of-processes] <br>
[-M limit-byte] [-z minimum-byte] [-Z maximum-byte] [-w
way-of-scheduling] [-W kilobytes-for-threshold] [-s
KB/s-to-simulate] [-F num-for-readahead] [-b bufsize] [-f]
<br>
[-e] [-k] source-path destination-path</p>

<p style="margin-top: 1em">DESCRIPTION <br>
gfpcopy copies files in parallel.</p>

<p style="margin-top: 1em">When the source-path parameter
is a directory, files under the directory will be copied
recursively.</p>

<p style="margin-top: 1em">When the destination-path does
not exist, the directory is created. When the
destination-path exists, a directry of the same name as the
source-path is created under the <br>
destination-path.</p>

<p style="margin-top: 1em">A set of source/destination
hosts can be specified by a domain name and/or a hostlist
file. When both a domain name and a hostlist file are
specified, a set of hosts is <br>
determined by both conditions. When a set of source hosts is
specified, only files stored on the source hosts are cppied.
When a set of source hosts are specified, only files <br>
stored on the set of source hosts are copied. A set of hosts
can be specified by a domain name and/or a host file. When
both a domain name and a host file are specified, a set of
<br>
hosts is determined by both conditions.</p>

<p style="margin-top: 1em">gfpcopy can also read the
directory and get information of the entries in
parallel.</p>

<p style="margin-top: 1em">SOURCE PATH <br>
source-path must be following format. Files on HPSS cannot
be copied.</p>

<p style="margin-top: 1em">gfarm:... <br>
is Gfarm URL.</p>

<p style="margin-top: 1em">file:... <br>
is URL of Local Filesystem.</p>

<p style="margin-top: 1em">ANY <br>
is relative path or absolute path of Local Filesystem. When
the path is a mountpoint on gfarm2fs, files are copied
without passing through the gfarm2fs.</p>

<p style="margin-top: 1em">DESTINATION PATH <br>
destination-path must be following format.</p>

<p style="margin-top: 1em">gfarm:... <br>
is Gfarm URL of a directory.</p>

<p style="margin-top: 1em">file:... <br>
is URL of a directory on Local Filesystem.</p>

<p style="margin-top: 1em">hpss:... <br>
is URL of a directory on HPSS. If A directory named the same
as the source-path exists under this directory, the
source-path cannot be copied. The difference of files cannot
<br>
be copied to HPSS. Relative path such as &quot;hpss:&quot;.
or &quot;hpss:dir&quot; can be also specified.</p>

<p style="margin-top: 1em">ANY <br>
is relative path or absolute path of Local Filesystem. When
the path is a mountpoint on gfarm2fs, files are copied
without passing through the gfarm2fs.</p>

<p style="margin-top: 1em">GFPCOPY OPTIONS <br>
These are the options only for gfpcopy.</p>

<p style="margin-top: 1em">-b bufsize <br>
Specifies the buffer size to copy.</p>

<p style="margin-top: 1em">The default value is 64KiB (64 *
1024).</p>

<p style="margin-top: 1em">-f <br>
With -f option, existing destination files will be
overwritten when the size is different or the modification
time (mtime) is different from the source file.</p>

<p style="margin-top: 1em">Without -f option, existing
destination files will be overwritten when that they are
older than the corresponding source files in the
modification time.</p>

<p style="margin-top: 1em">-e <br>
Skips existing destination files in order to execute
multiple gfpcopy simultaneously.</p>

<p style="margin-top: 1em">-k <br>
Does not copy symbolic links.</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
gfpcopy has the same options with gfprep. (see man
gfprep)</p>

<p style="margin-top: 1em">EXAMPLES <br>
To copy files under the directory recursively.</p>

<p style="margin-top: 1em">$ gfpcopy gfarm:///dir
file:///tmp/dir</p>

<p style="margin-top: 1em">$ gfpcopy file:///tmp/dir
gfarm:///dir</p>

<p style="margin-top: 1em">$ gfpcopy gfarm:///dir1
gfarm:///dir2</p>

<p style="margin-top: 1em">$ gfpcopy gfarm:///dir
hpss:///tmp/dir</p>

<p style="margin-top: 1em">$ cd /mnt/gfarm2fs <br>
$ gfpcopy dir /tmp/dir</p>

<p style="margin-top: 1em">To copy a file.</p>

<p style="margin-top: 1em">$ gfpcopy gfarm:///dir/file
file:///dir</p>

<p style="margin-top: 1em">$ cd /mnt/gfarm2fs <br>
$ gfpcopy file /tmp/dir</p>

<p style="margin-top: 1em">NOTES <br>
If the gfmd and gfpcopy are far apart, the gfpcopy operation
is slow. Specifying a large value by -j or -J options may be
effective in such a case.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gfprep(1), gfreg(1), gfexport(1), gfarm2.conf(5)</p>

<p style="margin-top: 1em">Gfarm 27 Aug 2015 GFPCOPY(1)</p>
<hr>
</body>
</html>
