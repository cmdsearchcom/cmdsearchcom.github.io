<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HWLOC-ANNOTATE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HWLOC-ANNOTATE(1)</td>
    <td class="head-vol">hwloc</td>
    <td class="head-rtitle">HWLOC-ANNOTATE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hwloc-annotate - Add info attributes to a XML topology
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>hwloc-annotate</b> [ <i>options</i>] <i>&lt;input.xml&gt;</i>
  <i>&lt;output.xml&gt;</i> <i>&lt;location&gt;</i> <i>&lt;mode&gt;</i>
  <i>&lt;annotation&gt;</i>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ri</b></dt>
  <dd class="It-tag">Remove all info attributes that exist with the same name
      before adding the new one. This option is only accepted in
      &quot;info&quot; mode. If the info value is omitted, existing infos are
      replaced with nothing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ci</b></dt>
  <dd class="It-tag">Clear the existing info attributes in the target objects
      before annotating. If no new annotation has to be added after clearing,
      <i>mode</i> should be set to <i>none</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
hwloc-annotate loads a topology from a XML file, adds some annotations, and
  export the resulting topology to another XML file. The input and output files
  may be the same.
<div class="Pp"></div>
The annotation may be string info attributes. This is specified by the
  <i>mode</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><b>info &lt;name&gt; &lt;value&gt;</b></dt>
  <dd class="It-tag">Specifies a new string info attribute whose name is
      <i>name</i> and value is <i>value</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>misc &lt;name&gt;</b></dt>
  <dd class="It-tag">Specifies a new Misc object name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>none</b></dt>
  <dd class="It-tag">No new annotation is added. This is useful when clearing
      existing attributes.</dd>
</dl>
<div class="Pp"></div>
Annotations may be added to one specific object in the topology, all of them, or
  all of a given type. This is specified by the <i>location</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><b>all</b></dt>
  <dd class="It-tag">annotates all objects in the topology.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>root</b></dt>
  <dd class="It-tag">annotates the root object of the topology.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;type&gt;:all</b></dt>
  <dd class="It-tag">annotates all objects of the given type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;type&gt;:&lt;index&gt;</b></dt>
  <dd class="It-tag">annotates the object of the given type and index. The index
      is logical.</dd>
</dl>
<div class="Pp"></div>
<b>NOTE:</b> The existing annotations may be listed with hwloc-info.
<div class="Pp"></div>
<b>NOTE:</b> It is highly recommended that you read the hwloc(7) overview page
  before reading this man page. Most of the concepts described in hwloc(7)
  directly apply to the hwloc-annotate utility.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
hwloc-annotate's operation is best described through several examples.
<div class="Pp"></div>
Add an info attribute to all Core objects:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-annotate input.xml output.xml Core:all info infoname infovalue
<div style="height: 1.00em;">&#x00A0;</div>
Add a Misc object named &quot;foobar&quot; under the root object of the topology
  and modify the input XML directly:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-annotate file.xml file.xml root misc foobar
<div style="height: 1.00em;">&#x00A0;</div>
Add an info attribute to OS device #2 and #3:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-annotate input.xml output.xml os:2-3 info infoname infovalue
<div style="height: 1.00em;">&#x00A0;</div>
Change package objects to green with red text in the lstopo graphical output:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-annotate topo.xml topo.xml package:all info lstopoStyle
  &quot;Background=#00ff00;Text=#ff0000&quot;
<br/>
 $ lstopo -i topo.xml
<h1 class="Sh" title="Sh" id="RETURN_VALUE"><a class="selflink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
Upon successful execution, hwloc-annotate generates the output topology. The
  return value is 0.
<div class="Pp"></div>
hwloc-annotate will return nonzero if any kind of error occurs, such as (but not
  limited to) failure to parse the command line.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
hwloc(7), lstopo(1), hwloc-info(1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 17, 2015</td>
    <td class="foot-os">1.11.2</td>
  </tr>
</table>
</body>
</html>
