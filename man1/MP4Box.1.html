<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MP4Box(1) GPAC MP4Box(1)</p>

<p style="margin-top: 1em">NAME <br>
MP4Box - MPEG-4 Systems Toolbox</p>

<p style="margin-top: 1em">SYNOPSIS <br>
MP4Box [options] file [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
MP4Box is a multi-purpose command line tool to create and
edit MPEG-4 Systems presentations and manipulate ISO-media
files (MP4, 3GP, MOV).</p>

<p style="margin-top: 1em">MP4Box supports file conversion
from various raw formats and IsoMedia/AVI/MPEG-PS/OGG
containers, file hinting for RTP streaming for QuickTime
compatible streaming servers, file <br>
interleaving, file fragmentation and track extraction.</p>

<p style="margin-top: 1em">MP4Box also provides dump tools
used to inspect file layout, RTP hint tracks, SDP
information, scene composition. It may also be used to
convert to and from BT/XMT-A/VRML/X3D.</p>

<p style="margin-top: 1em">MP4Box also features MPEG-4
Systems encoders and decoders for BIFS and OD tools.</p>

<p style="margin-top: 1em">MP4Box doesn&rsquo;t expect any
particular order in options at prompt.</p>

<p style="margin-top: 1em">GETTING HELP WITH MP4Box <br>
-h [type] <br>
prints help screen. &quot;type&quot; can be one of
&quot;general&quot;, &quot;hint&quot;, &quot;import&quot;,
&quot;encode&quot;, &quot;extract&quot;, &quot;dump&quot;,
&quot;swf&quot;, &quot;meta&quot;, &quot;crypt&quot;,
&quot;format&quot;, &quot;rtp&quot;, &quot;live&quot; for
specific help.</p>

<p style="margin-top: 1em">-version <br>
prints version of MP4Box.</p>

<p style="margin-top: 1em">-noprog <br>
disable progress reports.</p>

<p style="margin-top: 1em">-quiet quiet mode (no log
info).</p>

<p style="margin-top: 1em">-v verbose mode (more log
info).</p>

<p style="margin-top: 1em">-strict-error <br>
exits after the first error is reported.</p>

<p style="margin-top: 1em">-nodes lists supported MPEG-4
Systems nodes in MP4Box current build.</p>

<p style="margin-top: 1em">-node NodeName <br>
prints the node syntax. Each field is listed as <br>
eventType fieldType fieldName defaultValue <br>
and field quantization information and quantization bounds
if any.</p>

<p style="margin-top: 1em">-xnodes <br>
lists supported X3D nodes in MP4Box current build.</p>

<p style="margin-top: 1em">-xnode NodeName <br>
prints the X3D node syntax. Each field is listed as</p>

<p style="margin-top: 1em">-snodes <br>
lists supported SVG/LASeR nodes in MP4Box current build.</p>

<p style="margin-top: 1em">GENERAL OPTIONS <br>
-inter duration <br>
interleaves media data in chunks of the maximum specified
duration (expressed in milliseconds) and prepare file for
HTTP/FTP streaming. By default MP4Box always stores <br>
with 0.5 second interleaving. An interleaving value of
&rsquo;0&rsquo; stores without interleaving (meta-data then
track after track). <br>
-old-inter duration same as -inter but without drift
adjustment <br>
NOTE: Track Edit Lists are ignored when performing
interleaving.</p>

<p style="margin-top: 1em">-flat stores file with all media
data first, non interleaved. If used when creating a new
file, no temporary file is created (faster storage).</p>

<p style="margin-top: 1em">-frag duration <br>
fragments file using ISO-Media movie fragments. Tracks will
be fragmented so that no track run exceeds the specified
duration (expressed in milliseconds). Disables inter&acirc;
<br>
leaving.</p>

<p style="margin-top: 1em">-out &lt;filename&gt; <br>
specifies output file name.</p>

<p style="margin-top: 1em">-tmp &lt;dirname&gt; <br>
specifies driectory for temporary storage. If not set,
temporary storage is OS-dependent.</p>

<p style="margin-top: 1em">-ffspace size <br>
inserts free space before moof in fragmented files.</p>

<p style="margin-top: 1em">-nosys removes all MPEG-4
Systems information from the file but keeps an empty IOD for
MPEG-4 Profile@Level indications. alias: -no-sys</p>

<p style="margin-top: 1em">-no-iod <br>
removes InitialObjectDescriptor from file.</p>

<p style="margin-top: 1em">-isma rewrites the file as an
ISMA 1.0 Audio/Video file (all systems info rewritten) with
proper clock references.</p>

<p style="margin-top: 1em">-ismax rewrites the file as an
ISMA 1.0 Audio/Video file (all systems info rewritten) with
ISMA clock references (streams not explicetly synchronized).
<br>
NOTE: Seeking may be broken with some players (in ISMA,
audio and video streams do not depend on main scene
clock).</p>

<p style="margin-top: 1em">-3gp rewrites the file as a 3GP
file (no more MPEG-4 Systems specific info). This option is
turned on by default when input file extension is .3gp or
.3g2.</p>

<p style="margin-top: 1em">-ipod rewrites the file for
iPod.</p>

<p style="margin-top: 1em">-brand ABCD[:v] <br>
sets major brand of file, with optional version.</p>

<p style="margin-top: 1em">-ab ABCD <br>
adds given brand to file&rsquo;s alternate brand list.</p>

<p style="margin-top: 1em">-rb ABCD <br>
removes given brand to file&rsquo;s alternate brand
list.</p>

<p style="margin-top: 1em">-cprt string <br>
adds string copyright notice to file.</p>

<p style="margin-top: 1em">-chap chap_file <br>
adds chapter information contained in chap_file to movie.
For more details on chapter file syntax, cf
http://gpac.sourceforge.net/auth_mp4box.php.</p>

<p style="margin-top: 1em">-rem trackID <br>
removes given track from file - can be specified multiple
times.</p>

<p style="margin-top: 1em">-enable trackID <br>
enables given track.</p>

<p style="margin-top: 1em">-disable trackID <br>
disables given track.</p>

<p style="margin-top: 1em">-new forces creation of a new
destination file.</p>

<p style="margin-top: 1em">-lang [tkID=]LAN <br>
sets the language of all tracks or the given track. LAN is
the ISO 639-2 3 character code.</p>

<p style="margin-top: 1em">-delay [tkID=]delay_ms <br>
sets the delay in milliseconds of all tracks or the given
track. LAN is the ISO 639-2 3 character code.</p>

<p style="margin-top: 1em">-par tkID=PAR <br>
sets visual track pixel aspect ratio (PAR=Num:Den or
&quot;none&quot;).</p>

<p style="margin-top: 1em">-name tkID=name <br>
sets track handler name.</p>

<p style="margin-top: 1em">-itags tag1[:tag2] <br>
sets iTunes tags to file - more info: MP4Box -tag-list.</p>

<p style="margin-top: 1em">-split time_in_seconds <br>
splits in files of desired maximum duration. This will
remove all MPEG-4 Systems media.</p>

<p style="margin-top: 1em">-split-size size_in_kilobytes
<br>
splits in files of desired maximum size. This will remove
all MPEG-4 Systems media. Alias: -splits</p>

<p style="margin-top: 1em">-split-chunk start:end <br>
extracts a new file from specified start to end times (in
seconds). This will remove all MPEG-4 Systems media. Alias:
-splitx</p>

<p style="margin-top: 1em">-splitz start:end <br>
same as -split-chunk option, but adjust end time to be juste
before the last rap found in the chunk.</p>

<p style="margin-top: 1em">-split-rap start:end <br>
splits in files begining at each RAP. This will remove all
MPEG-4 Systems media. Alias: -splitr</p>

<p style="margin-top: 1em">-group-add fmt <br>
creates a new grouping information in the file. Format is a
colon-separated list of following options: <br>
refTrack=ID: ID of the track used as a group reference. If
not set, the track will belong to the same group as the
previous trackID specified. If 0 or no previous track <br>
specified, a new alternate group will be created. <br>
switchID=ID: ID of the switch group to create. If 0, a new
ID will be computed for you. If &lt;0, disables SwitchGroup.
<br>
criteria=string: list of space-separated 4CCs. <br>
trackID=ID: ID of the track to add to this group. <br>
*WARNING* Options modify state as they are parsed:
trackID=1:criteria=lang:trackID=2 is different from:
criteria=lang:trackID=1:trackID=2. -group-rem-track ID
removes <br>
track from its group.</p>

<p style="margin-top: 1em">-group-rem ID <br>
removes the track&rsquo;s group.</p>

<p style="margin-top: 1em">-group-clean <br>
removes all group information from all tracks.</p>

<p style="margin-top: 1em">-ref id:XXXX:refID <br>
adds a reference of type 4CC from track ID to track
refID.</p>

<p style="margin-top: 1em">-dash DUR <br>
enables DASH-ing of the file with a segment duration of
DUR.</p>

<p style="margin-top: 1em">-rap segments begin with random
access points.</p>

<p style="margin-top: 1em">-frags-per-sidx N <br>
sets the number of segments to be written in each SIDX
box.</p>

<p style="margin-top: 1em">-segment-name name <br>
sets the segment name for generated segments.</p>

<p style="margin-top: 1em">-segment-ext name <br>
sets the segment extension name. Default is m4s.</p>

<p style="margin-top: 1em">-url-template <br>
uses UrlTemplate instead of explicit sources in
segments.</p>

<p style="margin-top: 1em">-daisy-chain <br>
Uses daisy-chain SIDX instead of hierarchical. Ignored if
frags/sidx is 0.</p>

<p style="margin-top: 1em">-dash-ctx FILE <br>
Stores/restore DASH timing from FILE.</p>

<p style="margin-top: 1em">-dash-ts-prog N <br>
Program_number to be considered in case of an MPTS input
file.</p>

<p style="margin-top: 1em">When input file is an ISO-Media
file (QT, MP4, 3GP), if no output is specified THE INPUT
FILE IS OVERWRITTEN.</p>

<p style="margin-top: 1em">HINTING OPTIONS <br>
-hint hint the file for RTPRTSP sessions. Payload type is
automatically detected and configured unless forced through
one of MPEG-4 Generic RTP payload.</p>

<p style="margin-top: 1em">-mtu size <br>
specifies Maximum Transmission Unit size in bytes (eg
maximum RTP packet size). Default size is 1500 bytes
(Ethernet MTU). This must be choosen carefully: specifying
too <br>
large packets will result in undesired packet fragmentation
at UDP layer while specifying too small packets will result
in RTP header overhead.</p>

<p style="margin-top: 1em">-copy forces hinted data to be
copied to the hint track instead of simply referenced. This
speeds up RTP packet construction at the server side but
results in much bigger files.</p>

<p style="margin-top: 1em">-tight performs sample-based
interleaving of media tracks and hint tracks. This should
reduce disk seeks at server side (depending on server
implementation) but results in a big&acirc; <br>
ger file.</p>

<p style="margin-top: 1em">-multi [maxptime] <br>
enables Access Units concatenation in RTP packets if
possible. maxptime is optional and specifies the maximum
packet duration in milliseconds (default 100).</p>

<p style="margin-top: 1em">-rate ck_rate <br>
specifies the rtp rate in Hz when no default rate for
payload. Default value is 90000 (MPEG rtp rates).</p>

<p style="margin-top: 1em">-mpeg4 forces usage of the
MPEG-4 generic payload whenever possible. Media tracks
without a mapping to MPEG-4 Systems cannot use this.</p>

<p style="margin-top: 1em">-latm forces usage of the LATM
payload for AAC audio.</p>

<p style="margin-top: 1em">-static <br>
enables usage of static RTP payload IDs for streams with
official payload IDs. By default MP4Box always uses dynamic
payload IDs for maximum interoperability, some players <br>
having troubles with static ones.</p>

<p style="margin-top: 1em">MPEG-4 Generic Payload Options
(Experts only)</p>

<p style="margin-top: 1em">-ocr forces all media tracks in
the file to be served synchronized. This is needed because
most streaming servers don&rsquo;t support desynchronized
tracks in a single file. Be <br>
extremelly carefull when designing MPEG-4 interactive
presentations for streaming since you will have to take care
of the streaming server capabilities... MP4Box generates
<br>
warnings when the file timeline can be ambiguously
interpreted by the server.</p>

<p style="margin-top: 1em">-rap signals Access Units random
access flag in RTP packets. This is usually only needed for
streaming of MPEG-4 Systems streams.</p>

<p style="margin-top: 1em">-ts signals Access Units Time
Stamps (CTS and DTS) in RTP packets.</p>

<p style="margin-top: 1em">-size signals Access Units size
in RTP packets.</p>

<p style="margin-top: 1em">-idx signals Access Units
indexes (sequence numbers) in RTP packets.</p>

<p style="margin-top: 1em">-multi enables Access Units
concatenation in RTP packets (-ts, -size and -idx are
selected if needed).</p>

<p style="margin-top: 1em">-iod prevents system tracks
embedding in IOD (ISMA-like IOD) when generating in SDP.
MP4Box automatically detects ambiguous (ISMA/non-ISMA) files
but nobody&rsquo;s perfect. <br>
This shouldn&rsquo;t be used with -isma option.</p>

<p style="margin-top: 1em">-add-sdp string <br>
adds string to movie SDP or track SDP (tkID:string, where
tkID is the OD of the hint track or its media track). This
takes care of SDP line reordering, but not of SDP con&acirc;
<br>
tent validity.</p>

<p style="margin-top: 1em">-unhint <br>
removes all hint tracks and other hinting info from the
file.</p>

<p style="margin-top: 1em">IMPORT OPTIONS <br>
-add &lt;src_file&gt; <br>
adds all src_file tracks to input file, creating it if not
exisiting. Up to 20 cumulated -add operations can be used.
Supported syntaxes are: <br>
file#video: imports first video track from src_file. <br>
file#audio: imports first audio track from src_file. <br>
file#trackID=ID or file#ID: imports given trackfrom
src_file. To get a listing of tracks in input file, use
-info [ID] <br>
[;lang=LAN]: specifies language of imported media. <br>
[;delay=delay_ms]: specifies initial delay in milliseconds
of imported media.</p>

<p style="margin-top: 1em">-cat &lt;src_file&gt; <br>
concatenates all src_file tracks to input file, creating it
if not exisiting. Media samples are added at the end of
existing compatible tracks. If no compatible track is <br>
found for a media it is created. Up to 20 cumulated -cat
operations can be used. Syntax is the same as -add.</p>

<p style="margin-top: 1em">-force-cat <br>
skips media configuration check when concatenating file.</p>

<p style="margin-top: 1em">-keepsys <br>
by default all MPEG-4 systems media are removed with -add
and -cat. This option will avoid removing them from final
file.</p>

<p style="margin-top: 1em">-keep-all <br>
keeps all existing tracks when add file.</p>

<p style="margin-top: 1em">-dref keeps media data in
original file an only imports meta-data (frame timing, size
and random access).</p>

<p style="margin-top: 1em">NOTE Data referencing may fail
with some AVI because it requires the framed data (eg an MP4
sample) to be continuous in the original file, which is not
always the case depend&acirc; <br>
ing on the original interleaving.</p>

<p style="margin-top: 1em">-no-drop <br>
forces constant FPS when importing AVI video. By default non
coded frames (n-vop) are removed at import time, resulting
in a variable frame-rate media.</p>

<p style="margin-top: 1em">-packed <br>
for CMP/M4V (raw MPEG-4 Visual), forces packed-bitstream
mode (removes all n-vops and import at constant frame
rate).</p>

<p style="margin-top: 1em">-sbr imports AAC as AAC-SBR,
with backward compatible signaling (non AAC-SBR decoders
should be able to play it).</p>

<p style="margin-top: 1em">-sbrx imports AAC as AAC-SBR,
with non-backward compatible signaling (non AAC-SBR decoders
will not be able to play it).</p>

<p style="margin-top: 1em">-ovsbr imports AAC as AAC-SBR
with oversample SBR.</p>

<p style="margin-top: 1em">-ps imports AAC as AAC-PS, with
backward compatible signaling of AAC-PS.</p>

<p style="margin-top: 1em">-psx imports AAC as AAC-PS, with
non-backward compatible signaling (non AAC-PS decoders will
not be able to play it).</p>

<p style="margin-top: 1em">-fps FrameRate <br>
overrides the input video frame rate or specifies it for SUB
subtitles.</p>

<p style="margin-top: 1em">-mpeg4 forces using MPEG-4
sample descriptions rather than 3GP ones (3GP2
QCELP/EVRC/SMV audio only).</p>

<p style="margin-top: 1em">-agg N aggregates N audio frames
in 1 sample (3GP media only). Maximum possible value is 15,
and default value is 1 (no aggregation).</p>

<p style="margin-top: 1em">ENCODING OPTIONS <br>
-mp4 specifies input file is for encoding. Supported inputs
are BT/XMT-A/WRL/SWF files. Output file name is by default
the input file name without extensions plus &quot;.mp4&quot;
exten&acirc; <br>
sion.</p>

<p style="margin-top: 1em">-def encodes DEF&rsquo;ed nodes
and routes with their textual names.</p>

<p style="margin-top: 1em">-log generates BIFS encoder log
file.</p>

<p style="margin-top: 1em">-ms file <br>
specifies file for track importing - by default FILE.mp4 is
used when encoding FILE.bt (in-place rewrite). This option
is only needed if you don&rsquo;t provide a proper muxInfo
<br>
per stream in the BT/XMT file.</p>

<p style="margin-top: 1em">-sync time <br>
forces BIFS random access point generation every time
milliseconds. Cannot be used with -shadow. WARNING: this may
result in weird behavior of your presentation since a <br>
BIFS random access point restarts all media currently
running in the scene (EXPERTS ONLY - DANGEROUS). Cannot be
used with -shadow.</p>

<p style="margin-top: 1em">-shadow time <br>
forces BIFS shadow random access points generation every
time milliseconds. Shadow samples are random access points
that can be used instead of non random access points <br>
when seeking. WARNING: this may be not supported by some
players (EXPERTS ONLY - DANGEROUS). Cannot be used with
-sync.</p>

<p style="margin-top: 1em">-ctx-in file <br>
specifies initial context (MP4/BT/XMTA) for chunk
processing. Input file must then be a command-only file: no
IOD, and no implicit commands (commands without
&rsquo;AT&rsquo;).</p>

<p style="margin-top: 1em">-ctx-out file <br>
specifies output file of updated context (MP4/BT/XMTA) in
chunk processing mode. This is optional, chunk processing
doesn&rsquo;t need to store the final context.</p>

<p style="margin-top: 1em">-resolution res <br>
LASeR resolution factor (-8 to 7, default 0). All coords are
multiplied by 2^res before truncation.</p>

<p style="margin-top: 1em">-coord-bits bits <br>
bits used for encoding truncated coordinates in LASeR. (0 to
31, default 12)</p>

<p style="margin-top: 1em">-scale-bits bits <br>
bits used for encoding truncated scales in LASeR. (0 to 4,
default 0)</p>

<p style="margin-top: 1em">-auto-quant res <br>
Use automatic LASeR quantification. resolution is given as
if using -resolution but coord-bits and scale-bits are
infered.</p>

<p style="margin-top: 1em">ISMACRYPT OPTIONS <br>
-crypt drm_file <br>
crypts a specific track using ISMA AES CTR 128.</p>

<p style="margin-top: 1em">-decrypt [drm_file] <br>
decrypts a specific track using ISMA AES CTR 128. drm_file
can be omitted if keys are in file.</p>

<p style="margin-top: 1em">-set-kms [tkID=]kms_uri <br>
changes KMS location for all tracks or a given one if tkID
is specified.</p>

<p style="margin-top: 1em">DRM file syntax for GPAC
ISMACryp <br>
File is XML and shall start with xml header. File root is an
&quot;ISMACryp&quot; element. File is a list of
&quot;ISMACrypTrack&quot; elements. <br>
ISMACrypTrack attributes: <br>
TrackID: ID of track to en/decrypt. <br>
key: AES-128 key formatted (hex string 0x +32 chars. <br>
salt: CTR IV salt key (64 bits) (hex string 0x +16 chars.
<br>
Encryption only attributes <br>
Scheme_URI: URI of scheme used. <br>
KMS_URI: URI of key management system -
&Acirc;&acute;self&Acirc;&acute; writes key and salt in the
file. <br>
selectiveType selective encryption type - understood values
are &quot;None&quot;: all samples encrypted (default),
&quot;RAP&quot;: only encrypts random access units,
&quot;Non-RAP&quot;: <br>
only encrypts non-random access units, &quot;Rand&quot;:
random selection is performed&quot;, &quot;X&quot;: Encrypts
every first sample out of X, &quot;RandX&quot;: Encrypts one
random sample out of X. <br>
ipmpType: IPMP Signaling Type: None, IPMP, IPMPX. <br>
ipmpDescriptorID: IPMP_Descriptor ID to use if IPMP(X) is
used. If not set MP4Box will generate one for you.</p>

<p style="margin-top: 1em">EXTRACTING OPTIONS <br>
-raw TrackID <br>
extracts given track in native format when supported.</p>

<p style="margin-top: 1em">-raws TrackID <br>
extract each track sample to a file. Note:
&rsquo;TrackID:N&rsquo; extracts Nth sample of the
track.</p>

<p style="margin-top: 1em">-nhnt TrackID <br>
extracts given track in NHNT format. All track types except
ObjectDescriptors tracks can be exported.</p>

<p style="margin-top: 1em">-nhml TrackID <br>
extracts track in nhml format (XML nhnt). All track types
except ObjectDescriptors tracks can be exported.</p>

<p style="margin-top: 1em">-single TrackID <br>
extracts given track to a new mp4 file with a single
track.</p>

<p style="margin-top: 1em">-avi TrackID <br>
extracts visual track to an avi file.</p>

<p style="margin-top: 1em">-qcp TrackID <br>
same as &rsquo;-raw&rsquo; but defaults to QCP file format
for AVRC and SMV audio codecs.</p>

<p style="margin-top: 1em">-aviraw TK <br>
extracts AVI track to its raw format. TK can be one of
&quot;video&quot;, &quot;audio&quot; or &quot;audioN&quot;
for multi-track avi files (cf &rsquo;-info&rsquo;).</p>

<p style="margin-top: 1em">-saf remux file to SAF
multiplex.</p>

<p style="margin-top: 1em">-dvbhdemux <br>
demux DVB-H file into IP Datagrams.</p>

<p style="margin-top: 1em">-diod extracts file IOD in raw
format when supported.</p>

<p style="margin-top: 1em">DUMP OPTIONS <br>
-info [TrackID] <br>
prints movie and tracks information. If TrackID specified,
dumps only extended track info. If input file is not an
IsoMedia file, lists known tracks for import.</p>

<p style="margin-top: 1em">-bt dumps complete scene in a BT
file. This will remove unknown MPEG4 nodes.</p>

<p style="margin-top: 1em">-xmt dumps complete scene in an
XMT-A file. This will remove unknown MPEG4 nodes.</p>

<p style="margin-top: 1em">-wrl dumps complete scene in an
VRML97 WRL file. This will remove unknown VRML97 nodes.</p>

<p style="margin-top: 1em">-x3d dumps complete scene in an
X3D XML file. This will remove unknown X3D nodes.</p>

<p style="margin-top: 1em">-x3dv dumps complete scene in an
X3D Text (VRML) file. This will remove unknown X3D
nodes.</p>

<p style="margin-top: 1em">-lsr dumps complete scene in a
LASeR+XML file.</p>

<p style="margin-top: 1em">-diso creates XML image of the
file atoms.</p>

<p style="margin-top: 1em">-drtp creates XML image of all
hint tracks samples of a hinted mp4 file.</p>

<p style="margin-top: 1em">-dts prints sample timing to
text output.</p>

<p style="margin-top: 1em">-dcr creates XML image of all
ISMACryp tracks samples of an mp4 file.</p>

<p style="margin-top: 1em">-sdp creates SDP file associated
with a hinted mp4 file.</p>

<p style="margin-top: 1em">-dump-cover <br>
Extracts cover art if any.</p>

<p style="margin-top: 1em">-dump-chap <br>
Extracts chapter list to file if any.</p>

<p style="margin-top: 1em">-ttxt converts input subtitle to
GPAC TTXT format.</p>

<p style="margin-top: 1em">-ttxt trackID <br>
exports given text track to GPAC TTXT format.</p>

<p style="margin-top: 1em">-srt converts input subtitle to
SRT format.</p>

<p style="margin-top: 1em">-srt trackID <br>
exports given text track to SRT subtitle format.</p>

<p style="margin-top: 1em">-std dumps to stdout rather than
file.</p>

<p style="margin-top: 1em">-stat generates statitistic
report on node/field usage for the whole presentation.</p>

<p style="margin-top: 1em">-stats generates statistic
report on node/field usage per BIFS Access Unit.</p>

<p style="margin-top: 1em">-statx generates statistic
report on node/field usage in the scene graph after each
BIFS Access Unit.</p>

<p style="margin-top: 1em">-hash generates SHA-1 Hash of
the input file.</p>

<p style="margin-top: 1em">Meta OPTIONS <br>
MP4Box supports the Meta addition to IsoMedia file format,
used to make the file a generic data container (timed or
untimed).</p>

<p style="margin-top: 1em">-set-meta args <br>
sets meta object type. Syntax is &quot;ABCD[;tk=N] where:
<br>
ABCD is the four character code of the type, or O/NULL to
remove the meta object <br>
tk indicates whether the meta is at the root level (no
&quot;tk&quot;), at the moov level (tk=0) or at the track
level (tk=trackID).</p>

<p style="margin-top: 1em">-add-item args <br>
adds resource to the given meta. args is the item file path
followed by &rsquo;;&rsquo; separated options: <br>
tk=N: same as above <br>
name=item_name: specifies the item name, otherwise file name
is used <br>
mime=mimeType: specifies the item mime type, otherwise
application/octet-stream is used <br>
encoding=enctype: specifies the content encoding type Note
that file path set to &quot;this&quot; or &quot;self&quot;
will identify the item added as the whole IsoMedia file</p>

<p style="margin-top: 1em">-rem-item args <br>
removes item from given meta. Syntax is itemID[;tk=ID].</p>

<p style="margin-top: 1em">-set-primary args <br>
sets given item as the primary one of the given meta. Syntax
is itemID[;tk=ID].</p>

<p style="margin-top: 1em">-set-xml args <br>
sets XML to the given meta. Syntax is
xml_file_path[;tk=ID][;binary].</p>

<p style="margin-top: 1em">-rem-xml [tk=ID] <br>
removes XML data from the given meta.</p>

<p style="margin-top: 1em">-dump-xml
xml_out_file_name[;tk=ID] <br>
dumps the XML data of the given meta to a file.</p>

<p style="margin-top: 1em">-dump-item
itemID[;tk=ID][;path=fileName] <br>
dumps the given item of the the given meta to a file. By
default the item name is used as the output file name.</p>

<p style="margin-top: 1em">-package <br>
packages input XML file into an ISO container. all media
referenced except hyperlinks are added to file.</p>

<p style="margin-top: 1em">-mgt packages input XML file
into an MPEG-U widget in ISO container. All files contained
in the current folder are added to the widget package.</p>

<p style="margin-top: 1em">RTP STREAMER OPTIONS <br>
MP4Box can stream ISO files to RTP. The streamer currently
doesn&rsquo;t support data carrouselling and will therefore
not handle BIFS and OD streams properly.</p>

<p style="margin-top: 1em">-rtp enables rtp file
streamer.</p>

<p style="margin-top: 1em">-noloop <br>
disables looping when streaming.</p>

<p style="margin-top: 1em">-mpeg4 forces MPEG-4 ES Generic
for all RTP streams.</p>

<p style="margin-top: 1em">-dst=IP <br>
IP destination (uni/multi-cast). Default: 127.0.0.1.</p>

<p style="margin-top: 1em">-port=PORT <br>
output port of the first stream. Default: 7000.</p>

<p style="margin-top: 1em">-mtu=MTU <br>
path MTU for RTP packets. Default is 1450 bytes.</p>

<p style="margin-top: 1em">-ifce=IP <br>
IP address of the physical interface to use. Default: NULL
(ANY).</p>

<p style="margin-top: 1em">-ttl=N time to live for
multicast packets. Default: 1.</p>

<p style="margin-top: 1em">-sdp=FILE <br>
file name of the generated SDP. Default is session.sdp.</p>

<p style="margin-top: 1em">LIVE SCENE STREAMER OPTIONS <br>
MP4Box can stream BIFS or DIMS content to RTP with carousel
generation and updates. The streamer currently doesn&rsquo;t
support audio/video/image streaming at the same time. All
<br>
options supported by the file streamer are supported.</p>

<p style="margin-top: 1em">-live enables rtp live
streamer.</p>

<p style="margin-top: 1em">-dims turns on DIMS mode for SVG
input - default: off.</p>

<p style="margin-top: 1em">-src=FILE <br>
source of updates - default: null.</p>

<p style="margin-top: 1em">-rap=TIME <br>
duration in ms of base carousel - default: 0 (off). you can
specify the RAP period of a single ESID (not in DIMS) with
-rap=ESID=X:time.</p>

<p style="margin-top: 1em">Runtime Options <br>
The following options can be used at prompt: <br>
q: quits <br>
u: inputs some commands to be sent <br>
U: same as u but signals the updates as critical <br>
e: inputs some commands to be sent without being aggregated
<br>
E: same as e but signals the updates as critical <br>
f: forces RAP sending <br>
F: forces RAP regeneration and sending <br>
p: dumps current scene</p>

<p style="margin-top: 1em">SWF OPTIONS <br>
MP4Box can import very simple Macromedia Flash files
(&quot;.SWF&quot;). You can specify a SWF input file with
-bt, xmt and -mp4 switches.</p>

<p style="margin-top: 1em">-global <br>
all SWF defines are placed in first scene replace. By
default SWF defines are sent when needed.</p>

<p style="margin-top: 1em">-no-ctrl <br>
uses a dedicated stream for movie control. This will disable
ActionScript.</p>

<p style="margin-top: 1em">-no-text <br>
removes all SWF text.</p>

<p style="margin-top: 1em">-no-font <br>
removes all embedded SWF Fonts, forcing usage of MPEG-4 Text
and terminal fonts.</p>

<p style="margin-top: 1em">-no-line <br>
removes all lines from SWF shapes.</p>

<p style="margin-top: 1em">-no-grad <br>
removes all gradients from swf shapes.</p>

<p style="margin-top: 1em">-quad uses quadratic bezier
curves instead of cubic ones.</p>

<p style="margin-top: 1em">-xlp support for lines
transparency and scalability.</p>

<p style="margin-top: 1em">-flatten Value <br>
replaces 2 consecutive lines by a single one when angle
between lines is less than Value (expressed in radians).
Value 0 disables flattening.</p>

<p style="margin-top: 1em">SUPPORTED INPUT FORMATS <br>
RAW Formats and extensions</p>

<p style="margin-top: 1em">NHNT (.media .nhnt .info) <br>
MPEG Audio (.mp3) <br>
ADTS-AAC (.aac) <br>
MPEG-4 Visual (.cmp .m4v) <br>
H263 Video (.263 .h263) <br>
AVC/H264 Video (.h264 .h26L .264 .26L) <br>
JPEG Images (.jpg .jpeg) <br>
PNG Images (.png) <br>
AMR(WB) Audio (.amr .awb) <br>
EVRC Audio (.evc) <br>
SMV Audio (.smv)</p>

<p style="margin-top: 1em">Container Formats and
extensions</p>

<p style="margin-top: 1em">AVI (.avi) <br>
MPEG-PS (.mpg .mpeg .vob .vcd .svcd) <br>
QCP (.qcp) <br>
OGG (.ogg) <br>
ISO-Media files (no extension checking)</p>

<p style="margin-top: 1em">Text Formats and extensions</p>

<p style="margin-top: 1em">SRT Subtitles (.srt) <br>
SUB Subtitles (.sub) <br>
GPAC Timed Text (.ttxt) <br>
QuickTime TeXML Text (.xml) (cf QT documentation)</p>

<p style="margin-top: 1em">Scene Formats and extensions</p>

<p style="margin-top: 1em">MPEG-4 XMT-A (.xmt .xmta .xmt.gz
.xmta.gz) <br>
MPEG-4 BT (.bt .bt.gz) <br>
VRML (.wrl .wrl.gz) <br>
X3D-XML (.x3d .x3d.gz) <br>
X3D-VRML (.x3dv .x3dv.gz) <br>
MacroMedia Flash (.swf) - very limitted import support
only</p>

<p style="margin-top: 1em">COMMON USAGE <br>
Importing a file</p>

<p style="margin-top: 1em">Import an AVI: MP4Box -add
myfile.avi mymp4.mp4 <br>
Import audio from an AVI: MP4Box -add myfile.avi#audio
mymp4.mp4 <br>
Import video from an AVI: MP4Box -add myfile.avi#video
mymp4.mp4 <br>
Import an MP3 and leave data outside: MP4Box -dref -add
myfile.mp3 mymp4.mp4 <br>
Import a JPEG or PNG: MP4Box -add myfile.jpg mymp4.mp4 <br>
Create a movie with subtitle: MP4Box -add video.avi -add
audio.mp3 -add Subtitle.srt mymp4.mp4</p>

<p style="margin-top: 1em">Base File operations</p>

<p style="margin-top: 1em">Convert file for HTTP/FTP
streaming: MP4Box -inter 1000 myfile.mp4 <br>
Convert unknown file to ISMA for HTTP/FTP streaming: MP4Box
-isma -inter 1000 myfile.mp4 <br>
Convert unknown file to ISMA and respect ISMA broken sync:
MP4Box -ismax myfile.mp4 <br>
Convert unknown file to 3GP : MP4Box -3gp myfile.mp4</p>

<p style="margin-top: 1em">Hinting a File</p>

<p style="margin-top: 1em">Prepare any mp4 for ISMA
streaming: MP4Box -isma -hint myfile.mp4 <br>
Prepare any 3GP for streaming: MP4Box -hint myfile.3gp <br>
Prepare any 3GP for streaming with RTP aggregation : MP4Box
-hint -multi myfile.3gp <br>
Prepare a simple audio/video mp4 optimized for server:
MP4Box -hint -copy -tight myfile.mp4 <br>
Prepare a complex mp4 with BIFS for streaming: MP4Box -ocr
-iod -hint myfile.mp4</p>

<p style="margin-top: 1em">Encoding/Decoding a file</p>

<p style="margin-top: 1em">Encode a BT file and keep node
names for later inspection: MP4Box -mp4 -def pres.bt <br>
Encode a XMT-A file: MP4Box -mp4 pres.xmt <br>
Translate BT to XMT-A file: MP4Box -xmt pres.bt <br>
Translate XMT-A to BT file: MP4Box -bt pres.xmt <br>
Decode MP4 to BT: MP4Box -bt pres.mp4</p>

<p style="margin-top: 1em">BUGS and OTHER HELP <br>
For bug reports, more information on BT or XMT-A formats or
GPAC TTXT files or ISMACryp, MPEG-4 Systems usage and more
help on MP4Box please visit the GPAC web site <br>
http://gpac.sourceforge.net</p>

<p style="margin-top: 1em">AUTHORS <br>
Jean Le Feuvre &lt;jeanlf@users.sourceforge.net&gt; - GPAC
(c) 2000-2005 - (c) Telecom ParisTech 2005-2011</p>

<p style="margin-top: 1em">SEE ALSO <br>
GPAC(1), MP4Client(1)</p>

<p style="margin-top: 1em">MP4Box June 2005 MP4Box(1)</p>
<hr>
</body>
</html>
