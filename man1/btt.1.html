<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BTT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BTT(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">BTT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
btt - analyse block i/o traces produces by blktrace
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>btt</b>
<div>&#x00A0;</div>
[ -a | --seek-absolute ]
<div>&#x00A0;</div>
[ -A | --all-data ]
<div>&#x00A0;</div>
[ -B &lt; <i>output name</i>&gt; | --dump-blocknos=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -d &lt; <i>seconds</i>&gt; | --range-delta=&lt;<i>seconds</i>&gt; ]
<div>&#x00A0;</div>
[ -D &lt; <i>dev;...</i>&gt; | --devices=&lt;<i>dev;...</i>&gt; ]
<div>&#x00A0;</div>
[ -e &lt; <i>exe,...</i>&gt; | --exes=&lt;<i>exe,...</i>&gt; ]
<div>&#x00A0;</div>
[ -h | --help ]
<div>&#x00A0;</div>
[ -i &lt; <i>input name</i>&gt; | --input-file=&lt;<i>input name</i>&gt; ]
<div>&#x00A0;</div>
[ -I &lt; <i>output name</i>&gt; | --iostat=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -l &lt; <i>output name</i>&gt; | --d2c-latencies=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -L &lt; <i>freq</i>&gt; | --periodic-latencies=&lt;<i>freq</i>&gt; ]
<div>&#x00A0;</div>
[ -m &lt; <i>output name</i>&gt; | --seeks-per-second=&lt;<i>output name</i>&gt;
  ]
<div>&#x00A0;</div>
[ -M &lt; <i>dev map</i>&gt; | --dev-maps=&lt;<i>dev map</i>&gt;
<div>&#x00A0;</div>
[ -o &lt; <i>output name</i>&gt; | --output-file=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -p &lt; <i>output name</i>&gt; | --per-io-dump=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -P &lt; <i>output name</i>&gt; | --per-io-trees=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -q &lt; <i>output name</i>&gt; | --q2c-latencies=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -Q &lt; <i>output name</i>&gt; | --active-queue-depth=&lt;<i>output
  name</i>&gt; ]
<div>&#x00A0;</div>
[ -r | --no-remaps ]
<div>&#x00A0;</div>
[ -s &lt; <i>output name</i>&gt; | --seeks=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -S &lt; <i>interval</i>&gt; | --iostat-interval=&lt;<i>interval</i>&gt; ]
<div>&#x00A0;</div>
[ -t &lt; <i>sec</i>&gt; | --time-start=&lt;<i>sec</i>&gt; ]
<div>&#x00A0;</div>
[ -T &lt; <i>sec</i>&gt; | --time-end=&lt;<i>sec</i>&gt; ]
<div>&#x00A0;</div>
[ -u &lt; <i>output name</i>&gt; | --unplug-hist=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -v | --verbose ]
<div>&#x00A0;</div>
[ -V | --version ]
<div>&#x00A0;</div>
[ -X | --easy-parse-avgs ]
<div>&#x00A0;</div>
[ -z &lt; <i>output name</i>&gt; | --q2d-latencies=&lt;<i>output name</i>&gt; ]
<div>&#x00A0;</div>
[ -Z | --do-active ]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
btt is a post-processing tool for the block layer IO tracing tool called
  blktrace(8). As noted in its documentation, blktrace is a block layer IO
  tracing mechanism which provides detailed information about request queue
  operations up to user space.
<div style="height: 1.00em;">&#x00A0;</div>
btt will take in binary dump data from blkparse, and analyse the events,
  producing a series of output from the analysis. It will also build .dat files
  containing &quot;range data&quot; -- showing things like Q activity (periods
  of time while Q events are being produced), C activity (likewise for command
  completions), and etc.
<div style="height: 1.00em;">&#x00A0;</div>
Included with the distribution is a simple 3D plotting utility, <i>bno_plot</i>,
  which can plot the block numbers btt outputs if the <i>-B</i> option is
  specified. The display will display each IO generated, with the time (seconds)
  along the X-axis, the block number (start) along the Y-axis and the number of
  blocks transferred in the IO represented along the Z-axis.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-a</b>
<div>&#x00A0;</div>
<b>--seek-absolute</b>
<div style="margin-left: 4.00ex;">When specified on the command line, this
  directs btt to calculate seek distances based solely upon the ending block
  address of one IO, and the start of the next. By default <b>btt</b> uses the
  concept of the closeness to either the beginning or end of the previous IO.
  See the Users Manual for more details about seek distances.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-A</b>
<div>&#x00A0;</div>
<b>--all-data</b>
<div style="margin-left: 4.00ex;">Normally <b>btt</b> will not print out verbose
  information concerning per-process and per-device data. If you desire that
  level of detail you can specify this option.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-B &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--dump-blocknos=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">This option will output absolute block numbers
  to three files prefixed by the specified output name:
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><i>prefix_device_r.dat</i>
<div>&#x00A0;</div>
All read block numbers are output, first column is time (seconds), second is the
  block number, and the third column is the ending block number.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><i>prefix_device_w.dat</i>
<div>&#x00A0;</div>
All write block numbers are output, first column is time (seconds), second is
  the block number, and the third column is the ending block number.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><i>prefix_device_c.dat</i>
<div>&#x00A0;</div>
All block numbers (read and write) are output, first column is time (seconds),
  second is the block number, and the third column is the ending block
  number.</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-d &lt;<i>seconds</i>&gt;</b>
<div>&#x00A0;</div>
<b>--range-delta=&lt;<i>seconds</i>&gt;</b>
<div style="margin-left: 4.00ex;"><b>btt</b> outputs a file containing Q and C
  activity, the notion of active traces simply means that there are Q or C
  traces occurring within a certain period of each other. The default values is
  0.1 seconds; with this option allowing one to change that granularity. The
  smaller the value, the more data points provided.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-D &lt;<i>dev;...</i>&gt;</b>
<div>&#x00A0;</div>
<b>--devices=&lt;<i>dev;...</i>&gt;</b>
<div style="margin-left: 4.00ex;">Normally, <b>btt</b> will produce data for all
  devices detected in the traces parsed. With this option, one can reduce the
  analysis to one or more devices provided in the string passed to this option.
  The device identifiers are the major and minor number of each device, and each
  device identifier is separated by a colon (:). A valid specifier for devices
  8,0 and 8,8 would then be: <i>8,0:8,8</i>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-e &lt;<i>exe,...</i>&gt;</b>
<div>&#x00A0;</div>
<b>--exes=&lt;<i>exe,...</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -e option supplies the list of executables
  that will have I/Os analysed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-h</b>
<div>&#x00A0;</div>
<b>--help</b>
<div style="margin-left: 4.00ex;">Shows a short summary of possible command line
  option</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-i &lt;<i>input name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--input-file &lt;<i>input file</i>&gt;</b>
<div style="margin-left: 4.00ex;">Specifies the input file to analyse. This
  should be a trace file produced by <i>blktrace</i> (8).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-I &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--iostat=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -I option directs btt to output
  iostat-like data to the specified file. Refer to the iostat (sysstat)
  documentation for details on the data columns.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-l &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--d2c-latencies=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -l option allows one to output per-IO D2C
  latencies respectively. The supplied argument provides the basis for the
  output name for each device.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-L &lt;<i>freq</i>&gt;</b>
<div>&#x00A0;</div>
<b>--periodic-latencies=&lt;<i>freq</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -L option allows one to output periodic
  latency information for both Q2C and D2C latencies. The frequency specified
  will regulate how often an average latency is output -- a floating point value
  expressing seconds.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-m &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--seeks-per-second=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">Trigger btt to output seeks-per-second
  information. The first column will contain a time value (seconds), and the
  second column will indicate the number of seeks per second at that
  point.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-M &lt;<i>dev map</i>&gt;</b>
<div>&#x00A0;</div>
<b>--dev-maps=&lt;<i>dev map</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -M option takes in a file generated by the
  provided script (gen_disk_info.py), and allows for better output of device
  names.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-o &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--output-file=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">Specifies the output file name.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-p &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--per-io-dump=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -p option will generate a file that
  contains a list of all IO &quot;sequences&quot; - showing the parts of each IO
  (Q, A, I/M, D, &amp; C).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-P &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--per-io-trees=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -P option will generate a file that
  contains a list of all IO &quot;sequences&quot; - showing only the Q, D &amp;
  C operation times. The D &amp; C time values are separated from the Q time
  values with a vertical bar.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-q &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--q2c-latencies=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -q option allows one to output per-IO Q2C
  latencies respectively. The supplied argument provides the basis for the
  output name for each device.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-Q &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--active-queue-depth=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -Q option allows one to output data files
  showing the time stamp and the depth of active commands (those issued but not
  completed).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-r</b>
<div>&#x00A0;</div>
<b>--no-remaps</b>
<div style="margin-left: 4.00ex;">Ignore remap traces; older kernels did not
  implement the full remap PDU.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-s &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--seeks=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -s option instructs btt to output seek
  data, the argument provided is the basis for file names output. There are two
  files per device, read seeks and write seeks.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-S &lt;<i>interval</i>&gt;</b>
<div>&#x00A0;</div>
<b>--iostat-interval=&lt;<i>interval</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -S option specifies the interval to use
  between data output, it defaults to once per second.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-t &lt;<i>sec</i>&gt;</b>
<div>&#x00A0;</div>
<b>--time-start=&lt;<i>sec</i>&gt;</b>
<div>&#x00A0;</div>
<b>-T &lt;<i>sec</i>&gt;</b>
<div>&#x00A0;</div>
<b>--time-end=&lt;<i>sec</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -t/-T options allow one to set a start
  and/or end time for analysing - analysing will only be done for traces after
  -t's argument and before -T's argument. (-t and -T are optional, so if you
  specify just -t, analysis will occur for all traces after the time specified.
  Similarly, if only -T is specified, analysis stops after -T's seconds.)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-u &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--unplug-hist=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">This option instructs <b>btt</b> to generate a
  data file containing histogram information for unplug traces on a per device
  basis. It shows how many times an unplug was hit with a specified number of
  IOs released. There are 21 output values into the file, as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">a value of 0 represents 0..4 counts
<div>&#x00A0;</div>
a value of 1 represents 5..9 counts
<div>&#x00A0;</div>
a value of 2 represents 10..14 counts
<div>&#x00A0;</div>
etc, until
<div>&#x00A0;</div>
a value of 20 represents 100+ counts
<div>&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The file name(s) generated use the text string passed as an argument for the
  prefix, followed by the device identifier in <i>major,minor</i> form, with a
  <i>.dat</i> extension. For example, with <i>-u</i> <i>up_hist</i> specified on
  the command line: <i>up_hist_008,032.dat</i>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-V</b>
<div>&#x00A0;</div>
<b>--version</b>
<div style="margin-left: 4.00ex;">Shows the version of btt.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-v</b>
<div>&#x00A0;</div>
<b>--verbose</b>
<div style="margin-left: 4.00ex;">Requests a more verbose output.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-X</b>
<div>&#x00A0;</div>
<b>--easy-parse-avgs</b>
<div style="margin-left: 4.00ex;">Provide data in an easy-to-parse form and
  write it to a file with .avg exentsion</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-z &lt;<i>output name</i>&gt;</b>
<div>&#x00A0;</div>
<b>--q2d-latencies=&lt;<i>output name</i>&gt;</b>
<div style="margin-left: 4.00ex;">The -z option allows one to output per-IO Q2D
  latencies respectively. The supplied argument provides the basis for the
  output name for each device.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-Z</b>
<div>&#x00A0;</div>
<b>--do-active</b>
<div style="margin-left: 4.00ex;">The -Z will output files containing data which
  can be plotted showing per-device (and total system) I/O activity.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<i>btt</i> was written by Alan D. Brunelle. This man page was created from the
  <i>blktrace</i> documentation by Bas Zoetekouw.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to &lt;linux-btrace@vger.kernel.org&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2006 Jens Axboe, Alan D. Brunelle and Nathan Scott.
<div>&#x00A0;</div>
This is free software. You may redistribute copies of it under the terms of the
  GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;. There
  is NO WARRANTY, to the extent permitted by law.
<div>&#x00A0;</div>
This manual page was created for Debian by Bas Zoetekouw. It was derived from
  the documentation provided by the authors and it may be used, distributed and
  modified under the terms of the GNU General Public License, version 2.
<div>&#x00A0;</div>
On Debian systems, the text of the GNU General Public License can be found in
  /usr/share/common-licenses/GPL-2.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The btt Users Guide, which can be found in /usr/share/doc/blktrace/btt.pdf
<div>&#x00A0;</div>
bno_plot (1), blktrace (8), blkparse (1), verify_blkparse (1), blkrawverify (1),
  btt (1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 29, 2007</td>
    <td class="foot-os">blktrace git-20070910192508</td>
  </tr>
</table>
</body>
</html>
