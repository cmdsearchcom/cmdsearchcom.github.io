<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>REPREPRO(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">REPREPRO(1)</td>
    <td class="head-vol">REPREPRO</td>
    <td class="head-rtitle">REPREPRO(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
reprepro - produce, manage and sync a local repository of Debian packages
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>reprepro --help</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>reprepro</b> [ <i>options</i> ] <i>command</i> [ <i>per-command-arguments</i>
  ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
reprepro is a tool to manage a repository of Debian packages (.deb, .udeb, .dsc,
  ...). It stores files either being injected manually or downloaded from some
  other repository (partially) mirrored into a pool/ hierarchy. Managed packages
  and checksums of files are stored in a Berkeley DB database file, so no
  database server is needed. Checking signatures of mirrored repositories and
  creating signatures of the generated Package indices is supported.
<div style="height: 1.00em;">&#x00A0;</div>
Former working title of this program was mirrorer.
<h1 class="Sh" title="Sh" id="GLOBAL_OPTIONS"><a class="selflink" href="#GLOBAL_OPTIONS">GLOBAL
  OPTIONS</a></h1>
Options can be specified before the command. Each affects a different subset of
  commands and is ignored by other commands.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h --help</b></dt>
  <dd class="It-tag">Displays a short list of options and commands with
      description.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, -V, --verbose</b></dt>
  <dd class="It-tag">Be more verbose. Can be applied multiple times. One
      uppercase <b>-V</b> counts as five lowercase <b>-v.</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--silent</b></dt>
  <dd class="It-tag">Be less verbose. Can be applied multiple times. One
      <b>-v</b> and one <b>-s</b> cancel each other out.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --force</b></dt>
  <dd class="It-tag">This option is ignored, as it no longer exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b, --basedir <i>basedir</i></b></dt>
  <dd class="It-tag">Sets the base-dir all other default directories are
      relative to. If none is supplied and the <b>REPREPRO_BASE_DIR</b>
      environment variable is not set either, the current directory will be
      used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--outdir <i>outdir</i></b></dt>
  <dd class="It-tag">Sets the base-dir of the repository to manage, i.e. where
      the <b>pool/</b> subdirectory resides. And in which the <b>dists/</b>
      directory is placed by default. If this starts with ' <b>+b/</b>', it is
      relative to basedir.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default for this is <i>basedir</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--confdir <i>confdir</i></b></dt>
  <dd class="It-tag">Sets the directory where the configuration is searched in.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this starts with ' <b>+b/</b>', it is relative to basedir.
    <div style="height: 1.00em;">&#x00A0;</div>
    If none is given, <b>+b/conf</b> (i.e. <i>basedir</i><b>/conf</b>) will be
      used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--distdir <i>distdir</i></b></dt>
  <dd class="It-tag">Sets the directory to generate index files relatively to.
      (i.e. things like Packages.gz, Sources.gz and Release.gpg)
    <div style="height: 1.00em;">&#x00A0;</div>
    If this starts with ' <b>+b/</b>', it is relative to basedir, if starting
      with ' <b>+o/</b>' relative to outdir.
    <div style="height: 1.00em;">&#x00A0;</div>
    If none is given, <b>+o/dists</b> (i.e. <i>outdir</i><b>/dists</b>) is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> apt has <b>dists</b> hard-coded in it, so this is mostly only
      useful for testing or when your webserver pretends another directory
      structure than your physical layout.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Warning:</b> Beware when changing this forth and back between two values
      not ending in the same directory. Reprepro only looks if files it wants
      are there. If nothing of the content changed and there is a file it will
      not touch it, assuming it is the one it wrote last time, assuming any
      different <b>--distdir</b> ended in the same directory. So either clean a
      directory before setting <b>--distdir</b> to it or do an <b>export</b>
      with the new one first to have a consistent state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--logdir <i>logdir</i></b></dt>
  <dd class="It-tag">The directory where files generated by the <b>Log:</b>
      directive are stored if they have no absolute path.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this starts with ' <b>+b/</b>', it is relative to basedir, if starting
      with ' <b>+o/</b>' relative to outdir, with ' <b>+c/</b>' relative to
      confdir.
    <div style="height: 1.00em;">&#x00A0;</div>
    If none is given, <b>+b/logs</b> (i.e. <i>basedir</i><b>/logs</b>) is
    used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dbdir <i>dbdir</i></b></dt>
  <dd class="It-tag">Sets the directory where reprepro keeps its databases.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this starts with ' <b>+b/</b>', it is relative to basedir, if starting
      with ' <b>+o/</b>' relative to outdir, with ' <b>+c/</b>' relative to
      confdir.
    <div style="height: 1.00em;">&#x00A0;</div>
    If none is given, <b>+b/db</b> (i.e. <i>basedir</i><b>/db</b>) is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> This is permanent data, no cache. One has almost to regenerate
      the whole repository when this is lost.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--listdir <i>listdir</i></b></dt>
  <dd class="It-tag">Sets the directory where downloads it downloads indices to
      when importing from other repositories. This is temporary data and can be
      safely deleted when not in an update run.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this starts with ' <b>+b/</b>', it is relative to basedir, if starting
      with ' <b>+o/</b>' relative to outdir, with ' <b>+c/</b>' relative to
      confdir.
    <div style="height: 1.00em;">&#x00A0;</div>
    If none is given, <b>+b/lists</b> (i.e. <i>basedir</i><b>/lists</b>) is
      used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--morguedir <i>morguedir</i></b></dt>
  <dd class="It-tag">Files deleted from the pool are stored into
      <i>morguedir</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this starts with ' <b>+b/</b>', it is relative to basedir, if starting
      with ' <b>+o/</b>' relative to outdir, with ' <b>+c/</b>' relative to
      confdir.
    <div style="height: 1.00em;">&#x00A0;</div>
    If none is given, deleted files are just deleted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--methoddir <i>methoddir</i></b></dt>
  <dd class="It-tag">Look in <i>methoddir</i> instead of
      <b>/usr/lib/apt/methods</b> for methods to call when importing from other
      repositories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C, --component <i>components</i></b></dt>
  <dd class="It-tag">Limit the specified command to this components only. This
      will force added packages to this components, limit removing packages from
      this components, only list packages in this components, and/or otherwise
      only look at packages in this components, depending on the command in
      question.
    <div style="height: 1.00em;">&#x00A0;</div>
    Multiple components are specified by separating them with <b>|</b>, as in
      <b>-C 'main|contrib'</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A, --architecture <i>architectures</i></b></dt>
  <dd class="It-tag">Limit the specified command to this architectures only.
      (i.e. only list such packages, only remove packages from the specified
      architectures, or otherwise only look at/act on this architectures
      depending on the specific command).
    <div style="height: 1.00em;">&#x00A0;</div>
    Multiple architectures are specified by separating them with <b>|</b>, as in
      <b>-A 'sparc|i386'</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that architecture <b>all</b> packages can be included to each
      architecture but are then handled separately. Thus by using <b>-A</b> in a
      specific way one can have different versions of an architecture <b>all</b>
      package in different architectures of the same distribution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T, --type dsc|deb|udeb</b></dt>
  <dd class="It-tag">Limit the specified command to this packagetypes only.
      (i.e. only list such packages, only remove such packages, only include
      such packages, ...)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S, --section <i>section</i></b></dt>
  <dd class="It-tag">Overrides the section of inclusions. (Also override
      possible override files)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P, --priority <i>priority</i></b></dt>
  <dd class="It-tag">Overrides the priority of inclusions. (Also override
      possible override files)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export=</b>(<b>never</b>|<b>changed</b>|<b>lookedat</b>|<b>force</b>)</dt>
  <dd class="It-tag">This option specify whether and how the high level actions
      (e.g. install, update, pull, delete) should export the index files of the
      distributions they work with.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export=lookedat</b></dt>
  <dd class="It-tag">In this mode every distribution the action handled will be
      exported, unless there was an error possibly corrupting it.
    <div>&#x00A0;</div>
     <i>Note</i> that only missing files and files whose intended content
      changed between before and after the action will be written. To get a
      guaranteed current export, use the <b>export</b> action.
    <div>&#x00A0;</div>
    For backwards compatibility, <b>lookedat</b> is also available under the old
      name <b>normal</b>. The name <b>normal</b> is deprecated and will be
      removed in future versions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export=changed</b></dt>
  <dd class="It-tag">In this mode every distribution actually changed will be
      exported, unless there was an error possibly corrupting it. (i.e. if
      nothing changed, not even missing files will be created.)
    <div>&#x00A0;</div>
     <i>Note</i> that only missing files and files whose intended content
      changed between before and after the action will be written. To get a
      guaranteed current export, use the <b>export</b> action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export=force</b></dt>
  <dd class="It-tag">Always export all distributions looked at, even if there
      was some error possibly bringing it into a inconsistent state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export=never</b></dt>
  <dd class="It-tag">No index files are exported. You will have to call
      <b>export</b> later.
    <div>&#x00A0;</div>
     <i>Note</i> that you most likely additionally need the
      <b>--keepunreferencedfiles</b> option, if you do not want some of the
      files pointed to by the untouched index files to vanish.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore=<i>what</i></b></dt>
  <dd class="It-tag">Ignore errors of type <i>what</i>. See the section <b>ERROR
      IGNORING</b> for possible values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nolistsdownload</b></dt>
  <dd class="It-tag">When running <b>update</b>, <b>checkupdate</b> or
      <b>predelete</b> do not download any Release or index files. This is
      hardly useful except when you just run one of those command for the same
      distributions. And even then reprepro is usually good in not downloading
      except <b>Release</b> and <b>Release.gpg</b> files again.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nothingiserror</b></dt>
  <dd class="It-tag">If nothing was done, return with exitcode 1 instead of the
      usual 0.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that &quot;nothing was done&quot; means the primary purpose of the
      action in question. Auxillary actions (opening and closeing the database,
      exporting missing files with --export=lookedat, ...) usually do not count.
      Also note that this is not very well tested. If you find an action that
      claims to have done something in some cases where you think it should not,
      please let me know.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keeptemporaries</b></dt>
  <dd class="It-tag">Do not delete temporary <b>.new</b> files when exporting a
      distribution fails. (reprepro first create <b>.new</b> files in the
      <b>dists</b> directory and only if everything is generated, all files are
      put into their final place at once. If this option is not specified and
      something fails, all are deleted to keep <b>dists</b> clean).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keepunreferencedfiles</b></dt>
  <dd class="It-tag">Do not delete files that are no longer used because the
      package they are from is deleted/replaced with a newer version from the
      last distribution it was in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keepunusednewfiles</b></dt>
  <dd class="It-tag">The include, includedsc, includedeb and processincoming by
      default delete any file they added to the pool that is not marked used at
      the end of the operation. While this keeps the pool clean and allows
      changing before trying to add again, this needs copying and checksum
      calculation every time one tries to add a file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keepdirectories</b></dt>
  <dd class="It-tag">Do not try to rmdir parent directories after files or
      directories have been removed from them. (Do this if your directories have
      special permissions you want keep, do not want to be pestered with
      warnings about errors to remove them, or have a buggy rmdir call deleting
      non-empty directories.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ask-passphrase</b></dt>
  <dd class="It-tag">Ask for passphrases when signing things and one is needed.
      This is a quick and dirty implementation using the obsolete
      <b>getpass(3)</b> function with the description gpgme is supplying. So the
      prompt will look quite funny and support for passphrases with more than 8
      characters depend on your libc. I suggest using gpg-agent or something
      like that instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--noskipold</b></dt>
  <dd class="It-tag">When updating do not skip targets where no new index files
      and no files marked as already processed are available.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you changed a script to preprocess downloaded index files or changed a
      Listfilter, you most likely want to call reprepro with --noskipold.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--waitforlock <i>count</i></b></dt>
  <dd class="It-tag">If there is a lockfile indicating another instance of
      reprepro is currently using the database, retry <i>count</i> times after
      waiting for 10 seconds each time. The default is 0 and means to error out
      instantly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--spacecheck full|none</b></dt>
  <dd class="It-tag">The default is <b>full</b>:
    <div>&#x00A0;</div>
    In the update commands, check for every to be downloaded file which
      filesystem it is on and how much space is left.
    <div>&#x00A0;</div>
    To disable this behaviour, use <b>none</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dbsafetymargin</b><i> bytes-count</i></dt>
  <dd class="It-tag">If checking for free space, reserve <i>byte-count</i> bytes
      on the filesystem containing the <b>db/</b> directory. The default is
      104857600 (i.e. 100MB), which is quite large. But as there is no way to
      know in advance how large the databases will grow and libdb is extremely
      touchy in that regard, lower only when you know what you do.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--safetymargin</b><i> bytes-count</i></dt>
  <dd class="It-tag">If checking for free space, reserve <i>byte-count</i> bytes
      on filesystems not containing the <b>db/</b> directory. The default is
      1048576 (i.e. 1MB).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--noguessgpgtty</b></dt>
  <dd class="It-tag">Don't set the environment variable <b>GPG_TTY</b>, even
      when it is not set, stdin is terminal and <b>/proc/self/fd/0</b> is a
      readable symbolic link.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gnupghome</b></dt>
  <dd class="It-tag">Set the <b>GNUPGHOME</b> evnironment variable to the given
      directory as argument to this option. And your gpg will most likely use
      the content of this variable instead of &quot;~/.gnupg&quot;. Take a look
      at <b>gpg</b>(1) to be sure. This option in the command line is usually
      not very useful, as it is possible to set the environment variable
      directly. Its main reason for existance is that it can be used in
      <i>conf</i> <b>/options</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gunzip</b><i> gz-uncompressor</i></dt>
  <dd class="It-tag">While reprepro links against <b>libz</b>, it will look for
      the program given with this option (or <b>gunzip</b> if not given) and use
      that when uncompressing index files while downloading from remote
      repositories. (So that downloading and uncompression can happen at the
      same time). If the program is not found or is <b>NONE</b> (all-uppercase)
      then uncompressing will always be done using the built in uncompression
      method. The program has to accept the compressed file as stdin and write
      the uncompressed file into stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bunzip2</b><i> bz2-uncompressor</i></dt>
  <dd class="It-tag">When uncompressing downloaded index files or when not
      linked against <b>libbz2</b> reprepro will use this program to uncompress
      <b>.bz2</b> files. The default value is <b>bunzip2</b>. If the program is
      not found or is <b>NONE</b> (all-uppercase) then uncompressing will always
      be done using the built in uncompression method or not be possible when
      not linked against <b>libbz2</b>. The program has to accept the compressed
      file as stdin and write the uncompressed file into stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unlzma</b><i> lzma-uncompressor</i></dt>
  <dd class="It-tag">When trying to uncompress or read <b>lzma</b> compressed
      files, this program will be used. The default value is <b>unlzma</b>. If
      the program is not found or is <b>NONE</b> (all-uppercase) then
      uncompressing lzma files will not be possible. The program has to accept
      the compressed file as stdin and write the uncompressed file into
    stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unxz</b><i> xz-uncompressor</i></dt>
  <dd class="It-tag">When trying to uncompress or read <b>xz</b> compressed
      files, this program will be used. The default value is <b>unxz</b>. If the
      program is not found or is <b>NONE</b> (all-uppercase) then uncompressing
      xz files will not be possible. The program has to accept the compressed
      file as stdin and write the uncompressed file into stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--lunzip</b><i> lzip-uncompressor</i></dt>
  <dd class="It-tag">When trying to uncompress or read <b>lzip</b> compressed
      files, this program will be used. The default value is <b>lunzip</b>. If
      the program is not found or is <b>NONE</b> (all-uppercase) then
      uncompressing lz files will not be possible. The program has to accept the
      compressed file as stdin and write the uncompressed file into stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-max</b><i> count</i></dt>
  <dd class="It-tag">Limits the output of <b>list</b>, <b>listmatched</b> and
      <b>listfilter</b> to the first <i>count</i> results. The default is 0,
      which means unlimited.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-skip</b><i> count</i></dt>
  <dd class="It-tag">Omitts the first <i>count</i> results from the output of
      <b>list</b>, <b>listmatched</b> and <b>listfilter</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-format</b><i> format</i></dt>
  <dd class="It-tag">Set the output format of <b>list</b>, <b>listmatched</b>
      and <b>listfilter</b> commands. The format is similar to dpkg-query's
      <b>--showformat</b>: fields are specified as
      <b>${</b><i>fieldname</i><b>}</b> or
      <b>${</b><i>fieldname</i><b>;</b><i>length</i><b>}.</b> Zero length or no
      length means unlimited. Positive numbers mean fill with spaces right,
      negative fill with spaces left.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>\n</b>, <b>\r</b>, <b>\t</b>, <b>\0</b> are new-line, carriage-return,
      tabulator and zero-byte. Backslash ( <b>\</b>) can be used to escape every
      non-letter-or-digit.
    <div style="height: 1.00em;">&#x00A0;</div>
    The special field names <b>$identifier</b>, <b>$architecture</b>,
      <b>$component</b>, <b>$type</b>, <b>$codename</b> denote where the package
      was found.
    <div style="height: 1.00em;">&#x00A0;</div>
    The special field names <b>$source</b> and <b>$sourceversion</b> denote the
      source and source version a package belongs to. (i.e. <b>${$source}</b>
      will either be the same as <b>${source}</b> (without a possible version in
      parentheses at the end) or the same as <b>${package}</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The special field names <b>$basename</b>, <b>$filekey</b> and
      <b>$fullfilename</b> denote the first package file part of this entry
      (i.e. usually the .deb, .udeb or .dsc file) as basename, as filekey
      (filename relative to the outdir) and the full filename with outdir
      prepended (i.e. as relative or absolute as your outdir (or basedir if you
      did not set outdir) is).
    <div style="height: 1.00em;">&#x00A0;</div>
    When <b>--list-format</b> is not given or <b>NONE</b>, then the default is
      equivalent to
    <div>&#x00A0;</div>
    <b>${$identifier} ${package} ${version}\n</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Escaping digits or letters not in above list, using dollars not escaped
      outside specified constructs, or any field names not listed as special and
      not consisting entirely out of letters, digits and minus signs have
      undefined behaviour and might change meaning without any further notice.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you give this option on the command line, don't forget that $ is also
      interpreted by your shell. So you have to properly escape it. For example
      by putting the whole argument to --list-format in single quotes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--show-percent</b></dt>
  <dd class="It-tag">When downloading packages, show each completed percent of
      completed package downloads together with the size of completely
      downloaded packages. (Repeating this option increases the frequency of
      this output).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--onlysmalldeletes</b></dt>
  <dd class="It-tag">The pull and update commands will skip every distribution
      in which one target loses more than 20% of its packages (and at least 10).
    <div style="height: 1.00em;">&#x00A0;</div>
    Using this option (or putting it in the options config file) can avoid
      removing large quantities of data but means you might often give
      <b>--noonlysmalldeletes</b> to override it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--restrict
    <i>src</i>[=<i>version</i>|:<i>type</i>]</b></dt>
  <dd class="It-tag">Restrict a <b>pull</b> or <b>update</b> to only act on
      packages belonging to source-package <i>src</i>. Any other package will
      not be updated (unless it matches a <b>--restrict-bin</b>). Only packages
      that would otherwise be updated or are at least marked with <b>hold</b> in
      a <b>FilterList</b> or <b>FilerSrcList</b> will be updated.
    <div style="height: 1.00em;">&#x00A0;</div>
    The action can be restricted to a source version using a equal sign or
      changed to another type (see FilterList) using a colon.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option can be given multiple times to list multiple packages, but each
      package may only be named once (even when there are different versions or
      types).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--restrict-binary
    <i>name</i>[=<i>version</i>|:<i>type</i>]</b></dt>
  <dd class="It-tag">Like <b>--restrict</b> but restrict to binary packages
      (<b>.deb</b> and <b>.udeb</b>). Source packages are not upgraded unless
      they appear in a <b>--restrict</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--restrict-file <i>filename</i></b></dt>
  <dd class="It-tag">Like <b>--restrict</b> but read a whole file in the
      <b>FilterSrcList</b> format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--restrict-file-bin <i>filename</i></b></dt>
  <dd class="It-tag">Like <b>--restrict-bin</b> but read a whole file in the
      <b>FilterList</b> format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--endhook <i>hookscript</i></b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Run the specified <i>hookscript</i> once reprepro exits. It will get the
      usual <b>REPREPRO_</b>* environment variables set (or unset) and
      additionally a variable <b>REPREPRO_EXIT_CODE</b> that is the exit code
      with which reprepro would have exited (the hook is always called once the
      initial parsing of global options and the command name is done, no matter
      if reprepro did anything or not). Reprepro will return to the calling
      process with the exitcode of this script. Reprepro has closed all its
      databases and removed all its locks, so you can run reprepro again in this
      script (unless someone else did so in the same repository before, of
      course).
    <div style="height: 1.00em;">&#x00A0;</div>
    The only advantage over running that command always directly after reprepro
      is that you can some environment variables set and cannot so easily forget
      it if this option is in conf/options.
    <div style="height: 1.00em;">&#x00A0;</div>
    The script is supposed to be located relative to <i>confdir</i>, unless its
      name starts with <b>/</b>, <b>./</b>, <b>+b/</b>, <b>+o/</b>, or
      <b>+c/</b> and the name may not start (except in the cases given before)
      with a <b>+</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    An example script looks like: <b></b>
    <br/>
    <b> #!/bin/sh</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     if [ &quot;$REPREPRO_EXIT_CODE&quot; -ne 0 ] ; then
    <br/>
     	exit &quot;$REPREPRO_EXIT_CODE&quot;
    <br/>
     fi
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     echo &quot;congratulations, reprepro with arguments: $*&quot;
    <br/>
     echo &quot;seems to have run successfully. REPREPRO_ part of the
      environment is:&quot;
    <br/>
     set | grep ^REPREPRO_
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     exit 0
    <br/>
     <b></b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--outhook <i>hookscript</i></b></dt>
  <dd class="It-tag"><i>hookscript</i> is called with a <b>.outlog</b> file as
      argument (located in <i>logdir</i>) containing a description of all
      changes made to <i>outdir</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The script is supposed to be located relative to <i>confdir</i>, unless its
      name starts with <b>/</b>, <b>./</b>, <b>+b/</b>, <b>+o/</b>, or
      <b>+c/</b> and the name may not start (except in the cases given before)
      with a <b>+</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    For a format of the <b>.outlog</b> files generated for this script see the
      <b>manual.html</b> shiped with reprepro.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>export</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Generate all index files for the specified distributions.
    <div style="height: 1.00em;">&#x00A0;</div>
    This regenerates all files unconditionally. It is only useful if you want to
      be sure <b>dists</b> is up to date, you called some other actions with
      <b>--export=never</b> before or you want to create an initial empty but
      fully equipped <b>dists/</b><i>codename</i> directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> [ <b>--delete</b> ] <b>createsymlinks</b> [
    <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Creates <i>suite</i> symbolic links in the
      <b>dists/</b>-directory pointing to the corresponding <i>codename</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    It will not create links, when multiple of the given codenames would be
      linked from the same suite name, or if the link already exists (though
      when <b>--delete</b> is given it will delete already existing
    symlinks)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list <i>codename</i> [ <i>packagename</i> ]</b></dt>
  <dd class="It-tag">List all packages (source and binary, except when <b>-T</b>
      or <b>-A</b> is given) with the given name in all components (except when
      <b>-C</b> is given) and architectures (except when <b>-A</b> is given) of
      the specified distribution. If no package name is given, list everything.
      The format of the output can be changed with <b>--list-format</b>. To only
      get parts of the result, use <b>--list-max</b> and
    <b>--list-skip</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>listmatched <i>codename</i> <i>glob</i></b></dt>
  <dd class="It-tag">as list, but does not list a single package, but all
      packages matching the given shell-like <i>glob</i>. (i.e. <b>*</b>,
      <b>?</b> and <b>[</b><i>chars</i><b>]</b> are allowed).
    <div style="height: 1.00em;">&#x00A0;</div>
    Examples:
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>reprepro -b . listmatched test2 'linux-*'</b> lists all packages starting
      with <b>linux-</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>listfilter <i>codename</i> <i>condition</i></b></dt>
  <dd class="It-tag">as list, but does not list a single package, but all
      packages matching the given condition.
    <div style="height: 1.00em;">&#x00A0;</div>
    The format of the formulas is those of the dependency lines in Debian
      packages' control files with some extras. That means a formula consists of
      names of fields with a possible condition for its content in parentheses.
      These atoms can be combined with an exclamation mark '!' (meaning not), a
      pipe symbol '|' (meaning or) and a comma ',' (meaning and). Additionally
      parentheses can be used to change binding (otherwise '!' binds more than
      '|' than ',').
    <div style="height: 1.00em;">&#x00A0;</div>
    The values given in the search expression are directly alphabetically
      compared to the headers in the respective index file. That means that each
      part <i>Fieldname</i><b> (</b><i>cmp</i><b> </b><i>value</i><b>)</b> of
      the formula will be true for exactly those package that have in the
      <b>Package</b> or <b>Sources</b> file a line starting with
      <i>fieldname</i> and a value is alphabetically <i>cmp</i> to <i>value</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Additionally since reprepro 3.11.0, ' <b>%</b>' can be used as comparison
      operator, denoting matching a name with shell like wildcard (with '
      <b>*</b>', ' <b>?</b>' and '<b>[</b>..<b>]</b>').
    <div style="height: 1.00em;">&#x00A0;</div>
    The special field names starting with ' <b>$</b>' have special meaning
      (available since 3.11.1):
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>$Version</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The version of the package, comparison is not alphabetically, but as Debian
      version strings.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>$Source</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The source name of the package.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>$SourceVersion</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The source version of the package.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>$Architecture</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The architecture the package is in (listfilter) or to be put into.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>$Component</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The component the package is in (listfilter) or to be put into.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>$Packagetype</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The packagetype of the package.
    <div style="height: 1.00em;">&#x00A0;</div>
    Examples:
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>reprepro -b . listfilter test2 'Section (== admin)'</b> will list all
      packages in distribution test2 with a Section field and the value of that
      field being <b>admin</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>reprepro -b . -T deb listfilter test2 'Source (== <i>blub</i>) | (
      !Source , Package (== <i>blub</i>) )'</b> will find all .deb Packages with
      either a Source field blub or no Source field and a Package field blub.
      (That means all package generated by a source package <i>blub</i>, except
      those also specifying a version number with its Source).
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>reprepro -b . -T deb listfilter test2 '$Source (==<i>blub</i>)</b> is the
      better way to do this (but only available since 3.11.1).
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>reprepro -b . listfilter test2 '$PackageType (==deb), $Source
      (==<i>blub</i>)</b> is another (less efficient) way.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>reprepro -b . listfilter test2 'Package (% linux-*-2.6*)'</b> lists all
      packages with names starting with <b>linux-</b> and later having an
      <b>-2.6</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ls <i>package-name</i></b></dt>
  <dd class="It-tag">List the versions of the the specified package in all
      distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsbycomponent <i>package-name</i></b></dt>
  <dd class="It-tag">Like ls, but group by component (and print component
      names).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove <i>codename</i> <i>package-names</i></b></dt>
  <dd class="It-tag">Delete all packages in the specified distribution, that
      have package name listed as argument. (i.e. remove all packages
      <b>list</b> with the same arguments and options would list, except that an
      empty package list is not allowed.)
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that like any other operation removing or replacing a package, the old
      package's files are unreferenced and thus may be automatically deleted if
      this was their last reference and no <b>--keepunreferencedfiles</b>
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removematched <i>codename</i> <i>glob</i></b></dt>
  <dd class="It-tag">Delete all packages <b>listmatched</b> with the same
      arguments would list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removefilter <i>codename</i> <i>condition</i></b></dt>
  <dd class="It-tag">Delete all packages <b>listfilter</b> with the same
      arguments would list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removesrc <i>codename</i> <i>source-name</i>
    [<i>version</i>]</b></dt>
  <dd class="It-tag">Remove all packages in distribution <i>codename</i>
      belonging to source package <i>source-name</i>. (Limited to those with
      source version <i>version</i> if specified).
    <div style="height: 1.00em;">&#x00A0;</div>
    If package tracking is activated, it will use that information to find the
      packages, otherwise it traverses all package indices for the
    distribution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removesrcs <i>codename</i>
    <i>source-name</i>[=<i>version</i>] <i>...</i></b></dt>
  <dd class="It-tag">Like <b>removesrc</b>, but can be given multiple source
      names and source versions must be specified by appending ' <b>=</b>' and
      the version to the name (without spaces).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>update</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Sync the specified distributions (all if none given) as
      specified in the config with their upstreams. See the description of
      <b>conf/updates</b> below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>checkupdate</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Same like <b>update</b>, but will show what it will change
      instead of actually changing it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumpupdate</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Same like <b>checkupdate</b>, but less suiteable for humans
      and more suitable for computers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>predelete</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">This will determine which packages a <b>update</b> would
      delete or replace and remove those packages. This can be useful for
      reducing space needed while upgrading, but there will be some time where
      packages are vanished from the lists so clients will mark them as
      obsolete. Plus if you cannot download a updated package in the (hopefully)
      following update run, you will end up with no package at all instead of an
      old one. This will also blow up <b>.diff</b> files if you are using the
      pdiff example or something similar. So be careful when using this option
      or better get some more space so that update works.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cleanlists</b></dt>
  <dd class="It-tag">Delete all files in <i>listdir</i> (default
      <i>basedir</i><b>/lists</b>) that do not belong to any update rule for any
      distribution. I.e. all files are deleted in that directory that no
      <b>update</b> command in the current configuration can use. (The files are
      usually left there, so if they are needed again they do not need to be
      downloaded again. Though in many easy cases not even those files will be
      needed.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pull</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">pull in newer packages into the specified distributions
      (all if none given) from other distributions in the same repository. See
      the description of <b>conf/pulls</b> below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>checkpull</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Same like <b>pull</b>, but will show what it will change
      instead of actually changing it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumppull</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Same like <b>checkpull</b>, but less suiteable for humans
      and more suitable for computers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>includedeb <i>codename</i> <i>.deb-filename</i></b></dt>
  <dd class="It-tag">Include the given binary Debian package (.deb) in the
      specified distribution, applying override information and guessing all
      values not given and guessable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>includeudeb <i>codename</i>
    <i>.udeb-filename</i></b></dt>
  <dd class="It-tag">Same like <b>includedeb</b>, but for .udeb files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>includedsc <i>codename</i> <i>.dsc-filename</i></b></dt>
  <dd class="It-tag">Include the given Debian source package (.dsc, including
      other files like .orig.tar.gz, .tar.gz and/or .diff.gz) in the specified
      distribution, applying override information and guessing all values not
      given and guessable.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that .dsc files do not contain section or priority, but the Sources.gz
      file needs them. reprepro tries to parse .diff and .tar files for it, but
      is only able to resolve easy cases. If reprepro fails to extract those
      automatically, you have to either specify a DscOverride or give them via
      <b>-S</b> and <b>-P</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>include <i>codename</i>
    <i>.changes-filename</i></b></dt>
  <dd class="It-tag">Include in the specified distribution all packages found
      and suitable in the <i>.changes</i> file, applying override information
      guessing all values not given and guessable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>processincoming <i>rulesetname</i>
    [<i>.changes-file</i>]</b></dt>
  <dd class="It-tag">Scan an incoming directory and process the .changes files
      found there. If a filename is supplied, processing is limited to that
      file. <i>rulesetname</i> identifies which rule-set in <b>conf/incoming</b>
      determines which incoming directory to use and in what distributions to
      allow packages into. See the section about this file for more
    information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>check</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Check if all packages in the specified distributions have
      all files needed properly registered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>checkpool</b> [ <b>fast</b> ]</dt>
  <dd class="It-tag">Check if all files believed to be in the pool are actually
      still there and have the known md5sum. When <b>fast</b> is specified
      md5sum is not checked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>collectnewchecksums</b></dt>
  <dd class="It-tag">Calculate all supported checksums for all files in the
      pool. (Versions prior to 3.3 did only store md5sums, 3.3 added sha1, 3.5
      added sha256).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>translatelegacychecksums</b></dt>
  <dd class="It-tag">Remove the legacy <b>files.db</b> file after making sure
      all information is also found in the new <b>checksums.db</b> file.
      (Alternatively you can call <b>collecnewchecksums</b> and remove the file
      on your own.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rereference</b></dt>
  <dd class="It-tag">Forget which files are needed and recollect this
      information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumpreferences</b></dt>
  <dd class="It-tag">Print out which files are marked to be needed by whom.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumpunreferenced</b></dt>
  <dd class="It-tag">Print a list of all filed believed to be in the pool, that
      are not known to be needed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>deleteunreferenced</b></dt>
  <dd class="It-tag">Remove all known files (and forget them) in the pool not
      marked to be needed by anything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>deleteifunreferenced</b> [ <b><i>filekeys</i></b> ]</dt>
  <dd class="It-tag">Remove the given files (and forget them) in the pool if
      they are not marked to be used by anything. If no command line arguments
      are given, stdin is read and every line treated as one filekey. This is
      mostly useful together with <b>--keepunreferenced</b> in
      <b>conf/options</b> or in situations where one does not want to run
      <b>deleteunreferenced</b>, which removes all files eligible to be deleted
      with this command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reoverride</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Reapply the override files to the given distributions (Or
      only parts thereof given by <b>-A</b>,<b>-C</b> or <b>-T</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note: only the control information is changed. Changing a section to a
      value, that would cause another component to be guessed, will not cause
      any warning.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>redochecksums</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Readd the information about file checksums to the package
      indices.
    <div style="height: 1.00em;">&#x00A0;</div>
    Usually the package's control information is created at inclusion time or
      imported from some remote source and not changed later. This command
      modifies it to readd missing checksum types.
    <div style="height: 1.00em;">&#x00A0;</div>
    Only checksums already known are used. To update known checkums about files
      run <b>collectnewchecksums</b> first.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumptracks</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Print out all information about tracked source packages in
      the given distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>retrack</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Recreate a tracking database for the specified
      distributions. This contains ouf of three steps. First all files marked as
      part of a source package are set to unused. Then all files actually used
      are marked as thus. Finally tidytracks is called remove everything no
      longer needed with the new information about used files.
    <div style="height: 1.00em;">&#x00A0;</div>
    (This behaviour, though a bit longsome, keeps even files only kept because
      of tracking mode <b>keep</b> and files not otherwise used but kept due to
      <b>includechanges</b> or its relatives. Before version 3.0.0 such files
      were lost by running retrack).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removealltracks</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Removes all source package tracking information for the
      given distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removetrack <i>codename</i> <i>sourcename</i>
    <i>version</i></b></dt>
  <dd class="It-tag">Remove the trackingdata of the given version of a given
      sourcepackage from a given distribution. This also removes the references
      for all used files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tidytracks</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Check all source package tracking information for the given
      distributions for files no longer to keep.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>copy <i>destination-codename</i> <i>source-codename</i>
    <i>packages...</i></b></dt>
  <dd class="It-tag">Copy the given packages from one distribution to another.
      The packages are copied verbatim, no override files are consulted. Only
      components and architectures present in the source distribution are
      copied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>copysrc <i>destination-codename</i>
    <i>source-codename</i> <i>source-package</i> [<i>versions</i>]</b></dt>
  <dd class="It-tag">look at each package (where package means, as usual, every
      package be it dsc, deb or udeb) in the distribution specified by
      <i>source-codename</i> and identifies the relevant source package for
      each. All packages matching the specified <i>source-package</i> name (and
      any <i>version</i> if specified) are copied to the
      <i>destination-codename</i> distribution. The packages are copied
      verbatim, no override files are consulted. Only components and
      architectures present in the source distribution are copied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>copymatched <i>destination-codename</i>
    <i>source-codename</i> <i>glob</i></b></dt>
  <dd class="It-tag">Copy packages matching the given glob (see
      <b>listmatched</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    The packages are copied verbatim, no override files are consulted. Only
      components and architectures present in the source distribution are
      copied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>copyfilter <i>destination-codename</i>
    <i>source-codename</i> <i>formula</i></b></dt>
  <dd class="It-tag">Copy packages matching the given formula (see
      <b>listfilter</b>). (all versions if no version is specified). The
      packages are copied verbatim, no override files are consulted. Only
      components and architectures present in the source distribution are
      copied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restore <i>codename</i> <i>snapshot</i>
    <i>packages...</i></b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restoresrc <i>codename</i> <i>snapshot</i>
    <i>source-epackage</i> [ <i>versions</i>]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restorefilter <i>destination-codename</i>
    <i>snapshot</i> <i>formula</i></b></dt>
  <dd class="It-tag">Like the copy commands, but do not copy from another
      distribution, but from a snapshot generated with <b>gensnapshot</b>. Note
      that this blindly trusts the contents of the files in your <b>dists/</b>
      directory and does no checking.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>clearvanished</b></dt>
  <dd class="It-tag">Remove all package databases that no longer appear in
      <b>conf/distributions</b>. If <b>--delete</b> is specified, it will not
      stop if there are still packages left. Even without <b>--delete</b> it
      will unreference files still marked as needed by this target. (Use
      <b>--keepunreferenced</b> to not delete them if that was the last
      reference.)
    <div style="height: 1.00em;">&#x00A0;</div>
    Do not forget to remove all exported package indices manually.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>gensnapshot <i>codename</i>
    <i>directoryname</i></b></dt>
  <dd class="It-tag">Generate a snapshot of the distribution specified by
      <i>codename</i> in the directory
      <i>dists</i><b>/</b><i>codename</i><b>/snapshots/</b>
      <i>directoryname</i><b>/</b> and reference all needed files in the pool as
      needed by that. No Content files are generated and no export hooks are
      run.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that there is currently no automated way to remove that snapshot again
      (not even clearvanished will unlock the referenced files after the
      distribution itself vanished). You will have to remove the directory
      yourself and tell reprepro to <b>_removereferences
      s=</b><i>codename</i><b>=</b><i>directoryname</i> before
      <b>deleteunreferenced</b> will delete the files from the pool locked by
      this.
    <div style="height: 1.00em;">&#x00A0;</div>
    To access such a snapshot with apt, add something like the following to your
      sources.list file:
    <div>&#x00A0;</div>
     <b>deb method://as/without/snapshot
      </b><i>codename</i><b>/snapshots/</b><i>name</i><b> main</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rerunnotifiers</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Run all external scripts specified in the <b>Log:</b>
      options of the specified distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>build-needing <i>codename</i> <i>architecture</i> [
    <i>glob</i> ]</b></dt>
  <dd class="It-tag">List source packages (matching <i>glob</i>) that likely
      need a build on the given architecture.
    <div style="height: 1.00em;">&#x00A0;</div>
    List all source package in the given distribution without a binary package
      of the given architecture built from that version of the source, without a
      <b>.changes</b> or <b>.log</b> file for the given architecture, with an
      Architecture field including <b>any</b>, <i>os</i><b>-any</b> (with
      <i>os</i> being the part before the hyphen in the architecture or
      <b>linux</b> if there is no hypen) or the architecture and at least one
      package in the Binary field not yet available.
    <div style="height: 1.00em;">&#x00A0;</div>
    If instead of <i>architecture</i> the term <b>any</b> is used, all
      architectures are iterated and the architecture is printed as fourth field
      in every line.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the <i>architecture</i> is <b>all</b>, then only source packages with an
      Architecture field including <b>all</b> are considered (i.e. as above with
      real architectures but <b>any</b> does not suffice). Note that dpkg-dev
      &lt;&lt; 1.16.1 does not both set <b>any</b> and <b>all</b> so source
      packages building both architecture dependent and independent packages
      will never show up unless built with a new enough dpkg-source).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>translatefilelists</b></dt>
  <dd class="It-tag">Translate the file list cache within
      <i>db</i><b>/contents.cache.db</b> into the new format used since reprepro
      3.0.0.
    <div style="height: 1.00em;">&#x00A0;</div>
    Make sure you have at least half of the space of the current
      <i>db</i><b>/contents.cache.db</b> file size available in that
    partition.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>flood <i>distribution</i> [<i>architecture</i>]</b></dt>
  <dd class="It-tag">For each architecture of <i>distribution</i> (or for the
      one specified) add architecture <b>all</b> packages from other
      architectures (but the same component or packagetype) under the following
      conditions:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     Packages are only upgraded, never downgraded.
    <br/>
     If there is a package not being architecture <b>all</b>, then architecture
      <b>all</b> packages of the same source from the same source version are
      preferred over those that have no such binary sibling.
    <br/>
     Otherwise the package with the highest version wins.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can restrict with architectures are looked for architecture <b>all</b>
      packages using <b>-A</b> and which components/packagetypes are flooded by
      <b>-C</b>/<b>-T</b> as usual.
    <div style="height: 1.00em;">&#x00A0;</div>
    There are mostly two use cases for this command: If you added an new
      architecture to an distribution and want to copy all architecture
      <b>all</b> packages to it. Or if you included some architecture all
      packages only to some architectures using <b>-A</b> to avoid breaking the
      other architectures for which the binary packages were still missing and
      now want to copy it to those architectures were they are unlikely to break
      something (because a newbinary is already available).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unusedsources [<i>distributions</i>]</b></dt>
  <dd class="It-tag">List all source packages for which no binary package build
      from them is found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sourcemissing [<i>distributions</i>]</b></dt>
  <dd class="It-tag">List all binary packages for which no source package is
      found (the source package must be in the same distribution, but source
      packages only kept by package tracking is enough).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reportcruft [<i>distributions</i>]</b></dt>
  <dd class="It-tag">List all source package versions that either have a source
      package and no longer a binary package or binary packages left without
      source package in the index. (Unless sourcemissing also list packages
      where the source package in only in the pool due to enabled tracking but
      no longer in the index).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sizes</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">List the size of all packages in the distributions
      specified or in all distributions.
    <div style="height: 1.00em;">&#x00A0;</div>
    Each row contains 4 numbers, each being a number of bytes in a set of
      packages, which are: The packages in this distribution (including anything
      only kept because of tracking), the packages only in this distribution
      (anything in this distribution and a snapshot of this distribution counts
      as only in this distribution), the packages in this distribution and its
      snapshots, the packages only in this distribution or its snapshots.
    <div style="height: 1.00em;">&#x00A0;</div>
    If more than one distribution is selected, also list a sum of those (in
      which 'Only' means only in selected ones, and not only only in one of the
      selected ones).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>repairdescriptions</b> [ <b><i>codenames</i></b> ]</dt>
  <dd class="It-tag">Look for binary packages only having a short description
      and try to get the long description from the .deb file (and also remove a
      possible Description-md5 in this case).</dd>
</dl>
<h2 class="Ss" title="Ss" id="internal_commands"><a class="selflink" href="#internal_commands">internal
  commands</a></h2>
These are hopefully never needed, but allow manual intervention. <b>WARNING:</b>
  Is is quite easy to get into an inconsistent and/or unfixable state.
<dl class="Bl-tag">
  <dt class="It-tag"><b>_detect</b> [ <b><i>filekeys</i></b> ]</dt>
  <dd class="It-tag">Look for the files, which <i>filekey</i> is given as
      argument or as a line of the input (when run without arguments), and
      calculate their md5sum and add them to the list of known files. (Warning:
      this is a low level operation, no input validation or normalization is
      done.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_forget</b> [ <b><i>filekeys</i></b> ]</dt>
  <dd class="It-tag">Like <b>_detect</b> but remove the given <i>filekey</i>
      from the list of known files. (Warning: this is a low level operation, no
      input validation or normalization is done.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_listmd5sums</b></dt>
  <dd class="It-tag">Print a list of all known files and their md5sums.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_listchecksums</b></dt>
  <dd class="It-tag">Print a list of all known files and their recorded
      checksums.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_addmd5sums</b></dt>
  <dd class="It-tag">alias for the newer</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_addchecksums</b></dt>
  <dd class="It-tag">Add information of known files (without any check done) in
      the strict format of _listchecksums output (i.e. don't dare to use a
      single space anywhere more than needed).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_dumpcontents</b><i> identifier</i></dt>
  <dd class="It-tag">Printout all the stored information of the specified part
      of the repository. (Or in other words, the content the corresponding
      Packages or Sources file would get)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_addreference </b><i>filekey</i><b>
    </b><i>identifier</i></dt>
  <dd class="It-tag">Manually mark <i>filekey</i> to be needed by
      <i>identifier</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_addreferences </b><i>identifier</i><b> [
    </b><i>filekeys</i><b> ]</b></dt>
  <dd class="It-tag">Manually mark one or more <i>filekeys</i> to be needed by
      <i>identifier</i>. If no command line arguments are given, stdin is read
      and every line treated as one filekey.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_removereferences </b><i>identifier</i></dt>
  <dd class="It-tag">Remove all references what is needed by
    <i>identifier.</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__extractcontrol</b><i> .deb-filename</i></dt>
  <dd class="It-tag">Look what reprepro believes to be the content of the
      <b>control</b> file of the specified .deb-file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__extractfilelist</b><i> .deb-filename</i></dt>
  <dd class="It-tag">Look what reprepro believes to be the list of files of the
      specified .deb-file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_fakeemptyfilelist</b><i> filekey</i></dt>
  <dd class="It-tag">Insert an empty filelist for <i>filekey</i>. This is a evil
      hack around broken .deb files that cannot be read by reprepro.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_addpackage <i>codenam</i> <i>filename</i>
    <i>packages...</i></b></dt>
  <dd class="It-tag">Add packages from the specified filename to part specified
      by <b>-C</b> <b>-A</b> and <b>-T</b> of the specified distribution. Very
      strange things can happen if you use it improperly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__dumpuncompressors</b></dt>
  <dd class="It-tag">List what compressions format can be uncompressed and
    how.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__uncompress</b><i> format compressed-file
    uncompressed-file</i></dt>
  <dd class="It-tag">Use builtin or external uncompression to uncompress the
      specified file of the specified format into the specified target.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_listconfidentifiers <i>identifier</i> [
    <i>distributions...</i> ]</b></dt>
  <dd class="It-tag">Print - one per line - all identifiers of subdatabases as
      derived from the configuration. If a list of distributions is given, only
      identifiers of those are printed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_listdbidentifiers <i>identifier</i> [
    <i>distributions...</i> ]</b></dt>
  <dd class="It-tag">Print - one per line - all identifiers of subdatabases in
      the current database. This will be a subset of the ones printed by
      <b>_listconfidentifiers</b> or most commands but <b>clearvanished</b> will
      refuse to run, and depending on the database compatibility version, will
      include all those if reprepro was run since the config was last changed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="CONFIG_FILES"><a class="selflink" href="#CONFIG_FILES">CONFIG
  FILES</a></h1>
<b>reprepo</b> uses three config files, which are searched in the directory
  specified with <b>--confdir</b> or in the <b>conf/</b> subdirectory of the
  <i>basedir</i>.
<div style="height: 1.00em;">&#x00A0;</div>
If a file <b>options</b> exists, it is parsed line by line. Each line can be the
  long name of a command line option (without the --) plus an argument, where
  possible. Those are handled as if they were command line options given before
  (and thus lower priority than) any other command line option. (and also lower
  priority than any environment variable).
<div style="height: 1.00em;">&#x00A0;</div>
To allow command line options to override options file options, most boolean
  options also have a corresponding form starting with <b>--no</b>.
<div style="height: 1.00em;">&#x00A0;</div>
(The only exception is when the path to look for config files changes, the
  options file will only opened once and of course before any options within the
  options file are parsed.)
<div style="height: 1.00em;">&#x00A0;</div>
The file <b>distributions</b> is always needed and describes what distributions
  to manage, while <b>updates</b> is only needed when syncing with external
  repositories and <b>pulls</b> is only needed when syncing with repositories in
  the same reprepro database.
<div style="height: 1.00em;">&#x00A0;</div>
The last three are in the format control files in Debian are in, i.e. paragraphs
  separated by empty lines consisting of fields. Each field consists of a
  fieldname, followed by a colon, possible whitespace and the data. A field ends
  with a newline not followed by a space or tab.
<div style="height: 1.00em;">&#x00A0;</div>
Lines starting with # as first character are ignored, while in other lines the #
  character and everything after it till the newline character are ignored.
<div style="height: 1.00em;">&#x00A0;</div>
A paragraph can also consist of only a single field &quot;<b>!include:</b>&quot;
  which causes the named file (relative to confdir unless starting with
  <b>~/</b>, <b>+b/</b>, <b>+c/</b> or <b>/</b> ) to be read as if it was found
  at this place.
<div style="height: 1.00em;">&#x00A0;</div>
Each of the three files or a file included as described above can also be a
  directory, in which case all files it contains with a filename ending in
  <b>.conf</b> and not starting with <b>.</b> are read.
<h2 class="Ss" title="Ss" id="conf/distributions"><a class="selflink" href="#conf/distributions">conf/distributions</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Codename</b></dt>
  <dd class="It-tag">This required field is the unique identifier of a
      distribution and used as directory name within <b>dists/</b> It is also
      copied into the Release files.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this name is not supposed to change. You most likely <b>never
      ever</b> want a name like <b>testing</b> or <b>stable</b> here (those are
      suite names and supposed to point to another distribution later).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Suite</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files. In Debian it contains names like stable, testing or unstable. To
      create symlinks from the Suite to the Codename, use the
      <b>createsymlinks</b> command of reprepro.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FakeComponentPrefix</b></dt>
  <dd class="It-tag">If this field is present, its argument is added - separated
      by a slash - before every Component written to the main Release file
      (unless the component already starts with it), and removed from the end of
      the Codename and Suite fields in that file. Also if a component starts
      with it, its directory in the dists dir is shortened by this.
    <div>&#x00A0;</div>
    So <b></b>
    <br/>
    <b> Codename: bla/updates</b>
    <br/>
    <b> Suite: foo/updates</b>
    <br/>
    <b> FakeComponentPrefix: updates</b>
    <br/>
    <b> Components: main bad</b> <b></b> will create a Release file with <b></b>
    <br/>
    <b> Codename: bla</b>
    <br/>
    <b> Suite: foo</b>
    <br/>
    <b> Components: updates/main updates/bad</b> <b></b> in it, but otherwise
      nothing is changed, while <b></b>
    <br/>
    <b> Codename: bla/updates</b>
    <br/>
    <b> Suite: foo/updates</b>
    <br/>
    <b> FakeComponentPrefix: updates</b>
    <br/>
    <b> Components: updates/main updates/bad</b> <b></b> will also create a
      Release file with <b></b>
    <br/>
    <b> Codename: bla</b>
    <br/>
    <b> Suite: foo</b>
    <br/>
    <b> Components: updates/main updates/bad</b> <b></b> but the packages will
      actually be in the components <b>updates/main</b> and <b>updates/bad</b>,
      most likely causing the same file using duplicate storage space.
    <div style="height: 1.00em;">&#x00A0;</div>
    This makes the distribution look more like Debian's security archive, thus
      work around problems with apt's workarounds for that.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>AlsoAcceptFor</b></dt>
  <dd class="It-tag">A list of distribution names. When a <b>.changes</b> file
      is told to be included into this distribution with the <b>include</b>
      command and the distribution header of that file is neither the codename,
      nor the suite name, nor any name from the list, a <b>wrongdistribution</b>
      error is generated. The <b>process_incoming</b> command will also use this
      field, see the description of <b>Allow</b> and <b>Default</b> from the
      <b>conf/incoming</b> file for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Version</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Origin</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Label</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NotAutomatic</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files. (The value is handled as an arbitrary string, though anything but
      <b>yes</b> does not make much sense right now.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ButAutomaticUpgrades</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files. (The value is handled as an arbitrary string, though anything but
      <b>yes</b> does not make much sense right now.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Description</b></dt>
  <dd class="It-tag">This optional field is simply copied into the Release
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Architectures</b></dt>
  <dd class="It-tag">This required field lists the binary architectures within
      this distribution and if it contains <b>source</b> (i.e. if there is an
      item <b>source</b> in this line this Distribution has source. All other
      items specify things to be put after &quot;binary-&quot; to form directory
      names and be checked against &quot;Architecture:&quot; fields.)
    <div style="height: 1.00em;">&#x00A0;</div>
    This will also be copied into the Release files. (With exception of the
      <b>source</b> item, which will not occur in the topmost Release file
      whether it is present here or not)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Components</b></dt>
  <dd class="It-tag">This required field lists the component of a distribution.
      See <b>GUESSING</b> for rules which component packages are included into
      by default. This will also be copied into the Release files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>UDebComponents</b></dt>
  <dd class="It-tag">Components with a debian-installer subhierarchy containing
      .udebs. (E.g. simply &quot;main&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Update</b></dt>
  <dd class="It-tag">When this field is present, it describes which update rules
      are used for this distribution. There also can be a magic rule minus
      (&quot;-&quot;), see below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Pull</b></dt>
  <dd class="It-tag">When this field is present, it describes which pull rules
      are used for this distribution. Pull rules are like Update rules, but get
      their stuff from other distributions and not from external sources. See
      the description for <b>conf/pulls</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SignWith</b></dt>
  <dd class="It-tag">When this field is present, a Release.gpg file will be
      generated. If the value is &quot;yes&quot; or &quot;default&quot;, the
      default key of gpg is used. If the field starts with an exlamation mark
      (&quot;!&quot;), the given script is executed to do the signing. Otherwise
      the value will be given to libgpgme to determine to key to use.
    <div style="height: 1.00em;">&#x00A0;</div>
    If there are problems with signing, you can try
    <div>&#x00A0;</div>
    <b>gpg --list-secret-keys <i>value</i></b>
    <div>&#x00A0;</div>
    to see how gpg could interprete the value. If that command does not list any
      keys or multiple ones, try to find some other value (like the keyid), that
      gpg can more easily associate with a unique key.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this key has a passphrase, you need to use gpg-agent or the insecure
      option <b>--ask-passphrase</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    A ' <b>!</b>' hook script is looked for in the confdir, unless it starts
      with <b>~/</b>, <b>./</b>, <b>+b/</b>, <b>+o/</b>, <b>+c/</b> or <b>/</b>
      . Is gets three command line arguments: The filename to sign, an empty
      argument or the filename to create with an inline signature (i.e.
      InRelease) and an empty argument or the filename to create an detached
      signature (i.e. Release.gpg). The script may generate no Release.gpg file
      if it choses to (then the repository will look like unsigned for older
      clients), but generating empty files is not allowed. Reprepro waits for
      the script to finish and will abort the exporting of the distribution this
      signing is part of unless the scripts returns normally with exit code 0.
      Using a space after ! is recommended to avoid incompatibilities with
      possible future extensions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DebOverride</b></dt>
  <dd class="It-tag">When this field is present, it describes the override file
      used when including .deb files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>UDebOverride</b></dt>
  <dd class="It-tag">When this field is present, it describes the override file
      used when including .udeb files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DscOverride</b></dt>
  <dd class="It-tag">When this field is present, it describes the override file
      used when including .dsc files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DebIndices, <b>UDebIndices</b>,
    <b>DscIndices</b></b></dt>
  <dd class="It-tag">Choose what kind of Index files to export. The first part
      describes what the Index file shall be called. The second argument
      determines the name of a Release file to generate or not to generate if
      missing. Then at least one of &quot; <b>.</b>&quot;,
      &quot;<b>.gz</b>&quot;, &quot; <b>.xz</b>&quot; or &quot;<b>.bz2</b>&quot;
      specifying whether to generate uncompressed output, gzipped output,
      bzip2ed output or any combination. (bzip2 is only available when compiled
      with bzip2 support, so it might not be available when you compiled it on
      your own, same for xz and liblzma). If an argument not starting with dot
      follows, it will be executed after all index files are generated. (See the
      examples for what argument this gets). The default is:
    <div>&#x00A0;</div>
    DebIndices: Packages Release . .gz
    <div>&#x00A0;</div>
    UDebIndices: Packages . .gz
    <div>&#x00A0;</div>
    DscIndices: Sources Release .gz</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ExportOptions</b></dt>
  <dd class="It-tag">Options to modify how and if exporting is done:
    <div>&#x00A0;</div>
    <b>noexport</b> Never export this distribution. That means there will be no
      directory below <b>dists/</b> generated and the distribution is only
      useful to copy packages to other distributions.
    <div>&#x00A0;</div>
    <b>keepunknown</b> Ignore unknown files and directories in the exported
      directory. This is currently the only available option and the default,
      but might change in the future, so it can already be requested
      explicitely.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Contents</b></dt>
  <dd class="It-tag">Enable the creation of Contents files listing all the files
      within the binary packages of a distribution. (Which is quite slow, you
      have been warned).
    <div style="height: 1.00em;">&#x00A0;</div>
    In earlier versions, the first argument was a rate at which to extract file
      lists. As this did not work and was no longer easily possible after some
      factorisation, this is no longer supported.
    <div style="height: 1.00em;">&#x00A0;</div>
    The arguments of this field is a space separated list of options. If there
      is a <b>udebs</b> keyword, <b>.udeb</b>s are also listed (in a file called
      <b>uContents-</b><i>architecture</i>.) If there is a <b>nodebs</b>
      keyword, <b>.deb</b>s are not listed. (Only useful together with
      <b>udebs</b>) If there is at least one of the keywords <b>.</b>,
      <b>.gz</b>, <b>.xz</b> and/or <b>.bz2</b>, the Contents files are written
      uncompressed, gzipped and/or bzip2ed instead of only gzipped.
    <div style="height: 1.00em;">&#x00A0;</div>
    If there is a <b>percomponent</b> then one Contents-<i>arch</i> file per
      component is created. If there is a <b>allcomponents</b> then one global
      Contents- <i>arch</i> file is generated. If both are given, both are
      created. If none of both is specified then <b>percomponent</b> is taken as
      default (earlier versions had other defaults).
    <div style="height: 1.00em;">&#x00A0;</div>
    The switches <b>compatsymlink</b> or <b>nocompatsymlink</b> (only possible
      if <b>allcomponents</b> was not specified explicitly) control whether a
      compatibility symlink is created so old versions of apt-file looking for
      the component independent filenames at least see the contents of the first
      component.
    <div style="height: 1.00em;">&#x00A0;</div>
    Unless <b>allcomponents</b> is given, <b>compatsymlinks</b> currently is the
      default, but that will change in some future (current estimate: after
      wheezy was released)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ContentsArchitectures</b></dt>
  <dd class="It-tag">Limit generation of Contents files to the architectures
      given. If this field is not there, all architectures are processed. An
      empty field means no architectures are processed, thus not very
    useful.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ContentsComponents</b></dt>
  <dd class="It-tag">Limit what components are processed for the
      <b>Contents-</b> <i>arch</i> files to the components given. If this field
      is not there, all components are processed. An empty field is equivalent
      to specify <b>nodebs</b> in the <b>Contents</b> field, while a non-empty
      field overrides a <b>nodebs</b> there.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ContentsUComponents</b></dt>
  <dd class="It-tag">Limit what components are processed for the uContents files
      to the components given. If this field is not there and there is the
      <b>udebs</b> keyword in the Contents field, all .udebs of all components
      are put in the <b>uContents.</b><i>arch</i> files. If this field is not
      there and there is no <b>udebs</b> keyword in the Contents field, no
      <b>uContents-</b> <i>arch</i> files are generated at all. A non-empty
      fields implies generation of <b>uContents-</b><i>arch</i> files (just like
      the <b>udebs</b> keyword in the Contents field), while an empty one causes
      no <b>uContents-</b><i>arch</i> files to be generated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Uploaders</b></dt>
  <dd class="It-tag">Specifies a file (relative to confdir if not starting with
      <b>~/</b>, <b>+b/</b>, <b>+c/</b> or <b>/</b> ) to specify who is allowed
      to upload packages. Without this there are no limits, and this file can be
      ignored via <b>--ignore=uploaders</b>. See the section <b>UPLOADERS
      FILES</b> below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Tracking</b></dt>
  <dd class="It-tag">Enable the (experimental) tracking of source packages. The
      argument list needs to contain exactly one of the following:
    <div>&#x00A0;</div>
    <b>keep</b> Keeps all files of a given source package, until that is deleted
      explicitly via <b>removetrack</b>. This is currently the only possibility
      to keep older packages around when all indices contain newer files.
    <div>&#x00A0;</div>
    <b>all</b> Keep all files belonging to a given source package until the last
      file of it is no longer used within that distribution.
    <div>&#x00A0;</div>
    <b>minimal</b> Remove files no longer included in the tracked distribution.
      (Remove changes, logs and includebyhand files once no file is in any part
      of the distribution).
    <div>&#x00A0;</div>
    And any number of the following (or none):
    <div>&#x00A0;</div>
    <b>includechanges</b> Add the .changes file to the tracked files of a source
      package. Thus it is also put into the pool.
    <div>&#x00A0;</div>
    <b>includebyhand</b> Add <b>byhand</b> and <b>raw-</b><i>*</i> files to the
      tracked files and thus in the pool.
    <div>&#x00A0;</div>
    <b>includelogs</b> Add log files to the tracked files and thus in the pool.
      (Not that putting log files in changes files is a reprepro extension not
      found in normal changes files)
    <div>&#x00A0;</div>
    <b>embargoalls</b> Not yet implemented.
    <div>&#x00A0;</div>
    <b>keepsources</b> Even when using minimal mode, do not remove source files
      until no file is needed any more.
    <div>&#x00A0;</div>
    <b>needsources</b> Not yet implemented.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Log</b></dt>
  <dd class="It-tag">Specify a file to log additions and removals of this
      distribution into and/or external scripts to call when something is added
      or removed. The rest of the <b>Log:</b> line is the filename, every
      following line (as usual, have to begin with a single space) the name of a
      script to call. The name of the script may be preceded with options of the
      form <b>--type=</b>(<b>dsc</b>|<b>deb</b>|<b>udeb</b>),
      <b>--architecture=</b> <i>name</i> or <b>--component=</b><i>name</i> to
      only call the script for some parts of the distribution. An script with
      argument <b>--changes</b> is called when a <b>.changes</b> file was
      accepted by <b>include</b> or <b>processincoming</b> (and with other
      arguments). Both type of scripts can have a <b>--via=</b><i>command</i>
      specified, in which case it is only called when caused by reprepro command
      <i>command</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    For information how it is called and some examples take a look at
      manual.html in reprepro's source or <b>/usr/share/doc/reprepro/</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    If the filename for the log files does not start with a slash, it is
      relative to the directory specified with <b>--logdir</b>, the scripts are
      relative to <b>--confdir</b> unless starting with <b>~/</b>, <b>+b/</b>,
      <b>+c/</b> or <b>/</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ValidFor</b></dt>
  <dd class="It-tag">If this field exists, an Valid-Until field is put into
      generated <b>Release</b> files for this distribution with an date as much
      in the future as the argument specifies.
    <div style="height: 1.00em;">&#x00A0;</div>
    The argument has to be an number followed by one of the units <b>d</b>,
      <b>m</b> or <b>y</b>, where <b>d</b> means days, <b>m</b> means 31 days
      and <b>y</b> means 365 days. So <b>ValidFor: 1m 11 d</b> causes the
      generation of a <b>Valid-Until:</b> header in Release files that points 42
      days into the future.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ReadOnly</b></dt>
  <dd class="It-tag">Disallow all modifications of this distribution or its
      directory in <b>dists/</b><i>codename</i> (with the exception of snapshot
      subdirectories).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ByHandHooks</b></dt>
  <dd class="It-tag">This species hooks to call for handling byhand/raw files by
      processincoming (and in future versions perhaps by include).
    <div style="height: 1.00em;">&#x00A0;</div>
    Each line consists out of 4 arguments: A glob pattern for the section
      (clasically <b>byhand</b>, though Ubuntu uses <b>raw-</b>*), a glob
      pattern for the priority (not usually used), and a glob pattern for the
      filename.
    <div style="height: 1.00em;">&#x00A0;</div>
    The 4th argument is the script to be called when all of the above match. It
      gets 5 arguments: the codename of the distribution, the section (usually
      <b>byhand</b>), the priority (usually only <b>-</b>), the filename in the
      changes file and the full filename (with processincoming in the secure
      TempDir).</dd>
</dl>
<h2 class="Ss" title="Ss" id="conf/updates"><a class="selflink" href="#conf/updates">conf/updates</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Name</b></dt>
  <dd class="It-tag">The name of this update-upstream as it can be used in the
      <b>Update</b> field in conf/distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Method</b></dt>
  <dd class="It-tag">An URI as one could also give it apt, e.g.
      <i>http://ftp.debian.de/debian</i> which is simply given to the
      corresponding <b>apt-get</b> method. (So either <b>apt-get has to be
      installed, or you have to point with</b> <b>--methoddir</b> to a place
      where such methods are found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Fallback</b></dt>
  <dd class="It-tag">(Still experimental:) A fallback URI, where all files are
      tried that failed the first one. They are given to the same method as the
      previous URI (e.g. both http://), and the fallback-server must have
      everything at the same place. No recalculation is done, but single files
      are just retried from this location.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Config</b></dt>
  <dd class="It-tag">This can contain any number of lines, each in the format
      <b>apt-get --option</b> would expect. (Multiple lines &#x2010; as always
      &#x2010; marked with leading spaces).</dd>
</dl>
<div class="Pp"></div>
For example: Config: Acquire::Http::Proxy=http://proxy.yours.org:8080
<dl class="Bl-tag">
  <dt class="It-tag"><b>From</b></dt>
  <dd class="It-tag">The name of another update rule this rules derives from.
      The rule containing the <b>From</b> may not contain <b>Method</b>,
      <b>Fallback</b> or <b>Config</b>. All other fields are used from the rule
      referenced in <b>From</b>, unless found in this containing the
      <b>From</b>. The rule referenced in <b>From</b> may itself contain a
      <b>From</b>. Reprepro will only assume two remote index files are the
      same, if both get their <b>Method</b> information from the same rule.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Suite</b></dt>
  <dd class="It-tag">The suite to update from. If this is not present, the
      codename of the distribution using this one is used. Also
      &quot;*/whatever&quot; is replaced by
      &quot;&lt;codename&gt;/whatever&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Components</b></dt>
  <dd class="It-tag">The components to update. Each item can be either the name
      of a component or a pair of a upstream component and a local component
      separated with &quot;&gt;&quot;. (e.g. &quot;main&gt;all contrib&gt;all
      non-free&gt;notall&quot;)
    <div style="height: 1.00em;">&#x00A0;</div>
    If this field is not there, all components from the distribution to update
      are tried.
    <div style="height: 1.00em;">&#x00A0;</div>
    An empty field means no source or .deb packages are updated by this rule,
      but only .udeb packages, if there are any.
    <div style="height: 1.00em;">&#x00A0;</div>
    A rule might list components not available in all distributions using this
      rule. In this case unknown components are silently ignored. (Unless you
      start reprepro with the <b>--fast</b> option, it will warn about
      components unusable in all distributions using that rule. As exceptions,
      unusable components called <b>none</b> are never warned about, for
      compatibility with versions prior to 3.0.0 where and empty field had a
      different meaning.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Architectures</b></dt>
  <dd class="It-tag">The architectures to update. If omitted all from the
      distribution to update from. (As with components, you can use
      &quot;&gt;&quot; to download from one architecture and add into another
      one. (This only determine in which Package list they land, it neither
      overwrites the Architecture line in its description, nor the one in the
      filename determined from this one. In other words, it is no really useful
      without additional filtering))</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>UDebComponents</b></dt>
  <dd class="It-tag">Like <b>Components</b> but for the udebs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>VerifyRelease</b></dt>
  <dd class="It-tag">Download the <b>Release.gpg</b> file and check if it is a
      signature of the <b>Releasefile</b> with the key given here. (In the
      Format as &quot;gpg --with-colons --list-key&quot; prints it, i.e. the
      last 16 hex digits of the fingerprint) Multiple keys can be specified by
      separating them with a &quot; <b>|</b>&quot; sign. Then finding a
      signature from one of the will suffice. To allow revoked or expired keys,
      add a &quot; <b>!</b>&quot; behind a key. (but to accept such signatures,
      the appropriate <b>--ignore</b> is also needed). To also allow subkeys of
      a specified key, add a &quot; <b>+</b>&quot; behind a key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IgnoreRelease: yes</b></dt>
  <dd class="It-tag">If this is present, no <b>InRelease</b> or <b>Release</b>
      file will be downloaded and thus the md5sums of the other index files will
      not be checked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>GetInRelease: no</b></dt>
  <dd class="It-tag">IF this is present, no <b>InRelease</b> file is downloaded
      but only <b>Release</b> (and <b>Release.gpg</b> ) are tried.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Flat</b></dt>
  <dd class="It-tag">If this field is in an update rule, it is supposed to be a
      flat repository, i.e. a repository without a <b>dists</b> dir and no
      subdirectories for the index files. (If the corresponding
      <b>sources.list</b> line has the suite end with a slash, then you might
      need this one.) The argument for the <b>Flat:</b> field is the Component
      to put those packages into. No <b>Components</b> or <b>UDebComponents</b>
      fields are allowed in a flat update rule. If the <b>Architecture</b> field
      has any <b>&gt;</b> items, the part left of the &quot; <b>&gt;</b>&quot;
      is ignored.
    <div>&#x00A0;</div>
    For example the <b>sources.list</b> line
    <br/>
     deb http://cran.r-project.org/bin/linux/debian etch-cran/
    <div>&#x00A0;</div>
    would translate to
    <div>&#x00A0;</div>
    <br/>
     Name: R
    <br/>
     Method: http://cran.r-project.org/bin/linux/debian
    <br/>
     Suite: etch-cran
    <br/>
     Flat: whatevercomponentyoudlikethepackagesin</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IgnoreHashes</b></dt>
  <dd class="It-tag">This directive tells reprepro to not check the listed
      hashes in the downloaded Release file (and only in the Release file).
      Possible values are currently <b>md5</b>, <b>sha1</b> and <b>sha256</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this does not speed anything up in any measurable way. The only
      reason to specify this if the Release file of the distribution you want to
      mirror from uses a faulty algorithm implementation. Otherwise you will
      gain nothing and only lose security.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FilterFormula</b></dt>
  <dd class="It-tag">This can be a formula to specify which packages to accept
      from this source. The format is misusing the parser intended for
      Dependency lines. To get only architecture all packages use
      &quot;architecture (== all)&quot;, to get only at least important packages
      use &quot;priority (==required) | priority (==important)&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    See the description of the listfilter command for the semantics of
    formulas.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FilterList, FilterSrcList</b></dt>
  <dd class="It-tag">These take at least two arguments: The first one is the
      default action when something is not found in the list, then a list of
      filenames (relative to <b>--confdir,</b> if not starting with <b>~/</b>,
      <b>+b/</b>, <b>+c/</b> or <b>/</b> ) in the format of dpkg
      --get-selections and only packages listed in there as <b>install</b> or
      that are already there and are listed with <b>upgradeonly</b> will be
      installed. Things listed as <b>deinstall</b> or <b>purge</b> will be
      ignored. Packages having <b>supersede</b> will not be installed but
      instead cause the removal of packages with strictly smaller version (i.e.
      if a package would be replaced by this package if this was <b>install</b>,
      it will be removed instead and no new package being installed). Things
      listed with <b>warning</b> are also ignored, but a warning message is
      printed to stderr. A package being <b>hold</b> will not be upgraded but
      also not downgraded or removed by previous delete rules. To abort the
      whole upgrade/pull if a package is available, use <b>error.</b> Instead of
      a keyword you can also use &quot; <b>= </b><i>version</i>&quot; which is
      treated like <b>install</b> if the version matches and like no entry if it
      does not match. Only one such entry per package is currently supported and
      the version is currently compared as string.
    <div style="height: 1.00em;">&#x00A0;</div>
    If there is both <b>FilterList</b> and <b>FilterSrcList</b> then the first
      is used for <b>.deb</b> and <b>.udeb</b> and the second for <b>.dsc</b>
      packages. If there is only <b>FilterList</b> that is applied to
      everything. If there is only <b>FilterSrcList</b> that is applied to
      everything, too, but the source package name (and source version) is used
      to do the lookup.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>OmitExtraSourceOnly</b></dt>
  <dd class="It-tag">This field controls whether source packages with
      Extra-Source-Only set are ignore when getting source packages. Withouth
      this option or if it is true, those source packages are ignored, while if
      set to no or false, those source packages are also condidates if no other
      filter excludes them. (The default of true will likely change once
      reprepro supports multiple versions of a package or has other means to
      keep the source packages around).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ListHook</b></dt>
  <dd class="It-tag">If this is given, it is executed for all downloaded index
      files with the downloaded list as first and a filename that will be used
      instead of this. (e.g. &quot;ListHook: /bin/cp&quot; works but does
      nothing.)
    <div style="height: 1.00em;">&#x00A0;</div>
    If a file will be read multiple times, it is processed multiple times, with
      the environment variables <b>REPREPRO_FILTER_CODENAME</b>,
      <b>REPREPRO_FILTER_PACKAGETYPE</b>, <b>REPREPRO_FILTER_COMPONENT</b> and
      <b>REPREPRO_FILTER_ARCHITECTURE</b> set to the where this file will be
      added and <b>REPREPRO_FILTER_PATTERN</b> to the name of the update rule
      causing it.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ListShellHook</b></dt>
  <dd class="It-tag">This is like ListHook, but the whole argument is given to
      the shell as argument, and the input and output file are stdin and stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
    i.e.:
    <div>&#x00A0;</div>
    ListShellHook: cat
    <div>&#x00A0;</div>
    works but does nothing but useless use of a shell and cat, while
    <div>&#x00A0;</div>
    ListShellHook: grep-dctrl -X -S apt -o -X -S dpkg || [ $? -eq 1 ]
    <div>&#x00A0;</div>
    will limit the update rule to packages from the specified source
    packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DownloadListsAs</b></dt>
  <dd class="It-tag">The arguments of this field specify which index files
      reprepro will download.
    <div style="height: 1.00em;">&#x00A0;</div>
    Allowed values are <b>.</b>, <b>.gz</b>, <b>.bz2</b>, <b>.lzma</b>,
      <b>.xz</b>, <b>.lz</b>, <b>.diff</b>, <b>force.gz</b>, <b>force.bz2</b>,
      <b>force.lzma</b>, <b>force.xz</b>, <b>force.lz</b>, and
      <b>force.diff</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Reprepro will try the first supported variant in the list given: Only
      compressions compiled in or for which an uncompressor was found are used.
      Unless the value starts with <b>force.</b>, it is only tried if if is
      found in the Release or InRelease file.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default value is <b>.diff .xz .lzma .bz2 .gz .</b>, i.e. download
      Packages.diff if listed in the Release file, otherwise or if not usable
      download .xz if listed in the Release file and there is a way to
      uncompress it, then .lzma if usable, then .bz2 if usable, then .gz and
      then uncompressed).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note there is no way to see if an uncompressed variant of the file is
      available (as the Release file always lists their checksums, even if not
      there), so putting ' <b>.</b>' anywhere but as the last argument can mean
      trying to download a file that does not exist.
    <div style="height: 1.00em;">&#x00A0;</div>
    Together with <b>IgnoreRelease</b> reprepro will download the first in this
      list that could be unpacked (i.e. <b>force</b> is always assumed) and the
      default value is <b>.gz .bzip2 . .lzma .xz</b>.</dd>
</dl>
<h2 class="Ss" title="Ss" id="conf/pulls"><a class="selflink" href="#conf/pulls">conf/pulls</a></h2>
This file contains the rules for pulling packages from one distribution to
  another. While this can also be done with update rules using the file or copy
  method and using the exported indices of that other distribution, this way is
  faster. It also ensures the current files are used and no copies are made.
  (This also leads to the limitation that pulling from one component to another
  is not possible.)
<div style="height: 1.00em;">&#x00A0;</div>
Each rule consists out of the following fields:
<dl class="Bl-tag">
  <dt class="It-tag"><b>Name</b></dt>
  <dd class="It-tag">The name of this pull rule as it can be used in the
      <b>Pull</b> field in conf/distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>From</b></dt>
  <dd class="It-tag">The codename of the distribution to pull packages
    from.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Components</b></dt>
  <dd class="It-tag">The components of the distribution to get from.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this field is not there, all components from the distribution to update
      are tried.
    <div style="height: 1.00em;">&#x00A0;</div>
    A rule might list components not available in all distributions using this
      rule. In this case unknown components are silently ignored. (Unless you
      start reprepro with the --fast option, it will warn about components
      unusable in all distributions using that rule. As exception, unusable
      components called <b>none</b> are never warned about, for compatibility
      with versions prior to 3.0.0 where and empty field had a different
      meaning.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Architectures</b></dt>
  <dd class="It-tag">The architectures to update. If omitted all from the
      distribution to pull from. As in <b>conf/updates</b>, you can use
      &quot;&gt;&quot; to download from one architecture and add into another
      one. (And again, only useful with filtering to avoid packages not
      architecture <b>all</b> to migrate).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>UDebComponents</b></dt>
  <dd class="It-tag">Like <b>Components</b> but for the udebs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FilterFormula</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FilterList</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FilterSrcList</b></dt>
  <dd class="It-tag">The same as with update rules.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OVERRIDE_FILES"><a class="selflink" href="#OVERRIDE_FILES">OVERRIDE
  FILES</a></h1>
The format of override files used by reprepro should resemble the extended
  ftp-archive format, to be specific it is:
<div style="height: 1.00em;">&#x00A0;</div>
<b><i>packagename</i> <i>field name</i> <i>new value</i></b>
<div style="height: 1.00em;">&#x00A0;</div>
For example:
<div>&#x00A0;</div>
<b>kernel-image-2.4.31-yourorga Section protected/base</b>
<div>&#x00A0;</div>
<b>kernel-image-2.4.31-yourorga Priority standard</b>
<div>&#x00A0;</div>
<b>kernel-image-2.4.31-yourorga Maintainer That's me &lt;me@localhost&gt;</b>
<div>&#x00A0;</div>
<b>reprepro Priority required</b>
<div style="height: 1.00em;">&#x00A0;</div>
All fields of a given package will be replaced by the new value specified in the
  override file with the exception of special fields starting with a dollar sign
  ($). While the field name is compared case-insensitive, it is copied in
  exactly the form in the override file there. (Thus I suggest to keep to the
  exact case it is normally found in index files in case some other tool
  confuses them.) More than copied is the Section header (unless <b>-S</b> is
  supplied), which is also used to guess the component (unless <b>-C</b> is
  there).
<div style="height: 1.00em;">&#x00A0;</div>
Some values like <b>Package</b>, <b>Filename</b>, <b>Size</b> or <b>MD5sum</b>
  are forbidden, as their usage would severly confuse reprepro.
<div style="height: 1.00em;">&#x00A0;</div>
As an extension reprepro also supports patterns instead of packagenames. If the
  package name contains '*', '[' or '?', it is considered a pattern and applied
  to each package that is not matched by any non-pattern override nor by any
  previous pattern.
<div style="height: 1.00em;">&#x00A0;</div>
Fieldnames starting with a dollar ($) are not be placed in the exported control
  data but have special meaning. Unknown ones are loudly ignored. Special fields
  are:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 <b>$Component</b>: includedeb, includedsc, include and processincoming will put
  the package in the component given as value (unless itself overridden with
  <b>-C</b>). Note that the proper way to specify the component is by setting
  the section field and using this extension will most likely confuse people
  and/or tools.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 <b>$Delete</b>: the value is treated a fieldname and fields of that name are
  removed. (This way one can remove fields previously added without removing and
  readding the package. And fields already included in the package can be
  removed, too).
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="conf/incoming"><a class="selflink" href="#conf/incoming">conf/incoming</a></h2>
Every chunk is a rule set for the <b>process_incoming</b> command. Possible
  fields are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>Name</b></dt>
  <dd class="It-tag">The name of the rule-set, used as argument to the scan
      command to specify to use this rule.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IncomingDir</b></dt>
  <dd class="It-tag">The Name of the directory to scan for <b>.changes</b>
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TempDir</b></dt>
  <dd class="It-tag">A directory where the files listed in the processed
      .changes files are copied into before they are read. You can avoid some
      copy operatations by placing this directory within the same moint point
      the pool hierarchy is (at least partially) in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LogDir</b></dt>
  <dd class="It-tag">A directory where .changes files, .log files and otherwise
      unused .byhand files are stored upon procession.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Allow</b></dt>
  <dd class="It-tag">Each argument is either a pair
      <i>name1</i><b>&gt;</b><i>name2</i> or simply <i>name</i> which is short
      for <i>name</i><b>&gt;</b><i>name</i>. Each <i>name2</i> must identify a
      distribution, either by being Codename, a unique Suite, or a unique
      AlsoAcceptFor from <b>conf/distributions</b>. Each upload has each item in
      its <b>Distribution:</b> header compared first to last with each
      <i>name1</i> in the rules and is put in the first one accepting this
      package. e.g.:
    <div>&#x00A0;</div>
    Allow: local unstable&gt;sid
    <div>&#x00A0;</div>
    or
    <div>&#x00A0;</div>
    Allow: stable&gt;security-updates stable&gt;proposed-updates
    <div>&#x00A0;</div>
    (Note that this makes only sense if Multiple is set to true or if there are
      people only allowed to upload to proposed-updates but not to
      security-updates).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Default <i>distribution</i></b></dt>
  <dd class="It-tag">Every upload not put into any other distribution because of
      an Allow argument is put into <i>distribution</i> if that accepts it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Multiple</b></dt>
  <dd class="It-tag">Old form of Options: multiple_distributions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Options</b></dt>
  <dd class="It-tag">A list of options
    <div>&#x00A0;</div>
    <b>multiple_distributions</b>
    <div>&#x00A0;</div>
    Allow including a upload in multiple distributions.
    <div style="height: 1.00em;">&#x00A0;</div>
    If a .changes file lists multiple distributions, then reprepro will start
      with the first name given, check all Accept and Default options till it
      finds a distribution this upload can go into.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this found no distribution or if this option was given, reprepro will
      then do the same with the second distribution name given in the .changes
      file and so on.
    <div>&#x00A0;</div>
    <b>limit_arch_all</b>
    <div>&#x00A0;</div>
    If an upload contains binaries from some architecture and architecture all
      packages, the architecture all packages are only put into the
      architectures within this upload. Useful to combine with the <b>flood</b>
      command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Permit</b></dt>
  <dd class="It-tag">A list of options to allow things otherwise causing errors:
    <div>&#x00A0;</div>
    <b>unused_files</b>
    <div>&#x00A0;</div>
    Do not stop with error if there are files listed in the <b>.changes</b> file
      if it lists files not belonging to any package in it.
    <div>&#x00A0;</div>
    <b>older_version</b>
    <div>&#x00A0;</div>
    Ignore a package not added because there already is a strictly newer version
      available instead of treating this as an error.
    <div>&#x00A0;</div>
    <b>unlisted_binaries</b>
    <div>&#x00A0;</div>
    Do not abort with an error if a .changes file contains .deb files that are
      not listed in the Binaries header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Cleanup <i>options</i></b></dt>
  <dd class="It-tag">A list of options to cause more files in the incoming
      directory to be deleted:
    <div>&#x00A0;</div>
    <b>unused_files</b>
    <div>&#x00A0;</div>
    If there is <b>unused_files</b> in <b>Permit</b> then also delete those
      files when the package is deleted after successful processing.
    <div>&#x00A0;</div>
    <b>on_deny</b>
    <div>&#x00A0;</div>
    If a <b>.changes</b> file is denied processing because of missing signatures
      or allowed distributions to be put in, delete it and all the files it
      references.
    <div>&#x00A0;</div>
    <b>on_error</b>
    <div>&#x00A0;</div>
    If a <b>.changes</b> file causes errors while processing, delete it and the
      files it references.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that allowing cleanup in publically accessible incoming queues allows a
      denial of service by sending in .changes files deleting other peoples
      files before they are completed. Especially when .changes files are
      handled directly (e.g. by inoticoming).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>MorgueDir</b></dt>
  <dd class="It-tag">If files are to be deleted by Cleanup, they are instead
      moved to a subdirectory of the directory given as value to this field.
      This directory has to be on the same partition as the incoming directory
      and files are moved (i.e. owner and permission stay the same) and never
      copied.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="UPLOADERS_FILES"><a class="selflink" href="#UPLOADERS_FILES">UPLOADERS
  FILES</a></h1>
These files specified by the <b>Uploaders</b> header in the distribution
  definition as explained above describe what key a <b>.changes</b> file as to
  be signed with to be included in that distribution.
<div class="Pp"></div>
Empty lines and lines starting with a hash are ignored, every other line must be
  of one of the following nine forms or an include directive:
<dl class="Bl-tag">
  <dt class="It-tag"><b>allow <i>condition</i> by anybody</b></dt>
  <dd class="It-tag">which allows everyone to upload packages matching
      <i>condition</i>,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>allow <i>condition</i> by unsigned</b></dt>
  <dd class="It-tag">which allows everything matching that has no pgp/gpg
      header,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>allow <i>condition</i> by any key</b></dt>
  <dd class="It-tag">which allows everything matching with any valid signature
      in or</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>allow <i>condition</i> by key <i>key-id</i></b></dt>
  <dd class="It-tag">which allows everything matching signed by this
      <i>key-id</i> (to be specified without any spaces). If the <i>key-id</i>
      ends with a <b>+</b> (plus), a signature with a subkey of this primary key
      also suffices.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>key-id</i> must be a suffix of the id libgpgme uses to identify this
      key, i.e. a number of hexdigits from the end of the fingerprint of the
      key, but no more than what libgpgme uses. (The maximal number should be
      what gpg --list-key --with-colons prints, as of the time of this writing
      that is at most 16 hex-digits).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>allow <i>condition</i> by group
    <i>groupname</i></b></dt>
  <dd class="It-tag">which allows every member of group <i>groupname</i>. Groups
      can be manipulated by</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group <i>groupname</i> add <i>key-id</i></b></dt>
  <dd class="It-tag">to add a <i>key-id</i> (see above for details) to this
      group, or</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group <i>groupname</i> contains
    <i>groupname</i></b></dt>
  <dd class="It-tag">to add a whole group to a group.
    <div style="height: 1.00em;">&#x00A0;</div>
    To avoid warnings in incomplete config files there is also</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group <i>groupname</i> empty</b></dt>
  <dd class="It-tag">to declare a group has no members (avoids warnings that it
      is used without those) and</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group <i>groupname</i> unused</b></dt>
  <dd class="It-tag">to declare that a group is not yet used (avoid warnings
      that it is not used).</dd>
</dl>
<div class="Pp"></div>
A line starting with <b>include</b> causes the rest of the line to be
  interpreted as filename, which is opened and processed before the rest of the
  file is processed.
<div style="height: 1.00em;">&#x00A0;</div>
The only conditions currently supported are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>*</b></dt>
  <dd class="It-tag">which means any package,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>source '</b><i>name</i><b>'</b></dt>
  <dd class="It-tag">which means any package with source <i>name</i>. ('
      <b>*</b>', ' <b>?</b>' and '<b>[</b>..<b>]</b>' are treated as in shell
      wildcards).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sections '<i>name</i>'(|'<i>name</i>')*</b></dt>
  <dd class="It-tag">matches an upload in which each section matches one of the
      names given. As upload conditions are checked very early, this is the
      section listed in the .changes file, not the one from the override file.
      (But this might change in the future, if you have the need for the one or
      the other behavior, let me know).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sections contain '<i>name</i>'(|'<i>name</i>')*</b></dt>
  <dd class="It-tag">The same, but not all sections must be from the given set,
      but at least one source or binary package needs to have one of those
      given.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>binaries '<i>name</i>'(|'<i>name</i>')*</b></dt>
  <dd class="It-tag">matches an upload in which each binary (type deb or udeb)
      matches one of the names given.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>binaries contain '<i>name</i>'(|'<i>name</i>')*</b></dt>
  <dd class="It-tag">again only at least one instead of all is required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>architectures
    '<i>architecture</i>'(|'<i>name</i>')*</b></dt>
  <dd class="It-tag">matches an upload in which each package has only
      architectures from the given set. <b>source</b> and <b>all</b> are treated
      as unique architectures. Wildcards are not allowed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>architectures contain
    '<i>architecture</i>'(|'<i>architecture</i>')*</b></dt>
  <dd class="It-tag">again only at least one instead of all is required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>byhand</b></dt>
  <dd class="It-tag">matches an upload with at least one byhand file (i.e. a
      file with section <b>byhand</b> or <b>raw-</b><i>something</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>byhand '<i>section</i>'(|'<i>section</i>')*</b></dt>
  <dd class="It-tag">matches an upload with at least one byhand file and all
      byhand files having a section listed in the list of given section. (i.e.
      <b>byhand 'byhand'|'raw-*'</b> is currently is the same as
    <b>byhand</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>distribution '</b><i>codename</i><b>'</b></dt>
  <dd class="It-tag">which means any package when it is to be included in
      <i>codename</i>. As the uploaders file is given by distribution, this is
      only useful to reuse a complex uploaders file for multiple
    distributions.</dd>
</dl>
<div class="Pp"></div>
Putting <b>not</b> in front of a condition, inverses it's meaning. For example
<div>&#x00A0;</div>
<b>allow not source 'r*' by anybody</b>
<div>&#x00A0;</div>
means anybody may upload packages which source name does not start with an 'r'.
<div class="Pp"></div>
Multiple conditions can be connected with <b>and</b> and <b>or</b>, with
  <b>or</b> binding stronger (but both weaker than <b>not</b>). That means
<div>&#x00A0;</div>
<b>allow source 'r*' and source '*xxx' or source '*o' by anybody</b>
<div>&#x00A0;</div>
is equivalent to
<div>&#x00A0;</div>
<b>allow source 'r*xxx' by anybody</b>
<div>&#x00A0;</div>
<b>allow source 'r*o' by anybody</b>
<div style="height: 1.00em;">&#x00A0;</div>
(Other conditions will follow once somebody tells me what restrictions are
  useful. Currently planned is only something for architectures).
<h1 class="Sh" title="Sh" id="ERROR_IGNORING"><a class="selflink" href="#ERROR_IGNORING">ERROR
  IGNORING</a></h1>
With <b>--ignore</b> on the command line or an <i>ignore</i> line in the options
  file, the following type of errors can be ignored:
<dl class="Bl-tag">
  <dt class="It-tag"><b>brokenold (hopefully never seen)</b></dt>
  <dd class="It-tag">If there are errors parsing an installed version of
      package, do not error out, but assume it is older than anything else, has
      not files or no source name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>brokensignatures</b></dt>
  <dd class="It-tag">If a .changes or .dsc file contains at least one invalid
      signature and no valid signature (not even expired or from an expired or
      revoked key), reprepro assumes the file got corrupted and refuses to use
      it unless this ignore directive is given.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>brokenversioncmp (hopefully never seen)</b></dt>
  <dd class="It-tag">If comparing old and new version fails, assume the new one
      is newer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dscinbinnmu</b></dt>
  <dd class="It-tag">If a .changes file has an explicit Source version that is
      different the to the version header of the file, than reprepro assumes it
      is binary non maintainer upload (NMU). In that case, source files are not
      permitted in .changes files processed by <b>include</b> or
      <b>processincoming</b>. Adding <b>--ignore=dscinbinnmu</b> allows it for
      the <b>include</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>emptyfilenamepart (insecure)</b></dt>
  <dd class="It-tag">Allow strings to be empty that are used to construct
      filenames. (like versions, architectures, ...)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extension</b></dt>
  <dd class="It-tag">Allow to <b>includedeb</b> files that do not end with
      <b>.deb</b>, to <b>includedsc</b> files not ending in <b>.dsc</b> and to
      <b>include</b> files not ending in <b>.changes</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>forbiddenchar (insecure)</b></dt>
  <dd class="It-tag">Do not insist on Debian policy for package and source names
      and versions. Thus allowing all 7-bit characters but slashes (as they
      would break the file storage) and things syntactically active (spaces,
      underscores in filenames in .changes files, opening parentheses in source
      names of binary packages). To allow some 8-bit chars additionally, use
      <b>8bit</b> additionally.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>8bit (more insecure)</b></dt>
  <dd class="It-tag">Allow 8-bit characters not looking like overlong UTF-8
      sequences in filenames and things used as parts of filenames. Though it
      hopefully rejects overlong UTF-8 sequences, there might be other
      characters your filesystem confuses with special characters, thus creating
      filenames possibly equivalent to
      <b>/mirror/pool/main/../../../etc/shadow</b> (Which should be safe, as you
      do not run reprepro as root, do you?) or simply overwriting your
      conf/distributions file adding some commands in there. So do not use this
      if you are paranoid, unless you are paranoid enough to have checked the
      code of your libs, kernel and filesystems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ignore (for forward compatibility)</b></dt>
  <dd class="It-tag">Ignore unknown ignore types given to <i>--ignore</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>flatandnonflat (only supresses a warning)</b></dt>
  <dd class="It-tag">Do not warn about a flat and a non-flat distribution from
      the same source with the same name when updating. (Hopefully never ever
      needed.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>malformedchunk (I hope you know what you do)</b></dt>
  <dd class="It-tag">Do not stop when finding a line not starting with a space
      but no colon(:) in it. These are otherwise rejected as they have no
      defined meaning.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>missingfield (safe to ignore)</b></dt>
  <dd class="It-tag">Ignore missing fields in a .changes file that are only
      checked but not processed. Those include: Format, Date, Urgency,
      Maintainer, Description, Changes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>missingfile (might be insecure)</b></dt>
  <dd class="It-tag">When including a .dsc file from a .changes file, try to get
      files needed but not listed in the .changes file (e.g. when someone forgot
      to specify -sa to dpkg-buildpackage) from the directory the .changes file
      is in instead of erroring out. ( <b>--delete</b> will not work with those
      files, though.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>spaceonlyline (I hope you know what you do)</b></dt>
  <dd class="It-tag">Allow lines containing only (but non-zero) spaces. As these
      do not separate chunks as thus will cause reprepro to behave unexpected,
      they cause error messages by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>surprisingarch</b></dt>
  <dd class="It-tag">Do not reject a .changes file containing files for a
      architecture not listed in the Architecture-header within it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>surprisingbinary</b></dt>
  <dd class="It-tag">Do not reject a .changes file containing .deb files
      containing packages whose name is not listed in the &quot;Binary:&quot;
      header of that changes file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>undefinedtarget (hope you are not using the wrong db
    directory)</b></dt>
  <dd class="It-tag">Do not stop when the packages.db file contains databases
      for codename/packagetype/component/architectures combinations that are not
      listed in your distributions file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This allows you to temporarily remove some distribution from the config
      files, without having to remove the packages in it with the
      <b>clearvanished</b> command. You might even temporarily remove single
      architectures or components, though that might cause inconsistencies in
      some situations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>undefinedtracking (hope you are not using the wrong db
    directory)</b></dt>
  <dd class="It-tag">Do not stop when the tracking file contains databases for
      distributions that are not listed in your <b>distributions</b> file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This allows you to temporarily remove some distribution from the config
      files, without having to remove the packages in it with the
      <b>clearvanished</b> command. You might even temporarily disable tracking
      in some distribution, but that is likely to cause inconsistencies in
      there, if you do not know, what you are doing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unknownfield (for forward compatibility)</b></dt>
  <dd class="It-tag">Ignore unknown fields in the config files, instead of
      refusing to run then.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unusedarch (safe to ignore)</b></dt>
  <dd class="It-tag">No longer reject a .changes file containing no files for
      any of the architectures listed in the Architecture-header within it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unusedoption</b></dt>
  <dd class="It-tag">Do not complain about command line options not used by the
      specified action (like <b>--architecture</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>uploaders</b></dt>
  <dd class="It-tag">The include command will accept packages that would
      otherwise been rejected by the uploaders file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wrongarchitecture (safe to ignore)</b></dt>
  <dd class="It-tag">Do not warn about wrong &quot;Architecture:&quot; lines in
      downloaded Packages files. (Note that wrong Architectures are always
      ignored when getting stuff from flat repostories or importing stuff from
      one architecture to another).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wrongdistribution (safe to ignore)</b></dt>
  <dd class="It-tag">Do not error out if a .changes file is to be placed in a
      distribution not listed in that files' Distributions: header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wrongsourceversion</b></dt>
  <dd class="It-tag">Do not reject a .changes file containing .deb files with a
      different opinion on what the version of the source package is.
    <div>&#x00A0;</div>
    (Note: reprepro only compares literally here, not by meaning.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wrongversion</b></dt>
  <dd class="It-tag">Do not reject a .changes file containing .dsc files with a
      different version.
    <div>&#x00A0;</div>
    (Note: reprepro only compares literally here, not by meaning.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expiredkey (I hope you know what you do)</b></dt>
  <dd class="It-tag">Accept signatures with expired keys. (Only if the expired
      key is explicitly requested).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expiredsignature (I hope you know what you do)</b></dt>
  <dd class="It-tag">Accept expired signatures with expired keys. (Only if the
      key is explicitly requested).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>revokedkey (I hope you know what you do)</b></dt>
  <dd class="It-tag">Accept signatures with revoked keys. (Only if the revoked
      key is explicitly requested).</dd>
</dl>
<h1 class="Sh" title="Sh" id="GUESSING"><a class="selflink" href="#GUESSING">GUESSING</a></h1>
When including a binary or source package without explicitly declaring a
  component with <b>-C</b> it will take the first component with the name of the
  section, being prefix to the section, being suffix to the section or having
  the section as prefix or any. (In this order)
<div style="height: 1.00em;">&#x00A0;</div>
Thus having specified the components: &quot;main non-free contrib non-US/main
  non-US/non-free non-US/contrib&quot; should map e.g. &quot;non-US&quot; to
  &quot;non-US/main&quot; and &quot;contrib/editors&quot; to
  &quot;contrib&quot;, while having only &quot;main non-free and contrib&quot;
  as components should map &quot;non-US/contrib&quot; to &quot;contrib&quot; and
  &quot;non-US&quot; to &quot;main&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b> Always specify main as the first component, if you want things to
  end up there.
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b> unlike in dak, non-US and non-us are different things...
<h1 class="Sh" title="Sh" id="NOMENCLATURE"><a class="selflink" href="#NOMENCLATURE">NOMENCLATURE</a></h1>
<b>Codename</b> the primary identifier of a given distribution. This are
  normally things like <b>sarge</b>, <b>etch</b> or <b>sid</b>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>basename</b></dt>
  <dd class="It-tag">the name of a file without any directory information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>byhand</b></dt>
  <dd class="It-tag">Changes files can have files with section 'byhand' (Debian)
      or 'raw-' (Ubuntu). Those files are not packages but other data generated
      (usually together with packages) and then uploaded together with this
      changes files.
    <div style="height: 1.00em;">&#x00A0;</div>
    With reprepro those can be stored in the pool next to their packages whith
      tracking, put in some log directory when using processincoming, or given
      to an hook script (currently only possible with processincoming).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>filekey</b></dt>
  <dd class="It-tag">the position relative to the outdir. (as found in
      &quot;Filename:&quot; in Packages.gz)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>full filename</b></dt>
  <dd class="It-tag">the position relative to /</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>architecture</b></dt>
  <dd class="It-tag">The term like <b>sparc</b>, <b>i386</b>, <b>mips</b>, ... .
      To refer to the source packages, <b>source</b> is sometimes also treated
      as architecture.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>component</b></dt>
  <dd class="It-tag">Things like <b>main</b>, <b>non-free</b> and <b>contrib</b>
      (by policy and some other programs also called section, reprepro follows
      the naming scheme of apt here.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>section</b></dt>
  <dd class="It-tag">Things like <b>base</b>, <b>interpreters</b>,
      <b>oldlibs</b> and <b>non-free/math</b> (by policy and some other programs
      also called subsections).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>md5sum</b></dt>
  <dd class="It-tag">The checksum of a file in the format &quot; <i>&lt;md5sum
      of file&gt;</i> <i>&lt;length of file&gt;</i>&quot;</dd>
</dl>
<h1 class="Sh" title="Sh" id="Some_note_on_updates"><a class="selflink" href="#Some_note_on_updates">Some
  note on updates</a></h1>
<h2 class="Ss" title="Ss" id="A_version_is_not_overwritten_with_the_same_version."><a class="selflink" href="#A_version_is_not_overwritten_with_the_same_version.">A
  version is not overwritten with the same version.</a></h2>
<b>reprepro</b> will never update a package with a version it already has. This
  would be equivalent to rebuilding the whole database with every single
  upgrade. To force the new same version in, remove it and then update. (If
  files of the packages changed without changing their name, make sure the file
  is no longer remembered by reprepro. Without <b>--keepunreferencedfiled</b>
  and without errors while deleting it should already be forgotten, otherwise a
  <b>deleteunreferenced</b> or even some <b>__forget</b> might help.)
<h2 class="Ss" title="Ss" id="The_magic_delete_rule_(&quot;-&quot;)."><a class="selflink" href="#The_magic_delete_rule_(&quot;-&quot;).">The
  magic delete rule (&quot;-&quot;).</a></h2>
A minus as a single word in the <b>Update:</b> line of a distribution marks
  everything to be deleted. The mark causes later rules to get packages even if
  they have (strict) lower versions. The mark will get removed if a later rule
  sets the package on hold (hold is not yet implemented, in case you might
  wonder) or would get a package with the same version (Which it will not, see
  above). If the mark is still there at the end of the processing, the package
  will get removed.
<div class="Pp"></div>
Thus the line &quot;Update: - <i>rules</i> &quot; will cause all packages to be
  exactly the highest Version found in <i>rules.</i> The line &quot;Update:
  <i>near</i> - <i>rules</i> &quot; will do the same, except if it needs to
  download packages, it might download it from <i>near</i> except when too
  confused. (It will get too confused e.g. when <i>near</i> or <i>rules</i> have
  multiple versions of the package and the highest in <i>near</i> is not the
  first one in <i>rules,</i> as it never remember more than one possible spring
  for a package.
<div class="Pp"></div>
Warning: This rule applies to all type/component/architecture triplets of a
  distribution, not only those some other update rule applies to. (That means it
  will delete everything in those!)
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
Environment variables are always overwritten by command line options, but
  overwrite options set in the <b>options</b> file. (Even when the options file
  is obviously parsed after the environment variables as the environment may
  determine the place of the options file).
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_BASE_DIR</b></dt>
  <dd class="It-tag">The directory in this variable is used instead of the
      current directory, if no <b>-b</b> or <b>--basedir</b> options are
      supplied.
    <div>&#x00A0;</div>
    It is also set in all hook scripts called by reprepro (relative to the
      current directory or absolute, depending on how reprepro got it).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_CONFIG_DIR</b></dt>
  <dd class="It-tag">The directory in this variable is used when no
      <b>--confdir</b> is supplied.
    <div>&#x00A0;</div>
    It is also set in all hook scripts called by reprepro (relative to the
      current directory or absolute, depending on how reprepro got it).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_OUT_DIR</b></dt>
  <dd class="It-tag">This is not used, but only set in hook scripts called by
      reprepro to the directory in which the <b>pool</b> subdirectory resides
      (relative to the current directory or absolute, depending on how reprepro
      got it).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_DIST_DIR</b></dt>
  <dd class="It-tag">This is not used, but only set in hook scripts called by
      reprepro to the <b>dists</b> directory (relative to the current directory
      or absolute, depending on how reprepro got it).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_LOG_DIR</b></dt>
  <dd class="It-tag">This is not used, but only set in hook scripts called by
      reprepro to the value setable by <b>--logdir</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_CAUSING_COMMAND</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_CAUSING_FILE</b></dt>
  <dd class="It-tag">Those two environment variable are set (or unset) in
      <b>Log:</b> and <b>ByHandHooks:</b> scripts and hint what command and what
      file caused the hook to be called (if there is some).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_CAUSING_RULE</b></dt>
  <dd class="It-tag">This environment variable is set (or unset) in <b>Log:</b>
      scripts and hint what update or pull rule caused this change.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_FROM</b></dt>
  <dd class="It-tag">This environment variable is set (or unset) in <b>Log:</b>
      scripts and denotes what other distribution a package is copied from (with
      pull and copy commands).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_FILTER_ARCHITECTURE</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_FILTER_CODENAME</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_FILTER_COMPONENT</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_FILTER_PACKAGETYPE</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REPREPRO_FILTER_PATTERN</b></dt>
  <dd class="It-tag">Set in <b>FilterList:</b> and <b>FilterSrcList:</b>
      scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>GNUPGHOME</b></dt>
  <dd class="It-tag">Not used by reprepro directly. But reprepro uses libgpgme,
      which calls gpg for signing and verification of signatures. And your gpg
      will most likely use the content of this variable instead of
      &quot;~/.gnupg&quot;. Take a look at <b>gpg</b>(1) to be sure. You can
      also tell reprepro to set this with the <b>--gnupghome</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>GPG_TTY</b></dt>
  <dd class="It-tag">When there is a gpg-agent running that does not have the
      passphrase cached yet, gpg will most likely try to start some pinentry
      program to get it. If that is pinentry-curses, that is likely to fail
      without this variable, because it cannot find a terminal to ask on. In
      this cases you might set this variable to something like the value of
      <b>$(tty)</b> or <b>$SSH_TTY</b> or anything else denoting a usable
      terminal. (You might also want to make sure you actually have a terminal
      available. With ssh you might need the <b>-t</b> option to get a terminal
      even when telling gpg to start a specific command).
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, reprepro will set this variable to what the symbolic link
      <b>/proc/self/fd/0</b> points to, if stdin is a terminal, unless you told
      with <b>--noguessgpgtty</b> to not do so.</dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Increased verbosity always shows those things one does not want to know. (Though
  this might be inevitable and a corollary to Murphy)
<div style="height: 1.00em;">&#x00A0;</div>
Reprepro uses berkeley db, which was a big mistake. The most annoying problem
  not yet worked around is database corruption when the disk runs out of space.
  (Luckily if it happens while downloading packages while updating, only the
  files database is affected, which is easy (though time consuming) to rebuild,
  see <b>recovery</b> file in the documentation). Ideally put the database on
  another partition to avoid that.
<div style="height: 1.00em;">&#x00A0;</div>
While the source part is mostly considered as the architecture <b>source</b>
  some parts may still not use this notation.
<h1 class="Sh" title="Sh" id="WORK-AROUNDS_TO_COMMON_PROBLEMS"><a class="selflink" href="#WORK-AROUNDS_TO_COMMON_PROBLEMS">WORK-AROUNDS
  TO COMMON PROBLEMS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>gpgme returned an impossible condition</b></dt>
  <dd class="It-tag">With the woody version this normally meant that there was
      no .gnupg directory in $HOME, but it created one and reprepro succeeds
      when called again with the same command. Since sarge the problem sometimes
      shows up, too. But it is no longer reproducible and it does not fix
      itself, neither. Try running <b>gpg --verify
      </b><i>file-you-had-problems-with</i> manually as the user reprepro is
      running and with the same $HOME. This alone might fix the problem. It
      should not print any messages except perhaps
    <div>&#x00A0;</div>
    gpg: no valid OpenPGP data found.
    <div>&#x00A0;</div>
    gpg: the signature could not be verified.
    <div>&#x00A0;</div>
    if it was an unsigned file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>not including .orig.tar.gz when a .changes file's
    version does not end in -0 or -1</b></dt>
  <dd class="It-tag">If dpkg-buildpackage is run without the <b>-sa</b> option
      to build a version with a Debian revision not being -0 or -1, it does not
      list the <b>.orig.tar.gz</b> file in the <b>.changes</b> file. If you want
      to <b>include</b> such a file with reprepro when the .orig.tar.gz file
      does not already exist in the pool, reprepro will report an error. This
      can be worked around by:
    <div>&#x00A0;</div>
    call <b>dpkg-buildpackage</b> with <b>-sa</b> (recommended)
    <div>&#x00A0;</div>
    copy the .orig.tar.gz file to the proper place in the pool before
    <div>&#x00A0;</div>
    call reprepro with --ignore=missingfile (discouraged)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>leftover files in the pool directory.</b></dt>
  <dd class="It-tag">reprepro is sometimes a bit too timid of deleting stuff.
      When things go wrong and there have been errors it sometimes just leaves
      everything where it is. To see what files reprepro remembers to be in your
      pool directory but does not know anything needing them right know, you can
      use
    <div>&#x00A0;</div>
     <b>reprepro dumpunreferenced</b>
    <div>&#x00A0;</div>
    To delete them:
    <div>&#x00A0;</div>
     <b>reprepro deleteunreferenced</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="INTERRUPTING"><a class="selflink" href="#INTERRUPTING">INTERRUPTING</a></h1>
Interrupting reprepro has its problems. Some things (like speaking with apt
  methods, database stuff) can cause problems when interrupted at the wrong
  time. Then there are design problems of the code making it hard to distinguish
  if the current state is dangerous or non-dangerous to interrupt. Thus if
  reprepro receives a signal normally sent to tell a process to terminate itself
  softly, it continues its operation, but does not start any new operations.
  (I.e. it will not tell the apt-methods any new file to download, it will not
  replace a package in a target, unless it already had started with it, it will
  not delete any files gotten dereferenced, and so on).
<div style="height: 1.00em;">&#x00A0;</div>
<b>It only catches the first signal of each type. The second signal of a</b>
  <b>given type will terminate reprepro. You will risk database corruption</b>
  <b>and have to remove the lockfile manually.</b>
<div style="height: 1.00em;">&#x00A0;</div>
Also note that even normal interruption leads to code-paths mostly untested and
  thus expose a multitude of bugs including those leading to data corruption.
  Better think a second more before issuing a command than risking the need for
  interruption.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs or wishlist requests to the Debian BTS
<div>&#x00A0;</div>
(e.g. by using <b>reportbug reprepro</b> under Debian)
<div>&#x00A0;</div>
or directly to
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2004,2005,2006,2007,2008,2009,2010,2011,2012
<div>&#x00A0;</div>
This is free software; see the source for copying conditions. There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
  PURPOSE.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-05-04</td>
    <td class="foot-os">reprepro</td>
  </tr>
</table>
</body>
</html>
