<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:10:27 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MAKE(1) BSD General Commands Manual MAKE(1)</p>

<p style="margin-top: 1em">NAME <br>
make &acirc; maintain program dependencies</p>

<p style="margin-top: 1em">SYNOPSIS <br>
make [-ABPSXeiknpqrstv] [-C directory] [-D variable] [-d
flags] [-E variable] [-f makefile] [-I directory] [-j
max_jobs] [-m directory] [-V variable] [-x warning_options]
<br>
[variable=value] [target ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The make utility is a program designed to simplify the
maintenance of other programs. Its input is a list of
specifications describing dependency relationships between
the genera&acirc; <br>
tion of files and programs.</p>

<p style="margin-top: 1em">First of all, the initial list
of specifications will be read from the system makefile,
sys.mk, unless inhibited with the -r option. The standard
sys.mk as shipped with FreeBSD <br>
also handles make.conf(5), the default path to which can be
altered via the make variable __MAKE_CONF.</p>

<p style="margin-top: 1em">Then the first of BSDmakefile,
makefile, and Makefile that can be found in the current
directory, object directory (see .OBJDIR), or search path
(see the -I option) will be read <br>
for the main list of dependency specifications. A different
makefile or list of them can be supplied via the -f
option(s). Finally, if the file .depend can be found in any
of the <br>
aforesaid locations, it will also be read (see
mkdep(1)).</p>

<p style="margin-top: 1em">When make searches for a
makefile, its name takes precedence over its location. For
instance, BSDmakefile in the object directory will be
favored over Makefile in the current <br>
directory.</p>

<p style="margin-top: 1em">The options are as follows:</p>

<p style="margin-top: 1em">-A Make archive errors
non-fatal, causing make to just skip the remainder or all of
the archive and continue after printing a message.</p>

<p style="margin-top: 1em">-B Try to be backwards
compatible by executing a single shell per command and by
executing the commands to make the sources of a dependency
line in sequence. This is turned <br>
on by default unless -j is used.</p>

<p style="margin-top: 1em">-C directory <br>
Change to directory before reading the makefiles or doing
anything else. If multiple -C options are specified, each is
interpreted relative to the previous one: -C / -C <br>
etc is equivalent to -C /etc.</p>

<p style="margin-top: 1em">-D variable <br>
Define variable to be 1, in the global context.</p>

<p style="margin-top: 1em">-d flags <br>
Turn on debugging, and specify which portions of make are to
print debugging information. Argument flags is one or more
of the following:</p>

<p style="margin-top: 1em">A Print all possible debugging
information; equivalent to specifying all of the debugging
flags.</p>

<p style="margin-top: 1em">a Print debugging information
about archive searching and caching.</p>

<p style="margin-top: 1em">c Print debugging information
about conditional evaluation.</p>

<p style="margin-top: 1em">d Print debugging information
about directory searching and caching.</p>

<p style="margin-top: 1em">f Print debugging information
about the execution of for loops.</p>

<p style="margin-top: 1em">g1 Print the input graph before
making anything.</p>

<p style="margin-top: 1em">g2 Print the input graph after
making everything, or before exiting on error.</p>

<p style="margin-top: 1em">j Print debugging information
about running multiple shells.</p>

<p style="margin-top: 1em">l Print commands in Makefiles
regardless of whether or not they are prefixed by @ or other
&quot;quiet&quot; flags. Also known as &quot;loud&quot;
behavior.</p>

<p style="margin-top: 1em">m Print debugging information
about making targets, including modification dates.</p>

<p style="margin-top: 1em">s Print debugging information
about suffix-transformation rules.</p>

<p style="margin-top: 1em">t Print debugging information
about target list maintenance.</p>

<p style="margin-top: 1em">v Print debugging information
about variable assignment.</p>

<p style="margin-top: 1em">-E variable <br>
Specify a variable whose environment value (if any) will
override macro assignments within makefiles.</p>

<p style="margin-top: 1em">-e Specify that environment
values override macro assignments within makefiles for all
variables.</p>

<p style="margin-top: 1em">-f makefile <br>
Specify a makefile to read instead of the default one. If
makefile is not an absolute pathname, make will search for
it as described above. In case makefile is &acirc;-&acirc;,
stan&acirc; <br>
dard input is read. Multiple -f options can be supplied, and
the makefiles will be read in that order. Unlike the other
command-line options, -f is neither stored in <br>
.MAKEFLAGS nor pushed down to sub-makes via MAKEFLAGS. See
below for more details on these variables.</p>

<p style="margin-top: 1em">-I directory <br>
Specify a directory in which to search for makefiles and
included makefiles. Multiple -I options can be specified to
form a search path. The system makefile directory (or <br>
directories, see the -m option) is automatically appended at
the tail of this path.</p>

<p style="margin-top: 1em">-i Ignore non-zero exit of shell
commands in the makefile. Equivalent to specifying
&acirc;-&acirc; before each command line in the
makefile.</p>

<p style="margin-top: 1em">-j max_jobs <br>
Specify the maximum number of jobs that make may have
running at any one time. Turns compatibility mode off,
unless the -B flag is also specified.</p>

<p style="margin-top: 1em">-k Continue processing after
errors are encountered, but only on those targets that do
not depend on the target whose creation caused the
error.</p>

<p style="margin-top: 1em">-m directory <br>
Specify a directory in which to search for the system
makefile and makefiles included via the &lt;...&gt; style.
Multiple -m options can be specified to form a search path.
<br>
This path will override the default system include path,
/usr/share/mk-freebsd. The system include path will always
be appended to the search path used for
&quot;...&quot;-style <br>
inclusions and makefile searches (see the -I option).</p>

<p style="margin-top: 1em">If a file or directory name in
the -m argument (or the MAKESYSPATH environment variable)
starts with the string &quot;.../&quot; then make will
search for the specified file or <br>
directory named in the remaining part of the argument
string. The search starts with the current directory of the
Makefile and then works upward towards the root of the <br>
filesystem. If the search is successful, then the resulting
directory replaces the &quot;.../&quot; specification in the
-m argument. If used, this feature allows make to easily
<br>
search in the current source tree for customized sys.mk
files (e.g. by using &quot;.../mk/sys.mk&quot; as an
argument). Note that a -C that are earlier on the command
line affect <br>
where -m &quot;.../&quot; searches.</p>

<p style="margin-top: 1em">-n Display the commands that
would have been executed, but do not actually execute
them.</p>

<p style="margin-top: 1em">-P Collate the output of a given
job and display it only when the job finishes, instead of
mixing the output of parallel jobs together. This option has
no effect unless -j is <br>
used too.</p>

<p style="margin-top: 1em">-p Only print the input graph,
not executing any commands. The output is the same as -d g1.
When combined with -f /dev/null, only the builtin rules of
make are displayed.</p>

<p style="margin-top: 1em">-Q Be extra quiet. For multi-job
makes, this will cause file banners not to be generated.</p>

<p style="margin-top: 1em">-q Do not execute any commands,
but exit 0 if the specified targets are up-to-date and 1,
otherwise.</p>

<p style="margin-top: 1em">-r Do not process the system
makefile.</p>

<p style="margin-top: 1em">-S Stop processing when an error
is encountered. Default behaviour. This is needed to negate
the -k option during recursive builds.</p>

<p style="margin-top: 1em">-s Do not echo any commands as
they are executed. Equivalent to specifying &acirc;@&acirc;
before each command line in the makefile.</p>

<p style="margin-top: 1em">-t Rather than re-building a
target as specified in the makefile, create it or update its
modification time to make it appear up-to-date.</p>

<p style="margin-top: 1em">-V variable <br>
Print make&rsquo;s idea of the value of variable, in the
global context. Do not build any targets. Multiple instances
of this option may be specified; the variables will be <br>
printed one per line, with a blank line for each null or
undefined variable. If variable contains a &acirc;$&acirc;
then the value will be expanded before printing.</p>

<p style="margin-top: 1em">-v Be extra verbose. Print any
extra information.</p>

<p style="margin-top: 1em">-X When using the -V option to
print the values of variables, do not recursively expand the
values.</p>

<p style="margin-top: 1em">variable=value <br>
Set the value of the variable variable to value.</p>

<p style="margin-top: 1em">-x warning_options <br>
Specify extended warning options. This option may be
specified several times. A warning_option can be prefixed
with &acirc;no&acirc; in which case the warning is switched
off. The <br>
currently available options are:</p>

<p style="margin-top: 1em">dirsyntax <br>
Warn if anything except blanks and comments follows an
.endif or .else directive.</p>

<p style="margin-top: 1em">See also the .WARN special
target.</p>

<p style="margin-top: 1em">There are seven different types
of lines in a makefile: file dependency specifications,
shell commands, variable assignments, include statements,
conditional directives, for loops, <br>
and comments.</p>

<p style="margin-top: 1em">In general, lines may be
continued from one line to the next by ending them with a
backslash (&acirc;&acirc;). The trailing newline character
and initial whitespace on the following line are <br>
compressed into a single space.</p>

<p style="margin-top: 1em">FILE DEPENDENCY SPECIFICATIONS
<br>
Dependency lines consist of one or more targets, an
operator, and zero or more sources. This creates a
relationship where the targets &acirc;depend&acirc; on the
sources and are usually cre&acirc; <br>
ated from them. The exact relationship between the target
and the source is determined by the operator that separates
them. The three operators are as follows:</p>

<p style="margin-top: 1em">: A target is considered
out-of-date if its modification time is less than those of
any of its sources. Sources for a target accumulate over
dependency lines when this opera&acirc; <br>
tor is used. The target is removed if make is
interrupted.</p>

<p style="margin-top: 1em">! Targets are always re-created,
but not until all sources have been examined and re-created
as necessary. Sources for a target accumulate over
dependency lines when this <br>
operator is used. The target is removed if make is
interrupted.</p>

<p style="margin-top: 1em">:: If no sources are specified,
the target is always re-created. Otherwise, a target is
considered out-of-date if any of its sources has been
modified more recently than the <br>
target. Sources for a target do not accumulate over
dependency lines when this operator is used. The target will
not be removed if make is interrupted.</p>

<p style="margin-top: 1em">Targets and sources may contain
the shell wildcard expressions &acirc;?&acirc;,
&acirc;*&acirc;, &acirc;[]&acirc; and &acirc;{}&acirc;. The
expressions &acirc;?&acirc;, &acirc;*&acirc; and
&acirc;[]&acirc; may only be used as part of the final
component of the <br>
target or source, and must be used to describe existing
files. The expression &acirc;{}&acirc; need not necessarily
be used to describe existing files. Expansion is in
directory order, not <br>
alphabetically as done in the shell.</p>

<p style="margin-top: 1em">SHELL COMMANDS <br>
Each target may have associated with it a series of shell
commands, normally used to create the target. Each of the
commands in this script must be preceded by a tab. While any
<br>
target may appear on a dependency line, only one of these
dependencies may be followed by a creation script, unless
the &acirc;::&acirc; operator is used.</p>

<p style="margin-top: 1em">If the first characters of the
command line are &acirc;@&acirc;, &acirc;-&acirc;, and/or
&acirc;+&acirc;, the command is treated specially. A
&acirc;@&acirc; causes the command not to be echoed before
it is executed. A &acirc;-&acirc; <br>
causes any non-zero exit status of the command line to be
ignored. A &acirc;+&acirc; causes the command to be executed
even if -n is specified on the command line.</p>

<p style="margin-top: 1em">VARIABLE ASSIGNMENTS <br>
Variables in make are much like variables in the shell, and,
by tradition, consist of all upper-case letters. The five
operators that can be used to assign values to variables are
<br>
as follows:</p>

<p style="margin-top: 1em">= Assign the value to the
variable. Any previous value is overridden.</p>

<p style="margin-top: 1em">+= Append the value to the
current value of the variable.</p>

<p style="margin-top: 1em">?= Assign the value to the
variable if it is not already defined.</p>

<p style="margin-top: 1em">:= Assign with expansion, i.e.,
expand the value before assigning it to the variable.
Normally, expansion is not done until the variable is
referenced.</p>

<p style="margin-top: 1em">!= Expand the value and pass it
to the shell for execution and assign the result to the
variable. Any newlines in the result are replaced with
spaces.</p>

<p style="margin-top: 1em">Any whitespace before the
assigned value is removed; if the value is being appended, a
single space is inserted between the previous contents of
the variable and the appended <br>
value.</p>

<p style="margin-top: 1em">Variables are expanded by
surrounding the variable name with either curly braces
(&acirc;{}&acirc;) or parentheses (&acirc;()&acirc;) and
preceding it with a dollar sign (&acirc;$&acirc;). If the
variable name con&acirc; <br>
tains only a single letter, the surrounding braces or
parentheses are not required. This shorter form is not
recommended.</p>

<p style="margin-top: 1em">Variable substitution occurs at
two distinct times, depending on where the variable is being
used. Variables in dependency lines are expanded as the line
is read. Variables in <br>
shell commands are expanded when the shell command is
executed.</p>

<p style="margin-top: 1em">The four different classes of
variables (in order of increasing precedence) are:</p>

<p style="margin-top: 1em">Environment variables <br>
Variables defined as part of make&rsquo;s environment.</p>

<p style="margin-top: 1em">Global variables <br>
Variables defined in the makefile or in included
makefiles.</p>

<p style="margin-top: 1em">Command line variables <br>
Variables defined as part of the command line and variables
obtained from the MAKEFLAGS environment variable or the
.MAKEFLAGS target.</p>

<p style="margin-top: 1em">Local variables <br>
Variables that are defined specific to a certain target.</p>

<p style="margin-top: 1em">If the name of an environment
variable appears in a makefile on the left-hand side of an
assignment, a global variable with the same name is created,
and the latter shadows the <br>
former as per their relative precedences. The environment is
not changed in this case, and the change is not exported to
programs executed by make. However, a command-line
vari&acirc; <br>
able actually replaces the environment variable of the same
name if the latter exists, which is visible to child
programs.</p>

<p style="margin-top: 1em">There are seven local variables
in make:</p>

<p style="margin-top: 1em">.ALLSRC The list of all sources
for this target; also known as &acirc;&gt;&acirc;.</p>

<p style="margin-top: 1em">.ARCHIVE The name of the archive
file; also known as &acirc;!&acirc;.</p>

<p style="margin-top: 1em">.IMPSRC The name/path of the
source from which the target is to be transformed (the
&acirc;implied&acirc; source); also known as
&acirc;&lt;&acirc;.</p>

<p style="margin-top: 1em">.MEMBER The name of the archive
member; also known as &acirc;%&acirc;.</p>

<p style="margin-top: 1em">.OODATE The list of sources for
this target that were deemed out-of-date; also known as
&acirc;?&acirc;.</p>

<p style="margin-top: 1em">.PREFIX The file prefix of the
file, containing only the file portion, no suffix or
preceding directory components; also known as
&acirc;*&acirc;.</p>

<p style="margin-top: 1em">.TARGET The name of the target;
also known as &acirc;@&acirc;.</p>

<p style="margin-top: 1em">The shorter forms
&acirc;@&acirc;, &acirc;!&acirc;, &acirc;&lt;&acirc;,
&acirc;%&acirc;, &acirc;?&acirc;, &acirc;&gt;&acirc;, and
&acirc;*&acirc; are permitted for backward compatibility and
are not recommended. The six variables &acirc;@F&acirc;,
&acirc;@D&acirc;, &acirc;&lt;F&acirc;, &acirc;&lt;D&acirc;,
&acirc;*F&acirc;, and &acirc;*D&acirc; <br>
are permitted for compatibility with AT&amp;T System V UNIX
makefiles and are not recommended.</p>

<p style="margin-top: 1em">Four of the local variables may
be used in sources on dependency lines because they expand
to the proper value for each target on the line. These
variables are .TARGET, .PREFIX, <br>
.ARCHIVE, and .MEMBER.</p>

<p style="margin-top: 1em">In addition, make sets or knows
about the following internal variables or environment
variables:</p>

<p style="margin-top: 1em">$ A single dollar sign
&acirc;$&acirc;, i.e. &acirc;$$&acirc; expands to a single
dollar sign.</p>

<p style="margin-top: 1em">MAKE The name that make was
executed with (argv[0]).</p>

<p style="margin-top: 1em">.CURDIR A path to the directory
where make was executed. The make utility sets .CURDIR to
the canonical path given by getcwd(3).</p>

<p style="margin-top: 1em">.OBJDIR A path to the directory
where the targets are built. At startup, make searches for
an alternate directory to place target files. It will
attempt to change into <br>
this special directory and will search this directory for
makefiles not found in the current directory. The following
directories are tried in order:</p>

<p style="margin-top: 1em">1.
${MAKEOBJDIRPREFIX}/&lsquo;pwd -P&lsquo; <br>
2. ${MAKEOBJDIR} <br>
3. obj.${MACHINE} <br>
4. obj <br>
5. /usr/obj/&lsquo;pwd -P&lsquo;</p>

<p style="margin-top: 1em">The first directory that make
successfully changes into is used. If either
MAKEOBJDIRPREFIX or MAKEOBJDIR is set in the environment but
make is unable to change <br>
into the corresponding directory, then the current directory
is used without checking the remainder of the list. If they
are undefined and make is unable to change <br>
into any of the remaining three directories, then the
current directory is used. Note, that MAKEOBJDIRPREFIX and
MAKEOBJDIR must be environment variables and <br>
should not be set on make&rsquo;s command line.</p>

<p style="margin-top: 1em">The make utility sets .OBJDIR to
the canonical path given by getcwd(3).</p>

<p style="margin-top: 1em">.MAKEFILE_LIST As make reads
various makefiles, including the default files and any
obtained from the command line and .include and .sinclude
directives, their names will be auto&acirc; <br>
matically appended to the .MAKEFILE_LIST variable. They are
added right before make begins to parse them, so that the
name of the current makefile is the last word <br>
in this variable.</p>

<p style="margin-top: 1em">MAKEFLAGS The environment
variable MAKEFLAGS may initially contain anything that may
be specified on make&rsquo;s command line, including -f
option(s). After processing, its con&acirc; <br>
tents are stored in the .MAKEFLAGS global variable, although
any -f options are omitted. Then all options and variable
assignments specified on make&rsquo;s command <br>
line, except for -f, are appended to the .MAKEFLAGS
variable.</p>

<p style="margin-top: 1em">Whenever make executes a
program, it sets MAKEFLAGS in the program&rsquo;s
environment to the current value of the .MAKEFLAGS global
variable. Thus, if MAKEFLAGS in <br>
make&rsquo;s environment contains any -f options, they will
not be pushed down to child programs automatically. The make
utility effectively filters out -f options from <br>
the environment and command line although it passes the rest
of its options down to sub-makes via MAKEFLAGS by
default.</p>

<p style="margin-top: 1em">When passing macro definitions
and flag arguments in the MAKEFLAGS environment variable,
space and tab characters are quoted by preceding them with a
backslash. <br>
When reading the MAKEFLAGS variable from the environment,
all sequences of a backslash and one of space or tab are
replaced just with their second character without <br>
causing a word break. Any other occurrences of a backslash
are retained. Groups of unquoted space, tab and newline
characters cause word breaking.</p>

<p style="margin-top: 1em">.MAKEFLAGS Initially, this
global variable contains make&rsquo;s current run-time
options from the environment and command line as described
above, under MAKEFLAGS. By modifying <br>
the contents of the .MAKEFLAGS global variable, the makefile
can alter the contents of the MAKEFLAGS environment variable
made available for all programs which make <br>
executes. This includes adding -f option(s). The current
value of .MAKEFLAGS is just copied verbatim to MAKEFLAGS in
the environment of child programs.</p>

<p style="margin-top: 1em">Note that any options entered to
.MAKEFLAGS neither affect the current instance of make nor
show up in its own copy of MAKEFLAGS instantly. However,
they do show <br>
up in the MAKEFLAGS environment variable of programs
executed by make. On the other hand, a direct assignment to
MAKEFLAGS neither affects the current instance of <br>
make nor is passed down to make&rsquo;s children. Compare
with the .MAKEFLAGS special target below.</p>

<p style="margin-top: 1em">MFLAGS This variable is provided
for backward compatibility and contains all the options from
the MAKEFLAGS environment variable plus any options
specified on make&rsquo;s com&acirc; <br>
mand line.</p>

<p style="margin-top: 1em">.MAKE.PID The process-id of
make.</p>

<p style="margin-top: 1em">.MAKE.PPID The parent process-id
of make.</p>

<p style="margin-top: 1em">.MAKE.JOB.PREFIX <br>
If make is run with -j -v then output for each target is
prefixed with a token &acirc;--- target ---&acirc; the first
part of which can be controlled via .MAKE.JOB.PREFIX. <br>
For example:
.MAKE.JOB.PREFIX=${.newline}---${MAKE:T}[${.MAKE.PID}] would
produce tokens like &acirc;---make[1234] target ---&acirc;
or <br>
.MAKE.JOB.PREFIX=---pid[${.MAKE.PID}],ppid[${.MAKE.PPID}]
would produce tokens like &acirc;---pid[56789],ppid[1234]
target ---&acirc; making it easier to track the degree of
<br>
parallelism being achieved.</p>

<p style="margin-top: 1em">.TARGETS List of targets make is
currently building.</p>

<p style="margin-top: 1em">.INCLUDES See .INCLUDES special
target.</p>

<p style="margin-top: 1em">.LIBS See .LIBS special
target.</p>

<p style="margin-top: 1em">MACHINE Name of the machine
architecture make is running on, obtained from the MACHINE
environment variable, or through uname(3) if not
defined.</p>

<p style="margin-top: 1em">MACHINE_ARCH Name of the machine
architecture make was compiled for, defined at compilation
time.</p>

<p style="margin-top: 1em">VPATH Makefiles may assign a
colon-delimited list of directories to VPATH. These
directories will be searched for source files by make after
it has finished parsing all <br>
input makefiles.</p>

<p style="margin-top: 1em">Variable Modifiers <br>
Variable expansion may be modified to select or modify each
word of the variable (where a &acirc;word&acirc; is
whitespace-delimited sequence of characters). The general
format of a variable <br>
expansion is as follows:</p>

<p style="margin-top: 1em">{variable[:modifier[:...]]}</p>

<p style="margin-top: 1em">Each modifier begins with a
colon and one of the following special characters. The colon
may be escaped with a backslash (&acirc;&acirc;).</p>

<p style="margin-top: 1em">:C/pattern/replacement/[1g] <br>
Modify each word of the value, substituting every match of
the extended regular expression pattern (see re_format(7))
with the ed(1)-style replacement string. Nor&acirc; <br>
mally, the first occurrence of the pattern in each word of
the value is changed. The &acirc;1&acirc; modifier causes
the substitution to apply to at most one word; the
&acirc;g&acirc; modi&acirc; <br>
fier causes the substitution to apply to as many instances
of the search pattern as occur in the word or words it is
found in. Note that &acirc;1&acirc; and &acirc;g&acirc; are
orthogonal; <br>
the former specifies whether multiple words are potentially
affected, the latter whether multiple substitutions can
potentially occur within each affected word.</p>

<p style="margin-top: 1em">:E Replaces each word in the
variable with its suffix.</p>

<p style="margin-top: 1em">:H Replaces each word in the
variable with everything but the last component.</p>

<p style="margin-top: 1em">:L Converts variable to
lower-case letters. (deprecated)</p>

<p style="margin-top: 1em">:Mpattern Select only those
words that match the rest of the modifier. The standard
shell wildcard characters (&acirc;*&acirc;, &acirc;?&acirc;,
and &acirc;[]&acirc;) may be used. The wildcard characters
may be <br>
escaped with a backslash (&acirc;&acirc;).</p>

<p style="margin-top: 1em">:Npattern This is identical to
:M, but selects all words which do not match the rest of the
modifier.</p>

<p style="margin-top: 1em">:O Order every word in the
variable alphabetically.</p>

<p style="margin-top: 1em">:Q Quotes every shell
meta-character in the variable, so that it can be passed
safely through recursive invocations of make.</p>

<p style="margin-top: 1em">:R Replaces each word in the
variable with everything but its suffix.</p>

<p style="margin-top: 1em">:S/old_string/new_string/[g]
<br>
Modify the first occurrence of old_string in each word of
the variable&rsquo;s value, replacing it with new_string. If
a &acirc;g&acirc; is appended to the last slash of the
pattern, <br>
all occurrences in each word are replaced. If old_string
begins with a caret (&acirc;^&acirc;), old_string is
anchored at the beginning of each word. If old_string ends
with a <br>
dollar sign (&acirc;$&acirc;), it is anchored at the end of
each word. Inside new_string, an ampersand
(&acirc;&amp;&acirc;) is replaced by old_string. Any
character may be used as a delimiter <br>
for the parts of the modifier string. The anchoring,
ampersand, and delimiter characters may be escaped with a
backslash (&acirc;&acirc;).</p>

<p style="margin-top: 1em">Variable expansion occurs in the
normal fashion inside both old_string and new_string with
the single exception that a backslash is used to prevent the
expansion of a <br>
dollar sign (&acirc;$&acirc;), not a preceding dollar sign
as is usual.</p>

<p style="margin-top: 1em">:old_string=new_string <br>
This is the AT&amp;T System V UNIX style variable
substitution. It must be the last modifier specified. If
old_string or new_string do not contain the pattern matching
<br>
character % then it is assumed that they are anchored at the
end of each word, so only suffixes or entire words may be
replaced. Otherwise % is the substring of <br>
old_string to be replaced in new_string.</p>

<p style="margin-top: 1em">:T Replaces each word in the
variable with its last component.</p>

<p style="margin-top: 1em">:tl Converts variable to
lower-case letters.</p>

<p style="margin-top: 1em">:tu Converts variable to
upper-case letters.</p>

<p style="margin-top: 1em">:U Converts variable to
upper-case letters. (deprecated)</p>

<p style="margin-top: 1em">:u Remove adjacent duplicate
words (like uniq(1)).</p>

<p style="margin-top: 1em">DIRECTIVES, CONDITIONALS, AND
FOR LOOPS <br>
Directives, conditionals, and for loops reminiscent of the C
programming language are provided in make. All such
structures are identified by a line beginning with a single
dot <br>
(&acirc;.&acirc;) character. The following directives are
supported:</p>

<p style="margin-top: 1em">.include &lt;file&gt;</p>

<p style="margin-top: 1em">.include &quot;file&quot; <br>
Include the specified makefile. Variables between the angle
brackets or double quotes are expanded to form the file
name. If angle brackets are used, the included make&acirc;
<br>
file is expected to be in the system makefile directory. If
double quotes are used, the including makefile&rsquo;s
directory and any directories specified using the -I option
<br>
are searched before the system makefile directory.</p>

<p style="margin-top: 1em">.sinclude &lt;file&gt;</p>

<p style="margin-top: 1em">.sinclude &quot;file&quot; <br>
Like .include, but silently ignored if the file cannot be
found and opened.</p>

<p style="margin-top: 1em">.undef variable <br>
Un-define the specified global variable. Only global
variables may be un-defined.</p>

<p style="margin-top: 1em">.error message <br>
Terminate processing of the makefile immediately. The
filename of the makefile, the line on which the error was
encountered and the specified message are printed to the
<br>
standard error output and make terminates with exit code 1.
Variables in the message are expanded.</p>

<p style="margin-top: 1em">.warning message <br>
Emit a warning message. The filename of the makefile, the
line on which the warning was encountered, and the specified
message are printed to the standard error output. <br>
Variables in the message are expanded.</p>

<p style="margin-top: 1em">Conditionals are used to
determine which parts of the Makefile to process. They are
used similarly to the conditionals supported by the C
pre-processor. The following condition&acirc; <br>
als are supported:</p>

<p style="margin-top: 1em">.if [!]expression [operator
expression ...] <br>
Test the value of an expression.</p>

<p style="margin-top: 1em">.ifdef [!]variable [operator
variable ...] <br>
Test the value of a variable.</p>

<p style="margin-top: 1em">.ifndef [!]variable [operator
variable ...] <br>
Test the value of a variable.</p>

<p style="margin-top: 1em">.ifmake [!]target [operator
target ...] <br>
Test the target being built.</p>

<p style="margin-top: 1em">.ifnmake [!]target [operator
target ...] <br>
Test the target being built.</p>

<p style="margin-top: 1em">.else Reverse the sense of the
last conditional.</p>

<p style="margin-top: 1em">.elif [!]expression [operator
expression ...] <br>
A combination of .else followed by .if.</p>

<p style="margin-top: 1em">.elifdef [!]variable [operator
variable ...] <br>
A combination of .else followed by .ifdef.</p>

<p style="margin-top: 1em">.elifndef [!]variable [operator
variable ...] <br>
A combination of .else followed by .ifndef.</p>

<p style="margin-top: 1em">.elifmake [!]target [operator
target ...] <br>
A combination of .else followed by .ifmake.</p>

<p style="margin-top: 1em">.elifnmake [!]target [operator
target ...] <br>
A combination of .else followed by .ifnmake.</p>

<p style="margin-top: 1em">.endif End the body of the
conditional.</p>

<p style="margin-top: 1em">The operator may be any one of
the following:</p>

<p style="margin-top: 1em">|| Logical OR</p>

<p style="margin-top: 1em">&amp;&amp; Logical AND; of
higher precedence than &acirc;||&acirc;.</p>

<p style="margin-top: 1em">As in C, make will only evaluate
a conditional as far as is necessary to determine its value.
Parentheses may be used to change the order of evaluation.
The boolean operator &acirc;!&acirc; <br>
may be used to logically negate an entire conditional. It is
of higher precedence than &acirc;&amp;&amp;&acirc;.</p>

<p style="margin-top: 1em">The value of expression may be
any of the following:</p>

<p style="margin-top: 1em">defined Takes a variable name as
an argument and evaluates to true if the variable has been
defined.</p>

<p style="margin-top: 1em">make Takes a target name as an
argument and evaluates to true if the target was specified
as part of make&rsquo;s command line or was declared the
default target (either implic&acirc; <br>
itly or explicitly, see .MAIN) before the line containing
the conditional.</p>

<p style="margin-top: 1em">empty Takes a variable, with
possible modifiers, and evaluates to true if the expansion
of the variable would result in an empty string.</p>

<p style="margin-top: 1em">exists Takes a file name as an
argument and evaluates to true if the file exists. The file
is searched for on the system search path (see .PATH).</p>

<p style="margin-top: 1em">target Takes a target name as an
argument and evaluates to true if the target has been
defined.</p>

<p style="margin-top: 1em">An expression may also be a
numeric or string comparison: in this case, the left-hand
side must be a variable expansion, whereas the right-hand
side can be a constant or a variable <br>
expansion. Variable expansion is performed on both sides,
after which the resulting values are compared. A value is
interpreted as hexadecimal if it is preceded by 0x,
otherwise <br>
it is decimal; octal numbers are not supported.</p>

<p style="margin-top: 1em">String comparison can only use
the &acirc;==&acirc; or &acirc;!=&acirc; operators, whereas
numeric values (both integer and floating point) can also be
compared using the &acirc;&gt;&acirc;, &acirc;&gt;=&acirc;,
&acirc;&lt;&acirc; and &acirc;&lt;=&acirc; opera&acirc; <br>
tors.</p>

<p style="margin-top: 1em">If no relational operator (and
right-hand value) are given, an implicit &acirc;!= 0&acirc;
is used. However be very careful in using this feature
especially when the left-hand side variable <br>
expansion returns a string.</p>

<p style="margin-top: 1em">When make is evaluating one of
these conditional expressions, and it encounters a word it
does not recognize, either the &acirc;make&acirc; or
&acirc;defined&acirc; expression is applied to it, depending
<br>
on the form of the conditional. If the form is .if, .ifdef
or .ifndef, the &acirc;defined&acirc; expression is applied.
Similarly, if the form is .ifmake or .ifnmake, the
&acirc;make&acirc; expression <br>
is applied.</p>

<p style="margin-top: 1em">If the conditional evaluates to
true the parsing of the makefile continues as before. If it
evaluates to false, the following lines are skipped. In both
cases this continues <br>
until a .else or .endif is found.</p>

<p style="margin-top: 1em">For loops are typically used to
apply a set of rules to a list of files. The syntax of a for
loop is:</p>

<p style="margin-top: 1em">.for variable in expression <br>
&lt;make-rules&gt; <br>
.endfor</p>

<p style="margin-top: 1em">After the for expression is
evaluated, it is split into words. The iteration variable is
successively set to each word, and substituted in the
make-rules inside the body of the <br>
for loop.</p>

<p style="margin-top: 1em">COMMENTS <br>
Comments begin with a hash (&acirc;#&acirc;) character,
anywhere but in a shell command line, and continue to the
end of the line.</p>

<p style="margin-top: 1em">SPECIAL SOURCES <br>
.IGNORE Ignore any errors from the commands associated with
this target, exactly as if they all were preceded by a dash
(&acirc;-&acirc;).</p>

<p style="margin-top: 1em">.MAKE Execute the commands
associated with this target even if the -n or -t options
were specified. Normally used to mark recursive
make&rsquo;s.</p>

<p style="margin-top: 1em">.NOTMAIN Normally make selects
the first target it encounters as the default target to be
built if no target was specified. This source prevents this
target from being <br>
selected.</p>

<p style="margin-top: 1em">.OPTIONAL If a target is marked
with this attribute and make cannot figure out how to create
it, it will ignore this fact and assume the file is not
needed or already exists.</p>

<p style="margin-top: 1em">.PRECIOUS When make is
interrupted, it removes any partially made targets. This
source prevents the target from being removed.</p>

<p style="margin-top: 1em">.SILENT Do not echo any of the
commands associated with this target, exactly as if they all
were preceded by an at sign (&acirc;@&acirc;).</p>

<p style="margin-top: 1em">.USE Turn the target into
make&rsquo;s version of a macro. When the target is used as
a source for another target, the other target acquires the
commands, sources, and attributes <br>
(except for .USE) of the source. If the target already has
commands, the .USE target&rsquo;s commands are appended to
them.</p>

<p style="margin-top: 1em">.WAIT If special .WAIT source
appears in a dependency line, the sources that precede it
are made before the sources that succeed it in the line.
Loops are not being detected <br>
and targets that form loops will be silently ignored.</p>

<p style="margin-top: 1em">SPECIAL TARGETS <br>
Special targets may not be included with other targets,
i.e., they must be the only target specified.</p>

<p style="margin-top: 1em">.BEGIN Any command lines
attached to this target are executed before anything else is
done.</p>

<p style="margin-top: 1em">.DEFAULT This is sort of a .USE
rule for any target (that was used only as a source) that
make cannot figure out any other way to create. Only the
shell script is used. The <br>
.IMPSRC variable of a target that inherits .DEFAULT&rsquo;s
commands is set to the target&rsquo;s own name.</p>

<p style="margin-top: 1em">.END Any command lines attached
to this target are executed after everything else is
done.</p>

<p style="margin-top: 1em">.IGNORE Mark each of the sources
with the .IGNORE attribute. If no sources are specified,
this is the equivalent of specifying the -i option.</p>

<p style="margin-top: 1em">.INCLUDES A list of suffixes
that indicate files that can be included in a source file.
The suffix must have already been declared with .SUFFIXES;
any suffix so declared will <br>
have the directories on its search path (see .PATH) placed
in the .INCLUDES special variable, each preceded by a -I
flag.</p>

<p style="margin-top: 1em">.INTERRUPT If make is
interrupted, the commands for this target will be
executed.</p>

<p style="margin-top: 1em">.LIBS This does for libraries
what .INCLUDES does for include files, except that the flag
used is -L.</p>

<p style="margin-top: 1em">.MAIN If no target is specified
when make is invoked, this target will be built. This is
always set, either explicitly, or implicitly when make
selects the default target, <br>
to give the user a way to refer to the default target on the
command line.</p>

<p style="margin-top: 1em">.MAKEFILEDEPS <br>
Enable the &acirc;Remaking Makefiles&acirc; functionality,
as explained in the REMAKING MAKEFILES section below.</p>

<p style="margin-top: 1em">.MAKEFLAGS This target provides
a way to specify flags for make when the makefile is used.
The flags are as if typed to the shell, though the -f option
will have no effect. <br>
Flags (except for -f) and variable assignments specified as
the source for this target are also appended to the
.MAKEFLAGS internal variable. Please note the differ&acirc;
<br>
ence between this target and the .MAKEFLAGS internal
variable: specifying an option or variable assignment as the
source for this target will affect both the current <br>
makefile and all processes that make executes.</p>

<p style="margin-top: 1em">.MFLAGS Same as above, for
backward compatibility.</p>

<p style="margin-top: 1em">.NOTPARALLEL <br>
Disable parallel mode.</p>

<p style="margin-top: 1em">.NO_PARALLEL <br>
Same as above, for compatibility with other pmake
variants.</p>

<p style="margin-top: 1em">.ORDER The named targets are
made in sequence.</p>

<p style="margin-top: 1em">.PATH The sources are
directories which are to be searched for files not found in
the current directory. If no sources are specified, any
previously specified directories <br>
are deleted. Where possible, use of .PATH is preferred over
use of the VPATH variable.</p>

<p style="margin-top: 1em">.PATHsuffix <br>
The sources are directories which are to be searched for
suffixed files not found in the current directory. The make
utility first searches the suffixed search path, <br>
before reverting to the default path if the file is not
found there. This form is required for .LIBS and .INCLUDES
to work.</p>

<p style="margin-top: 1em">.PHONY Apply the .PHONY
attribute to any specified sources. Targets with this
attribute are always considered to be out of date.</p>

<p style="margin-top: 1em">.POSIX Adjust make&rsquo;s
behavior to match the applicable POSIX specifications. (Note
this disables the &acirc;Remaking Makefiles&acirc;
feature.)</p>

<p style="margin-top: 1em">.PRECIOUS Apply the .PRECIOUS
attribute to any specified sources. If no sources are
specified, the .PRECIOUS attribute is applied to every
target in the file.</p>

<p style="margin-top: 1em">.SHELL Select another shell. The
sources of this target have the format key=value. The key is
one of:</p>

<p style="margin-top: 1em">path Specify the path to the new
shell.</p>

<p style="margin-top: 1em">name Specify the name of the new
shell. This may be either one of the three builtin shells
(see below) or any other name.</p>

<p style="margin-top: 1em">quiet Specify the shell command
to turn echoing off.</p>

<p style="margin-top: 1em">echo Specify the shell command
to turn echoing on.</p>

<p style="margin-top: 1em">filter Usually shells print the
echo off command before turning echoing off. This is the
exact string that will be printed by the shell and is used
to filter the <br>
shell output to remove the echo off command.</p>

<p style="margin-top: 1em">echoFlag The shell option that
turns echoing on.</p>

<p style="margin-top: 1em">errFlag The shell option to turn
on error checking. If error checking is on, the shell should
exit if a command returns a non-zero status.</p>

<p style="margin-top: 1em">hasErrCtl True if the shell has
error control.</p>

<p style="margin-top: 1em">check If hasErrCtl is true then
this is the shell command to turn error checking on. If
hasErrCtl is false then this is a command template to echo
commands for <br>
which error checking is disabled. The template must contain
a &acirc;%s&acirc;.</p>

<p style="margin-top: 1em">ignore If hasErrCtl is true,
this is the shell command to turn error checking off. If
hasErrCtl is false, this is a command template to execute a
command so that <br>
errors are ignored. The template must contain a
&acirc;%s&acirc;.</p>

<p style="margin-top: 1em">meta This is a string of meta
characters of the shell.</p>

<p style="margin-top: 1em">builtins This is a string
holding all the shell&rsquo;s builtin commands separated by
blanks. The meta and builtins strings are used in compat
mode. When a command line <br>
contains neither a meta character nor starts with a shell
builtin, it is executed directly without invoking a shell.
When one of these strings (or both) is <br>
empty all commands are executed through a shell.</p>

<p style="margin-top: 1em">unsetenv If true, remove the ENV
environment variable before executing any command. This is
useful for the Korn-shell (ksh).</p>

<p style="margin-top: 1em">Values that are strings must be
surrounded by double quotes. Boolean values are specified as
&acirc;T&acirc; or &acirc;Y&acirc; (in either case) to mean
true. Any other value is taken to <br>
mean false.</p>

<p style="margin-top: 1em">There are several uses of the
.SHELL target:</p>

<p style="margin-top: 1em">&Acirc;&middot; Selecting one of
the builtin shells. This is done by just specifying the name
of the shell with the name keyword. It is also possible to
modify the parameters of <br>
the builtin shell by just specifying other keywords (except
for path).</p>

<p style="margin-top: 1em">&Acirc;&middot; Using another
executable for one of the builtin shells. This is done by
specifying the path to the executable with the path keyword.
If the last component is the <br>
same as the name of the builtin shell, no name needs to be
specified; if it is different, the name must be given:</p>

<p style="margin-top: 1em">.SHELL:
path=&quot;/usr/local/bin/sh&quot;</p>

<p style="margin-top: 1em">selects the builtin shell
&acirc;sh&acirc; but will execute it from /usr/local/bin/sh.
Like in the previous case, it is possible to modify
parameters of the builtin shell by <br>
just specifying them.</p>

<p style="margin-top: 1em">&Acirc;&middot; Using an
entirely different shell. This is done by specifying all
keywords.</p>

<p style="margin-top: 1em">The builtin shells are
&acirc;sh&acirc;, &acirc;csh&acirc; and &acirc;ksh&acirc;.
Because FreeBSD has no ksh in /bin, it is unwise to specify
name=&quot;ksh&quot; without also specifying a path.</p>

<p style="margin-top: 1em">.SILENT Apply the .SILENT
attribute to any specified sources. If no sources are
specified, the .SILENT attribute is applied to every command
in the file.</p>

<p style="margin-top: 1em">.SUFFIXES Each source specifies
a suffix to make. If no sources are specified, any previous
specified suffixes are deleted.</p>

<p style="margin-top: 1em">.WARN Each source specifies a
warning flag as previously described for the -x command line
option. Warning flags specified on the command line take
precedence over flags <br>
specified in the makefile. Also, command line warning flags
are pushed to sub-makes through the MAKEFLAGS environment
variables so that a warning flag specified on the <br>
command line will influence all sub-makes. Several flags can
be specified on a single .WARN target by separating them
with blanks.</p>

<p style="margin-top: 1em">REMAKING MAKEFILES <br>
If the special target .MAKEFILEDEPS exists in the Makefile,
make enables the &acirc;Remaking Makefiles&acirc; feature.
After reading Makefile and all the files that are included
using <br>
.include or .sinclude directives (source Makefiles) make
considers each source Makefile as a target and tries to
rebuild it. Both explicit and implicit rules are checked and
all <br>
source Makefiles are updated if necessary. If any of the
source Makefiles were rebuilt, make restarts from clean
state.</p>

<p style="margin-top: 1em">To prevent infinite loops the
following source Makefile targets are ignored:</p>

<p style="margin-top: 1em">&Acirc;&middot; :: targets that
have no prerequisites</p>

<p style="margin-top: 1em">&Acirc;&middot; ! targets</p>

<p style="margin-top: 1em">&Acirc;&middot; targets that
have .PHONY or .EXEC attributes</p>

<p style="margin-top: 1em">&Acirc;&middot; targets without
prerequisites and without commands</p>

<p style="margin-top: 1em">When remaking a source Makefile
options -t (touch target), -q (query mode), and -n (no exec)
do not take effect, unless source Makefile is specified
explicitly as a target in make <br>
command line.</p>

<p style="margin-top: 1em">Additionally, system makefiles
and .depend are not considered as Makefiles that can be
rebuilt.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The make utility uses the following environment variables,
if they exist: MACHINE, MAKE, MAKEFLAGS, MAKEOBJDIR,
MAKEOBJDIRPREFIX, and MAKESYSPATH.</p>

<p style="margin-top: 1em">FILES <br>
.depend list of dependencies <br>
Makefile list of dependencies <br>
makefile list of dependencies <br>
obj object directory <br>
sys.mk system makefile <br>
/usr/share/mk-freebsd default system makefile directory <br>
/usr/share/doc/psd/12.make PMake tutorial <br>
/usr/obj default MAKEOBJDIRPREFIX directory. <br>
/etc/make.conf default path to make.conf(5)</p>

<p style="margin-top: 1em">EXAMPLES <br>
List all included makefiles in order visited:</p>

<p style="margin-top: 1em">make -V .MAKEFILE_LIST | tr
&nbsp; \n</p>

<p style="margin-top: 1em">COMPATIBILITY <br>
Older versions of make used MAKE instead of MAKEFLAGS. This
was removed for POSIX compatibility. The internal variable
MAKE is set to the same value as .MAKE; support for this
<br>
may be removed in the future.</p>

<p style="margin-top: 1em">The use of the :L and :U
modifiers are deprecated in FreeBSD 10.0 and the more
portable (among Pmake decedents) :tl and :tu should be used
instead.</p>

<p style="margin-top: 1em">Most of the more esoteric
features of make should probably be avoided for greater
compatibility.</p>

<p style="margin-top: 1em">SEE ALSO <br>
mkdep(1), make.conf(5)</p>

<p style="margin-top: 1em">PMake - A Tutorial. in
/usr/share/doc/psd/12.make</p>

<p style="margin-top: 1em">HISTORY <br>
A make command appeared in PWB UNIX.</p>

<p style="margin-top: 1em">BUGS <br>
The determination of .OBJDIR is contorted to the point of
absurdity.</p>

<p style="margin-top: 1em">In the presence of several .MAIN
special targets, make silently ignores all but the
first.</p>

<p style="margin-top: 1em">.TARGETS is not set to the
default target when make is invoked without a target name
and no .MAIN special target exists.</p>

<p style="margin-top: 1em">The evaluation of expression in
a test is very simple-minded. Currently, the only form that
works is &acirc;.if ${VAR} op something&acirc;. For
instance, you should write tests as &acirc;.if <br>
${VAR} == string&acirc; not the other way around, which
would give you an error.</p>

<p style="margin-top: 1em">For loops are expanded before
tests, so a fragment such as:</p>

<p style="margin-top: 1em">.for ARCH in ${SHARED_ARCHS}
<br>
.if ${ARCH} == ${MACHINE} <br>
... <br>
.endif <br>
.endfor</p>

<p style="margin-top: 1em">will not work, and should be
rewritten as:</p>

<p style="margin-top: 1em">.for ARCH in ${SHARED_ARCHS}
<br>
.if ${MACHINE} == ${ARCH} <br>
... <br>
.endif <br>
.endfor</p>

<p style="margin-top: 1em">The parsing code is broken with
respect to handling a semicolon after a colon, so a fragment
like this will fail:</p>

<p style="margin-top: 1em">HDRS= foo.h bar.h</p>

<p style="margin-top: 1em">all: <br>
.for h in ${HDRS:S;^;${.CURDIR}/;} <br>
... <br>
.endfor</p>

<p style="margin-top: 1em">A trailing backslash in a
variable value defined on the command line causes the
delimiting space in the MAKEFLAGS environment variable to be
preceded by that backslash. That <br>
causes a submake to not treat that space as a word
delimiter. Fixing this requires a larger rewrite of the code
handling command line macros and assignments to
.MAKEFLAGS.</p>

<p style="margin-top: 1em">BSD May 30, 2012 BSD</p>
<hr>
</body>
</html>
