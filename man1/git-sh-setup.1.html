<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:13:40 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GIT-SH-SETUP(1) Git Manual GIT-SH-SETUP(1)</p>

<p style="margin-top: 1em">NAME <br>
git-sh-setup - Common Git shell script setup code</p>

<p style="margin-top: 1em">SYNOPSIS <br>
. &quot;$(git --exec-path)/git-sh-setup&quot;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This is not a command the end user would want to run. Ever.
This documentation is meant for people who are studying the
Porcelain-ish scripts and/or are writing new ones.</p>

<p style="margin-top: 1em">The git sh-setup scriptlet is
designed to be sourced (using .) by other shell scripts to
set up some variables pointing at the normal Git directories
and a few helper shell <br>
functions.</p>

<p style="margin-top: 1em">Before sourcing it, your script
should set up a few variables; USAGE (and LONG_USAGE, if
any) is used to define message given by usage() shell
function. SUBDIRECTORY_OK can be <br>
set if the script can run from a subdirectory of the working
tree (some commands do not).</p>

<p style="margin-top: 1em">The scriptlet sets GIT_DIR and
GIT_OBJECT_DIRECTORY shell variables, but does not export
them to the environment.</p>

<p style="margin-top: 1em">FUNCTIONS <br>
die <br>
exit after emitting the supplied error message to the
standard error stream.</p>

<p style="margin-top: 1em">usage <br>
die with the usage message.</p>

<p style="margin-top: 1em">set_reflog_action <br>
set the message that will be recorded to describe the
end-user action in the reflog, when the script updates a
ref.</p>

<p style="margin-top: 1em">git_editor <br>
runs an editor of user&acirc;s choice (GIT_EDITOR,
core.editor, VISUAL or EDITOR) on a given file, but error
out if no editor is specified and the terminal is dumb.</p>

<p style="margin-top: 1em">is_bare_repository <br>
outputs true or false to the standard output stream to
indicate if the repository is a bare repository (i.e.
without an associated working tree).</p>

<p style="margin-top: 1em">cd_to_toplevel <br>
runs chdir to the toplevel of the working tree.</p>

<p style="margin-top: 1em">require_work_tree <br>
checks if the current directory is within the working tree
of the repository, and otherwise dies.</p>

<p style="margin-top: 1em">require_work_tree_exists <br>
checks if the working tree associated with the repository
exists, and otherwise dies. Often done before calling
cd_to_toplevel, which is impossible to do if there is no
<br>
working tree.</p>

<p style="margin-top: 1em">require_clean_work_tree
&lt;action&gt; [&lt;hint&gt;] <br>
checks that the working tree and index associated with the
repository have no uncommitted changes to tracked files.
Otherwise it emits an error message of the form Cannot <br>
&lt;action&gt;: &lt;reason&gt;. &lt;hint&gt;, and dies.
Example:</p>

<p style="margin-top: 1em">require_clean_work_tree rebase
&quot;Please commit or stash them.&quot;</p>

<p style="margin-top: 1em">get_author_ident_from_commit
<br>
outputs code for use with eval to set the GIT_AUTHOR_NAME,
GIT_AUTHOR_EMAIL and GIT_AUTHOR_DATE variables for a given
commit.</p>

<p style="margin-top: 1em">create_virtual_base <br>
modifies the first file so only lines in common with the
second file remain. If there is insufficient common
material, then the first file is left empty. The result is
<br>
suitable as a virtual base input for a 3-way merge.</p>

<p style="margin-top: 1em">GIT <br>
Part of the git(1) suite</p>

<p style="margin-top: 1em">Git 1.8.3.1 03/23/2016
GIT-SH-SETUP(1)</p>
<hr>
</body>
</html>
