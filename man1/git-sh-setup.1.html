<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GIT-SH-SETUP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GIT-SH-SETUP(1)</td>
    <td class="head-vol">Git Manual</td>
    <td class="head-rtitle">GIT-SH-SETUP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
git-sh-setup - Common Git shell script setup code
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>. &quot;$(git --exec-path)/git-sh-setup&quot;</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This is not a command the end user would want to run. Ever. This documentation
  is meant for people who are studying the Porcelain-ish scripts and/or are
  writing new ones.
<div style="height: 1.00em;">&#x00A0;</div>
The <i>git sh-setup</i> scriptlet is designed to be sourced (using .) by other
  shell scripts to set up some variables pointing at the normal Git directories
  and a few helper shell functions.
<div style="height: 1.00em;">&#x00A0;</div>
Before sourcing it, your script should set up a few variables; USAGE (and
  LONG_USAGE, if any) is used to define message given by usage() shell function.
  SUBDIRECTORY_OK can be set if the script can run from a subdirectory of the
  working tree (some commands do not).
<div style="height: 1.00em;">&#x00A0;</div>
The scriptlet sets GIT_DIR and GIT_OBJECT_DIRECTORY shell variables, but does
  <b>not</b> export them to the environment.
<h1 class="Sh" title="Sh" id="FUNCTIONS"><a class="selflink" href="#FUNCTIONS">FUNCTIONS</a></h1>
die
<div style="margin-left: 4.00ex;">exit after emitting the supplied error message
  to the standard error stream.</div>
<div class="Pp"></div>
usage
<div style="margin-left: 4.00ex;">die with the usage message.</div>
<div class="Pp"></div>
set_reflog_action
<div style="margin-left: 4.00ex;">set the message that will be recorded to
  describe the end-user action in the reflog, when the script updates a
  ref.</div>
<div class="Pp"></div>
git_editor
<div style="margin-left: 4.00ex;">runs an editor of user&#x2019;s choice
  (GIT_EDITOR, core.editor, VISUAL or EDITOR) on a given file, but error out if
  no editor is specified and the terminal is dumb.</div>
<div class="Pp"></div>
is_bare_repository
<div style="margin-left: 4.00ex;">outputs true or false to the standard output
  stream to indicate if the repository is a bare repository (i.e. without an
  associated working tree).</div>
<div class="Pp"></div>
cd_to_toplevel
<div style="margin-left: 4.00ex;">runs chdir to the toplevel of the working
  tree.</div>
<div class="Pp"></div>
require_work_tree
<div style="margin-left: 4.00ex;">checks if the current directory is within the
  working tree of the repository, and otherwise dies.</div>
<div class="Pp"></div>
require_work_tree_exists
<div style="margin-left: 4.00ex;">checks if the working tree associated with the
  repository exists, and otherwise dies. Often done before calling
  cd_to_toplevel, which is impossible to do if there is no working tree.</div>
<div class="Pp"></div>
require_clean_work_tree &lt;action&gt; [&lt;hint&gt;]
<div style="margin-left: 4.00ex;">checks that the working tree and index
  associated with the repository have no uncommitted changes to tracked files.
  Otherwise it emits an error message of the form Cannot &lt;action&gt;:
  &lt;reason&gt;. &lt;hint&gt;, and dies. Example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
require_clean_work_tree rebase &quot;Please commit or stash them.&quot;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div class="Pp"></div>
get_author_ident_from_commit
<div style="margin-left: 4.00ex;">outputs code for use with eval to set the
  GIT_AUTHOR_NAME, GIT_AUTHOR_EMAIL and GIT_AUTHOR_DATE variables for a given
  commit.</div>
<div class="Pp"></div>
create_virtual_base
<div style="margin-left: 4.00ex;">modifies the first file so only lines in
  common with the second file remain. If there is insufficient common material,
  then the first file is left empty. The result is suitable as a virtual base
  input for a 3-way merge.</div>
<h1 class="Sh" title="Sh" id="GIT"><a class="selflink" href="#GIT">GIT</a></h1>
Part of the <b>git</b>(1) suite</div>
<table class="foot">
  <tr>
    <td class="foot-date">03/23/2016</td>
    <td class="foot-os">Git 1.8.3.1</td>
  </tr>
</table>
</body>
</html>
