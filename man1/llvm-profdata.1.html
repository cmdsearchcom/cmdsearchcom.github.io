<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LLVM-PROFDATA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LLVM-PROFDATA(1)</td>
    <td class="head-vol">LLVM</td>
    <td class="head-rtitle">LLVM-PROFDATA(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
llvm-profdata - Profile data tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>llvm-profdata</b> <i>command</i> [<i>args...</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>llvm-profdata</b> tool is a small utility for working with profile data
  files.
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>merge</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>show</i></dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="MERGE"><a class="selflink" href="#MERGE">MERGE</a></h1>
<h2 class="Ss" title="Ss" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h2>
<b>llvm-profdata merge</b> [<i>options</i>] [<i>filename...</i>]
<h2 class="Ss" title="Ss" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h2>
<b>llvm-profdata merge</b> takes several profile data files generated by PGO
  instrumentation and merges them together into a single indexed profile data
  file.
<div style="height: 1.00em;">&#x00A0;</div>
By default profile data is merged without modification. This means that the
  relative importance of each input file is proportional to the number of
  samples or counts it contains. In general, the input from a longer training
  run will be interpreted as relatively more important than a shorter run.
  Depending on the nature of the training runs it may be useful to adjust the
  weight given to each input file by using the <b>-weighted-input</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
Profiles passed in via <b>-weighted-input</b>, <b>-input-files</b>, or via
  positional arguments are processed once for each time they are seen.
<h2 class="Ss" title="Ss" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Print a summary of command line options.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-output=output, -o=output</b></dt>
  <dd class="It-tag">Specify the output file name. <i>Output</i> cannot be
      <b>-</b> as the resulting indexed profile data can't be written to
      standard output.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-weighted-input=weight,filename</b></dt>
  <dd class="It-tag">Specify an input file name along with a weight. The profile
      counts of the supplied <b>filename</b> will be scaled (multiplied) by the
      supplied <b>weight</b>, where where <b>weight</b> is a decimal integer
      &gt;= 1. Input files specified without using this option are assigned a
      default weight of 1. Examples are shown below.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-input-files=path, -f=path</b></dt>
  <dd class="It-tag">Specify a file which contains a list of files to merge. The
      entries in this file are newline-separated. Lines starting with '#' are
      skipped. Entries may be of the form &lt;filename&gt; or
      &lt;weight&gt;,&lt;filename&gt;.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-instr (default)</b></dt>
  <dd class="It-tag">Specify that the input profile is an instrumentation-based
      profile.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sample</b></dt>
  <dd class="It-tag">Specify that the input profile is a sample-based profile.
    <div style="height: 1.00em;">&#x00A0;</div>
    The format of the generated file can be generated in one of three ways:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-binary (default)</b></dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Emit the profile using a binary encoding. For instrumentation-based profile the
  output format is the indexed binary format.
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-text</b></dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Emit the profile in text mode. This option can also be used with both
  sample-based and instrumentation-based profile. When this option is used the
  profile will be dumped in the text format that is parsable by the profile
  reader.
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-gcc</b></dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Emit the profile using GCC's gcov format (Not yet supported).</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sparse[=true|false]</b></dt>
  <dd class="It-tag">Do not emit function records with 0 execution count. Can
      only be used in conjunction with -instr. Defaults to false, since it can
      inhibit compiler optimization during PGO.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-num-threads=N, -j=N</b></dt>
  <dd class="It-tag">Use N threads to perform profile merging. When N=0,
      llvm-profdata auto-detects an appropriate number of threads to use. This
      is the default.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h2>
<h2 class="Ss" title="Ss" id="Basic_Usage"><a class="selflink" href="#Basic_Usage">Basic
  Usage</a></h2>
Merge three profiles:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
llvm-profdata merge foo.profdata bar.profdata baz.profdata -output merged.profdata
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Weighted_Input"><a class="selflink" href="#Weighted_Input">Weighted
  Input</a></h2>
The input file <i>foo.profdata</i> is especially important, multiply its counts
  by 10:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
llvm-profdata merge -weighted-input=10,foo.profdata bar.profdata baz.profdata -output merged.profdata
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Exactly equivalent to the previous invocation (explicit form; useful for
  programmatic invocation):
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
llvm-profdata merge -weighted-input=10,foo.profdata -weighted-input=1,bar.profdata -weighted-input=1,baz.profdata -output merged.profdata
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SHOW"><a class="selflink" href="#SHOW">SHOW</a></h1>
<h2 class="Ss" title="Ss" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h2>
<b>llvm-profdata show</b> [<i>options</i>] [<i>filename</i>]
<h2 class="Ss" title="Ss" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h2>
<b>llvm-profdata show</b> takes a profile data file and displays the information
  about the profile counters for this file and for any of the specified
  function(s).
<div style="height: 1.00em;">&#x00A0;</div>
If <i>filename</i> is omitted or is <b>-</b>, then <b>llvm-profdata show</b>
  reads its input from standard input.
<h2 class="Ss" title="Ss" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-all-functions</b></dt>
  <dd class="It-tag">Print details for every function.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-counts</b></dt>
  <dd class="It-tag">Print the counter values for the displayed functions.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-function=string</b></dt>
  <dd class="It-tag">Print details for a function if the function's name
      contains the given string.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Print a summary of command line options.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-output=output, -o=output</b></dt>
  <dd class="It-tag">Specify the output file name. If <i>output</i> is <b>-</b>
      or it isn't specified, then the output is sent to standard output.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-instr (default)</b></dt>
  <dd class="It-tag">Specify that the input profile is an instrumentation-based
      profile.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-text</b></dt>
  <dd class="It-tag">Instruct the profile dumper to show profile counts in the
      text format of the instrumentation-based profile data representation. By
      default, the profile information is dumped in a more human readable form
      (also in text) with annotations.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sample</b></dt>
  <dd class="It-tag">Specify that the input profile is a sample-based
    profile.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b>llvm-profdata</b> returns 1 if the command is omitted or is invalid, if it
  cannot read input files, or if there is a mismatch between their data.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Maintained by The LLVM Team (http://llvm.org/).
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2003-2017, LLVM Project</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-05-10</td>
    <td class="foot-os">4</td>
  </tr>
</table>
</body>
</html>
