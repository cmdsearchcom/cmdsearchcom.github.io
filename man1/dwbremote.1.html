<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DWBREMOTE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DWBREMOTE(1)</td>
    <td class="head-vol">&#x00A0;</td>
    <td class="head-rtitle">DWBREMOTE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dwbremote - dwb remote control
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dwbremote</b> [<i>OPTION</i>] &lt;command&gt; &lt;arguments&gt;
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dwbremote</b> allows one to control dwb from command line. It communicates
  with dwb instances by setting its XProperties. Return values will be printed
  to stdout. To use dwbremote <i>enable-ipc</i> must be enabled in the dwb
  instance to communicate with.
<div style="height: 1.00em;">&#x00A0;</div>
<b>dwbremote</b> tries to find windows depending on the options passed, if no
  options are used or no windows were found it will use the environment variable
  <b>DWB_WINID</b>, if it is not set it will use the last dwb window that had
  focus. In userscripts executed by dwb the environment variable
  <b>DWB_WINID</b> will always be set and will point to the window that executed
  the script. Passing more than one option sends the command to all matching
  windows.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-a --all</b>
<div style="margin-left: 4.00ex;">Sends a command to all windows.</div>
<div class="Pp"></div>
<b>-c --class</b> <i>wm_class</i>
<div style="margin-left: 4.00ex;">Search for window id by WM_CLASS.</div>
<div class="Pp"></div>
<b>-i --id</b> <i>window_id</i>
<div style="margin-left: 4.00ex;">Send comands to window with id
  <i>window_id</i>, window ids in hexadecimal format must start with 0x.</div>
<div class="Pp"></div>
<b>-l --list</b>
<div style="margin-left: 4.00ex;">List all dwb window ids with enabled
  ipc.</div>
<div class="Pp"></div>
<b>-n --name</b> <i>wm_name</i>
<div style="margin-left: 4.00ex;">Search for window id by WM_NAME.</div>
<div class="Pp"></div>
<b>-p --pid</b> <i>pid</i>
<div style="margin-left: 4.00ex;">Search for window id by process id
  <i>pid</i>.</div>
<div class="Pp"></div>
<b>-s --show-id</b>
<div style="margin-left: 4.00ex;">Print the window id in every response, the
  window id will be prepended to the response.</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<b>add_hooks</b> [<i>hook</i> ...]
<div style="margin-left: 4.00ex;">Adds a list of hooks without actually
  connecting to the hook, see <i>hook</i> for a list of hooks and
  <i>clear_hooks</i>.</div>
<div class="Pp"></div>
<b>bind</b> <i>command:shortcut</i> [<i>command:shortcut</i> ...]
<div style="margin-left: 4.00ex;">Bind a shorcut or command, to bind only a
  commandline command without binding a shortcut <i>command:none</i> must be
  used, to bind only a shortcut without binding a commandline command
  <i>none:shortcut</i>.</div>
<div class="Pp"></div>
<b>clear_hooks</b> [<i>hook</i> ...]
<div style="margin-left: 4.00ex;">Removes a list of hooks so the will no longer
  be emitted. To re-enable hooks <i>add_hooks</i> can be sent. For a list of
  hooks see <i>hook</i>.</div>
<div class="Pp"></div>
<b>confirm</b> [<i>prompt message</i>]
<div style="margin-left: 4.00ex;">Shows a confirmation prompt. Returns
  <i>true</i> if <i>y</i> was pressed and false if <i>n</i> or <i>Escape</i> was
  pressed.</div>
<div class="Pp"></div>
<b>execute</b> <i>command</i>
<div style="margin-left: 4.00ex;">Executes a command, the command is parsed the
  same way as if executed from commandline. A shorthand for execute is
  prepending <i>:</i> to the command, i.e. <i>dwbremote execute scroll_down</i>
  is equivalent to <i>dwbremote :scroll_down</i></div>
<div class="Pp"></div>
<b>get</b> <i>argument</i>
<div style="margin-left: 4.00ex;">Gets miscellaneous properties
<div class="Pp"></div>
<b>Arguments</b>
<div style="margin-left: 4.00ex;">
<div class="Pp"></div>
<b>all_domains</b>
<div style="margin-left: 4.00ex;">Gets newline separated list of all
  domains.</div>
<div class="Pp"></div>
<b>all_hosts</b>
<div style="margin-left: 4.00ex;">Gets newline separated list of all
  hosts.</div>
<div class="Pp"></div>
<b>all_titles</b>
<div style="margin-left: 4.00ex;">Gets newline separated list of all
  titles.</div>
<div class="Pp"></div>
<b>all_uris</b>
<div style="margin-left: 4.00ex;">Gets newline separated list of all uris.</div>
<div class="Pp"></div>
<b>current_tab</b>
<div style="margin-left: 4.00ex;">Gets number of the current tab, starting at
  1.</div>
<div class="Pp"></div>
<b>[n] domain</b>
<div style="margin-left: 4.00ex;">Gets the effective top level domain of the nth
  tab or current tab is n is omitted, e.g. for www.example.co.uk it will return
  example.co.uk.</div>
<div class="Pp"></div>
<b>[n] history</b>
<div style="margin-left: 4.00ex;">Gets the newline separated history list of the
  nth tab or current tab if n is omitted. The first field is the history number,
  negative values indicate back history items, positive numbers indicate forward
  history items, 0 indicates the current uri.</div>
<div class="Pp"></div>
<b>[n] host</b>
<div style="margin-left: 4.00ex;">Gets the host of the nth tab or current tab is
  n is omitted.</div>
<div class="Pp"></div>
<b>ntabs</b>
<div style="margin-left: 4.00ex;">Gets total number of tabs.</div>
<div class="Pp"></div>
<b>profile</b>
<div style="margin-left: 4.00ex;">Gets the profile name.</div>
<div class="Pp"></div>
<b>session</b>
<div style="margin-left: 4.00ex;">Gets the name of the session.</div>
<div class="Pp"></div>
<b>setting &lt;name&gt;</b>
<div style="margin-left: 4.00ex;">Gets a setting, only the current local
  settings from the instance are received so they might differ from the settings
  in $HOME/.config/dwb/settings, e.g. if they were changed with local_set.</div>
<div class="Pp"></div>
<b>[n] title</b>
<div style="margin-left: 4.00ex;">Gets the title of the nth tab or current tab
  is n is omitted.</div>
<div class="Pp"></div>
<b>[n] uri</b>
<div style="margin-left: 4.00ex;">Gets the uri of the nth tab or current tab is
  n is omitted.</div>
</div>
</div>
<div class="Pp"></div>
<b>hook</b> <i>hook</i> [<i>hook</i> ...]
<div style="margin-left: 4.00ex;">Connect to a list of hooks.
<div class="Pp"></div>
<b>Hooks</b>
<div style="margin-left: 4.00ex;">
<div class="Pp"></div>
<b>change_mode</b>
<div style="margin-left: 4.00ex;">Emitted when the mode changes, return format:
  <i>change_mode &lt;mode&gt;</i>
<div class="Pp"></div>
<b>mode</b>
<div style="margin-left: 4.00ex;">The new mode, can be one of <i>normal</i>,
  <i>insert</i>, <i>hint</i>, <i>command</i> or <i>caret</i></div>
</div>
<div class="Pp"></div>
<b>close_tab</b>
<div style="margin-left: 4.00ex;">Emitted when a tab is closed, return format:
  <i>close_tab &lt;n&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of tab that was closed</div>
</div>
<div class="Pp"></div>
<b>document_finished</b>
<div style="margin-left: 4.00ex;">Emitted when the DOM document load has been
  finished for a frame, return format: <i>document_finished &lt;n&gt;
  &lt;mainframe&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of the tab</div>
<div class="Pp"></div>
<b>mainframe</b>
<div style="margin-left: 4.00ex;"><i>true</i> if it is the DOM document of the
  mainframe has been finshed loading, <i>false</i> if the DOM document of a
  subframe has been finshed.</div>
</div>
<div class="Pp"></div>
<b>download_finished</b>
<div style="margin-left: 4.00ex;">Emitted when a download has been finished,
  return format: <i>download_finished &lt;destination_uri&gt;</i>
<div class="Pp"></div>
<b>destination_uri</b>
<div style="margin-left: 4.00ex;">The destination uri of the download, e.g.
  file:///tmp/download.pdf</div>
</div>
<div class="Pp"></div>
<b>execute</b>
<div style="margin-left: 4.00ex;">Emitted when a command is executed, return
  format: <i>execute &lt;command&gt; &lt;argument&gt; &lt;n&gt;</i>
<div class="Pp"></div>
<b>command</b>
<div style="margin-left: 4.00ex;">Command that is executed</div>
<div class="Pp"></div>
<b>argument</b>
<div style="margin-left: 4.00ex;">Argument if it is a commandline command with
  argument or <i>none</i></div>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Numerical modifier or -1</div>
</div>
<div class="Pp"></div>
<b>focus_tab</b>
<div style="margin-left: 4.00ex;">Emitted when a tab gets focus, return format:
  <i>focus_tab &lt;n&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of tab that gets focus</div>
</div>
<div class="Pp"></div>
<b>hook</b>
<div style="margin-left: 4.00ex;">Emitted when the command <i>hook</i>,
  <i>add_hooks</i> or <i>clear_hooks</i> is executed, return format: <i>hook
  &lt;action&gt; &lt;hooks&gt;</i>
<div class="Pp"></div>
<b>action</b>
<div style="margin-left: 4.00ex;">Either <i>add</i> if add_hooks or hook is
  executed, <i>clear</i> if clear_hooks is executed</div>
<div class="Pp"></div>
<b>hooks</b>
<div style="margin-left: 4.00ex;">List of hooks.</div>
</div>
<div class="Pp"></div>
<b>load_committed</b>
<div style="margin-left: 4.00ex;">Emitted when new page load has been committed,
  return format: <i>load_committed &lt;n&gt; &lt;uri&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of the tab</div>
<div class="Pp"></div>
<b>uri</b>
<div style="margin-left: 4.00ex;">Uri that will be loaded</div>
</div>
<div class="Pp"></div>
<b>load_finished</b>
<div style="margin-left: 4.00ex;">Emitted when a page load has finished, return
  format: <i>load_finished &lt;n&gt; &lt;uri&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of the tab</div>
<div class="Pp"></div>
<b>uri</b>
<div style="margin-left: 4.00ex;">Uri that will be loaded</div>
</div>
<div class="Pp"></div>
<b>navigation</b>
<div style="margin-left: 4.00ex;">Emitted when a tab or a frame in a tab
  requests a new page load, return format: <i>navigation &lt;n&gt;
  &lt;mainframe&gt; &lt;uri&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of the tab</div>
<div class="Pp"></div>
<b>mainframe</b>
<div style="margin-left: 4.00ex;"><i>true</i> if it is the mainframe,
  <i>false</i> if it is a subframe that requests the new page load</div>
<div class="Pp"></div>
<b>uri</b>
<div style="margin-left: 4.00ex;">Uri that will be loaded</div>
</div>
<div class="Pp"></div>
<b>new_tab</b>
<div style="margin-left: 4.00ex;">Emitted when new tab is created, return
  format: <i>new_tab &lt;n&gt;</i>
<div class="Pp"></div>
<b>n</b>
<div style="margin-left: 4.00ex;">Number of the new tab</div>
</div>
<div class="Pp"></div>
<b>quit</b>
<div style="margin-left: 4.00ex;">Emitted when dwb is closed. The response will
  be empty</div>
</div>
</div>
<div class="Pp"></div>
<b>prompt</b> <i>promptmessage</i>
<div style="margin-left: 4.00ex;">Shows a prompt dialog.</div>
<div class="Pp"></div>
<b>pwd_prompt</b> <i>promptmessage</i>
<div style="margin-left: 4.00ex;">Shows a password dialog. Note that using
  password prompt is not save.</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Executing commands
<div style="margin-left: 4.00ex;"></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    dwbremote :tabopen example.com
    dwbremote -pid 1234 execute 2close
</pre>
</div>
<div class="Pp"></div>
Getting properties
<div style="margin-left: 4.00ex;"></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    uri=&quot;$(dwbremote -id 0x1000001 get uri)&quot;
    title=&quot;$(dwbremote -id 0x1000001 get 2 title)&quot;
    scripts_enabled=&quot;$(dwbremote -class foo setting enable-settings)&quot;
</pre>
</div>
<div class="Pp"></div>
User/Password prompt
<div style="margin-left: 4.00ex;"></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    username=&quot;$(dwbremote prompt Username:)&quot;
    if [ &quot;$username&quot; ]; then
        password=&quot;$(dwbremote pwd_prompt Password:)&quot;
    fi
</pre>
</div>
<div class="Pp"></div>
Multiple hooks with one dwbremote instance
<div style="margin-left: 4.00ex;"></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    #!/bin/bash
<div class="Pp"></div>
    if [ &quot;$DWB_WINID&quot; ]; then
        DWBRC=dwbremote
    else
        DWBRC=&quot;dwbremote -class foo&quot;
    fi
<div class="Pp"></div>
    while read -a array; do
        hook=&quot;${array[0]}&quot;
        case &quot;$hook&quot; in
            navigation)
                ...
                ;;
            load_finished)
                ...
                ;;
            close_tab)
                ...
                ;;
        esac
    done &lt; &lt;(&quot;$DWBRC&quot; hook navigation load_finished close_tab)
</pre>
</div>
<div class="Pp"></div>
Binding multiple shortcuts
<div style="margin-left: 4.00ex;"></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    while read -a array; do
        bind=&quot;${array[0]}&quot;
        case &quot;$bind&quot; in
            none:xx)
                ...
                ;;
            foobar:gx)
                ...
                ;;
        esac
    done &lt; &lt;(dwbremote -pid 1234 bind none:xx foobar:gx)
</pre>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dwb</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">03/07/2014</td>
    <td class="foot-os">&#x00A0;</td>
  </tr>
</table>
</body>
</html>
