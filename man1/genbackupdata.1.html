<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GENBACKUPDATA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GENBACKUPDATA(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">GENBACKUPDATA(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
genbackupdata - generate backup test data
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>genbackupdata</b> [<b>--chunk-size=<i>SIZE</i></b><i>]</i>
  [<b>--config=<i>FILE</i></b><i>]</i> [<b>-c=<i>SIZE</i></b><i>]</i>
  [<b>--create= <i>SIZE</i></b><i>]</i> [<b>--depth=<i>DEPTH</i></b><i>]</i>
  [<b>--dump-config</b>] [<b>--dump-memory-profile=<i>METHOD</i></b><i>]</i>
  [<b>--dump-setting-names</b>] [<b>--file-size=<i>SIZE</i></b><i>]</i>
  [<b>--generate-manpage= <i>TEMPLATE</i></b><i>]</i> [<b>-h</b>]
  [<b>--help</b>] [<b>--help-all</b>] [<b>--list-config-files</b>]
  [<b>--log=<i>FILE</i></b><i>]</i> [<b>--log-keep=<i>N</i></b><i>]</i>
  [<b>--log-level= <i>LEVEL</i></b><i>]</i>
  [<b>--log-max=<i>SIZE</i></b><i>]</i> [<b>--log-mode=<i>MODE</i></b><i>]</i>
  [<b>--max-files=<i>MAX-FILES</i></b><i>]</i>
  [<b>--memory-dump-interval=<i>SECONDS</i></b><i>]</i>
  [<b>--no-default-configs</b>] [<b>--no-quiet</b>]
  [<b>--output=<i>FILE</i></b><i>]</i> [<b>--quiet</b>]
  [<b>--seed=<i>SEED</i></b><i>]</i> [<b>--version</b>] [<i>FILE</i>]...<i></i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>genbackupdata</b> generates test data sets for performance testing of backup
  software. It creates a directory tree filled with files of different sizes.
  The total size and the distribution of sizes between small and big are
  configurable. The program can also modify an existing directory tree by
  creating new files, and deleting, renaming, or modifying existing files. This
  can be used to generate test data for successive generations of backups.
<div class="Pp"></div>
The program is deterministic: with a given set of parameters (and a given
  pre-existing directory tree), it always creates the same output. This way, it
  is possible to reproduce backup tests exactly, without having to distribute
  the potentially very large test sets.
<div class="Pp"></div>
The data set consists of plain files and directories. Files are either small
  text files or big binary files. Text files contain the &quot;lorem ipsum&quot;
  stanza, binary files contain randomly generated byte streams. The percentage
  of file data that is small text or big binary files can be set, as can the
  sizes of the respective file types.
<div class="Pp"></div>
Files and directories are named &quot;fileXXXX&quot; or &quot;dirXXXX&quot;,
  where &quot;XXXX&quot; is a successive integer, separate successions for files
  and directories. There is an upper limit to how many files a directory may
  contain. After the file limit is reached, a new sub-directory is created. The
  first set of files go into the root directory of the test set.
<div class="Pp"></div>
You have to give one of the options <b>--create</b>, <b>--delete</b>,
  <b>--rename</b>, or <b>--modify</b> for the program to do anything. You can,
  however, give more than one of them, if <i>DIR</i> already exists. (Giving the
  same option more than once means that only the last instance is counted.)
  (<i>DIR</i>) is created if it doesn't exist already.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--chunk-size</b>=<i>SIZE</i></dt>
  <dd class="It-tag">generate data in chunks of this size</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--create</b>=<i>SIZE</i></dt>
  <dd class="It-tag">how much data to create (default: 0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--depth</b>=<i>DEPTH</i></dt>
  <dd class="It-tag">depth of directory tree</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--file-size</b>=<i>SIZE</i></dt>
  <dd class="It-tag">size of one file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--generate-manpage</b>=<i>TEMPLATE</i></dt>
  <dd class="It-tag">SUPPRESSHELP</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">show this help message and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-files</b>=<i>MAX-FILES</i></dt>
  <dd class="It-tag">max files/dirs per dir</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-quiet</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output</b>=<i>FILE</i></dt>
  <dd class="It-tag">write output to FILE, instead of standard output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">do not report progress</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--seed</b>=<i>SEED</i></dt>
  <dd class="It-tag">seed for random number generator</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">show program's version number and exit</dd>
</dl>
<h2 class="Ss" title="Ss" id="Configuration_files_and_settings"><a class="selflink" href="#Configuration_files_and_settings">Configuration
  files and settings</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--config</b>=<i>FILE</i></dt>
  <dd class="It-tag">add FILE to config files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-config</b></dt>
  <dd class="It-tag">write out the entire current configuration</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-setting-names</b></dt>
  <dd class="It-tag">SUPPRESSHELP</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-all</b></dt>
  <dd class="It-tag">show all options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-config-files</b></dt>
  <dd class="It-tag">SUPPRESSHELP</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-default-configs</b></dt>
  <dd class="It-tag">clear list of configuration files to read</dd>
</dl>
<h2 class="Ss" title="Ss" id="Logging"><a class="selflink" href="#Logging">Logging</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log</b>=<i>FILE</i></dt>
  <dd class="It-tag">write log entries to FILE (default is to not write log
      files at all); use &quot;syslog&quot; to log to system log, or
      &quot;none&quot; to disable logging</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-keep</b>=<i>N</i></dt>
  <dd class="It-tag">keep last N logs (10)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-level</b>=<i>LEVEL</i></dt>
  <dd class="It-tag">log at LEVEL, one of debug, info, warning, error, critical,
      fatal (default: debug)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-max</b>=<i>SIZE</i></dt>
  <dd class="It-tag">rotate logs larger than SIZE, zero for never (default:
    0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-mode</b>=<i>MODE</i></dt>
  <dd class="It-tag">set permissions of new log files to MODE (octal; default
      0600)</dd>
</dl>
<h2 class="Ss" title="Ss" id="Peformance"><a class="selflink" href="#Peformance">Peformance</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-memory-profile</b>=<i>METHOD</i></dt>
  <dd class="It-tag">make memory profiling dumps using METHOD, which is one of:
      none, simple, or meliae (default: simple)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--memory-dump-interval</b>=<i>SECONDS</i></dt>
  <dd class="It-tag">make memory profiling dumps at least SECONDS apart</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Create data for the first generation of a backup:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">genbackupdata --create=10G testdir</div>
<div class="Pp"></div>
Modify an existing set of backup data to create a new generation:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">genbackupdata -c 5% -d 2% -m 5% -r 0.5%
  testdir</div>
<div class="Pp"></div>
The above command can be run for each new generation.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
