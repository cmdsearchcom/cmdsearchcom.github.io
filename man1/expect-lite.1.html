<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:08:39 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>EXPECT-LITE(1) User Commands EXPECT-LITE(1)</p>

<p style="margin-top: 1em">NAME <br>
expect-lite - a quick and easy command line automation
tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
expect-lite [-vv] -c &lt;script&gt; [-r &lt;host&gt;]
[CONSTANT=value] [*DIRECTIVE] [-h|--help] <br>
or <br>
script.elt [-vv] [r=&lt;host&gt;] [CONSTANT=value]
[*DIRECTIVE] [-h|--help]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Written in Expect, it is designed to directly map an
interactive terminal session into an automation script.
expect-lite scripts use punctuation character(s) at the
beginning of <br>
each line to indicate the action. Basic expect-lite scripts
can be created by simply cutting and pasting text from a
terminal window into a script, and adding &gt; &lt;
characters. <br>
Knowledge of Expect is not required.</p>

<p style="margin-top: 1em">usage: expect-lite
remote_host=&lt;remote_host_IP&gt;
cmd_file=&lt;command_file&gt; [user_dir=&lt;user_dir&gt;]
[const1=value1] [*DIRECTIVE]</p>

<p style="margin-top: 1em">or short form: expect-lite
r=&lt;remote_host_IP&gt; c=&lt;command_file&gt;
[d=&lt;user_dir&gt;] [const1=value1] [*DIRECTIVE]</p>

<p style="margin-top: 1em">eg. ./expect-lite r=host-008
c=pm_alt.elt d=/local/sw myvar=myvalue *NOCOLOR</p>

<p style="margin-top: 1em">additional login options:
user_name=&lt;username&gt;
user_password=&lt;password&gt;</p>

<p style="margin-top: 1em">eg. ./expect-lite r=host-008
c=pm_alt.elt u=superuser p=mysecret</p>

<p style="margin-top: 1em">additional debug options:
-v|-vv|--verbose</p>

<p style="margin-top: 1em">-v prints warnings, and infos
(i.e. conditionals, dynamic var assignments)</p>

<p style="margin-top: 1em">-vv|--verbose <br>
prints warnings and debug (i.e. expect match info)</p>

<p style="margin-top: 1em">eg. ./expect-lite -v r=host-008
c=pm_alt.elt</p>

<p style="margin-top: 1em">user defined help options:
-h|--help</p>

<p style="margin-top: 1em">displays user defined help text
(demarcated by ;;;) and variables defined in script which
can be overridden by constants on the command line</p>

<p style="margin-top: 1em">COMMAND SYNOPSIS <br>
This is just a brief synopsis of expect-lite commands to
serve as a reminder to those who already know expect-lite;
other documentation (such as the html document) must <br>
be consulted for more complete descriptions.</p>

<p style="margin-top: 1em">Special Characters <br>
&gt; wait for a prompt, then send string to the remote
host</p>

<p style="margin-top: 1em">&gt;&gt; send string to remote
host, without waiting for prompt</p>

<p style="margin-top: 1em">&lt; string/regex MUST be
received from the remote host in the allotted timeout or the
script will FAIL!</p>

<p style="margin-top: 1em">&lt;&lt; literal string MUST be
received (similar to &rsquo;&lt;&rsquo; without regex
evaluation)</p>

<p style="margin-top: 1em">-&lt; NOT expect, if
string/regex IS received from the remote host the script
will FAIL!</p>

<p style="margin-top: 1em">~&lt; fuzzy expect, expect an
approximate number (decimal or hex)</p>

<p style="margin-top: 1em"># used to indicate comment
lines, and have no effect</p>

<p style="margin-top: 1em">; are also used to indicate
comment lines, but are printed to stdout (for logging)</p>

<p style="margin-top: 1em">;&lt;colour&gt; comment <br>
add custom colour comment lines, colour may be blue, ltblue,
gray, ltgray, cyan, black, pink, purple, red, green,
yellow</p>

<p style="margin-top: 1em">;; similar to above, but no
extra newlines are printed (useful for printing script
help)</p>

<p style="margin-top: 1em">;;; marks beginning and ending
of a block of help text. Help Text is user defined help for
a script and is printed when -h or --help is on the command
line</p>

<p style="margin-top: 1em">@num changes the expect timeout
to num of seconds</p>

<p style="margin-top: 1em">:num sleeps for num seconds.
Mili-seconds also supported e.g. :1.005 is 1005
mili-seconds</p>

<p style="margin-top: 1em">$var= static variable assignment
at script invocation. Variable names limited to letters,
numbers, and underscore</p>

<p style="margin-top: 1em">+$var= dynamic variable
assignment</p>

<p style="margin-top: 1em">+$var increment value of $var by
1 decimal</p>

<p style="margin-top: 1em">-$var decrement value of $var by
1 decimal</p>

<p style="margin-top: 1em">=$var math functions, perform
bitwise and arithmetic operations: &lt;&lt; &gt;&gt; &amp; |
^ * / % + - (see math functions)</p>

<p style="margin-top: 1em">=$str string math functions, if
$str is a string, perform string operations:
//search/replace/ + - (see string math functions in
documentation)</p>

<p style="margin-top: 1em">! indicates an embedded expect
line</p>

<p style="margin-top: 1em">? c-style if/then/else in the
format ?cond?action::else_action. code block are also
supported in the action and else_action statements. e.g.
<br>
?if $i &lt; $n ? [ <br>
&gt;send string <br>
&lt;expect string <br>
]::[ <br>
&gt;send else string <br>
&lt;expect else string <br>
]</p>

<p style="margin-top: 1em">[ While Loop, using code blocks
e.g. <br>
[ $i &lt; $n <br>
+$i <br>
]</p>

<p style="margin-top: 1em">Foreach Loop, using code blocks,
each iteration $item is assigned the next item in the list.
List must be space delimited e.g. <br>
$thelist=ab cd ef <br>
[ $item=$thelist <br>
&gt;echo $item <br>
]</p>

<p style="margin-top: 1em">% label - used for jumping to
labels</p>

<p style="margin-top: 1em">~filename [constant=value]
[constant=value with spaces] <br>
includes a expect-lite script file, useful for creation of
common variable files, or
&rsquo;subprograms/subroutines&rsquo;. Can pass optional
parameters which will override (as con&acirc; <br>
stants) the variables in the include file. Constant values
passed may have spaces, no quotes are required</p>

<p style="margin-top: 1em">Directives <br>
*~filename <br>
Include a fail script, which expect-lite runs only if the
main script fails</p>

<p style="margin-top: 1em">*/prompt/ <br>
Set a user defined prompt (defined in regex)</p>

<p style="margin-top: 1em">*TERM &lt;N&gt; <br>
Immediately terminates script, and returns the value of N,
if N is not specified returns 0</p>

<p style="margin-top: 1em">*PASS Immediately terminates
script, and returns 0 (pass)</p>

<p style="margin-top: 1em">*FAIL Immediately fails script,
and returns 1 (fail), unless *NOFAIL is set, then script
will run to completion, and return 1</p>

<p style="margin-top: 1em">*NOFAIL <br>
Script will run to completion, and returns 1, if failure
occurred during execution, or 0, if pass (it is a sticky
flag, and can not be unset)</p>

<p style="margin-top: 1em">**SHELL=&lt;shell&gt; <br>
Configuration directive which sets the shell immediately
after automatic login to remote host (see setting the
shell)</p>

<p style="margin-top: 1em">*INTERACT <br>
A breakpoint which places user in interact mode, and pauses
the script and turns control of the keyboard over to the
user</p>

<p style="margin-top: 1em">*NOINTERACT <br>
Once set, will ignore all succeeding breakpoints
(*INTERACT). This permits running a script or scripts in an
unattended regression. This can not be unset (it is a sticky
<br>
flag)</p>

<p style="margin-top: 1em">*FORK &lt;session&gt; <br>
Multiple session support. Directs expect-lite to open a new
session and spawns a new shell</p>

<p style="margin-top: 1em">*SHOW VARS <br>
Debug information, displays all expect-lite variables. Can
be used in interact mode.</p>

<p style="margin-top: 1em">*SHOW ENV <br>
Debug information, displays expect-lite environment,
including state of directives, infinite loop counter, log
file name (if used), and environment variables. Can be used
<br>
in interact mode.</p>

<p style="margin-top: 1em">*INFINITE_LOOP N <br>
Infinite loop protection value, sets N as new value</p>

<p style="margin-top: 1em">*EOLS LF|*EOLS CRLF <br>
Controls end of line sequence sent to remote host, either
line feed, or carriage return + line feed.</p>

<p style="margin-top: 1em">*DVPROMPT|*NODVPROMPT <br>
Enable/disable the Dynamic Variable capture method to
require a trailing prompt (default=*DVPROMPT).</p>

<p style="margin-top: 1em">*NOINCLUDE <br>
Once set, will ignore all succeeding include files (lines
starting with ~). This was the default behaviour in Library
mode (introduced in v4.1). This behaviour is no <br>
longer default, and this directive provides a method to
previous behavior.</p>

<p style="margin-top: 1em">Logging <br>
Logging encompasses two operations: 1) writing script output
to a file, 2) controlling additional messages, such as info,
exp_info and warnings. All logging commands when used on
<br>
the CLI will override those inside the script</p>

<p style="margin-top: 1em">*LOG|*NOLOG <br>
Enable/disable logging of standard out and messages to a
file. The log file name will be &lt;script_name&gt;.log
saved in the script directory.(see Environment Variable <br>
EL_LOG_EXT below)</p>

<p style="margin-top: 1em">*LOG
&lt;file_name&gt;|*LOGAPPEND &lt;file_name&gt; <br>
Enable logging to a user specified path/file_name. When
invoked on the CLI, the specified file_name must end in
&quot;.log&quot; (or as defined by EL_LOG_EXT) to avoid
ambiguity</p>

<p style="margin-top: 1em">*INFO|*NOINFO <br>
Enable/disable informational messages</p>

<p style="margin-top: 1em">*EXP_INFO|*NOEXP_INFO <br>
Enable/disable &quot;expected&quot; messages (additionally
use -V flag to enable)</p>

<p style="margin-top: 1em">*WARN|*NOWARN <br>
Enable/disable warning messages</p>

<p style="margin-top: 1em">*DEBUG|*NODEBUG <br>
Enable/disable debug messages</p>

<p style="margin-top: 1em">*NOCOLOR <br>
Disables color on stdout</p>

<p style="margin-top: 1em">*TIMESTAMP
&lt;ISO|YMD|DMY|MDY&gt; <br>
Prints Date and Timestamp with milisecond accuracy, for each
command sent, ISO is default. Timestamps will be written to
log file when *LOG is used.</p>

<p style="margin-top: 1em">*NOTIMESTAMP <br>
Disables timestamp printing</p>

<p style="margin-top: 1em">Environment Variables <br>
It is no longer necessary to hand edit the expect-lite
script itself. All parameters such as connect_method, login
name and password are controlled via shell environment
vari&acirc; <br>
ables. This permits individual customization in a multi user
environment. It is recommended to save these values in
.expect-literc and source it from .bashrc or .cshrc. If set,
<br>
the following environment variables will be used:</p>

<p style="margin-top: 1em">EL_CONNECT_METHOD <br>
The method expect-lite uses to connect to remote host. Valid
options are: none|telnet|ssh|ssh_key Default is none</p>

<p style="margin-top: 1em">EL_CONNECT_USER <br>
User name to use for login on remote host (telnet|ssh)</p>

<p style="margin-top: 1em">EL_CONNECT_PASS <br>
Password to use for login on remote host (telnet|ssh)</p>

<p style="margin-top: 1em">EL_INFINITE_LOOP=N <br>
Infinite loop protection value, sets N to user&rsquo;s
default value</p>

<p style="margin-top: 1em">EL_DELAY_WAIT_FOR_HOST <br>
Delay (in ms) to wait for host in Not Expect, and Dynamic
Var Capture. 100 ms is a good value for a local LAN, 200 ms
if running across high speed internet</p>

<p style="margin-top: 1em">EL_REMOTE_HOST <br>
Name or IP of remote host</p>

<p style="margin-top: 1em">EL_CMD_FILE <br>
Name of expect-lite script to run</p>

<p style="margin-top: 1em">EL_USER_DIR <br>
Change to this directory upon login before executing
script</p>

<p style="margin-top: 1em">EL_SHELL <br>
Start this shell (default bash) when using
EL_CONNECT_METHOD=none</p>

<p style="margin-top: 1em">EL_DYN_VAR_PROMPT <br>
Set the Dynamic Variable capture method to require a prompt
(default=1). Disable by setting to 0.</p>

<p style="margin-top: 1em">EL_LOG_EXT <br>
Set the log file name extension string
(default=&quot;.log&quot;) which is appended to the script
name when using *LOG without file name argument or used to
detect a log file name <br>
on the command line.</p>

<p style="margin-top: 1em">EL_* Any other shell environment
variables starting with EL_ will become constants</p>

<p style="margin-top: 1em">Debugger (IDE) <br>
The debugger performs three primary functions: 1) connecting
the user to the remote host or device under test, 2)
monitoring special commands prefaced with the escape key for
<br>
stepping, and other functions, and 3) the debugger will
allow expect-lite script lines to be executed by either
typing directly or pasting them into the IDE.</p>

<p style="margin-top: 1em">The debugger is invoked at a
breakpoint by placing the *INTERACT command in the script,
or using by instant-interact at anytime during the script
execution by pressing ctrl+back&acirc; <br>
slash ^ <br>
&lt;esc&gt;s Step, execute next step in script</p>

<p style="margin-top: 1em">&lt;esc&gt;k sKip next step in
script</p>

<p style="margin-top: 1em">&lt;esc&gt;c Continue execution
of the script</p>

<p style="margin-top: 1em">&lt;esc&gt;v show Vars, display
expect-lite variables and values</p>

<p style="margin-top: 1em">&lt;esc&gt;e show Environment,
display expect-lite environment</p>

<p style="margin-top: 1em">&lt;esc&gt;0to9 <br>
display next N lines of script</p>

<p style="margin-top: 1em">&lt;esc&gt;-1to-9 <br>
display last N lines of script</p>

<p style="margin-top: 1em">ctrl+d Quit &amp; Exit
expect-lite</p>

<p style="margin-top: 1em">&lt;esc&gt;h display Help</p>

<p style="margin-top: 1em">[pasted line(s)] <br>
execute any pasted line(s) from a script into the IDE</p>

<p style="margin-top: 1em">[type any expect-lite line] <br>
execute any typed expect-lite script line</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Craig Miller</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to &lt;cvmiller at gmail dot com&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2008-2015 Craig Miller <br>
Copyright &Acirc;&copy; 2005-2007 FreeScale Semiconductor
and Craig Miller <br>
License BSD-Style: This is free software: you are free to
change and redistribute it. There is NO WARRANTY, to the
extent permitted by law.</p>

<p style="margin-top: 1em">SEE ALSO <br>
The full documentation for expect-lite is maintained as an
HTML manual. Please see http://expect-lite.sf.net/ for
complete documentation.</p>

<p style="margin-top: 1em">expect-lite version 4.9.0 August
2015 EXPECT-LITE(1)</p>
<hr>
</body>
</html>
