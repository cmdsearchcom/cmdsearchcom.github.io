<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ipa-replica-prepare(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ipa-replica-prepare(1)</td>
    <td class="head-vol">IPA Manual Pages</td>
    <td class="head-rtitle">ipa-replica-prepare(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ipa-replica-prepare - Create an IPA replica file
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
ipa-replica-prepare [ <i>OPTION</i>]... hostname
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Generates a replica file that may be used with ipa-replica-install to create a
  replica of an IPA server.
<div style="height: 1.00em;">&#x00A0;</div>
A replica can be created on any IPA master or replica server.
<div style="height: 1.00em;">&#x00A0;</div>
You must provide the fully-qualified hostname of the machine you want to install
  the replica on and a host-specific replica_file will be created. It is
  host-specific because SSL server certificates are generated as part of the
  process and they are specific to a particular hostname.
<div style="height: 1.00em;">&#x00A0;</div>
If IPA manages the DNS for your domain, you should either use the
  <b>--ip-address</b> option or add the forward and reverse records manually
  using IPA plugins.
<div style="height: 1.00em;">&#x00A0;</div>
Once the file has been created it will be named replica-hostname. This file can
  then be moved across the network to the target machine and a new IPA replica
  setup by running ipa-replica-install replica-hostname.
<h2 class="Ss" title="Ss" id="Limitations"><a class="selflink" href="#Limitations">Limitations</a></h2>
A replica should only be installed on the same or higher version of IPA on the
  remote system.
<div style="height: 1.00em;">&#x00A0;</div>
A replica with PKI can only be installed from a replica file prepared on a
  master with PKI.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-cert-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">File containing the Directory Server SSL certificate and
      private key. The files are accepted in PEM and DER certificate, PKCS#7
      certificate chain, PKCS#8 and raw private key and PKCS#12 formats. This
      option may be used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-cert-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">File containing the Apache Server SSL certificate and
      private key. The files are accepted in PEM and DER certificate, PKCS#7
      certificate chain, PKCS#8 and raw private key and PKCS#12 formats. This
      option may be used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-pin</b>=<i>PIN</i></dt>
  <dd class="It-tag">The password to unlock the Directory Server private
    key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-pin</b>=<i>PIN</i></dt>
  <dd class="It-tag">The password to unlock the Apache Server private key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-cert-name</b>=<i>NAME</i></dt>
  <dd class="It-tag">Name of the Directory Server SSL certificate to
    install</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-cert-name</b>=<i>NAME</i></dt>
  <dd class="It-tag">Name of the Apache Server SSL certificate to install</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>DM_PASSWORD</i>,
    <b>--password</b>=<i>DM_PASSWORD</i></dt>
  <dd class="It-tag">Directory Manager (existing master) password</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ip-address</b>=<i>IP_ADDRESS</i></dt>
  <dd class="It-tag">IPv4 or IPv6 address of the replica server. This option can
      be specified multiple times for each interface of the server (e.g.
      multihomed and/or dualstacked server), or for each IPv4 and IPv6 address
      of the server. The corresponding A or AAAA and PTR records will be added
      to the DNS if they do not exist already.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--reverse-zone</b>=<i>REVERSE_ZONE</i></dt>
  <dd class="It-tag">The reverse DNS zone to use. This option can be used
      multiple times to specify multiple reverse zones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-reverse</b></dt>
  <dd class="It-tag">Do not create reverse DNS zone</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca</b>=<i>CA_FILE</i></dt>
  <dd class="It-tag">Location of CA PKCS#12 file, default /root/cacert.p12</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Prints info log messages to the output</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 if the command was successful
<div style="height: 1.00em;">&#x00A0;</div>
1 if an error occurred</div>
<table class="foot">
  <tr>
    <td class="foot-date">Mar 14 2008</td>
    <td class="foot-os">IPA</td>
  </tr>
</table>
</body>
</html>
