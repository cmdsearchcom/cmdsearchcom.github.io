<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:40:26 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TOP(1) User Commands TOP(1)</p>

<p style="margin-top: 1em">NAME <br>
top - display Linux processes</p>

<p style="margin-top: 1em">SYNOPSIS <br>
top -hv|-bcHiOSs -d secs -n max -u|U user -p pid -o fld -w
[cols]</p>

<p style="margin-top: 1em">The traditional switches
&lsquo;-&rsquo; and whitespace are optional.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The top program provides a dynamic real-time view of a
running system. It can display system summary information as
well as a list of processes or threads currently being
man&acirc; <br>
aged by the Linux kernel. The types of system summary
information shown and the types, order and size of
information displayed for processes are all user
configurable and that <br>
configuration can be made persistent across restarts.</p>

<p style="margin-top: 1em">The program provides a limited
interactive interface for process manipulation as well as a
much more extensive interface for personal configuration --
encompassing every aspect <br>
of its operation. And while top is referred to throughout
this document, you are free to name the program anything you
wish. That new name, possibly an alias, will then be <br>
reflected on top&rsquo;s display and used when reading and
writing a configuration file.</p>

<p style="margin-top: 1em">OVERVIEW <br>
Documentation <br>
The remaining Table of Contents</p>

<p style="margin-top: 1em">1. COMMAND-LINE Options <br>
2. SUMMARY Display <br>
a. UPTIME and LOAD Averages <br>
b. TASK and CPU States <br>
c. MEMORY Usage <br>
3. FIELDS / Columns Display <br>
a. DESCRIPTIONS of Fields <br>
b. MANAGING Fields <br>
4. INTERACTIVE Commands <br>
a. GLOBAL Commands <br>
b. SUMMARY AREA Commands <br>
c. TASK AREA Commands <br>
1. Appearance <br>
2. Content <br>
3. Size <br>
4. Sorting <br>
d. COLOR Mapping <br>
5. ALTERNATE-DISPLAY Provisions <br>
a. WINDOWS Overview <br>
b. COMMANDS for Windows <br>
c. SCROLLING a Window <br>
d. SEARCHING in a Window <br>
e. FILTERING in a Window <br>
6. FILES <br>
a. SYSTEM Configuration File <br>
b. PERSONAL Configuration File <br>
c. ADDING INSPECT Entries <br>
7. STUPID TRICKS Sampler <br>
a. Kernel Magic <br>
b. Bouncing Windows <br>
c. The Big Bird Window <br>
d. The Ol&rsquo; Switcheroo <br>
8. BUGS, 9. HISTORY Former top, 10. AUTHOR, 11. SEE Also</p>

<p style="margin-top: 1em">Operation <br>
When operating top, the two most important keys are the help
(h or ?) key and quit (&rsquo;q&rsquo;) key. Alternatively,
you could simply use the traditional interrupt key (^C) when
you&rsquo;re <br>
done.</p>

<p style="margin-top: 1em">When started for the first time,
you&rsquo;ll be presented with these traditional elements on
the main top screen: 1) Summary Area; 2) Fields/Columns
Header; 3) Task Area. Each of <br>
these will be explored in the sections that follow. There is
also an Input/Message line between the Summary Area and
Columns Header which needs no further explanation.</p>

<p style="margin-top: 1em">The main top screen is generally
quite adaptive to changes in terminal dimensions under
X-Windows. Other top screens may be less so, especially
those with static text. It ulti&acirc; <br>
mately depends, however, on your particular window manager
and terminal emulator. There may be occasions when their
view of terminal size and current contents differs from
top&rsquo;s <br>
view, which is always based on operating system calls.</p>

<p style="margin-top: 1em">Following any re-size operation,
if a top screen is corrupted, appears incomplete or
disordered, simply typing something innocuous like a
punctuation character or cursor motion <br>
key will usually restore it. In extreme cases, the following
sequence almost certainly will: <br>
key/cmd objective <br>
^Z suspend top <br>
fg resume top <br>
&lt;Left&gt; force a screen redraw (if necessary)</p>

<p style="margin-top: 1em">But if the display is still
corrupted, there is one more step you could try. Insert this
command after top has been suspended but before resuming it.
<br>
key/cmd objective <br>
reset restore your terminal settings</p>

<p style="margin-top: 1em">Note: the width of top&rsquo;s
display will be limited to 512 positions. Displaying all
fields requires approximately 250 characters. Remaining
screen width is usually allocated to <br>
any variable width columns currently visible. The variable
width columns, such as COMMAND, are noted in topic 3a.
DESCRIPTIONS of Fields. Actual output width may also be
influ&acirc; <br>
enced by the -w switch, which is discussed in topic 1.
COMMAND-LINE Options.</p>

<p style="margin-top: 1em">Lastly, some of top&rsquo;s
screens or functions require the use of cursor motion keys
like the standard arrow keys plus the Home, End, PgUp and
PgDn keys. If your terminal or emula&acirc; <br>
tor does not provide those keys, the following combinations
are accepted as alternatives: <br>
key equivalent-key-combinations <br>
Up alt + &nbsp; or alt + k <br>
Down alt + / or alt + j <br>
Left alt + &lt; or alt + h <br>
Right alt + &gt; or alt + l (lower case L) <br>
PgUp alt + Up or alt + ctrl + k <br>
PgDn alt + Down or alt + ctrl + j <br>
Home alt + Left or alt + ctrl + h <br>
End alt + Right or alt + ctrl + l</p>

<p style="margin-top: 1em">The Up and Down arrow keys have
special significance when prompted for line input terminated
with the &lt;Enter&gt; key. Those keys, or their aliases,
can be used to retrieve previous <br>
input lines which can then be edited and re-input. And there
are four additional keys available with line oriented input.
<br>
key special-significance <br>
Up recall older strings for re-editing <br>
Down recall newer strings or erase entire line <br>
Insert toggle between insert and overtype modes <br>
Delete character removed at cursor, moving others left <br>
Home jump to beginning of input line <br>
End jump to end of input line</p>

<p style="margin-top: 1em">Startup Defaults <br>
The following startup defaults assume no configuration file,
thus no user customizations. Even so, items shown with an
asterisk (&lsquo;*&rsquo;) could be overridden through the
command- <br>
line. All are explained in detail in the sections that
follow.</p>

<p style="margin-top: 1em">Global-defaults <br>
A - Alt display Off (full-screen) <br>
* d - Delay time 1.5 seconds <br>
* H - Threads mode Off (summarize as tasks) <br>
I - Irix mode On (no, &lsquo;solaris&rsquo; smp) <br>
* p - PID monitoring Off (show all processes) <br>
* s - Secure mode Off (unsecured) <br>
B - Bold enable On (yes, bold globally) <br>
Summary-Area-defaults <br>
l - Load Avg/Uptime On (thus program name) <br>
t - Task/Cpu states On (1+1 lines, see &lsquo;1&rsquo;) <br>
m - Mem/Swap usage On (2 lines worth) <br>
1 - Single Cpu Off (thus multiple cpus) <br>
Task-Area-defaults <br>
b - Bold hilite Off (use &lsquo;reverse&rsquo;) <br>
* c - Command line Off (name, not cmdline) <br>
* i - Idle tasks On (show all tasks) <br>
J - Num align right On (not left justify) <br>
j - Str align right Off (not right justify) <br>
R - Reverse sort On (pids high-to-low) <br>
* S - Cumulative time Off (no, dead children) <br>
* u - User filter Off (show euid only) <br>
* U - User filter Off (show any uid) <br>
V - Forest view On (show as branches) <br>
x - Column hilite Off (no, sort field) <br>
y - Row hilite On (yes, running tasks) <br>
z - color/mono On (show colors)</p>

<p style="margin-top: 1em">1. COMMAND-LINE Options <br>
The command-line syntax for top consists of:</p>

<p style="margin-top: 1em">-hv|-bcHiOSs -d secs -n max -u|U
user -p pid -o fld -w [cols]</p>

<p style="margin-top: 1em">The typically mandatory switch
(&rsquo;-&rsquo;) and even whitespace are completely
optional.</p>

<p style="margin-top: 1em">-h | -v :Help/Version <br>
Show library version and the usage prompt, then quit.</p>

<p style="margin-top: 1em">-b :Batch-mode operation <br>
Starts top in Batch mode, which could be useful for sending
output from top to other programs or to a file. In this
mode, top will not accept input and runs until the
iter&acirc; <br>
ations limit you&rsquo;ve set with the &lsquo;-n&rsquo;
command-line option or until killed.</p>

<p style="margin-top: 1em">-c :Command-line/Program-name
toggle <br>
Starts top with the last remembered &lsquo;c&rsquo; state
reversed. Thus, if top was displaying command lines, now
that field will show program names, and visa versa. See the
&lsquo;c&rsquo; <br>
interactive command for additional information.</p>

<p style="margin-top: 1em">-d :Delay-time interval as: -d
ss.t (secs.tenths) <br>
Specifies the delay between screen updates, and overrides
the corresponding value in one&rsquo;s personal
configuration file or the startup default. Later this can be
changed <br>
with the &lsquo;d&rsquo; or &lsquo;s&rsquo; interactive
commands.</p>

<p style="margin-top: 1em">Fractional seconds are honored,
but a negative number is not allowed. In all cases, however,
such changes are prohibited if top is running in Secure
mode, except for root <br>
(unless the &lsquo;s&rsquo; command-line option was used).
For additional information on Secure mode see topic 6a.
SYSTEM Configuration File.</p>

<p style="margin-top: 1em">-H :Threads-mode operation <br>
Instructs top to display individual threads. Without this
command-line option a summation of all threads in each
process is shown. Later this can be changed with the
&lsquo;H&rsquo; <br>
interactive command.</p>

<p style="margin-top: 1em">-i :Idle-process toggle <br>
Starts top with the last remembered &lsquo;i&rsquo; state
reversed. When this toggle is Off, tasks that have not used
any CPU since the last update will not be displayed. For
addi&acirc; <br>
tional information regarding this toggle see topic 4c. TASK
AREA Commands, SIZE.</p>

<p style="margin-top: 1em">-n :Number-of-iterations limit
as: -n number <br>
Specifies the maximum number of iterations, or frames, top
should produce before ending.</p>

<p style="margin-top: 1em">-o :Override-sort-field as: -o
fieldname <br>
Specifies the name of the field on which tasks will be
sorted, independent of what is reflected in the
configuration file. You can prepend a &lsquo;+&rsquo; or
&lsquo;-&rsquo; to the field name to <br>
also override the sort direction. A leading &lsquo;+&rsquo;
will force sorting high to low, whereas a &lsquo;-&rsquo;
will ensure a low to high ordering.</p>

<p style="margin-top: 1em">This option exists primarily to
support automated/scripted batch mode operation.</p>

<p style="margin-top: 1em">-O :Output-field-names <br>
This option acts as a form of help for the above -o option.
It will cause top to print each of the available field names
on a separate line, then quit. Such names are sub&acirc;
<br>
ject to nls translation.</p>

<p style="margin-top: 1em">-p :Monitor-PIDs mode as: -pN1
-pN2 ... or -pN1,N2,N3 ... <br>
Monitor only processes with specified process IDs. This
option can be given up to 20 times, or you can provide a
comma delimited list with up to 20 pids. Co-mingling both
<br>
approaches is permitted.</p>

<p style="margin-top: 1em">A pid value of zero will be
treated as the process id of the top program itself once it
is running.</p>

<p style="margin-top: 1em">This is a command-line option
only and should you wish to return to normal operation, it
is not necessary to quit and restart top -- just issue any
of these interactive <br>
commands: &lsquo;=&rsquo;, &lsquo;u&rsquo; or
&lsquo;U&rsquo;.</p>

<p style="margin-top: 1em">The &lsquo;p&rsquo;,
&lsquo;u&rsquo; and &lsquo;U&rsquo; command-line options are
mutually exclusive.</p>

<p style="margin-top: 1em">-s :Secure-mode operation <br>
Starts top with secure mode forced, even for root. This mode
is far better controlled through the system configuration
file (see topic 6. FILES).</p>

<p style="margin-top: 1em">-S :Cumulative-time toggle <br>
Starts top with the last remembered &lsquo;S&rsquo; state
reversed. When Cumulative time mode is On, each process is
listed with the cpu time that it and its dead children have
used. <br>
See the &lsquo;S&rsquo; interactive command for additional
information regarding this mode.</p>

<p style="margin-top: 1em">-u | -U :User-filter-mode as: -u
| -U number or name <br>
Display only processes with a user id or user name matching
that given. The &lsquo;-u&rsquo; option matches on effective
user whereas the &lsquo;-U&rsquo; option matches on any user
(real, effec&acirc; <br>
tive, saved, or filesystem).</p>

<p style="margin-top: 1em">Prepending an exclamation point
(&rsquo;!&rsquo;) to the user id or name instructs top to
display only processes with users not matching the one
provided.</p>

<p style="margin-top: 1em">The &lsquo;p&rsquo;,
&lsquo;u&rsquo; and &lsquo;U&rsquo; command-line options are
mutually exclusive.</p>

<p style="margin-top: 1em">-w :Output-width-override as: -w
[ number ] <br>
In Batch mode, when used without an argument top will format
output using the COLUMNS= and LINES= environment variables,
if set. Otherwise, width will be fixed at the maxi&acirc;
<br>
mum 512 columns. With an argument, output width can be
decreased or increased (up to 512) but the number of rows is
considered unlimited.</p>

<p style="margin-top: 1em">In normal display mode, when
used without an argument top will attempt to format output
using the COLUMNS= and LINES= environment variables, if set.
With an argument, out&acirc; <br>
put width can only be decreased, not increased. Whether
using environment variables or an argument with -w, when not
in Batch mode actual terminal dimensions can never be <br>
exceeded.</p>

<p style="margin-top: 1em">Note: Without the use of this
command-line option, output width is always based on the
terminal at which top was invoked whether or not in Batch
mode.</p>

<p style="margin-top: 1em">2. SUMMARY Display <br>
Each of the following three areas are individually
controlled through one or more interactive commands. See
topic 4b. SUMMARY AREA Commands for additional information
regarding <br>
these provisions.</p>

<p style="margin-top: 1em">2a. UPTIME and LOAD Averages
<br>
This portion consists of a single line containing: <br>
program or window name, depending on display mode <br>
current time and length of time since last boot <br>
total number of users <br>
system load avg over the last 1, 5 and 15 minutes</p>

<p style="margin-top: 1em">2b. TASK and CPU States <br>
This portion consists of a minimum of two lines. In an SMP
environment, additional lines can reflect individual CPU
state percentages.</p>

<p style="margin-top: 1em">Line 1 shows total tasks or
threads, depending on the state of the Threads-mode toggle.
That total is further classified as: <br>
running; sleeping; stopped; zombie</p>

<p style="margin-top: 1em">Line 2 shows CPU state
percentages based on the interval since the last
refresh.</p>

<p style="margin-top: 1em">As a default, percentages for
these individual categories are displayed. Where two labels
are shown below, those for more recent kernel versions are
shown first. <br>
us, user : time running un-niced user processes <br>
sy, system : time running kernel processes <br>
ni, nice : time running niced user processes <br>
id, idle : time spent in the kernel idle handler <br>
wa, IO-wait : time waiting for I/O completion <br>
hi : time spent servicing hardware interrupts <br>
si : time spent servicing software interrupts <br>
st : time stolen from this vm by the hypervisor</p>

<p style="margin-top: 1em">In the alternate cpu states
display modes, beyond the first tasks/threads line, an
abbreviated summary is shown consisting of these elements:
<br>
a b c d <br>
%Cpu(s): 75.0/25.0 100[ ...</p>

<p style="margin-top: 1em">Where: a) is the combined us and
ni percentage; b) is the sy percentage; c) is the total; and
d) is one of two visual graphs of those representations. See
topic 4b. SUMMARY AREA <br>
Commands and the &lsquo;t&rsquo; command for additional
information on that special 4-way toggle.</p>

<p style="margin-top: 1em">2c. MEMORY Usage <br>
This portion consists of two lines which may express values
in kibibytes (KiB) through exbibytes (EiB) depending on the
scaling factor enforced with the &lsquo;E&rsquo; interactive
command.</p>

<p style="margin-top: 1em">As a default, Line 1 reflects
physical memory, classified as: <br>
total, free, used and buff/cache</p>

<p style="margin-top: 1em">Line 2 reflects mostly virtual
memory, classified as: <br>
total, free, used and avail (which is physical memory)</p>

<p style="margin-top: 1em">The avail number on line 2 is an
estimation of physical memory available for starting new
applications, without swapping. Unlike the free field, it
attempts to account for read&acirc; <br>
ily reclaimable page cache and memory slabs. It is available
on kernels 3.14, emulated on kernels 2.6.27+, otherwise the
same as free.</p>

<p style="margin-top: 1em">In the alternate memory display
modes, two abbreviated summary lines are shown consisting of
these elements: <br>
a b c <br>
GiB Mem : 18.7/15.738 [ ... <br>
GiB Swap: 0.0/7.999 [ ...</p>

<p style="margin-top: 1em">Where: a) is the percentage
used; b) is the total available; and c) is one of two visual
graphs of those representations.</p>

<p style="margin-top: 1em">In the case of physical memory,
the percentage represents the total minus the estimated
avail noted above. The &lsquo;Mem&rsquo; graph itself is
divided between used and any remaining mem&acirc; <br>
ory not otherwise accounted for by avail. See topic 4b.
SUMMARY AREA Commands and the &lsquo;m&rsquo; command for
additional information on that special 4-way toggle.</p>

<p style="margin-top: 1em">This table may help in
interpreting the scaled values displayed: <br>
KiB = kibibyte = 1024 bytes <br>
MiB = mebibyte = 1024 KiB = 1,048,576 bytes <br>
GiB = gibibyte = 1024 MiB = 1,073,741,824 bytes <br>
TiB = tebibyte = 1024 GiB = 1,099,511,627,776 bytes <br>
PiB = pebibyte = 1024 TiB = 1,125,899,906,842,624 bytes <br>
EiB = exbibyte = 1024 PiB = 1,152,921,504,606,846,976
bytes</p>

<p style="margin-top: 1em">3. FIELDS / Columns <br>
3a. DESCRIPTIONS of Fields <br>
Listed below are top&rsquo;s available process fields
(columns). They are shown in strict ascii alphabetical
order. You may customize their position and whether or not
they are dis&acirc; <br>
playable with the &lsquo;f&rsquo; or &lsquo;F&rsquo; (Fields
Management) interactive commands.</p>

<p style="margin-top: 1em">Any field is selectable as the
sort field, and you control whether they are sorted
high-to-low or low-to-high. For additional information on
sort provisions see topic 4c. TASK <br>
AREA Commands, SORTING.</p>

<p style="margin-top: 1em">The fields related to physical
memory or virtual memory reference &lsquo;(KiB)&rsquo; which
is the unsuffixed display mode. Such fields may, however, be
scaled from KiB through PiB. That <br>
scaling is influenced via the &lsquo;e&rsquo; interactive
command or established for startup through a build
option.</p>

<p style="margin-top: 1em">1. %CPU -- CPU Usage <br>
The task&rsquo;s share of the elapsed CPU time since the
last screen update, expressed as a percentage of total CPU
time.</p>

<p style="margin-top: 1em">In a true SMP environment, if a
process is multi-threaded and top is not operating in
Threads mode, amounts greater than 100% may be reported. You
toggle Threads mode with <br>
the &lsquo;H&rsquo; interactive command.</p>

<p style="margin-top: 1em">Also for multi-processor
environments, if Irix mode is Off, top will operate in
Solaris mode where a task&rsquo;s cpu usage will be divided
by the total number of CPUs. You toggle <br>
Irix/Solaris modes with the &lsquo;I&rsquo; interactive
command.</p>

<p style="margin-top: 1em">2. %MEM -- Memory Usage (RES)
<br>
A task&rsquo;s currently used share of available physical
memory.</p>

<p style="margin-top: 1em">3. CGROUPS -- Control Groups
<br>
The names of the control group(s) to which a process
belongs, or &lsquo;-&rsquo; if not applicable for that
process.</p>

<p style="margin-top: 1em">Control Groups provide for
allocating resources (cpu, memory, network bandwidth, etc.)
among installation-defined groups of processes. They enable
fine-grained control over <br>
allocating, denying, prioritizing, managing and monitoring
those resources.</p>

<p style="margin-top: 1em">Many different hierarchies of
cgroups can exist simultaneously on a system and each
hierarchy is attached to one or more subsystems. A subsystem
represents a single <br>
resource.</p>

<p style="margin-top: 1em">Note: The CGROUPS field, unlike
most columns, is not fixed-width. When displayed, it plus
any other variable width columns will be allocated all
remaining screen width (up <br>
to the maximum 512 characters). Even so, such variable width
fields could still suffer truncation. See topic 5c.
SCROLLING a Window for additional information on accessing
<br>
any truncated data.</p>

<p style="margin-top: 1em">4. CODE -- Code Size (KiB) <br>
The amount of physical memory devoted to executable code,
also known as the Text Resident Set size or TRS.</p>

<p style="margin-top: 1em">5. COMMAND -- Command Name or
Command Line <br>
Display the command line used to start a task or the name of
the associated program. You toggle between command line and
name with &lsquo;c&rsquo;, which is both a command-line
option <br>
and an interactive command.</p>

<p style="margin-top: 1em">When you&rsquo;ve chosen to
display command lines, processes without a command line
(like kernel threads) will be shown with only the program
name in brackets, as in this example: <br>
[kthreadd]</p>

<p style="margin-top: 1em">This field may also be impacted
by the forest view display mode. See the &lsquo;V&rsquo;
interactive command for additional information regarding
that mode.</p>

<p style="margin-top: 1em">Note: The COMMAND field, unlike
most columns, is not fixed-width. When displayed, it plus
any other variable width columns will be allocated all
remaining screen width (up <br>
to the maximum 512 characters). Even so, such variable width
fields could still suffer truncation. This is especially
true for this field when command lines are being dis&acirc;
<br>
played (the &lsquo;c&rsquo; interactive command.) See topic
5c. SCROLLING a Window for additional information on
accessing any truncated data.</p>

<p style="margin-top: 1em">6. DATA -- Data + Stack Size
(KiB) <br>
The amount of physical memory devoted to other than
executable code, also known as the Data Resident Set size or
DRS.</p>

<p style="margin-top: 1em">7. ENVIRON -- Environment
variables <br>
Display all of the environment variables, if any, as seen by
the respective processes. These variables will be displayed
in their raw native order, not the sorted order you <br>
are accustomed to seeing with an unqualified
&lsquo;set&rsquo;.</p>

<p style="margin-top: 1em">Note: The ENVIRON field, unlike
most columns, is not fixed-width. When displayed, it plus
any other variable width columns will be allocated all
remaining screen width (up <br>
to the maximum 512 characters). Even so, such variable width
fields could still suffer truncation. This is especially
true for this field. See topic 5c. SCROLLING a Window <br>
for additional information on accessing any truncated
data.</p>

<p style="margin-top: 1em">8. Flags -- Task Flags <br>
This column represents the task&rsquo;s current scheduling
flags which are expressed in hexadecimal notation and with
zeros suppressed. These flags are officially documented in
<br>
&lt;linux/sched.h&gt;.</p>

<p style="margin-top: 1em">9. GID -- Group Id <br>
The effective group ID.</p>

<p style="margin-top: 1em">10. GROUP -- Group Name <br>
The effective group name.</p>

<p style="margin-top: 1em">11. NI -- Nice Value <br>
The nice value of the task. A negative nice value means
higher priority, whereas a positive nice value means lower
priority. Zero in this field simply means priority will <br>
not be adjusted in determining a task&rsquo;s
dispatch-ability.</p>

<p style="margin-top: 1em">12. P -- Last used CPU (SMP)
<br>
A number representing the last used processor. In a true SMP
environment this will likely change frequently since the
kernel intentionally uses weak affinity. Also, the <br>
very act of running top may break this weak affinity and
cause more processes to change CPUs more often (because of
the extra demand for cpu time).</p>

<p style="margin-top: 1em">13. PGRP -- Process Group Id
<br>
Every process is member of a unique process group which is
used for distribution of signals and by terminals to
arbitrate requests for their input and output. When a
process <br>
is created (forked), it becomes a member of the process
group of its parent. By convention, this value equals the
process ID (see PID) of the first member of a process <br>
group, called the process group leader.</p>

<p style="margin-top: 1em">14. PID -- Process Id <br>
The task&rsquo;s unique process ID, which periodically
wraps, though never restarting at zero. In kernel terms, it
is a dispatchable entity defined by a task_struct.</p>

<p style="margin-top: 1em">This value may also be used as:
a process group ID (see PGRP); a session ID for the session
leader (see SID); a thread group ID for the thread group
leader (see TGID); and a <br>
TTY process group ID for the process group leader (see
TPGID).</p>

<p style="margin-top: 1em">15. PPID -- Parent Process Id
<br>
The process ID (pid) of a task&rsquo;s parent.</p>

<p style="margin-top: 1em">16. PR -- Priority <br>
The scheduling priority of the task. If you see
&lsquo;rt&rsquo; in this field, it means the task is running
under real time scheduling priority.</p>

<p style="margin-top: 1em">Under linux, real time priority
is somewhat misleading since traditionally the operating
itself was not preemptible. And while the 2.6 kernel can be
made mostly preemptible, <br>
it is not always so.</p>

<p style="margin-top: 1em">17. RES -- Resident Memory Size
(KiB) <br>
The non-swapped physical memory a task is using.</p>

<p style="margin-top: 1em">18. RUID -- Real User Id <br>
The real user ID.</p>

<p style="margin-top: 1em">19. RUSER -- Real User Name <br>
The real user name.</p>

<p style="margin-top: 1em">20. S -- Process Status <br>
The status of the task which can be one of: <br>
D = uninterruptible sleep <br>
R = running <br>
S = sleeping <br>
T = stopped by job control signal <br>
t = stopped by debugger during trace <br>
Z = zombie</p>

<p style="margin-top: 1em">Tasks shown as running should be
more properly thought of as ready to run -- their
task_struct is simply represented on the Linux run-queue.
Even without a true SMP <br>
machine, you may see numerous tasks in this state depending
on top&rsquo;s delay interval and nice value.</p>

<p style="margin-top: 1em">21. SHR -- Shared Memory Size
(KiB) <br>
The amount of shared memory available to a task, not all of
which is typically resident. It simply reflects memory that
could be potentially shared with other processes.</p>

<p style="margin-top: 1em">22. SID -- Session Id <br>
A session is a collection of process groups (see PGRP),
usually established by the login shell. A newly forked
process joins the session of its creator. By convention,
this <br>
value equals the process ID (see PID) of the first member of
the session, called the session leader, which is usually the
login shell.</p>

<p style="margin-top: 1em">23. SUID -- Saved User Id <br>
The saved user ID.</p>

<p style="margin-top: 1em">24. SUPGIDS -- Supplementary
Group IDs <br>
The IDs of any supplementary group(s) established at login
or inherited from a task&rsquo;s parent. They are displayed
in a comma delimited list.</p>

<p style="margin-top: 1em">Note: The SUPGIDS field, unlike
most columns, is not fixed-width. When displayed, it plus
any other variable width columns will be allocated all
remaining screen width (up <br>
to the maximum 512 characters). Even so, such variable width
fields could still suffer truncation. See topic 5c.
SCROLLING a Window for additional information on accessing
<br>
any truncated data.</p>

<p style="margin-top: 1em">25. SUPGRPS -- Supplementary
Group Names <br>
The names of any supplementary group(s) established at login
or inherited from a task&rsquo;s parent. They are displayed
in a comma delimited list.</p>

<p style="margin-top: 1em">Note: The SUPGRPS field, unlike
most columns, is not fixed-width. When displayed, it plus
any other variable width columns will be allocated all
remaining screen width (up <br>
to the maximum 512 characters). Even so, such variable width
fields could still suffer truncation. See topic 5c.
SCROLLING a Window for additional information on accessing
<br>
any truncated data.</p>

<p style="margin-top: 1em">26. SUSER -- Saved User Name
<br>
The saved user name.</p>

<p style="margin-top: 1em">27. SWAP -- Swapped Size (KiB)
<br>
The non-resident portion of a task&rsquo;s address
space.</p>

<p style="margin-top: 1em">28. TGID -- Thread Group Id <br>
The ID of the thread group to which a task belongs. It is
the PID of the thread group leader. In kernel terms, it
represents those tasks that share an mm_struct.</p>

<p style="margin-top: 1em">29. TIME -- CPU Time <br>
Total CPU time the task has used since it started. When
Cumulative mode is On, each process is listed with the cpu
time that it and its dead children have used. You toggle
<br>
Cumulative mode with &lsquo;S&rsquo;, which is both a
command-line option and an interactive command. See the
&lsquo;S&rsquo; interactive command for additional
information regarding this mode.</p>

<p style="margin-top: 1em">30. TIME+ -- CPU Time,
hundredths <br>
The same as TIME, but reflecting more granularity through
hundredths of a second.</p>

<p style="margin-top: 1em">31. TPGID -- Tty Process Group
Id <br>
The process group ID of the foreground process for the
connected tty, or -1 if a process is not connected to a
terminal. By convention, this value equals the process ID
(see <br>
PID) of the process group leader (see PGRP).</p>

<p style="margin-top: 1em">32. TTY -- Controlling Tty <br>
The name of the controlling terminal. This is usually the
device (serial port, pty, etc.) from which the process was
started, and which it uses for input or output. How&acirc;
<br>
ever, a task need not be associated with a terminal, in
which case you&rsquo;ll see &lsquo;?&rsquo; displayed.</p>

<p style="margin-top: 1em">33. UID -- User Id <br>
The effective user ID of the task&rsquo;s owner.</p>

<p style="margin-top: 1em">34. USED -- Memory in Use (KiB)
<br>
This field represents the non-swapped physical memory a task
has used (RES) plus the non-resident portion of its address
space (SWAP).</p>

<p style="margin-top: 1em">35. USER -- User Name <br>
The effective user name of the task&rsquo;s owner.</p>

<p style="margin-top: 1em">36. VIRT -- Virtual Memory Size
(KiB) <br>
The total amount of virtual memory used by the task. It
includes all code, data and shared libraries plus pages that
have been swapped out and pages that have been mapped <br>
but not used.</p>

<p style="margin-top: 1em">37. WCHAN -- Sleeping in
Function <br>
Depending on the availability of the kernel link map
(System.map), this field will show the name or the address
of the kernel function in which the task is currently
sleep&acirc; <br>
ing. Running tasks will display a dash (&rsquo;-&rsquo;) in
this column.</p>

<p style="margin-top: 1em">By displaying this field,
top&rsquo;s own working set could be increased by over
700Kb, depending on the kernel version. Should that occur,
your only means of reducing that over&acirc; <br>
head will be to stop and restart top.</p>

<p style="margin-top: 1em">38. nDRT -- Dirty Pages Count
<br>
The number of pages that have been modified since they were
last written to auxiliary storage. Dirty pages must be
written to auxiliary storage before the corresponding <br>
physical memory location can be used for some other virtual
page.</p>

<p style="margin-top: 1em">39. nMaj -- Major Page Fault
Count <br>
The number of major page faults that have occurred for a
task. A page fault occurs when a process attempts to read
from or write to a virtual page that is not currently <br>
present in its address space. A major page fault is when
auxiliary storage access is involved in making that page
available.</p>

<p style="margin-top: 1em">40. nMin -- Minor Page Fault
count <br>
The number of minor page faults that have occurred for a
task. A page fault occurs when a process attempts to read
from or write to a virtual page that is not currently <br>
present in its address space. A minor page fault does not
involve auxiliary storage access in making that page
available.</p>

<p style="margin-top: 1em">41. nTH -- Number of Threads
<br>
The number of threads associated with a process.</p>

<p style="margin-top: 1em">42. nsIPC -- IPC namespace <br>
The Inode of the namespace used to isolate interprocess
communication (IPC) resources such as System V IPC objects
and POSIX message queues.</p>

<p style="margin-top: 1em">43. nsMNT -- MNT namespace <br>
The Inode of the namespace used to isolate filesystem mount
points thus offering different views of the filesystem
hierarchy.</p>

<p style="margin-top: 1em">44. nsNET -- NET namespace <br>
The Inode of the namespace used to isolate resources such as
network devices, IP addresses, IP routing, port numbers,
etc.</p>

<p style="margin-top: 1em">45. nsPID -- PID namespace <br>
The Inode of the namespace used to isolate process ID
numbers meaning they need not remain unique. Thus, each such
namespace could have its own &lsquo;init&rsquo; (PID #1) to
manage <br>
various initialization tasks and reap orphaned child
processes.</p>

<p style="margin-top: 1em">46. nsUSER -- USER namespace
<br>
The Inode of the namespace used to isolate the user and
group ID numbers. Thus, a process could have a normal
unprivileged user ID outside a user namespace while having a
<br>
user ID of 0, with full root privileges, inside that
namespace.</p>

<p style="margin-top: 1em">47. nsUTS -- UTS namespace <br>
The Inode of the namespace used to isolate hostname and NIS
domain name. UTS simply means &quot;UNIX Time-sharing
System&quot;.</p>

<p style="margin-top: 1em">48. vMj -- Major Page Fault
Count Delta <br>
The number of major page faults that have occurred since the
last update (see nMaj).</p>

<p style="margin-top: 1em">49. vMn -- Minor Page Fault
Count Delta <br>
The number of minor page faults that have occurred since the
last update (see nMin).</p>

<p style="margin-top: 1em">3b. MANAGING Fields <br>
After pressing the interactive command &lsquo;f&rsquo; or
&lsquo;F&rsquo; (Fields Management) you will be presented
with a screen showing: 1) the &lsquo;current&rsquo; window
name; 2) the designated sort field; 3) <br>
all fields in their current order along with descriptions.
Entries marked with an asterisk are the currently displayed
fields, screen width permitting.</p>

<p style="margin-top: 1em">&Acirc;&middot; As the on screen
instructions indicate, you navigate among the fields with
the Up and Down arrow keys. The PgUp, PgDn, Home and End
keys can also be used to quickly reach <br>
the first or last available field.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Right arrow
key selects a field for repositioning and the Left arrow key
or the &lt;Enter&gt; key commits that field&rsquo;s
placement.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&lsquo;d&rsquo; key or the &lt;Space&gt; bar toggles a
field&rsquo;s display status, and thus the presence or
absence of the asterisk.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&lsquo;s&rsquo; key designates a field as the sort field.
See topic 4c. TASK AREA Commands, SORTING for additional
information regarding your selection of a sort field.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&lsquo;a&rsquo; and &lsquo;w&rsquo; keys can be used to
cycle through all available windows and the &lsquo;q&rsquo;
or &lt;Esc&gt; keys exit Fields Management.</p>

<p style="margin-top: 1em">The Fields Management screen can
also be used to change the &lsquo;current&rsquo;
window/field group in either full-screen mode or
alternate-display mode. Whatever was targeted when
&lsquo;q&rsquo; or <br>
&lt;Esc&gt; was pressed will be made current as you return
to the top display. See topic 5. ALTERNATE-DISPLAY
Provisions and the &lsquo;g&rsquo; interactive command for
insight into &lsquo;current&rsquo; <br>
windows and field groups.</p>

<p style="margin-top: 1em">Note: Any window that has been
scrolled horizontally will be reset if any field changes are
made via the Fields Management screen. Any vertical scrolled
position, however, will <br>
not be affected. See topic 5c. SCROLLING a Window for
additional information regarding vertical and horizontal
scrolling.</p>

<p style="margin-top: 1em">4. INTERACTIVE Commands <br>
Listed below is a brief index of commands within categories.
Some commands appear more than once -- their meaning or
scope may vary depending on the context in which they are
<br>
issued.</p>

<p style="margin-top: 1em">4a. Global-Commands <br>
&lt;Ent/Sp&gt; ?, =, 0, <br>
A, B, d, E, e, g, h, H, I, k, q, r, s, W, X, Y, Z <br>
4b. Summary-Area-Commands <br>
C, l, t, m, 1, 2, 3 <br>
4c. Task-Area-Commands <br>
Appearance: b, J, j, x, y, z <br>
Content: c, f, F, o, O, S, u, U, V <br>
Size: #, i, n <br>
Sorting: &lt;, &gt;, f, F, R <br>
4d. Color-Mapping <br>
&lt;Ret&gt;, a, B, b, H, M, q, S, T, w, z, 0 - 7 <br>
5b. Commands-for-Windows <br>
-, _, =, +, A, a, g, G, w <br>
5c. Scrolling-a-Window <br>
C, Up, Dn, Left, Right, PgUp, PgDn, Home, End <br>
5d. Searching-in-a-Window <br>
L, &amp;</p>

<p style="margin-top: 1em">4a. GLOBAL Commands <br>
The global interactive commands are always available in both
full-screen mode and alternate-display mode. However, some
of these interactive commands are not available when
run&acirc; <br>
ning in Secure mode.</p>

<p style="margin-top: 1em">If you wish to know in advance
whether or not your top has been secured, simply ask for
help and view the system summary on the second line.</p>

<p style="margin-top: 1em">&lt;Enter&gt; or &lt;Space&gt;
:Refresh-Display <br>
These commands awaken top and following receipt of any input
the entire display will be repainted. They also force an
update of any hotplugged cpu or physical memory <br>
changes.</p>

<p style="margin-top: 1em">Use either of these keys if you
have a large delay interval and wish to see current
status,</p>

<p style="margin-top: 1em">? | h :Help <br>
There are two help levels available. The first will provide
a reminder of all the basic interactive commands. If top is
secured, that screen will be abbreviated.</p>

<p style="margin-top: 1em">Typing &lsquo;h&rsquo; or
&lsquo;?&rsquo; on that help screen will take you to help
for those interactive commands applicable to
alternate-display mode.</p>

<p style="margin-top: 1em">= :Exit-Task-Limits <br>
Removes restrictions on which tasks are shown. This command
will reverse any &lsquo;i&rsquo; (idle tasks) and
&lsquo;n&rsquo; (max tasks) commands that might be active.
It also provides for an <br>
exit from PID monitoring, User filtering and Other
filtering. See the &lsquo;-p&rsquo; command-line option for
a discussion of PID monitoring, the &lsquo;U&rsquo; or
&lsquo;u&rsquo; interactive commands for <br>
User filtering and the &lsquo;O&rsquo; or &lsquo;o&rsquo;
interactive commands for Other filtering.</p>

<p style="margin-top: 1em">Additionally, any window that
has been scrolled will be reset with this command. See topic
5c. SCROLLING a Window for additional information regarding
vertical and hori&acirc; <br>
zontal scrolling.</p>

<p style="margin-top: 1em">When operating in
alternate-display mode this command has a broader
meaning.</p>

<p style="margin-top: 1em">0 :Zero-Suppress toggle <br>
This command determines whether zeros are shown or
suppressed for many of the fields in a task window. Fields
like UID, GID, NI, PR or P are not affected by this
toggle.</p>

<p style="margin-top: 1em">A :Alternate-Display-Mode toggle
<br>
This command will switch between full-screen mode and
alternate-display mode. See topic 5. ALTERNATE-DISPLAY
Provisions and the &lsquo;g&rsquo; interactive command for
insight into <br>
&lsquo;current&rsquo; windows and field groups.</p>

<p style="margin-top: 1em">B :Bold-Disable/Enable toggle
<br>
This command will influence use of the bold terminfo
capability and alters both the summary area and task area
for the &lsquo;current&rsquo; window. While it is intended
primarily <br>
for use with dumb terminals, it can be applied anytime.</p>

<p style="margin-top: 1em">Note: When this toggle is On and
top is operating in monochrome mode, the entire display will
appear as normal text. Thus, unless the &lsquo;x&rsquo;
and/or &lsquo;y&rsquo; toggles are using <br>
reverse for emphasis, there will be no visual confirmation
that they are even on.</p>

<p style="margin-top: 1em">* d | s
:Change-Delay-Time-interval <br>
You will be prompted to enter the delay time, in seconds,
between display updates.</p>

<p style="margin-top: 1em">Fractional seconds are honored,
but a negative number is not allowed. Entering 0 causes
(nearly) continuous updates, with an unsatisfactory display
as the system and tty <br>
driver try to keep up with top&rsquo;s demands. The delay
value is inversely proportional to system loading, so set it
with care.</p>

<p style="margin-top: 1em">If at any time you wish to know
the current delay time, simply ask for help and view the
system summary on the second line.</p>

<p style="margin-top: 1em">E :Extend-Memory-Scale in
Summary Area <br>
With this command you can cycle through the available
summary area memory scaling which ranges from KiB (kibibytes
or 1,024 bytes) through EiB (exbibytes or <br>
1,152,921,504,606,846,976 bytes).</p>

<p style="margin-top: 1em">If you see a &lsquo;+&rsquo;
between a displayed number and the following label, it means
that top was forced to truncate some portion of that number.
By raising the scaling factor, <br>
such truncation can be avoided.</p>

<p style="margin-top: 1em">e :Extend-Memory-Scale in Task
Windows <br>
With this command you can cycle through the available task
window memory scaling which ranges from KiB (kibibytes or
1,024 bytes) through PiB (pebibytes or <br>
1,125,899,906,842,624 bytes).</p>

<p style="margin-top: 1em">While top will try to honor the
selected target range, additional scaling might still be
necessary in order to accommodate current values. If you
wish to see a more homo&acirc; <br>
geneous result in the memory columns, raising the scaling
range will usually accomplish that goal. Raising it too
high, however, is likely to produce an all zero result <br>
which cannot be suppressed with the &lsquo;0&rsquo;
interactive command.</p>

<p style="margin-top: 1em">g
:Choose-Another-Window/Field-Group <br>
You will be prompted to enter a number between 1 and 4
designating the field group which should be made the
&lsquo;current&rsquo; window. You will soon grow comfortable
with these 4 <br>
windows, especially after experimenting with
alternate-display mode.</p>

<p style="margin-top: 1em">H :Threads-mode toggle <br>
When this toggle is On, individual threads will be displayed
for all processes in all visible task windows. Otherwise,
top displays a summation of all threads in each <br>
process.</p>

<p style="margin-top: 1em">I :Irix/Solaris-Mode toggle <br>
When operating in Solaris mode (&lsquo;I&rsquo; toggled
Off), a task&rsquo;s cpu usage will be divided by the total
number of CPUs. After issuing this command, you&rsquo;ll be
told the new state <br>
of this toggle.</p>

<p style="margin-top: 1em">* k :Kill-a-task <br>
You will be prompted for a PID and then the signal to
send.</p>

<p style="margin-top: 1em">Entering no PID or a negative
number will be interpreted as the default shown in the
prompt (the first task displayed). A PID value of zero means
the top program itself.</p>

<p style="margin-top: 1em">The default signal, as reflected
in the prompt, is SIGTERM. However, you can send any signal,
via number or name.</p>

<p style="margin-top: 1em">If you wish to abort the kill
process, do one of the following depending on your progress:
<br>
1) at the pid prompt, type an invalid number <br>
2) at the signal prompt, type 0 (or any invalid signal) <br>
3) at any prompt, type &lt;Esc&gt;</p>

<p style="margin-top: 1em">q :Quit</p>

<p style="margin-top: 1em">* r :Renice-a-Task <br>
You will be prompted for a PID and then the value to nice it
to.</p>

<p style="margin-top: 1em">Entering no PID or a negative
number will be interpreted as the default shown in the
prompt (the first task displayed). A PID value of zero means
the top program itself.</p>

<p style="margin-top: 1em">A positive nice value will cause
a process to lose priority. Conversely, a negative nice
value will cause a process to be viewed more favorably by
the kernel. As a gen&acirc; <br>
eral rule, ordinary users can only increase the nice value
and are prevented from lowering it.</p>

<p style="margin-top: 1em">If you wish to abort the renice
process, do one of the following depending on your progress:
<br>
1) at the pid prompt, type an invalid number <br>
2) at the nice prompt, type &lt;Enter&gt; with no input <br>
3) at any prompt, type &lt;Esc&gt;</p>

<p style="margin-top: 1em">W :Write-the-Configuration-File
<br>
This will save all of your options and toggles plus the
current display mode and delay time. By issuing this command
just before quitting top, you will be able restart <br>
later in exactly that same state.</p>

<p style="margin-top: 1em">X :Extra-Fixed-Width <br>
Some fields are fixed width and not scalable. As such, they
are subject to truncation which would be indicated by a
&lsquo;+&rsquo; in the last position.</p>

<p style="margin-top: 1em">This interactive command can be
used to alter the widths of the following fields:</p>

<p style="margin-top: 1em">field default field default
field default <br>
GID 5 GROUP 8 WCHAN 10 <br>
RUID 5 RUSER 8 nsIPC 10 <br>
SUID 5 SUSER 8 nsMNT 10 <br>
UID 5 USER 8 nsNET 10 <br>
TTY 8 nsPID 10 <br>
nsUSER 10 <br>
nsUTS 10</p>

<p style="margin-top: 1em">You will be prompted for the
amount to be added to the default widths shown above.
Entering zero forces a return to those defaults.</p>

<p style="margin-top: 1em">If you enter a negative number,
top will automatically increase the column size as needed
until there is no more truncated data. You can accelerate
this process by reduc&acirc; <br>
ing the delay interval or holding down the &lt;Space&gt;
bar.</p>

<p style="margin-top: 1em">Note: Whether explicitly or
automatically increased, the widths for these fields are
never decreased by top. To narrow them you must specify a
smaller number or restore <br>
the defaults.</p>

<p style="margin-top: 1em">Y :Inspect-Other-Output <br>
After issuing the &lsquo;Y&rsquo; interactive command, you
will be prompted for a target PID. Typing a value or
accepting the default results in a separate screen. That
screen can <br>
be used to view a variety of files or piped command output
while the normal top iterative display is paused.</p>

<p style="margin-top: 1em">Note: This interactive command
is only fully realized when supporting entries have been
manually added to the end of the top configuration file. For
details on creating <br>
those entries, see topic 6c. ADDING INSPECT Entries.</p>

<p style="margin-top: 1em">Most of the keys used to
navigate the Inspect feature are reflected in its header
prologue. There are, however, additional keys available once
you have selected a partic&acirc; <br>
ular file or command. They are familiar to anyone who has
used the pager &lsquo;less&rsquo; and are summarized here
for future reference.</p>

<p style="margin-top: 1em">key function <br>
= alternate status-line, file or pipeline <br>
/ find, equivalent to &lsquo;L&rsquo; locate <br>
n find next, equivalent to &lsquo;&amp;&rsquo; locate next
<br>
&lt;Space&gt; scroll down, equivalent to &lt;PgDn&gt; <br>
b scroll up, equivalent to &lt;PgUp&gt; <br>
g first line, equivalent to &lt;Home&gt; <br>
G last line, equivalent to &lt;End&gt;</p>

<p style="margin-top: 1em">Z :Change-Color-Mapping <br>
This key will take you to a separate screen where you can
change the colors for the &lsquo;current&rsquo; window, or
for all windows. For details regarding this interactive
command <br>
see topic 4d. COLOR Mapping.</p>

<p style="margin-top: 1em">* The commands shown with an
asterisk (&lsquo;*&rsquo;) are not available in Secure mode,
nor will they be shown on the level-1 help screen.</p>

<p style="margin-top: 1em">4b. SUMMARY AREA Commands <br>
The summary area interactive commands are always available
in both full-screen mode and alternate-display mode. They
affect the beginning lines of your display and will
deter&acirc; <br>
mine the position of messages and prompts.</p>

<p style="margin-top: 1em">These commands always impact
just the &lsquo;current&rsquo; window/field group. See topic
5. ALTERNATE-DISPLAY Provisions and the &lsquo;g&rsquo;
interactive command for insight into &lsquo;current&rsquo;
windows <br>
and field groups.</p>

<p style="margin-top: 1em">C :Show-scroll-coordinates
toggle <br>
Toggle an informational message which is displayed whenever
the message line is not otherwise being used. For additional
information see topic 5c. SCROLLING a Window.</p>

<p style="margin-top: 1em">l :Load-Average/Uptime toggle
<br>
This is also the line containing the program name (possibly
an alias) when operating in full-screen mode or the
&lsquo;current&rsquo; window name when operating in
alternate-display <br>
mode.</p>

<p style="margin-top: 1em">t :Task/Cpu-States toggle <br>
This command affects from 2 to many summary area lines,
depending on the state of the &lsquo;1&rsquo;,
&lsquo;2&rsquo; or &lsquo;3&rsquo; command toggles and
whether or not top is running under true SMP.</p>

<p style="margin-top: 1em">This portion of the summary area
is also influenced by the &lsquo;H&rsquo; interactive
command toggle, as reflected in the total label which shows
either Tasks or Threads.</p>

<p style="margin-top: 1em">This command serves as a 4-way
toggle, cycling through these modes: <br>
1. detailed percentages by category (default) <br>
2. abbreviated user/system and total % + bar graph <br>
3. abbreviated user/system and total % + block graph <br>
4. turn off task and cpu states display</p>

<p style="margin-top: 1em">When operating in either of the
graphic modes, the display becomes much more meaningful when
individual CPUs or NUMA nodes are also displayed. See the
the &lsquo;1&rsquo;, &lsquo;2&rsquo; and <br>
&lsquo;3&rsquo; commands below for additional
information.</p>

<p style="margin-top: 1em">m :Memory/Swap-Usage toggle <br>
This command affects the two summary area lines dealing with
physical and virtual memory.</p>

<p style="margin-top: 1em">This command serves as a 4-way
toggle, cycling through these modes: <br>
1. detailed percentages by memory type (default) <br>
2. abbreviated % used/total available + bar graph <br>
3. abbreviated % used/total available + block graph <br>
4. turn off memory display</p>

<p style="margin-top: 1em">1 :Single/Separate-Cpu-States
toggle <br>
This command affects how the &lsquo;t&rsquo; command&rsquo;s
Cpu States portion is shown. Although this toggle exists
primarily to serve massively-parallel SMP machines, it is
not <br>
restricted to solely SMP environments.</p>

<p style="margin-top: 1em">When you see
&lsquo;%Cpu(s):&rsquo; in the summary area, the
&lsquo;1&rsquo; toggle is On and all cpu information is
gathered in a single line. Otherwise, each cpu is displayed
separately as: <br>
&lsquo;%Cpu0, %Cpu1, ...&rsquo; up to available screen
height.</p>

<p style="margin-top: 1em">2 :NUMA-Nodes/Cpu-Summary toggle
<br>
This command toggles between the &lsquo;1&rsquo; command cpu
summary display (only) or a summary display plus the cpu
usage statistics for each NUMA Node. It is only available if
a <br>
system has the requisite NUMA support.</p>

<p style="margin-top: 1em">3 :Expand-NUMA-Node <br>
You will be invited to enter a number representing a NUMA
Node. Thereafter, a node summary plus the statistics for
each cpu in that node will be shown until either the <br>
&lsquo;1&rsquo; or &lsquo;2&rsquo; command toggle is
pressed. This interactive command is only available if a
system has the requisite NUMA support.</p>

<p style="margin-top: 1em">Note: If the entire summary area
has been toggled Off for any window, you would be left with
just the message line. In that way, you will have maximized
available task rows but <br>
(temporarily) sacrificed the program name in full-screen
mode or the &lsquo;current&rsquo; window name when in
alternate-display mode.</p>

<p style="margin-top: 1em">4c. TASK AREA Commands <br>
The task area interactive commands are always available in
full-screen mode.</p>

<p style="margin-top: 1em">The task area interactive
commands are never available in alternate-display mode if
the &lsquo;current&rsquo; window&rsquo;s task display has
been toggled Off (see topic 5. ALTERNATE-DISPLAY Pro&acirc;
<br>
visions).</p>

<p style="margin-top: 1em">APPEARANCE of task window</p>

<p style="margin-top: 1em">J :Justify-Numeric-Columns
toggle <br>
Alternates between right-justified (the default) and
left-justified numeric data. If the numeric data completely
fills the available column, this command toggle may <br>
impact the column header only.</p>

<p style="margin-top: 1em">j :Justify-Character-Columns
toggle <br>
Alternates between left-justified (the default) and
right-justified character data. If the character data
completely fills the available column, this command toggle
may <br>
impact the column header only.</p>

<p style="margin-top: 1em">The following commands will also
be influenced by the state of the global &lsquo;B&rsquo;
(bold enable) toggle.</p>

<p style="margin-top: 1em">b :Bold/Reverse toggle <br>
This command will impact how the &lsquo;x&rsquo; and
&lsquo;y&rsquo; toggles are displayed. It may also impact
the summary area when a bar graph has been selected for cpu
states or memory usage <br>
via the &rsquo;t&rsquo; or &rsquo;m&rsquo; toggles.</p>

<p style="margin-top: 1em">x :Column-Highlight toggle <br>
Changes highlighting for the current sort field. If you
forget which field is being sorted this command can serve as
a quick visual reminder, providing the sort field is <br>
being displayed. The sort field might not be visible
because: <br>
1) there is insufficient Screen Width <br>
2) the &lsquo;f&rsquo; interactive command turned it Off</p>

<p style="margin-top: 1em">Note: Whenever Searching and/or
Other Filtering is active in a window, column highlighting
is temporarily disabled. See the notes at the end of topics
5d. SEARCHING and <br>
5e. FILTERING for an explanation why.</p>

<p style="margin-top: 1em">y :Row-Highlight toggle <br>
Changes highlighting for &quot;running&quot; tasks. For
additional insight into this task state, see topic 3a.
DESCRIPTIONS of Fields, the &lsquo;S&rsquo; field (Process
Status).</p>

<p style="margin-top: 1em">Use of this provision provides
important insight into your system&rsquo;s health. The only
costs will be a few additional tty escape sequences.</p>

<p style="margin-top: 1em">z :Color/Monochrome toggle <br>
Switches the &lsquo;current&rsquo; window between your last
used color scheme and the older form of black-on-white or
white-on-black. This command will alter both the summary
area <br>
and task area but does not affect the state of the
&lsquo;x&rsquo;, &lsquo;y&rsquo; or &lsquo;b&rsquo;
toggles.</p>

<p style="margin-top: 1em">CONTENT of task window</p>

<p style="margin-top: 1em">c :Command-Line/Program-Name
toggle <br>
This command will be honored whether or not the COMMAND
column is currently visible. Later, should that field come
into view, the change you applied will be seen.</p>

<p style="margin-top: 1em">f | F :Fields-Management <br>
These keys display a separate screen where you can change
which fields are displayed, their order and also designate
the sort field. For additional information on these <br>
interactive commands see topic 3b. MANAGING Fields.</p>

<p style="margin-top: 1em">o | O :Other-Filtering <br>
You will be prompted for the selection criteria which then
determines which tasks will be shown in the
&lsquo;current&rsquo; window. Your criteria can be made case
sensitive or case <br>
can be ignored. And you determine if top should include or
exclude matching tasks.</p>

<p style="margin-top: 1em">See topic 5e. FILTERING in a
window for details on these and additional related
interactive commands.</p>

<p style="margin-top: 1em">S :Cumulative-Time-Mode toggle
<br>
When Cumulative mode is On, each process is listed with the
cpu time that it and its dead children have used.</p>

<p style="margin-top: 1em">When Off, programs that fork
into many separate tasks will appear less demanding. For
programs like &lsquo;init&rsquo; or a shell this is
appropriate but for others, like compilers, <br>
perhaps not. Experiment with two task windows sharing the
same sort field but with different &lsquo;S&rsquo; states
and see which representation you prefer.</p>

<p style="margin-top: 1em">After issuing this command,
you&rsquo;ll be informed of the new state of this toggle. If
you wish to know in advance whether or not Cumulative mode
is in effect, simply ask for <br>
help and view the window summary on the second line.</p>

<p style="margin-top: 1em">u | U :Show-Specific-User-Only
<br>
You will be prompted for the uid or name of the user to
display. The -u option matches on effective user whereas the
-U option matches on any user (real, effective, <br>
saved, or filesystem).</p>

<p style="margin-top: 1em">Thereafter, in that task window
only matching users will be shown, or possibly no processes
will be shown. Prepending an exclamation point
(&rsquo;!&rsquo;) to the user id or name <br>
instructs top to display only processes with users not
matching the one provided.</p>

<p style="margin-top: 1em">Different task windows can be
used to filter different users. Later, if you wish to
monitor all users again in the &lsquo;current&rsquo; window,
re-issue this command but just press <br>
&lt;Enter&gt; at the prompt.</p>

<p style="margin-top: 1em">V :Forest-View-Mode toggle <br>
In this mode, processes are reordered according to their
parents and the layout of the COMMAND column resembles that
of a tree. In forest view mode it is still possible <br>
to toggle between program name and command line (see the
&lsquo;c&rsquo; interactive command) or between processes
and threads (see the &lsquo;H&rsquo; interactive
command).</p>

<p style="margin-top: 1em">Note: Typing any key affecting
the sort order will exit forest view mode in the
&lsquo;current&rsquo; window. See topic 4c. TASK AREA
Commands, SORTING for information on those keys.</p>

<p style="margin-top: 1em">SIZE of task window</p>

<p style="margin-top: 1em">i :Idle-Process toggle <br>
Displays all tasks or just active tasks. When this toggle is
Off, tasks that have not used any CPU since the last update
will not be displayed. However, due to the gran&acirc; <br>
ularity of the %CPU and TIME+ fields, some processes may
still be displayed that appear to have used no CPU.</p>

<p style="margin-top: 1em">If this command is applied to
the last task display when in alternate-display mode, then
it will not affect the window&rsquo;s size, as all prior
task displays will have already <br>
been painted.</p>

<p style="margin-top: 1em">n | # :Set-Maximum-Tasks <br>
You will be prompted to enter the number of tasks to
display. The lessor of your number and available screen rows
will be used.</p>

<p style="margin-top: 1em">When used in alternate-display
mode, this is the command that gives you precise control
over the size of each currently visible task display, except
for the very last. It <br>
will not affect the last window&rsquo;s size, as all prior
task displays will have already been painted.</p>

<p style="margin-top: 1em">Note: If you wish to increase
the size of the last visible task display when in
alternate-display mode, simply decrease the size of the task
display(s) above it.</p>

<p style="margin-top: 1em">SORTING of task window</p>

<p style="margin-top: 1em">For compatibility, this top
supports most of the former top sort keys. Since this is
primarily a service to former top users, these commands do
not appear on any help screen. <br>
command sorted-field supported <br>
A start time (non-display) No <br>
M %MEM Yes <br>
N PID Yes <br>
P %CPU Yes <br>
T TIME+ Yes</p>

<p style="margin-top: 1em">Before using any of the
following sort provisions, top suggests that you temporarily
turn on column highlighting using the &lsquo;x&rsquo;
interactive command. That will help ensure that <br>
the actual sort environment matches your intent.</p>

<p style="margin-top: 1em">The following interactive
commands will only be honored when the current sort field is
visible. The sort field might not be visible because: <br>
1) there is insufficient Screen Width <br>
2) the &lsquo;f&rsquo; interactive command turned it Off</p>

<p style="margin-top: 1em">&lt; :Move-Sort-Field-Left <br>
Moves the sort column to the left unless the current sort
field is the first field being displayed.</p>

<p style="margin-top: 1em">&gt; :Move-Sort-Field-Right <br>
Moves the sort column to the right unless the current sort
field is the last field being displayed.</p>

<p style="margin-top: 1em">The following interactive
commands will always be honored whether or not the current
sort field is visible.</p>

<p style="margin-top: 1em">f | F :Fields-Management <br>
These keys display a separate screen where you can change
which field is used as the sort column, among other
functions. This can be a convenient way to simply verify
<br>
the current sort field, when running top with column
highlighting turned Off.</p>

<p style="margin-top: 1em">R :Reverse/Normal-Sort-Field
toggle <br>
Using this interactive command you can alternate between
high-to-low and low-to-high sorts.</p>

<p style="margin-top: 1em">Note: Field sorting uses
internal values, not those in column display. Thus, the TTY
and WCHAN fields will violate strict ASCII collating
sequence.</p>

<p style="margin-top: 1em">4d. COLOR Mapping <br>
When you issue the &lsquo;Z&rsquo; interactive command, you
will be presented with a separate screen. That screen can be
used to change the colors in just the &lsquo;current&rsquo;
window or in all <br>
four windows before returning to the top display.</p>

<p style="margin-top: 1em">The following interactive
commands are available. <br>
4 upper case letters to select a target <br>
8 numbers to select a color <br>
normal toggles available <br>
B :bold disable/enable <br>
b :running tasks &quot;bold&quot;/reverse <br>
z :color/mono <br>
other commands available <br>
a/w :apply, then go to next/prior <br>
&lt;Enter&gt; :apply and exit <br>
q :abandon current changes and exit</p>

<p style="margin-top: 1em">If you use &lsquo;a&rsquo; or
&lsquo;w&rsquo; to cycle the targeted window, you will have
applied the color scheme that was displayed when you left
that window. You can, of course, easily return to any <br>
window and reapply different colors or turn colors Off
completely with the &lsquo;z&rsquo; toggle.</p>

<p style="margin-top: 1em">The Color Mapping screen can
also be used to change the &lsquo;current&rsquo;
window/field group in either full-screen mode or
alternate-display mode. Whatever was targeted when
&lsquo;q&rsquo; or <br>
&lt;Enter&gt; was pressed will be made current as you return
to the top display.</p>

<p style="margin-top: 1em">5. ALTERNATE-DISPLAY Provisions
<br>
5a. WINDOWS Overview <br>
Field Groups/Windows: <br>
In full-screen mode there is a single window represented by
the entire screen. That single window can still be changed
to display 1 of 4 different field groups (see the
&lsquo;g&rsquo; <br>
interactive command, repeated below). Each of the 4 field
groups has a unique separately configurable summary area and
its own configurable task area.</p>

<p style="margin-top: 1em">In alternate-display mode, those
4 underlying field groups can now be made visible
simultaneously, or can be turned Off individually at your
command.</p>

<p style="margin-top: 1em">The summary area will always
exist, even if it&rsquo;s only the message line. At any
given time only one summary area can be displayed. However,
depending on your commands, there <br>
could be from zero to four separate task displays currently
showing on the screen.</p>

<p style="margin-top: 1em">Current Window: <br>
The &lsquo;current&rsquo; window is the window associated
with the summary area and the window to which task related
commands are always directed. Since in alternate-display
mode you can <br>
toggle the task display Off, some commands might be
restricted for the &lsquo;current&rsquo; window.</p>

<p style="margin-top: 1em">A further complication arises
when you have toggled the first summary area line Off. With
the loss of the window name (the &lsquo;l&rsquo; toggled
line), you&rsquo;ll not easily know what win&acirc; <br>
dow is the &lsquo;current&rsquo; window.</p>

<p style="margin-top: 1em">5b. COMMANDS for Windows <br>
- | _ :Show/Hide-Window(s) toggles <br>
The &lsquo;-&rsquo; key turns the &lsquo;current&rsquo;
window&rsquo;s task display On and Off. When On, that task
area will show a minimum of the columns header you&rsquo;ve
established with the &lsquo;f&rsquo; inter&acirc; <br>
active command. It will also reflect any other task area
options/toggles you&rsquo;ve applied yielding zero or more
tasks.</p>

<p style="margin-top: 1em">The &lsquo;_&rsquo; key does the
same for all task displays. In other words, it switches
between the currently visible task display(s) and any task
display(s) you had toggled Off. <br>
If all 4 task displays are currently visible, this
interactive command will leave the summary area as the only
display element.</p>

<p style="margin-top: 1em">* = | +
:Equalize-(reinitialize)-Window(s) <br>
The &lsquo;=&rsquo; key forces the &lsquo;current&rsquo;
window&rsquo;s task display to be visible. It also reverses
any &lsquo;i&rsquo; (idle tasks), &lsquo;n&rsquo; (max
tasks), &lsquo;u/U&rsquo; (user filter) and
&lsquo;o/O&rsquo; (other filter) <br>
commands that might be active. Also, if the window had been
scrolled, it will be reset with this command. See topic 5c.
SCROLLING a Window for additional information <br>
regarding vertical and horizontal scrolling.</p>

<p style="margin-top: 1em">The &lsquo;+&rsquo; key does the
same for all windows. The four task displays will reappear,
evenly balanced. They will also have retained any
customizations you had previously <br>
applied, except for the &lsquo;i&rsquo; (idle tasks),
&lsquo;n&rsquo; (max tasks), &lsquo;u/U&rsquo; (user
filter), &lsquo;o/O&rsquo; (other filter) and scrolling
interactive commands.</p>

<p style="margin-top: 1em">* A :Alternate-Display-Mode
toggle <br>
This command will switch between full-screen mode and
alternate-display mode.</p>

<p style="margin-top: 1em">The first time you issue this
command, all four task displays will be shown. Thereafter
when you switch modes, you will see only the task display(s)
you&rsquo;ve chosen to make <br>
visible.</p>

<p style="margin-top: 1em">* a | w
:Next-Window-Forward/Backward <br>
This will change the &lsquo;current&rsquo; window, which in
turn changes the window to which commands are directed.
These keys act in a circular fashion so you can reach any
desired <br>
window using either key.</p>

<p style="margin-top: 1em">Assuming the window name is
visible (you have not toggled &lsquo;l&rsquo; Off), whenever
the &lsquo;current&rsquo; window name loses its
emphasis/color, that&rsquo;s a reminder the task display is
Off <br>
and many commands will be restricted.</p>

<p style="margin-top: 1em">* g
:Choose-Another-Window/Field-Group <br>
You will be prompted to enter a number between 1 and 4
designating the field group which should be made the
&lsquo;current&rsquo; window.</p>

<p style="margin-top: 1em">In full-screen mode, this
command is necessary to alter the &lsquo;current&rsquo;
window. In alternate-display mode, it is simply a less
convenient alternative to the &lsquo;a&rsquo; and
&lsquo;w&rsquo; <br>
commands.</p>

<p style="margin-top: 1em">G
:Change-Window/Field-Group-Name <br>
You will be prompted for a new name to be applied to the
&lsquo;current&rsquo; window. It does not require that the
window name be visible (the &lsquo;l&rsquo; toggle to be
On).</p>

<p style="margin-top: 1em">* The interactive commands shown
with an asterisk (&lsquo;*&rsquo;) have use beyond
alternate-display mode. <br>
=, A, g are always available <br>
a, w act the same with color mapping <br>
and fields management</p>

<p style="margin-top: 1em">5c. SCROLLING a Window <br>
Typically a task window is a partial view into a
systems&rsquo;s total tasks/threads which shows only some of
the available fields/columns. With these scrolling keys, you
can move <br>
that view vertically or horizontally to reveal any desired
task or column.</p>

<p style="margin-top: 1em">Up,PgUp :Scroll-Tasks <br>
Move the view up toward the first task row, until the first
task is displayed at the top of the &lsquo;current&rsquo;
window. The Up arrow key moves a single line while PgUp
scrolls the <br>
entire window.</p>

<p style="margin-top: 1em">Down,PgDn :Scroll-Tasks <br>
Move the view down toward the last task row, until the last
task is the only task displayed at the top of the
&lsquo;current&rsquo; window. The Down arrow key moves a
single line while <br>
PgDn scrolls the entire window.</p>

<p style="margin-top: 1em">Left,Right :Scroll-Columns <br>
Move the view of displayable fields horizontally one column
at a time.</p>

<p style="margin-top: 1em">Note: As a reminder, some
fields/columns are not fixed-width but allocated all
remaining screen width when visible. When scrolling right or
left, that feature may produce <br>
some unexpected results initially.</p>

<p style="margin-top: 1em">Additionally, there are special
provisions for any variable width field when positioned as
the last displayed field. Once that field is reached via the
right arrow key, and <br>
is thus the only column shown, you can continue scrolling
horizontally within such a field. See the &lsquo;C&rsquo;
interactive command below for additional information.</p>

<p style="margin-top: 1em">Home :Jump-to-Home-Position <br>
Reposition the display to the un-scrolled coordinates.</p>

<p style="margin-top: 1em">End :Jump-to-End-Position <br>
Reposition the display so that the rightmost column reflects
the last displayable field and the bottom task row
represents the last task.</p>

<p style="margin-top: 1em">Note: From this position it is
still possible to scroll down and right using the arrow
keys. This is true until a single column and a single task
is left as the only display <br>
element.</p>

<p style="margin-top: 1em">C :Show-scroll-coordinates
toggle <br>
Toggle an informational message which is displayed whenever
the message line is not otherwise being used. That message
will take one of two forms depending on whether or not <br>
a variable width column has also been scrolled.</p>

<p style="margin-top: 1em">scroll coordinates: y = n/n
(tasks), x = n/n (fields) <br>
scroll coordinates: y = n/n (tasks), x = n/n (fields) +
nn</p>

<p style="margin-top: 1em">The coordinates shown as n/n are
relative to the upper left corner of the
&lsquo;current&rsquo; window. The additional &lsquo;+
nn&rsquo; represents the displacement into a variable width
column <br>
when it has been scrolled horizontally. Such displacement
occurs in normal 8 character tab stop amounts via the right
and left arrow keys.</p>

<p style="margin-top: 1em">y = n/n (tasks) <br>
The first n represents the topmost visible task and is
controlled by scrolling keys. The second n is updated
automatically to reflect total tasks.</p>

<p style="margin-top: 1em">x = n/n (fields) <br>
The first n represents the leftmost displayed column and is
controlled by scrolling keys. The second n is the total
number of displayable fields and is established with <br>
the &lsquo;f&rsquo; interactive command.</p>

<p style="margin-top: 1em">The above interactive commands
are always available in full-screen mode but never available
in alternate-display mode if the &lsquo;current&rsquo;
window&rsquo;s task display has been toggled Off.</p>

<p style="margin-top: 1em">Note: When any form of filtering
is active, you can expect some slight aberrations when
scrolling since not all tasks will be visible. This is
particularly apparent when using <br>
the Up/Down arrow keys.</p>

<p style="margin-top: 1em">5d. SEARCHING in a Window <br>
You can use these interactive commands to locate a task row
containing a particular value.</p>

<p style="margin-top: 1em">L :Locate-a-string <br>
You will be prompted for the case-sensitive string to locate
starting from the current window coordinates. There are no
restrictions on search string content.</p>

<p style="margin-top: 1em">Searches are not limited to
values from a single field or column. All of the values
displayed in a task row are allowed in a search string. You
may include spaces, numbers, <br>
symbols and even forest view artwork.</p>

<p style="margin-top: 1em">Keying &lt;Enter&gt; with no
input will effectively disable the &lsquo;&amp;&rsquo; key
until a new search string is entered.</p>

<p style="margin-top: 1em">&amp; :Locate-next <br>
Assuming a search string has been established, top will
attempt to locate the next occurrence.</p>

<p style="margin-top: 1em">When a match is found, the
current window is repositioned vertically so the task row
containing that string is first. The scroll coordinates
message can provide confirmation of <br>
such vertical repositioning (see the &lsquo;C&rsquo;
interactive command). Horizontal scrolling, however, is
never altered via searching.</p>

<p style="margin-top: 1em">The availability of a matching
string will be influenced by the following factors.</p>

<p style="margin-top: 1em">a. Which fields are displayable
from the total available, <br>
see topic 3b. MANAGING Fields.</p>

<p style="margin-top: 1em">b. Scrolling a window vertically
and/or horizontally, <br>
see topic 5c. SCROLLING a Window.</p>

<p style="margin-top: 1em">c. The state of the
command/command-line toggle, <br>
see the &lsquo;c&rsquo; interactive command.</p>

<p style="margin-top: 1em">d. The stability of the chosen
sort column, <br>
for example PID is good but %CPU bad.</p>

<p style="margin-top: 1em">If a search fails, restoring the
&lsquo;current&rsquo; window home (unscrolled) position,
scrolling horizontally, displaying command-lines or choosing
a more stable sort field could yet pro&acirc; <br>
duce a successful &lsquo;&amp;&rsquo; search.</p>

<p style="margin-top: 1em">The above interactive commands
are always available in full-screen mode but never available
in alternate-display mode if the &lsquo;current&rsquo;
window&rsquo;s task display has been toggled Off.</p>

<p style="margin-top: 1em">Note: Whenever a Search is
active in a window, top will turn column highlighting Off to
prevent false matches on internal non-display escape
sequences. Such highlighting will be <br>
restored when a window&rsquo;s search string is empty. See
the &lsquo;x&rsquo; interactive command for additional
information on sort column highlighting.</p>

<p style="margin-top: 1em">5e. FILTERING in a Window <br>
You can use this Other Filter feature to establish selection
criteria which will then determine which tasks are shown in
the &lsquo;current&rsquo; window.</p>

<p style="margin-top: 1em">Establishing a filter requires:
1) a field name; 2) an operator; and 3) a selection value,
as a minimum. This is the most complex of top&rsquo;s user
input requirements so, when you <br>
make a mistake, command recall will be your friend. Remember
the Up/Down arrow keys or their aliases when prompted for
input.</p>

<p style="margin-top: 1em">Filter Basics</p>

<p style="margin-top: 1em">1. field names are case
sensitive and spelled as in the header</p>

<p style="margin-top: 1em">2. selection values need not
comprise the full displayed field</p>

<p style="margin-top: 1em">3. a selection is either case
insensitive or sensitive to case</p>

<p style="margin-top: 1em">4. the default is inclusion,
prepending &lsquo;!&rsquo; denotes exclusions</p>

<p style="margin-top: 1em">5. multiple selection criteria
can be applied to a task window</p>

<p style="margin-top: 1em">6. inclusion and exclusion
criteria can be used simultaneously</p>

<p style="margin-top: 1em">7. the 1 equality and 2
relational filters can be freely mixed</p>

<p style="margin-top: 1em">8. separate unique filters are
maintained for each task window</p>

<p style="margin-top: 1em">If a field is not turned on or
is not currently in view, then your selection criteria will
not affect the display. Later, should a filtered field
become visible, the selec&acirc; <br>
tion criteria will then be applied.</p>

<p style="margin-top: 1em">Keyboard Summary</p>

<p style="margin-top: 1em">o :Other-Filter (lower case)
<br>
You will be prompted to establish a filter that ignores case
when matching.</p>

<p style="margin-top: 1em">O :Other-Filter (upper case)
<br>
You will be prompted to establish a case sensitive
filter.</p>

<p style="margin-top: 1em">^O :Show-Active-Filters (Ctrl
key + &lsquo;o&rsquo;) <br>
This can serve as a reminder of which filters are active in
the &lsquo;current&rsquo; window. A summary will be shown on
the message line until you press the &lt;Enter&gt; key.</p>

<p style="margin-top: 1em">= :Reset-Filtering in current
window <br>
This clears all of your selection criteria in the
&lsquo;current&rsquo; window. It also has additional impact
so please see topic 4a. GLOBAL Commands.</p>

<p style="margin-top: 1em">+ :Reset-Filtering in all
windows <br>
This clears the selection criteria in all windows, assuming
you are in alternate-display mode. As with the
&lsquo;=&rsquo; interactive command, it too has additional
consequences so <br>
you might wish to see topic 5b. COMMANDS for Windows.</p>

<p style="margin-top: 1em">Input Requirements</p>

<p style="margin-top: 1em">When prompted for selection
criteria, the data you provide must take one of two forms.
There are 3 required pieces of information, with a 4th as
optional. These examples use <br>
spaces for clarity but your input generally would not. <br>
#1 #2 #3 ( required ) <br>
Field-Name ? include-if-value <br>
! Field-Name ? exclude-if-value <br>
#4 ( optional )</p>

<p style="margin-top: 1em">Items #1, #3 and #4 should be
self-explanatory. Item #2 represents both a required
delimiter and the operator which must be one of either
equality (&lsquo;=&rsquo;) or relation (&lsquo;&lt;&rsquo;
or <br>
&lsquo;&gt;&rsquo;).</p>

<p style="margin-top: 1em">The &lsquo;=&rsquo; equality
operator requires only a partial match and that can reduce
your &lsquo;if-value&rsquo; input requirements. The
&lsquo;&gt;&rsquo; or &lsquo;&lt;&rsquo; relational
operators always employ string com&acirc; <br>
parisons, even with numeric fields. They are designed to
work with a field&rsquo;s default justification and with
homogeneous data. When some field&rsquo;s numeric amounts
have been <br>
subjected to scaling while others have not, that data is no
longer homogeneous.</p>

<p style="margin-top: 1em">If you establish a relational
filter and you have changed the default Numeric or Character
justification, that filter is likely to fail. When a
relational filter is applied <br>
to a memory field and you have not changed the scaling, it
may produce misleading results. This happens, for example,
because &lsquo;100.0m&rsquo; (MiB) would appear greater than
<br>
&lsquo;1.000g&rsquo; (GiB) when compared as strings.</p>

<p style="margin-top: 1em">If your filtered results appear
suspect, simply altering justification or scaling may yet
achieve the desired objective. See the &lsquo;j&rsquo;,
&lsquo;J&rsquo; and &lsquo;e&rsquo; interactive commands for
<br>
additional information.</p>

<p style="margin-top: 1em">Potential Problems</p>

<p style="margin-top: 1em">These GROUP filters could
produce the exact same results or the second one might not
display anything at all, just a blank task window. <br>
GROUP=root ( only the same results when ) <br>
GROUP=ROOT ( invoked via lower case &lsquo;o&rsquo; )</p>

<p style="margin-top: 1em">Either of these RES filters
might yield inconsistent and/or misleading results,
depending on the current memory scaling factor. Or both
filters could produce the exact same <br>
results. <br>
RES&gt;9999 ( only the same results when ) <br>
!RES&lt;10000 ( memory scaling is at &lsquo;KiB&rsquo; )</p>

<p style="margin-top: 1em">This nMin filter illustrates a
problem unique to scalable fields. This particular field can
display a maximum of 4 digits, beyond which values are
automatically scaled to KiB <br>
or above. So while amounts greater than 9999 exist, they
will appear as 2.6m, 197k, etc. <br>
nMin&gt;9999 ( always a blank task window )</p>

<p style="margin-top: 1em">Potential Solutions</p>

<p style="margin-top: 1em">These examples illustrate how
Other Filtering can be creatively applied to achieve almost
any desired result. Single quotes are sometimes shown to
delimit the spaces which <br>
are part of a filter or to represent a request for status
(^O) accurately. But if you used them with if-values in real
life, no matches would be found.</p>

<p style="margin-top: 1em">Assuming field nTH is displayed,
the first filter will result in only multi-threaded
processes being shown. It also reminds us that a trailing
space is part of every dis&acirc; <br>
played field. The second filter achieves the exact same
results with less typing. <br>
!nTH=&lsquo; 1 &rsquo; ( &rsquo; for clarity only ) <br>
nTH&gt;1 ( same with less i/p )</p>

<p style="margin-top: 1em">With Forest View mode active and
the COMMAND column in view, this filter effectively
collapses child processes so that just 3 levels are shown.
<br>
!COMMAND=&lsquo; &lsquo;- &rsquo; ( &rsquo; for clarity only
)</p>

<p style="margin-top: 1em">The final two filters appear as
in response to the status request key (^O). In reality, each
filter would have required separate input. The PR example
shows the two concur&acirc; <br>
rent filters necessary to display tasks with priorities of
20 or more, since some might be negative. Then by exploiting
trailing spaces, the nMin series of filters could <br>
achieve the failed &lsquo;9999&rsquo; objective discussed
above. <br>
&lsquo;PR&gt;20&rsquo; + &lsquo;!PR=-&rsquo; ( 2 for right
result ) <br>
&lsquo;!nMin=0 &rsquo; + &lsquo;!nMin=1 &rsquo; +
&lsquo;!nMin=2 &rsquo; + &lsquo;!nMin=3 &rsquo; ...</p>

<p style="margin-top: 1em">Note: Whenever Other Filtering
is active in a window, top will turn column highlighting Off
to prevent false matches on internal non-display escape
sequences. Such highlighting <br>
will be restored when a window is no longer subject to
filtering. See the &lsquo;x&rsquo; interactive command for
additional information on sort column highlighting.</p>

<p style="margin-top: 1em">6. FILES <br>
6a. SYSTEM Configuration File <br>
The presence of this file will influence which version of
the help screen is shown to an ordinary user. More
importantly, it will limit what ordinary users are allowed
to do <br>
when top is running. They will not be able to issue the
following commands. <br>
k Kill a task <br>
r Renice a task <br>
d or s Change delay/sleep interval</p>

<p style="margin-top: 1em">The system configuration file is
not created by top. Rather, you create this file manually
and place it in the /etc directory. Its name must be
&lsquo;toprc&rsquo; and must have no leading <br>
&lsquo;.&rsquo; (period). It must have only two lines.</p>

<p style="margin-top: 1em">Here is an example of the
contents of /etc/toprc: <br>
s # line 1: secure mode switch <br>
5.0 # line 2: delay interval in seconds</p>

<p style="margin-top: 1em">6b. PERSONAL Configuration File
<br>
This file is written as &lsquo;$HOME/.your-name-4-top&rsquo;
+ &lsquo;rc&rsquo;. Use the &lsquo;W&rsquo; interactive
command to create it or update it.</p>

<p style="margin-top: 1em">Here is the general layout: <br>
global # line 1: the program name/alias notation <br>
&quot; # line 2: id,altscr,irixps,delay,curwin <br>
per ea # line a: winname,fieldscur <br>
window # line b: winflags,sortindx,maxtasks,graph modes <br>
&quot; # line c: summclr,msgsclr,headclr,taskclr <br>
global # line 15: additional miscellaneous settings <br>
&quot; # any remaining lines are devoted to the <br>
&quot; # generalized inspect provisions <br>
&quot; # discussed below</p>

<p style="margin-top: 1em">If the $HOME variable is not
present, top will try to write the personal configuration
file to the current directory, subject to permissions.</p>

<p style="margin-top: 1em">6c. ADDING INSPECT Entries <br>
To exploit the &lsquo;Y&rsquo; interactive command, you must
add entries at the end of the top personal configuration
file. Such entries simply reflect a file to be read or
command/pipeline <br>
to be executed whose results will then be displayed in a
separate scrollable, searchable window.</p>

<p style="margin-top: 1em">If you don&rsquo;t know the
location or name of your top rcfile, use the &lsquo;W&rsquo;
interactive command to rewrite it and note those
details.</p>

<p style="margin-top: 1em">Inspect entries can be added
with a redirected echo or by editing the configuration file.
Redirecting an echo risks overwriting the rcfile should it
replace (&gt;) rather than <br>
append (&gt;&gt;) to that file. Conversely, when using an
editor care must be taken not to corrupt existing lines,
some of which will contain unprintable data or unusual
characters.</p>

<p style="margin-top: 1em">Those Inspect entries beginning
with a &lsquo;#&rsquo; character are ignored, regardless of
content. Otherwise they consist of the following 3 elements,
each of which must be separated by a <br>
tab character (thus 2 &lsquo;&rsquo; total):</p>

<p style="margin-top: 1em">.type: literal
&lsquo;file&rsquo; or &lsquo;pipe&rsquo; <br>
.name: selection shown on the Inspect screen <br>
.fmts: string representing a path or command</p>

<p style="margin-top: 1em">The two types of Inspect entries
are not interchangeable. Those designated &lsquo;file&rsquo;
will be accessed using fopen and must reference a single
file in the &lsquo;.fmts&rsquo; element. Entries <br>
specifying &lsquo;pipe&rsquo; will employ popen, their
&lsquo;.fmts&rsquo; element could contain many pipelined
commands and, none can be interactive.</p>

<p style="margin-top: 1em">If the file or pipeline
represented in your &lsquo;.fmts&rsquo; deals with the
specific PID input or accepted when prompted, then the
format string must also contain the &lsquo;%d&rsquo;
specifier, as <br>
these examples illustrate.</p>

<p style="margin-top: 1em">.fmts= /proc/%d/numa_maps <br>
.fmts= lsof -P -p %d</p>

<p style="margin-top: 1em">For &lsquo;pipe&rsquo; type
entries only, you may also wish to redirect stderr to stdout
for a more comprehensive result. Thus the format string
becomes:</p>

<p style="margin-top: 1em">.fmts= pmap -x %d
2&gt;&amp;1</p>

<p style="margin-top: 1em">Here are examples of both types
of Inspect entries as they might appear in the rcfile. The
first entry will be ignored due to the initial
&lsquo;#&rsquo; character. For clarity, the pseudo <br>
tab depictions (^I) are surrounded by an extra space but the
actual tabs would not be.</p>

<p style="margin-top: 1em"># pipe ^I Sockets ^I lsof -n -P
-i 2&gt;&amp;1 <br>
pipe ^I Open Files ^I lsof -P -p %d 2&gt;&amp;1 <br>
file ^I NUMA Info ^I /proc/%d/numa_maps <br>
pipe ^I Log ^I tail -n100 /var/log/syslog | sort -Mr</p>

<p style="margin-top: 1em">Except for the commented entry
above, these next examples show what could be echoed to
achieve similar results, assuming the rcfile name was
&lsquo;.toprc&rsquo;. However, due to the embed&acirc; <br>
ded tab characters, each of these lines should be preceded
by &lsquo;/bin/echo -e&rsquo;, not just a simple an
&lsquo;echo&rsquo;, to enable backslash interpretation
regardless of which shell you use.</p>

<p style="margin-top: 1em">&quot;pipeOpen Fileslsof -P -p
%d 2&gt;&amp;1&quot; &gt;&gt; ~/.toprc <br>
&quot;fileNUMA Info/proc/%d/numa_maps&quot; &gt;&gt;
~/.toprc <br>
&quot;pipeLogtail -n200 /var/log/syslog | sort -Mr&quot;
&gt;&gt; ~/.toprc</p>

<p style="margin-top: 1em">Caution: If any inspect entry
you create produces output with unprintable characters they
will be displayed in either the ^C notation or hexadecimal
&lt;FF&gt; form, depending on their <br>
value. This applies to tab characters as well, which will
show as &lsquo;^I&rsquo;. If you want a truer
representation, any embedded tabs should be expanded.</p>

<p style="margin-top: 1em"># next would have contained
&lsquo;&rsquo; ... <br>
# file ^I &lt;your_name&gt; ^I /proc/%d/status <br>
# but this will eliminate embedded &lsquo;&rsquo; ... <br>
pipe ^I &lt;your_name&gt; ^I cat /proc/%d/status | expand
-</p>

<p style="margin-top: 1em">The above example takes what
could have been a &lsquo;file&rsquo; entry but employs a
&lsquo;pipe&rsquo; instead so as to expand the embedded
tabs.</p>

<p style="margin-top: 1em">Note: While &lsquo;pipe&rsquo;
type entries have been discussed in terms of pipelines and
commands, there is nothing to prevent you from including
shell scripts as well. Perhaps even newly <br>
created scripts designed specifically for the
&lsquo;Y&rsquo; interactive command.</p>

<p style="margin-top: 1em">Lastly, as the number of your
Inspect entries grows over time, the &lsquo;Options:&rsquo;
row will be truncated when screen width is exceeded. That
does not affect operation other than to <br>
make some selections invisible.</p>

<p style="margin-top: 1em">However, if some choices are
lost to truncation but you want to see more options, there
is an easy solution hinted at below.</p>

<p style="margin-top: 1em">Inspection Pause at pid ... <br>
Use: left/right then &lt;Enter&gt; ... <br>
Options: help 1 2 3 4 5 6 7 8 9 10 11 ...</p>

<p style="margin-top: 1em">The entries in the top rcfile
would have a number for the &lsquo;.name&rsquo; element and
the &lsquo;help&rsquo; entry would identify a shell script
you&rsquo;ve written explaining what those numbered
selec&acirc; <br>
tions actually mean. In that way, many more choices can be
made visible.</p>

<p style="margin-top: 1em">7. STUPID TRICKS Sampler <br>
Many of these tricks work best when you give top a
scheduling boost. So plan on starting him with a nice value
of -10, assuming you&rsquo;ve got the authority.</p>

<p style="margin-top: 1em">7a. Kernel Magic <br>
For these stupid tricks, top needs full-screen mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; The user
interface, through prompts and help, intentionally implies
that the delay interval is limited to tenths of a second.
However, you&rsquo;re free to set any desired delay. <br>
If you want to see Linux at his scheduling best, try a delay
of .09 seconds or less.</p>

<p style="margin-top: 1em">For this experiment, under
x-windows open an xterm and maximize it. Then do the
following: <br>
. provide a scheduling boost and tiny delay via: <br>
nice -n -10 top -d.09 <br>
. keep sorted column highlighting Off so as to <br>
minimize path length <br>
. turn On reverse row highlighting for emphasis <br>
. try various sort columns (TIME/MEM work well), <br>
and normal or reverse sorts to bring the most <br>
active processes into view</p>

<p style="margin-top: 1em">What you&rsquo;ll see is a very
busy Linux doing what he&rsquo;s always done for you, but
there was no program available to illustrate this.</p>

<p style="margin-top: 1em">&Acirc;&middot; Under an xterm
using &lsquo;white-on-black&rsquo; colors, on top&rsquo;s
Color Mapping screen set the task color to black and be sure
that task highlighting is set to bold, not reverse. Then
<br>
set the delay interval to around .3 seconds.</p>

<p style="margin-top: 1em">After bringing the most active
processes into view, what you&rsquo;ll see are the ghostly
images of just the currently running tasks.</p>

<p style="margin-top: 1em">&Acirc;&middot; Delete the
existing rcfile, or create a new symlink. Start this new
version then type &lsquo;T&rsquo; (a secret key, see topic
4c. Task Area Commands, SORTING) followed by &lsquo;W&rsquo;
and &lsquo;q&rsquo;. <br>
Finally, restart the program with -d0 (zero delay).</p>

<p style="margin-top: 1em">Your display will be refreshed
at three times the rate of the former top, a 300% speed
advantage. As top climbs the TIME ladder, be as patient as
you can while speculating on <br>
whether or not top will ever reach the top.</p>

<p style="margin-top: 1em">7b. Bouncing Windows <br>
For these stupid tricks, top needs alternate-display
mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; With 3 or 4 task
displays visible, pick any window other than the last and
turn idle processes Off using the &lsquo;i&rsquo; command
toggle. Depending on where you applied &lsquo;i&rsquo;,
sometimes <br>
several task displays are bouncing and sometimes it&rsquo;s
like an accordion, as top tries his best to allocate
space.</p>

<p style="margin-top: 1em">&Acirc;&middot; Set each
window&rsquo;s summary lines differently: one with no memory
(&rsquo;m&rsquo;); another with no states (&rsquo;t&rsquo;);
maybe one with nothing at all, just the message line. Then
hold down &lsquo;a&rsquo; <br>
or &lsquo;w&rsquo; and watch a variation on bouncing windows
-- hopping windows.</p>

<p style="margin-top: 1em">&Acirc;&middot; Display all 4
windows and for each, in turn, set idle processes to Off
using the &lsquo;i&rsquo; command toggle. You&rsquo;ve just
entered the &quot;extreme bounce&quot; zone.</p>

<p style="margin-top: 1em">7c. The Big Bird Window <br>
This stupid trick also requires alternate-display mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; Display all 4
windows and make sure that 1:Def is the
&lsquo;current&rsquo; window. Then, keep increasing window
size with the &lsquo;n&rsquo; interactive command until all
the other task displays <br>
are &quot;pushed out of the nest&quot;.</p>

<p style="margin-top: 1em">When they&rsquo;ve all been
displaced, toggle between all visible/invisible windows
using the &lsquo;_&rsquo; command toggle. Then ponder this:
<br>
is top fibbing or telling honestly your imposed truth?</p>

<p style="margin-top: 1em">7d. The Ol&rsquo; Switcheroo
<br>
This stupid trick works best without alternate-display mode,
since justification is active on a per window basis.</p>

<p style="margin-top: 1em">&Acirc;&middot; Start top and
make COMMAND the last (rightmost) column displayed. If
necessary, use the &lsquo;c&rsquo; command toggle to display
command lines and ensure that forest view mode is active
<br>
with the &lsquo;V&rsquo; command toggle.</p>

<p style="margin-top: 1em">Then use the up/down arrow keys
to position the display so that some truncated command lines
are shown (&lsquo;+&rsquo; in last position). You may have
to resize your xterm to produce <br>
truncation.</p>

<p style="margin-top: 1em">Lastly, use the &lsquo;j&rsquo;
command toggle to make the COMMAND column right
justified.</p>

<p style="margin-top: 1em">Now use the right arrow key to
reach the COMMAND column. Continuing with the right arrow
key, watch closely the direction of travel for the command
lines being shown.</p>

<p style="margin-top: 1em">some lines travel left, while
others travel right</p>

<p style="margin-top: 1em">eventually all lines will
Switcheroo, and move right</p>

<p style="margin-top: 1em">8. BUGS <br>
To report bugs, follow the instructions at: <br>
http://www.debian.org/Bugs/Reporting</p>

<p style="margin-top: 1em">9. HISTORY Former top <br>
The original top was written by Roger Binns, based on Branko
Lankester&rsquo;s &lt;lankeste@fwi.uva.nl&gt; ps
program.</p>

<p style="margin-top: 1em">Robert Nation
&lt;nation@rocket.sanders.lockheed.com&gt; adapted it for
the proc file system.</p>

<p style="margin-top: 1em">Helmut Geyer
&lt;Helmut.Geyer@iwr.uni-heidelberg.de&gt; added support for
configurable fields.</p>

<p style="margin-top: 1em">Plus many other individuals
contributed over the years.</p>

<p style="margin-top: 1em">10. AUTHOR <br>
This entirely new and enhanced replacement was written by:
<br>
Jim Warner, &lt;james.warner@comcast.net&gt;</p>

<p style="margin-top: 1em">With invaluable help from: <br>
Craig Small, &lt;csmall@enc.com.au&gt; <br>
Albert Cahalan, &lt;albert@users.sf.net&gt;</p>

<p style="margin-top: 1em">11. SEE Also <br>
free(1), ps(1), uptime(1), atop(1), slabtop(1), vmstat(8),
w(1).</p>

<p style="margin-top: 1em">procps-ng July 2014 TOP(1)</p>
<hr>
</body>
</html>
