<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:12:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GENPMDA(1) General Commands Manual GENPMDA(1)</p>

<p style="margin-top: 1em">NAME <br>
genpmda - Performance Co-Pilot PMDA Generator</p>

<p style="margin-top: 1em">SYNOPSIS <br>
genpmda [-d] [-D domain] [-s stdpmid] [-t topdir] [-n pmns]
[-o dir] [-v] -i IAM -c config</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Genpmda is a rapid application development tool for creating
new Performance Metrics Domain Agents, see PMDA(3). It
provides a very easy and efficient way to extend the
Perfor&acirc; <br>
mance Co-pilot (PCP) with new performance metrics without
needing to understand the low level details of how PMDAs are
constructed.</p>

<p style="margin-top: 1em">Genpmda reads a config file
containing an augmented Performance Metrics Name Space, see
pmns(5), and automatically generates virtually all of the
source code to implement a fully <br>
functional PMDA, including the Makefile, name space, support
scripts for configuring the new PMDA, and the metrics help
text. Fairly simple PMDAs can be automatically generated
<br>
from the config file without writing any additional code.
More complicated PMDAs, e.g. containing multiple instance
domains, require only the refresh methods for the instance
<br>
domains to be written manually.</p>

<p style="margin-top: 1em">An example of the config file
format accepted by genpmda is given below.</p>

<p style="margin-top: 1em">OPTIONS <br>
Required options:</p>

<p style="margin-top: 1em">-c config <br>
input config file, see example below</p>

<p style="margin-top: 1em">-i IAM pmda name IAM, should
appear in stdpmid or the -D option must be used to specify a
domain.</p>

<p style="margin-top: 1em">Other options:</p>

<p style="margin-top: 1em">-d generate an Install script
for a daemon PMDA (default is DSO)</p>

<p style="margin-top: 1em">-t topdir <br>
use topdir in generated GNUmakefile, default ../../..</p>

<p style="margin-top: 1em">-n pmns <br>
use pmns as root of the namespace (default matches -i
flag)</p>

<p style="margin-top: 1em">-D domain <br>
use domain number in the generated pmns and domain.h (if -s
is not given)</p>

<p style="margin-top: 1em">-s stdpmid <br>
path to stdpmid (default ../../pmns/stdpmid)</p>

<p style="margin-top: 1em">-o dir use dir for generated
source code, default ./generated</p>

<p style="margin-top: 1em">-v print verbose messages about
what genpmda is doing.</p>

<p style="margin-top: 1em">Example: <br>
Generate an &quot;example&quot; pmda using domain 99: <br>
genpmda -D 99 -v -i EXAMPLE -c example.conf</p>

<p style="margin-top: 1em">Here is example.conf config file
(for the required -c option):</p>

<p style="margin-top: 1em">example { <br>
metric <br>
}</p>

<p style="margin-top: 1em">example.metric { <br>
## metric string <br>
## pmid EXAMPLE:CLUSTER:0 <br>
## indom PM_INDOM_NULL <br>
## type PM_TYPE_STRING <br>
## units PMDA_PMUNITS(0,0,0,0,0,0) <br>
## semantics PM_SEM_DISCRETE <br>
## briefhelptext one line help text for
example.metric.string <br>
## helptext long help text for example.metric.string <br>
## helptext This is the second line of the long help text
<br>
## helptext and this is the third line. <br>
## fetch function example_string_fetch_callback <br>
## code atom-&gt;cp = &quot;hello world&quot;; <br>
## code return 1; <br>
## endmetric <br>
}</p>

<p style="margin-top: 1em">PCP ENVIRONMENT <br>
Environment variables with the prefix PCP_ are used to
parameterize the file and directory names used by PCP. On
each installation, the file /etc/pcp.conf contains the local
<br>
values for these variables. The $PCP_CONF variable may be
used to specify an alternative configuration file, as
described in pcp.conf(5).</p>

<p style="margin-top: 1em">SEE ALSO <br>
PMDA(3), pmns(5), pmcd(1), pcp.conf(5) and pcp.env(5).</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
Many, but all are intended to be easily understood.</p>

<p style="margin-top: 1em">Performance Co-Pilot PCP
GENPMDA(1)</p>
<hr>
</body>
</html>
