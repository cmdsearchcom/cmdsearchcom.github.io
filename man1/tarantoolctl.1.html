<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TARANTOOLCTL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TARANTOOLCTL(1)</td>
    <td class="head-vol">tarantoolctl&#x00A0;instances&#x00A0;control</td>
    <td class="head-rtitle">TARANTOOLCTL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
tarantoolctl - an utility to control tarantool instances
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
    vim /etc/tarantool/instances.enabled/my_instance.lua
    tarantoolctl start my_instance
    tarantoolctl stop  my_instance
    tarantoolctl logrotate my_instance
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The script is read &quot;/etc/sysconfig/tarantool&quot; or
  &quot;/etc/default/tarantool&quot;. The file contains common default instances
  options:
<div class="Pp"></div>
<pre>
    $ cat /etc/default/tarantool
    -- Options for Tarantool
    default_cfg = {
        -- will become pid_file .. instance .. '.pid'
        pid_file    =   &quot;/var/run/tarantool&quot;,
        -- will become wal_dir/instance/
        wal_dir     =   &quot;/var/lib/tarantool&quot;,
        -- snap_dir/instance/
        snap_dir    =   &quot;/var/lib/tarantool&quot;,
        -- vinyl_dir/instance/
        vinyl_dir  =   &quot;/var/lib/tarantool/vinyl&quot;,
        -- logger/instance .. '.log'
        logger      =   &quot;/var/log/tarantool&quot;,
        username    =   &quot;tarantool&quot;,
    }
    instance_dir = &quot;/etc/tarantool/instances.enabled&quot;
</pre>
<div class="Pp"></div>
The file defines &quot;instance_dir&quot; where user can place his applications
  (instances).
<div class="Pp"></div>
Each instance can be controlled by &quot;tarantoolctl&quot;:
<h2 class="Ss" title="Ss" id="Starting_instance"><a class="selflink" href="#Starting_instance">Starting
  instance</a></h2>
<pre>
    tarantoolctl start instance_name
</pre>
<h2 class="Ss" title="Ss" id="Stopping_instance"><a class="selflink" href="#Stopping_instance">Stopping
  instance</a></h2>
<pre>
    tarantoolctl stop instance_name
</pre>
<h2 class="Ss" title="Ss" id="Logrotate_instance's_log"><a class="selflink" href="#Logrotate_instance's_log">Logrotate
  instance's log</a></h2>
<pre>
    tarantoolctl logrotate instance_name
</pre>
<h2 class="Ss" title="Ss" id="Enter_instance_admin_console"><a class="selflink" href="#Enter_instance_admin_console">Enter
  instance admin console</a></h2>
<pre>
    tarantoolctl enter instance_name
</pre>
<h2 class="Ss" title="Ss" id="status"><a class="selflink" href="#status">status</a></h2>
<pre>
    tarantoolctl status instance_name
</pre>
<div class="Pp"></div>
Check if instance is up.
<div class="Pp"></div>
If pid file exists and control socket exists and control socket is alive returns
  code 0.
<div class="Pp"></div>
Return code != 0 in other cases. Can complain in log (stderr) if pid file exists
  and socket doesn't, etc.
<h2 class="Ss" title="Ss" id="separate_instances_control"><a class="selflink" href="#separate_instances_control">separate
  instances control</a></h2>
If You use SysV init, You can use symlink from &quot;tarantoolctl&quot; to
  &quot;/etc/init.d/instance_name[.lua]&quot;. &quot;tarantoolctl&quot; detects
  if it is started by symlink and uses instance_name as &quot;`basename $0
  .lua`&quot;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2010-2013 Tarantool AUTHORS: please see AUTHORS file.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-01-12</td>
    <td class="foot-os">--name=tarantoolctl</td>
  </tr>
</table>
</body>
</html>
