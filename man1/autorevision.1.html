<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:53:20 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>AUTOREVISION(1) AUTOREVISION(1)</p>

<p style="margin-top: 1em">NAME <br>
autorevision - extract current-revision metadata from
version-control repositories</p>

<p style="margin-top: 1em">SYNOPSIS <br>
autorevision -t &lt;output-type&gt; [-o &lt;cache-file&gt;
[-f] ] [-e &lt;name&gt;] [-U]</p>

<p style="margin-top: 1em">autorevision -s &lt;symbol&gt;
[-o &lt;cache-file&gt; [-f] ] [-e &lt;name&gt;] [-U]</p>

<p style="margin-top: 1em">autorevision -V</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Extracts metadata about the head revision from your
repository.</p>

<p style="margin-top: 1em">This program is meant to be used
by project build systems to extract properties that can be
used in version strings. It can emit source files containing
variable and macro <br>
definitions suitable for use with C, C++, Java, Mac
info.plist, sh, Python, Perl and many other types of files
(see below for the full list).</p>

<p style="margin-top: 1em">The generated source is written
to the standard output.</p>

<p style="margin-top: 1em">This program can normally be
called from anywhere within a repository copy. Under bzr the
copy must be of a branch, not a full multibranch repository.
Under Subversion it must be <br>
called under a repository checkout, not the repository
itself.</p>

<p style="margin-top: 1em">If you specify a cache file,
then when autorevision is run where no repository can be
recognized, the values from the cache file will be used
instead. If a repository can be <br>
recognized, the cache is rewritten. This feature makes it
possible for your build to run from an unpacked tarball that
includes the cache file.</p>

<p style="margin-top: 1em">Valid Repository Types <br>
Git: A version greater than 1.7.2.3 is recommended.</p>

<p style="margin-top: 1em">Mercurial: A version greater
than 1.6 is recommended.</p>

<p style="margin-top: 1em">Subversion: Any production
version.</p>

<p style="margin-top: 1em">Bazaar: Any production
version.</p>

<p style="margin-top: 1em">Valid Output Types <br>
clojure <br>
A clojure source file setting clojure variables.</p>

<p style="margin-top: 1em">c <br>
A C/C++ source file.</p>

<p style="margin-top: 1em">autorevision_declr.h in the
contribs dir is provided for use with this output.</p>

<p style="margin-top: 1em">cmake <br>
A cmake script file.</p>

<p style="margin-top: 1em">csharp <br>
C# file with Autorevision class</p>

<p style="margin-top: 1em">h <br>
A header file suitable for C/C++.</p>

<p style="margin-top: 1em">hpp <br>
Alternate C++ header file with namespace. Namespace is
assigned from VCS_BASENAME.</p>

<p style="margin-top: 1em">ini <br>
A ini source file setting ini variables.</p>

<p style="margin-top: 1em">java <br>
A Java source file setting class properties.</p>

<p style="margin-top: 1em">javaprop <br>
A Java properties file (like ini); useful when META-INF is
readable in Java.</p>

<p style="margin-top: 1em">js <br>
A javascript source file setting javascript variables.</p>

<p style="margin-top: 1em">json <br>
A JSON format file.</p>

<p style="margin-top: 1em">lua <br>
A lua source file setting lua variables.</p>

<p style="margin-top: 1em">m4 <br>
An m4 source file defining m4 macros.</p>

<p style="margin-top: 1em">matlab <br>
Matlab output.</p>

<p style="margin-top: 1em">octave <br>
Octave output.</p>

<p style="margin-top: 1em">php <br>
A PHP source file setting PHP variables.</p>

<p style="margin-top: 1em">pl <br>
A Perl source file setting Perl variables (perl is an
acceptable synonym).</p>

<p style="margin-top: 1em">py <br>
A Python source file setting Python variables (python is an
acceptable synonym).</p>

<p style="margin-top: 1em">rpm <br>
A RPM spec file format setting spec file macros.</p>

<p style="margin-top: 1em">scheme <br>
A scheme source file setting scheme variables.</p>

<p style="margin-top: 1em">sh <br>
A text file suitable for including from a bash script. Will
work with Ruby.</p>

<p style="margin-top: 1em">swift <br>
A Swift source file setting Swift global constants.</p>

<p style="margin-top: 1em">Unless set VCS_EXTRA and any
symbols that are missing because of repository support are
set to nil.</p>

<p style="margin-top: 1em">tex <br>
A TeX source file defining TeX macros. Note that the symbols
are given different names since the underscore has a special
meaning in TeX. For example, VCS_SHORT_HASH is <br>
renamed to ShortHash.</p>

<p style="margin-top: 1em">xcode <br>
A header like output for use with xcode to populate
info.plist strings.</p>

<p style="margin-top: 1em">Valid Symbol Names <br>
VCS_TYPE <br>
The repository type - &quot;git&quot;, &quot;hg&quot;,
&quot;bzr&quot;, or &quot;svn&quot;.</p>

<p style="margin-top: 1em">VCS_BASENAME <br>
The basename of the directory root. For most VCSes this will
simply be the basename of the repository root directory. For
Subversion, autorevision will attempt to navigate up <br>
though trunk, branches, and tags directories to find the
actual root.</p>

<p style="margin-top: 1em">VCS_NUM <br>
A count of revisions between the current one and the initial
one; useful for reporting build numbers.</p>

<p style="margin-top: 1em">VCS_UUID <br>
A universally unique identifier, generated from the root
commit in git and hg; for svn it uses the supplied UUID.</p>

<p style="margin-top: 1em">For git we choose the oldest
commit if there is more than one.</p>

<p style="margin-top: 1em">Not currently implemented for
bzr.</p>

<p style="margin-top: 1em">VCS_DATE <br>
The date of the most recent commit in true ISO-8601/RFC3339
format, including seconds.</p>

<p style="margin-top: 1em">VCS_BRANCH <br>
The name of the branch of the commit graph that was selected
when autoversion was run.</p>

<p style="margin-top: 1em">Under git, this will normally be
the shortname of the current branch (the asterisked line in
the output of &quot;git branch&quot;) except that when the
branch doesn&acirc;t have a shortname <br>
it will be a full refspec.</p>

<p style="margin-top: 1em">Under hg the feature that is
called branches is actually a sort of graph coloring
(multiple heads can have the same branch name) so this
symbol is filled with the current <br>
bookmark if it exists, with the current branch name as a
fallback.</p>

<p style="margin-top: 1em">Under Subversion this will
normally be either trunk or the basename of some branch or
tag subdirectory, depending on where autoversion was
run.</p>

<p style="margin-top: 1em">Under bzr, this is the nick of
the branch you are on.</p>

<p style="margin-top: 1em">VCS_TAG <br>
The name of the most recent tag ancestral to the current
commit.</p>

<p style="margin-top: 1em">Empty under Subversion.</p>

<p style="margin-top: 1em">VCS_TICK <br>
A count of commits since most recent tag ancestral to the
current commit or an alias of VCS_NUM if there are no prior
tags.</p>

<p style="margin-top: 1em">Empty under Subversion.</p>

<p style="margin-top: 1em">VCS_EXTRA <br>
A symbol set aside specifically to be set by the user
through the environment or via scripts.</p>

<p style="margin-top: 1em">VCS_ACTION_STAMP <br>
An &quot;action stamp&quot; consists of an RFC3339 timestamp
in Zulu time, followed by an exclamation point, followed by
an RFC822 address (technically, an &quot;addr-spec&quot; as
defined in <br>
6.1).</p>

<p style="margin-top: 1em">For svn the second part is
simply the author name.</p>

<p style="margin-top: 1em">Not currently implemented for
bzr.</p>

<p style="margin-top: 1em">VCS_FULL_HASH <br>
A full unique identifier for the current revision.</p>

<p style="margin-top: 1em">VCS_SHORT_HASH <br>
A shortened version of VCS_FULL_HASH, but VCS_FULL_HASH if
it cannot be shortened.</p>

<p style="margin-top: 1em">VCS_WC_MODIFIED <br>
Set to 1 if the current working directory has been modified
and 0 if not. If the output language has native Boolean
literals, true will mean modified and false unmodified. <br>
The C/C++ output is left as numeric so the preprocessor can
test it.</p>

<p style="margin-top: 1em">Untracked files are not ignored;
see -U for details.</p>

<p style="margin-top: 1em">OPTIONS <br>
-t &lt;output-type&gt; <br>
Sets the output type. It is required unless -s is specified;
both -t and -s cannot be used in the same invocation.</p>

<p style="margin-top: 1em">-s &lt;symbol&gt; <br>
Changes the reporting behavior; instead of emitting a symbol
file to stdout, only the value of that individual symbol
will be reported. It is required unless -t is specified;
<br>
both -t and -s cannot be used in the same invocation.</p>

<p style="margin-top: 1em">-o &lt;cache-file&gt; <br>
Sets the name of the cache file.</p>

<p style="margin-top: 1em">-e &lt;name&gt; <br>
Sets the output name of VCS_EXTRA Defaults to VCS_EXTRA.</p>

<p style="margin-top: 1em">-f <br>
Forces the use of cache data even when in a repo; useful for
speeding up subsequent runs if more than one output format
is needed.</p>

<p style="margin-top: 1em">-U <br>
Causes untracked files to be checked when determining if the
working copy is modified for Subversion only. While this is
the default behavior for all other repository types, <br>
it is off by default for Subversion because of speed
concerns.</p>

<p style="margin-top: 1em">-V <br>
Emits the autorevision version and exits.</p>

<p style="margin-top: 1em">BUGS <br>
The bzr extractor is not very well tested.</p>

<p style="margin-top: 1em">When a git repo is actually a
git-svn remote, this tool tries to do the right thing and
return a Subversion revision. The bug is that the detector
code for this case is somewhat <br>
unreliable; you will get the hash instead if your
configuration doesn&acirc;t use svn-remote.svn.url.</p>

<p style="margin-top: 1em">Nested repositories,
particularly repositories of different types, may result in
incorrect and unintended behavior.</p>

<p style="margin-top: 1em">Unpacking a tarball into a
repository will result in incorrect and unintended
behavior.</p>

<p style="margin-top: 1em">NOTES <br>
Development of autorevision is carried out at
https://github.com/Autorevision/autorevision</p>

<p style="margin-top: 1em">HTML rendered docs and usage
examples can be found at https://autorevision.github.io/</p>

<p style="margin-top: 1em">AUTHORS <br>
dak180 &lt;dak180@users.sf.net&gt;: concept,
bash/C/C++/XCode/PHP/ini support, git and hg extraction.
Eric S. Raymond &lt;esr@thyrsus.com&gt;: Python/Perl/lua/m4
support, svn and bzr <br>
extraction, git-svn support, CLI design, man page. See
AUTHORS.txt for a full list in order of number of
contributions.</p>

<p style="margin-top: 1em">1.20 2017-01-03
AUTOREVISION(1)</p>
<hr>
</body>
</html>
