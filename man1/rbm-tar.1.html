<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:35:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RBM-TAR(1) RBM-TAR(1)</p>

<p style="margin-top: 1em">NAME <br>
rbm-tar - Create a tarball file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
rbm tar &lt;project&gt; [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Create a tarball file for the selected project.</p>

<p style="margin-top: 1em">OUTPUT FILE <br>
The output directory can be selected with the output_dir
option.</p>

<p style="margin-top: 1em">The output filename will be
:</p>


<p style="margin-top: 1em">&lt;name&gt;-&lt;version&gt;.tar</p>

<p style="margin-top: 1em">If the compress_tar, the
filename will be :</p>


<p style="margin-top: 1em">&lt;name&gt;-&lt;version&gt;.tar.&lt;ext&gt;</p>

<p style="margin-top: 1em">With &lt;name&gt; the
project&acirc;s name, &lt;version&gt; the version of the
software, and &lt;ext&gt; the compression type selected in
the compress_tar option.</p>

<p style="margin-top: 1em">The version of the software used
to create the tarball and the packages can be set with the
version option. If the version is not explicitely set, then
it is determined <br>
automatically in the following way :</p>

<p style="margin-top: 1em">&Acirc;&middot; If the
version_command option is set, then the value of this option
is run in the checked out source tree, and the output is
used as the version.</p>

<p style="margin-top: 1em">&Acirc;&middot; If the
version_command is not set, or if running the command
failed, then the most recent tag (as returned by
git-describe) is used as version.</p>

<p style="margin-top: 1em">CONFIGURATION OPTIONS <br>
The following options are related to tarball creation :</p>

<p style="margin-top: 1em">git_url <br>
The URL of a git repository that will be cloned and used to
create the tarball. If this option is set, git_hash should
be set to select the commit to use.</p>

<p style="margin-top: 1em">hg_url <br>
The URL of a mercurial repository that will be cloned and
used to create the tarball. If this option is set, hg_hash
should be set to select the commit to use.</p>

<p style="margin-top: 1em">git_hash <br>
A git hash, branch name or tag. This is what is used to
create the tarball.</p>

<p style="margin-top: 1em">hg_hash <br>
A mercurial changeset hash. This is what is used to create
the tarball.</p>

<p style="margin-top: 1em">compress_tar <br>
If set, the tarball created will be compressed in the select
format. Possible values: xz, gz, bz2.</p>

<p style="margin-top: 1em">commit_gpg_id <br>
If set, the commit selected with git_hash will have its
signature checked. The tarball will not be created if there
is no valid signature, and if the key used to sign it does
<br>
not match the key ID from commit_gpg_id. The option can be
set to a single gpg ID, or to a list of gpg IDs. The IDs can
be short or long IDs, or full fingerprint (with no <br>
spaces). For this to work, the GPG keys should be present in
the selected keyring (see keyring option). If the option is
set to 1 or an array containing 1 then any key from <br>
the selected keyring is accepted. On command line, the
--commit-gpg-id option can be listed multiple times to
define a list of keys.</p>

<p style="margin-top: 1em">tag_gpg_id <br>
If set, the commit selected with git_hash should be a tag
and will have its signature checked. The tarball will not be
created if the tag doesn&acirc;t have a valid signature, and
<br>
if the key used to sign it does not match the key ID from
tag_gpg_id. The option can be set to a single gpg ID, or to
a list of gpg IDs. The IDs can be short or long IDs, or <br>
full fingerprint (with no spaces). For this to work, the GPG
keys should be present in the selected keyring (see keyring
option). If the option is set to 1 or an array <br>
containing 1 then any key from the selected keyring is
accepted. On command line, the --tag-gpg-id option can be
listed multiple times to define a list of keys.</p>

<p style="margin-top: 1em">gpg_wrapper <br>
This is a template for a gpg wrapper script. The default
wrapper will call gpg with the keyring specified by option
gpg_keyring if defined.</p>

<p style="margin-top: 1em">gpg_keyring <br>
The filename of the gpg keyring to use. Path is relative to
the gpg_keyring_dir directory. This can also be an absolute
path.</p>

<p style="margin-top: 1em">gpg_keyring_dir <br>
The directory containing gpg keyring files. The default is
$basedir/keyring (with $basedir the directory where the main
config file is located).</p>

<p style="margin-top: 1em">gpg_bin <br>
The gpg command to be used. The default is gpg.</p>

<p style="margin-top: 1em">gpg_args <br>
Optional gpg arguments. The default is empty.</p>

<p style="margin-top: 1em">See rbm_config(7) for all other
options.</p>

<p style="margin-top: 1em">COMMAND LINE OPTIONS <br>
The command line options related to tar :</p>

<p style="margin-top: 1em">--git-hash=&lt;hash&gt; <br>
The git hash of the commit / tag to use.</p>

<p style="margin-top: 1em">--hg-hash=&lt;hash&gt; <br>
The mercurial hash of the commit / tag to use.</p>

<p style="margin-top: 1em">--commit-gpg-id=&lt;GPG ID&gt;
<br>
Check the commit to be signed by this GPG key ID.</p>

<p style="margin-top: 1em">--tag-gpg-id=&lt;GPG ID&gt; <br>
Check if the selected git hash is a tag and is signed by
select GPG key ID.</p>

<p style="margin-top: 1em">--gpg-keyring=&lt;file&gt; <br>
GPG keyring filename.</p>


<p style="margin-top: 1em">--gpg-keyring-dir=&lt;directory&gt;
<br>
Directory containing GPG keyring files</p>

<p style="margin-top: 1em">--gpg-args=&lt;args&gt; <br>
Optional gpg arguments.</p>

<p style="margin-top: 1em">--gpg-bin=&lt;path&gt; <br>
Path to gpg binary.</p>

<p style="margin-top: 1em">See rbm_cli(7) for all other
options.</p>

<p style="margin-top: 1em">GIT VERSION <br>
If you are going to use gpg signed commits, it is
recommended to use git &gt;= 1.8.3.</p>

<p style="margin-top: 1em">&Acirc;&middot; git &lt; 1.7.9
does not support signed commits. It only supports signed
tags.</p>

<p style="margin-top: 1em">&Acirc;&middot; git &lt; 1.8.3
does not use the git-config option gpg.program in git log
--show-signature and git show --show-signatures commands
used to check commits signatures. This means <br>
you won&acirc;t be able to use the gpg_keyring option for
commits signature verification (but it will work for tag
signature verification). This was fixed in git commit
6005dbb9, <br>
included in version 1.8.3.</p>

<p style="margin-top: 1em">SEE ALSO <br>
rbm(1)</p>

<p style="margin-top: 1em">02/11/2017 RBM-TAR(1)</p>
<hr>
</body>
</html>
