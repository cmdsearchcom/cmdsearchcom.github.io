<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>RBM-TAR(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RBM-TAR(1)</td>
    <td class="head-vol">&#x00A0;</td>
    <td class="head-rtitle">RBM-TAR(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
rbm-tar - Create a tarball file
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>rbm tar</i> &lt;project&gt; [options]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Create a tarball file for the selected project.
<h1 class="Sh" title="Sh" id="OUTPUT_FILE"><a class="selflink" href="#OUTPUT_FILE">OUTPUT
  FILE</a></h1>
The output directory can be selected with the <b>output_dir</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
The output filename will be :
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
&lt;name&gt;-&lt;version&gt;.tar
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
If the <i>compress_tar</i>, the filename will be :
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
&lt;name&gt;-&lt;version&gt;.tar.&lt;ext&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
With <i>&lt;name&gt;</i> the project&#x2019;s name, <i>&lt;version&gt;</i> the
  version of the software, and <i>&lt;ext&gt;</i> the compression type selected
  in the <i>compress_tar</i> option.
<div style="height: 1.00em;">&#x00A0;</div>
The version of the software used to create the tarball and the packages can be
  set with the <i>version</i> option. If the version is not explicitely set,
  then it is determined automatically in the following way :
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If the version_command option is set,
  then the value of this option is run in the checked out source tree, and the
  output is used as the version.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If the version_command is not set, or
  if running the command failed, then the most recent tag (as returned by
  git-describe) is used as version.</div>
<h1 class="Sh" title="Sh" id="CONFIGURATION_OPTIONS"><a class="selflink" href="#CONFIGURATION_OPTIONS">CONFIGURATION
  OPTIONS</a></h1>
The following options are related to tarball creation :
<div class="Pp"></div>
git_url
<div style="margin-left: 4.00ex;">The URL of a git repository that will be
  cloned and used to create the tarball. If this option is set, git_hash should
  be set to select the commit to use.</div>
<div class="Pp"></div>
hg_url
<div style="margin-left: 4.00ex;">The URL of a mercurial repository that will be
  cloned and used to create the tarball. If this option is set, hg_hash should
  be set to select the commit to use.</div>
<div class="Pp"></div>
git_hash
<div style="margin-left: 4.00ex;">A git hash, branch name or tag. This is what
  is used to create the tarball.</div>
<div class="Pp"></div>
hg_hash
<div style="margin-left: 4.00ex;">A mercurial changeset hash. This is what is
  used to create the tarball.</div>
<div class="Pp"></div>
compress_tar
<div style="margin-left: 4.00ex;">If set, the tarball created will be compressed
  in the select format. Possible values: xz, gz, bz2.</div>
<div class="Pp"></div>
commit_gpg_id
<div style="margin-left: 4.00ex;">If set, the commit selected with git_hash will
  have its signature checked. The tarball will not be created if there is no
  valid signature, and if the key used to sign it does not match the key ID from
  commit_gpg_id. The option can be set to a single gpg ID, or to a list of gpg
  IDs. The IDs can be short or long IDs, or full fingerprint (with no spaces).
  For this to work, the GPG keys should be present in the selected keyring (see
  keyring option). If the option is set to 1 or an array containing 1 then any
  key from the selected keyring is accepted. On command line, the
  --commit-gpg-id option can be listed multiple times to define a list of
  keys.</div>
<div class="Pp"></div>
tag_gpg_id
<div style="margin-left: 4.00ex;">If set, the commit selected with git_hash
  should be a tag and will have its signature checked. The tarball will not be
  created if the tag doesn&#x2019;t have a valid signature, and if the key used
  to sign it does not match the key ID from tag_gpg_id. The option can be set to
  a single gpg ID, or to a list of gpg IDs. The IDs can be short or long IDs, or
  full fingerprint (with no spaces). For this to work, the GPG keys should be
  present in the selected keyring (see keyring option). If the option is set to
  1 or an array containing 1 then any key from the selected keyring is accepted.
  On command line, the --tag-gpg-id option can be listed multiple times to
  define a list of keys.</div>
<div class="Pp"></div>
gpg_wrapper
<div style="margin-left: 4.00ex;">This is a template for a gpg wrapper script.
  The default wrapper will call gpg with the keyring specified by option
  gpg_keyring if defined.</div>
<div class="Pp"></div>
gpg_keyring
<div style="margin-left: 4.00ex;">The filename of the gpg keyring to use. Path
  is relative to the gpg_keyring_dir directory. This can also be an absolute
  path.</div>
<div class="Pp"></div>
gpg_keyring_dir
<div style="margin-left: 4.00ex;">The directory containing gpg keyring files.
  The default is $basedir/keyring (with $basedir the directory where the main
  config file is located).</div>
<div class="Pp"></div>
gpg_bin
<div style="margin-left: 4.00ex;">The gpg command to be used. The default is
  gpg.</div>
<div class="Pp"></div>
gpg_args
<div style="margin-left: 4.00ex;">Optional gpg arguments. The default is
  empty.</div>
<div style="height: 1.00em;">&#x00A0;</div>
See rbm_config(7) for all other options.
<h1 class="Sh" title="Sh" id="COMMAND_LINE_OPTIONS"><a class="selflink" href="#COMMAND_LINE_OPTIONS">COMMAND
  LINE OPTIONS</a></h1>
The command line options related to tar :
<div class="Pp"></div>
--git-hash=&lt;hash&gt;
<div style="margin-left: 4.00ex;">The git hash of the commit / tag to use.</div>
<div class="Pp"></div>
--hg-hash=&lt;hash&gt;
<div style="margin-left: 4.00ex;">The mercurial hash of the commit / tag to
  use.</div>
<div class="Pp"></div>
--commit-gpg-id=&lt;GPG ID&gt;
<div style="margin-left: 4.00ex;">Check the commit to be signed by this GPG key
  ID.</div>
<div class="Pp"></div>
--tag-gpg-id=&lt;GPG ID&gt;
<div style="margin-left: 4.00ex;">Check if the selected git hash is a tag and is
  signed by select GPG key ID.</div>
<div class="Pp"></div>
--gpg-keyring=&lt;file&gt;
<div style="margin-left: 4.00ex;">GPG keyring filename.</div>
<div class="Pp"></div>
--gpg-keyring-dir=&lt;directory&gt;
<div style="margin-left: 4.00ex;">Directory containing GPG keyring files</div>
<div class="Pp"></div>
--gpg-args=&lt;args&gt;
<div style="margin-left: 4.00ex;">Optional gpg arguments.</div>
<div class="Pp"></div>
--gpg-bin=&lt;path&gt;
<div style="margin-left: 4.00ex;">Path to gpg binary.</div>
<div style="height: 1.00em;">&#x00A0;</div>
See rbm_cli(7) for all other options.
<h1 class="Sh" title="Sh" id="GIT_VERSION"><a class="selflink" href="#GIT_VERSION">GIT
  VERSION</a></h1>
If you are going to use gpg signed commits, it is recommended to use git &gt;=
  1.8.3.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;git &lt; 1.7.9 does not support signed
  commits. It only supports signed tags.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;git &lt; 1.8.3 does not use the
  git-config option gpg.program in git log --show-signature and git show
  --show-signatures commands used to check commits signatures. This means you
  won&#x2019;t be able to use the gpg_keyring option for commits signature
  verification (but it will work for tag signature verification). This was fixed
  in git commit 6005dbb9, included in version 1.8.3.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
rbm(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">02/11/2017</td>
    <td class="foot-os">&#x00A0;</td>
  </tr>
</table>
</body>
</html>
