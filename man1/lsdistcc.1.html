<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>lsdistcc(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">lsdistcc(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">lsdistcc(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
lsdistcc - simple distcc server discovery
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>lsdistcc</b> [ <i>OPTIONS</i>] [<i>FORMAT</i>]
<div class="Pp"></div>
<b>lsdistcc</b> [ <i>OPTIONS</i>] <i>host1 ...</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>lsdistcc</b> autodetects listening distcc servers either by looking in DNS
  for hosts named according to a given <i>FORMAT</i>, or by checking the host
  names given on the command line.
<div style="height: 1.00em;">&#x00A0;</div>
Hosts are considered good servers based solely on whether their name fits the
  format and whether they are listening on the right port (and optionally
  whether they respond when you send them a compile job).
<div style="height: 1.00em;">&#x00A0;</div>
Scans for hosts named according to <i>FORMAT</i> (default is
  &quot;distcc%d&quot;; see <b>printf</b>(3)) and starting from 1, so hosts such
  as distcc1, distcc2, and so on. Stops after 7 seconds or the first host name
  that does not resolve. Prints the names of all such servers listening on
  distcc's port.
<div style="height: 1.00em;">&#x00A0;</div>
If a list of host names is given in the command line, <b>lsdistcc</b> will only
  check those hosts.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Displays summary instructions
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">Output latency in milliseconds after each hostname (not
      including DNS latency)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Print IP address rather than name
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">Append ,down to down hosts in host list
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b><i>TIMEOUT</i></dt>
  <dd class="It-tag">Set number of seconds to stop searching after [7]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b><i>HTIMEOUT</i></dt>
  <dd class="It-tag">Set number of milliseconds before retrying gethostbyname
      [500]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b><i>CTIMEOUT</i></dt>
  <dd class="It-tag">Set number of milliseconds before giving up on connect
      [900] (0 to inhibit connect)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b><i>KTIMEOUT</i></dt>
  <dd class="It-tag">Set number of milliseconds before giving up on compile
      [1500] (0 to inhibit compile)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b><i>BITS</i></dt>
  <dd class="It-tag">Set number of bits of address that must match first host
      found [0]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i>OVERLAP</i></dt>
  <dd class="It-tag">Set number of extra DNS requests to send [1]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b><i>DNSGAP</i></dt>
  <dd class="It-tag">Set number of missing DNS entries to tolerate [0]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b><i>PORT</i></dt>
  <dd class="It-tag">Port to connect to [3632]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b><i>PROTOCOL</i></dt>
  <dd class="It-tag">Protocol version to use (1-3) [1]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b><i>COMPILER</i></dt>
  <dd class="It-tag">Name of compiler to use [none]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Append DNS domain name to format
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Verbose
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Scan for servers named distcc1, distcc2, ... that provide a compiler named
  gcc-4.6 and include their latencies in the output:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">$ lsdistcc -l -pgcc-4.6</div>
<div style="height: 1.00em;">&#x00A0;</div>
Scan for a compiler named gcc-4.6 on the servers hosta, somehost, hostx, and
  hosty:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">$ lsdistcc -pgcc-4.6 hosta somehost hostx
  hosty</div>
<div style="height: 1.00em;">&#x00A0;</div>
To use the program in a build script, add the lines:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">DISTCC_HOSTS=`lsdistcc`
<div>&#x00A0;</div>
export DISTCC_HOSTS</div>
<div style="height: 1.00em;">&#x00A0;</div>
before the line that invokes make. Or, in a Makefile, add the line:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">export DISTCC_HOSTS = $(shell lsdistcc)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The exit status is 0 if any servers were found, and 1 otherwise.
<div style="height: 1.00em;">&#x00A0;</div>
Uses 'for i=1... sprintf(format, i)' to construct names of servers, stops after
  7 seconds or at second server that doesn't resolve, prints the names of all
  such servers listening on distcc's port. Default format is distcc%d.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>distcc</b>(1), <b>distccd</b>(1), <b>printf</b>(3)
<div style="height: 1.00em;">&#x00A0;</div>
<i>http://code.google.com/p/distcc/</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>lsdistcc</b> was written by Dan Kegel, Dongmin Zhang, and Manos Renieris.
<div style="height: 1.00em;">&#x00A0;</div>
This manual page was written by Daniel Hartwig for the Debian project.</div>
<table class="foot">
  <tr>
    <td class="foot-date">1 May 2012</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
