<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:00:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>condor_dagman_metrics_repor(1) General Commands Manual
condor_dagman_metrics_repor(1)</p>

<p style="margin-top: 1em">Name <br>
condor_dagman_metrics_repor terReport - the statistics of a
DAGMan run to a central HTTP server</p>

<p style="margin-top: 1em">Synopsis <br>
condor_dagman_metrics_repor ter[-s] [-u URL] [-t maxtime] -f
/path/to/metrics/file</p>

<p style="margin-top: 1em">Description <br>
condor_dagman_metrics_reporteranonymously reports metrics
from a DAGMan workflow to a central server. The reporting of
workflow metrics is only enabled for DAGMan workflows run
<br>
under Pegasus; metrics reporting has been requested by
Pegasus&rsquo; funding sources: see
http://pegasus.isi.edu/wms/docs/latest/funding_citing_usage.php#usage_statisticsand
<br>

https://confluence.pegasus.isi.edu/display/pegasus/DAGMan+Metrics+Reportingfor
the requirements to collect this data.</p>

<p style="margin-top: 1em">The data sent to the server is
in JSON format. Here is an example of what is sent:</p>

<p style="margin-top: 1em">{ <br>
&quot;client&quot;:&quot;condor_dagman&quot;, <br>
&quot;version&quot;:&quot;8.1.0&quot;, <br>

&quot;planner&quot;:&quot;/lfs1/devel/Pegasus/pegasus/bin/pegasus-plan&quot;,
<br>
&quot;planner_version&quot;:&quot;4.3.0cvs&quot;, <br>
&quot;type&quot;:&quot;metrics&quot;, <br>

&quot;wf_uuid&quot;:&quot;htcondor-test-job_dagman_metrics-A-subdag&quot;,
<br>

&quot;root_wf_uuid&quot;:&quot;htcondor-test-job_dagman_metrics-A&quot;,
<br>
&quot;start_time&quot;:1375313459.603, <br>
&quot;end_time&quot;:1375313491.498, <br>
&quot;duration&quot;:31.895, <br>
&quot;exitcode&quot;:1, <br>
&quot;dagman_id&quot;:&quot;26&quot;, <br>
&quot;parent_dagman_id&quot;:&quot;11&quot;, <br>
&quot;rescue_dag_number&quot;:0, <br>
&quot;jobs&quot;:4, <br>
&quot;jobs_failed&quot;:1, <br>
&quot;jobs_succeeded&quot;:3, <br>
&quot;dag_jobs&quot;:0, <br>
&quot;dag_jobs_failed&quot;:0, <br>
&quot;dag_jobs_succeeded&quot;:0, <br>
&quot;total_jobs&quot;:4, <br>
&quot;total_jobs_run&quot;:4, <br>
&quot;total_job_time&quot;:0.000, <br>
&quot;dag_status&quot;:2 <br>
}</p>

<p style="margin-top: 1em">Metrics are sent only if the
condor_dagmanprocess has PEGASUS_METRICS set to True in its
environment, and the CONDOR_DEVELOPERS configuration
variable does nothave the value <br>
NONE .</p>

<p style="margin-top: 1em">Ordinarily, this program will be
run by condor_dagman, and users do not need to interact with
it. This program uses the following environment
variables:</p>


<p style="margin-top: 1em">PEGASUS_USER_METRICS_DEFAULT_SERVER</p>

<p style="margin-top: 1em">The URL of the default server to
which to send the data. It defaults to
http://metrics.pegasus.isi.edu/metrics . It can be
overridden at the command line with the -uoption.</p>

<p style="margin-top: 1em">PEGASUS_USER_METRICS_SERVER</p>

<p style="margin-top: 1em">A comma separated list of URLs
of servers that will receive the data, in addition to the
default server.</p>

<p style="margin-top: 1em">The -fargument specifies the
metrics file to be sent to the HTTP server.</p>

<p style="margin-top: 1em">Options <br>
-s</p>

<p style="margin-top: 1em">Sleep for a random number of
seconds between 1 and 10, before attempting to send data.
This option is used to space out the reporting from any
sub-DAGs when a DAG is removed.</p>

<p style="margin-top: 1em">-u URL</p>

<p style="margin-top: 1em">Overrides setting of the
environment variable PEGASUS_USER_METRICS_DEFAULT_SERVER .
This option is unused by condor_dagman; it is for testing by
developers.</p>

<p style="margin-top: 1em">-t maxtime</p>

<p style="margin-top: 1em">A maximum time in seconds that
defaults to 100 seconds, setting a limit on the amount of
time this program will wait for communication from the
server. A setting of zero will <br>
result in a single attempt per server.
condor_dagmanretrieves this value from the
DAGMAN_PEGASUS_REPORT_TIMEOUT configuration variable.</p>

<p style="margin-top: 1em">-f metrics_file</p>

<p style="margin-top: 1em">The name of the file containing
the metrics values to be reported.</p>

<p style="margin-top: 1em">Exit Status <br>
condor_dagman_metrics_reporterwill exit with a status value
of 0 (zero) upon success, and it will exit with a value of 1
(one) upon failure.</p>

<p style="margin-top: 1em">Author <br>
Center for High Throughput Computing, University of
Wisconsin-Madison</p>

<p style="margin-top: 1em">Copyright <br>
Copyright (C) 1990-2015 Center for High Throughput
Computing, Computer Sciences Department, University of
Wisconsin-Madison, Madison, WI. All Rights Reserved.
Licensed under the <br>
Apache License, Version 2.0.</p>

<p style="margin-top: 1em">January 2017
condor_dagman_metrics_repor(1)</p>
<hr>
</body>
</html>
