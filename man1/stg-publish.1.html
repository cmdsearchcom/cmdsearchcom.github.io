<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:39:14 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>STG-PUBLISH(1) StGit Manual STG-PUBLISH(1)</p>

<p style="margin-top: 1em">NAME <br>
stg-publish - Push the stack changes to a merge-friendly
branch</p>

<p style="margin-top: 1em">SYNOPSIS <br>
stg publish [options] [--] [branch]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This command commits a set of changes on a separate (called
public) branch based on the modifications of the given or
current stack. The history of the public branch is not <br>
re-written, making it merge-friendly and feasible for
publishing. The heads of the stack and public branch may be
different but the corresponding tree objects are always the
<br>
same.</p>

<p style="margin-top: 1em">If the trees of the stack and
public branch are different (otherwise the command has no
effect), StGit first checks for a rebase of the stack since
the last publishing. If a <br>
rebase is detected, StGit creates a commit on the public
branch corresponding to a merge between the new stack base
and the latest public head.</p>

<p style="margin-top: 1em">If no rebasing was detected,
StGit checks for new patches that may have been created on
top of the stack since the last publishing. If new patches
are found and are not empty, <br>
they are checked into the public branch keeping the same
commit information (e.g. log message, author, committer,
date).</p>

<p style="margin-top: 1em">If the above tests fail (e.g.
patches modified or removed), StGit creates a new commit on
the public branch having the same tree as the stack but the
public head as its parent. <br>
The editor will be invoked if no &quot;--message&quot;
option is given.</p>

<p style="margin-top: 1em">It is recommended that stack
modifications falling in different categories as described
above are separated by a publish command in order to keep
the public branch history <br>
cleaner (otherwise StGit would generate a big commit
including several stack modifications).</p>

<p style="margin-top: 1em">The --unpublished option can be
used to check if there are applied patches that have not
been published to the public branch. This is done by trying
to revert the patches in the <br>
public tree (similar to the push --merged detection). The
--last option tries to find the last published patch by
checking the SHA1 of the patch tree agains the public tree.
This <br>
may fail if the stack was rebased since the last publish
command.</p>

<p style="margin-top: 1em">The public branch name can be
set via the branch.&lt;branch&gt;.public configuration
variable (defaulting to
&quot;&lt;branch&gt;.public&quot;).</p>

<p style="margin-top: 1em">OPTIONS <br>
-b BRANCH, --branch BRANCH <br>
Use BRANCH instead of the default branch.</p>

<p style="margin-top: 1em">-l, --last <br>
Show the last published patch.</p>

<p style="margin-top: 1em">-u, --unpublished <br>
Show applied patches that have not been published.</p>

<p style="margin-top: 1em">--author &quot;NAME
&lt;EMAIL&gt;&quot; <br>
Set the author details.</p>

<p style="margin-top: 1em">--authname NAME <br>
Set the author name.</p>

<p style="margin-top: 1em">--authemail EMAIL <br>
Set the author email.</p>

<p style="margin-top: 1em">--authdate DATE <br>
Set the author date.</p>

<p style="margin-top: 1em">-m MESSAGE, --message MESSAGE
<br>
Use MESSAGE instead of invoking the editor.</p>

<p style="margin-top: 1em">-f FILE, --file FILE <br>
Use the contents of FILE instead of invoking the editor. (If
FILE is &quot;-&quot;, write to stdout.)</p>

<p style="margin-top: 1em">--sign <br>
Add a &quot;Signed-off-by:&quot; to the end of the
patch.</p>

<p style="margin-top: 1em">--ack <br>
Add an &quot;Acked-by:&quot; line to the end of the
patch.</p>

<p style="margin-top: 1em">STGIT <br>
Part of the StGit suite - see stg(1)</p>

<p style="margin-top: 1em">StGit 02/12/2017
STG-PUBLISH(1)</p>
<hr>
</body>
</html>
