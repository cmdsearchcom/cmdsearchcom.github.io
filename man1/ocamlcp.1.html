<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>OCAMLCP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">OCAMLCP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">OCAMLCP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ocamlcp, ocamloptp - The OCaml profiling compilers
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ocamlcp</b> [ <i>ocamlc options</i> ] [ <b>-P</b><i>&#x00A0;flags</i> ]
  <i>filename ...</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>ocamloptp</b> [ <i>ocamlopt options</i> ] [ <b>-P</b><i>&#x00A0;flags</i> ]
  <i>filename ...</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>ocamlcp</b> and <b>ocamloptp</b> commands are front-ends to
  <b>ocamlc</b>(1) and <b>ocamlopt</b>(1) that instrument the source code,
  adding code to record how many times functions are called, branches of
  conditionals are taken, etc. Execution of instrumented code produces an
  execution profile in the file ocamlprof.dump, which can be read using
  <b>ocamlprof</b>(1).
<div style="height: 1.00em;">&#x00A0;</div>
<b>ocamlcp</b> accepts the same arguments and options as <b>ocamlc</b>(1) and
  <b>ocamloptp</b> accepts the same arguments and options as <b>ocamlopt</b>(1).
  There is only one exception: in both cases, the <b>-pp</b> option is not
  supported. If you need to preprocess your source files, you will have to do it
  separately before calling <b>ocamlcp</b> or <b>ocamloptp</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
In addition to the <b>ocamlc</b>(1) or <b>ocamlopt</b>(1) options,
  <b>ocamlcp</b> and <b>ocamloptp</b> accept one option to control the kind of
  profiling information, the <b>-P</b><i>&#x00A0;letters</i> option. The
  <i>letters</i> indicate which parts of the program should be profiled:
<dl class="Bl-tag">
  <dt class="It-tag"><b>a</b></dt>
  <dd class="It-tag">all options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>f</b></dt>
  <dd class="It-tag">function calls : a count point is set at the beginning of
      each function body</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>i</b></dt>
  <dd class="It-tag"><b>if</b>&#x00A0;...<b>&#x00A0;then</b>&#x00A0;...<b>&#x00A0;else</b>:
      count points are set in both <b>then</b>&#x00A0;and<b>&#x00A0;else</b>
      branches</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>l</b></dt>
  <dd class="It-tag"><b>while</b>,<b>&#x00A0;for</b> loops: a count point is set
      at the beginning of the loop body</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>m</b></dt>
  <dd class="It-tag"><b>match</b> branches: a count point is set at the
      beginning of the body of each branch of a pattern-matching</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>t</b></dt>
  <dd class="It-tag"><b>try</b>&#x00A0;...<b>&#x00A0;with</b> branches: a count
      point is set at the beginning of the body of each branch of an exception
      catcher
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
For instance, compiling with <b>ocamlcp -P film</b> profiles function calls,
  <b>if</b>&#x00A0;...<b>&#x00A0;then</b>&#x00A0;...<b>&#x00A0;else</b>&#x00A0;...,
  loops, and pattern matching.
<div style="height: 1.00em;">&#x00A0;</div>
Calling <b>ocamlcp</b>(1) or <b>ocamloptp</b>(1) without the <b>-P</b> option
  defaults to <b>-P&#x00A0;fm</b>, meaning that only function calls and pattern
  matching are profiled.
<div style="height: 1.00em;">&#x00A0;</div>
Note: for compatibility with previous versions, <b>ocamlcp</b>(1) also accepts
  the option <b>-p</b> with the same argument and meaning as <b>-P</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ocamlc</b>(1), <b>ocamlopt</b>(1), <b>ocamlprof</b>(1).
<div>&#x00A0;</div>
<i>The OCaml user's manual</i>, chapter &quot;Profiling&quot;.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
