<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:48:03 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ainsl(1) General Commands Manual ainsl(1)</p>

<p style="margin-top: 1em">NAME <br>
ainsl - AppendIfNoSuchLine</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ainsl [options] FILE LINE [PATTERN]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Add LINE to the end of FILE if this file does not contain
this line already. If PATTERN is given, then the LINE is
only appended if PATTERN is not found in the file.</p>

<p style="margin-top: 1em">Since ainsl is written in Perl,
you can use Perl&rsquo;s regular expressions in PATTERN. If
PATTERN is not given, LINE is used instead for matching a
line in FILE. Then LINE may also <br>
contain the anchors &rsquo;^&rsquo; and &rsquo;$&rsquo;
which are only treated specialy at the beginning or end of
the pattern and are used for matching, not when adding the
line. Additionally, the fol&acirc; <br>
lowing characters are escaped in LINE: ( ) +</p>

<p style="margin-top: 1em">The exit code returned by ainsl
is 0 on success and non-zero on error. See the section EXIT
CODES.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Autocreate file if it does not exist.</p>

<p style="margin-top: 1em">-D Create debugging output.</p>

<p style="margin-top: 1em">-h Show help, version and
summary of options.</p>

<p style="margin-top: 1em">-n Print the actions, but do not
execute them.</p>

<p style="margin-top: 1em">-Q Quote all metacharacters in
pattern. Uses perl&rsquo;s Q function.</p>

<p style="margin-top: 1em">-q Quote * and + metacharacters
in pattern.</p>

<p style="margin-top: 1em">-s Convert white space in LINE
or PATTERN to &rsquo;egexp for matching.</p>

<p style="margin-top: 1em">-N Don&rsquo;t prepend
&rsquo;$AINSL_TARGET/&rsquo; to filename, even if it is
set.</p>

<p style="margin-top: 1em">-v Create verbose output.</p>

<p style="margin-top: 1em">NOTES <br>
If the variable AINSL_TARGET is defined, its value will
become the prefix for the filename. This is used in FAI for
changing files in /target without specifying /target in the
<br>
file name.</p>

<p style="margin-top: 1em">EXAMPLES <br>
ainsl -v /etc/fstab &rsquo;/dev/fd0 /floppy auto
users,noauto 0 0&rsquo;</p>

<p style="margin-top: 1em">Append the entry for the floppy
device to /etc/fstab, if this line isn&rsquo;t already
included.</p>

<p style="margin-top: 1em">ainsl -s /etc/exports
&rsquo;/srv/www @linuxhosts(async,rw)
backup(async,ro)&rsquo;</p>

<p style="margin-top: 1em">Add exports entry without
exactly matching spaces.</p>

<p style="margin-top: 1em">EXIT CODES <br>
0 Success: Either FILE contains the LINE/PATTERN or LINE was
appended to FILE.</p>

<p style="margin-top: 1em">13 Permissions do not allow
writing to FILE and LINE/PATTERN was not found in file.</p>

<p style="margin-top: 1em">28 FILE cannot be written
because the filesystem has no space and LINE/PATTERN was not
found in file.</p>

<p style="margin-top: 1em">30 FILE cannot be written
because the filesystem is read-only and LINE/PATTERN was not
found in file.</p>

<p style="margin-top: 1em">NOTES <br>
This is a similar function to AppendIfNoSuchLine from
cfengine(8).</p>

<p style="margin-top: 1em">SEE ALSO <br>
This program is part of FAI (Fully Automatic Installation).
See the FAI manual for more information on how to use ainsl.
The FAI homepage is http://fai-project.org.</p>

<p style="margin-top: 1em">AUTHOR <br>
Thomas Lange &lt;lange@informatik.uni-koeln.de&gt;</p>

<p style="margin-top: 1em">FAI 4 8 march 2012 ainsl(1)</p>
<hr>
</body>
</html>
