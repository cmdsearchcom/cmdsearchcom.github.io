<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:07:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ELIOMC(1) General Commands Manual ELIOMC(1)</p>

<p style="margin-top: 1em">NAME <br>
eliomc, eliomcp, eliomopt, js_of_eliom, eliomdep - the eliom
build tools</p>

<p style="margin-top: 1em">SYNOPSIS <br>
eliomc [options] files</p>

<p style="margin-top: 1em">eliomcp [options] files</p>

<p style="margin-top: 1em">eliomopt [options] files</p>

<p style="margin-top: 1em">eliomdep [options] files</p>

<p style="margin-top: 1em">eliomdoc [options] files</p>

<p style="margin-top: 1em">eliompp [-client|-server]
files</p>

<p style="margin-top: 1em">js_of_eliom [options] files -o
filename.js</p>

<p style="margin-top: 1em">DESCRIPTION <br>
eliomc, eliomcp and eliomopt are wrapper around the OCaml
compiler that ease the compilation of the server part of
projects based on the Eliom framework. They respectively
accept <br>
the same set of option than the ocamlc(1),ocamlcp(1) and
ocamlopt(1) compilers plus the specific ones described in
the OPTIONS section.</p>

<p style="margin-top: 1em">js_of_eliom is a wrapper around
the OCaml and Js_of_ocaml compilers that ease the
compilation of the client part of projects based on the
Eliom framework. It accepts the same set <br>
of option than the ocamlc(1) compiler plus the specific ones
described in the OPTIONS section.</p>

<p style="margin-top: 1em">eliomdep is a wrapper around
ocamldep(1) that handles dependencies of an .eliom source
files. It accepts the same set of options plus the specific
ones described in the OPTIONS <br>
section. It makes the assumption that server-side compiled
modules of OCaml files located in this directory subtree are
in directory _server (with same subdirectories structure)
<br>
(resp. in directory _client for client-side compiled
modules).</p>

<p style="margin-top: 1em">eliompp (EXPERIMENTAL) is a
preprocessor which remove specific sections, depending on
the given option. The option -client will remove all the
top-level parts and server sec&acirc; <br>
tions and the option -server will remove only the client
sections.</p>

<p style="margin-top: 1em">eliomdoc (EXPERIMENTAL) is a
wrapper around the OCaml documentation generator ocamldoc.
It allows you to generate documentation from client or
server side. It accepts the same <br>
set of option than ocamldoc(1). It automatically extracts
the commentaries from the desired sections. eliomdoc is
currently experimental, and you could find some undefined
be&acirc; <br>
haviours. (see
http://ocsigen.org/eliom/manual/workflow-compilation). Some
well known bugs are:</p>

<p style="margin-top: 1em">&Acirc;&middot; your files
should always begin with a value and not with a comment.
Otherwise, camlp4 won&rsquo;t output the commentaries.</p>

<p style="margin-top: 1em">&Acirc;&middot; sometimes,
comment node are not attached as expected. That&rsquo;s
because camlp4 (sometimes) remove extra new line between
value elements.</p>

<p style="margin-top: 1em">COMPILING ELIOM SOURCE FILES
<br>
The compilation of files with a .eliom extension is achieved
in three steps: infer the type of value sent by the server
to the client; compile the server part of the code and <br>
compile the client part. The first two steps can be realised
with eliomc and the last one with js_of_eliom.</p>

<p style="margin-top: 1em">Both tools produce a .cmo file
named as the original .eliom file. To avoid overwriting the
.cmo representing the server part with .cmo of the client
part, files generated by <br>
eliomc or eliomopt are stored by default in a subdirectory
named _server and files generated by js_of_eliom are stored
in a subdirectory named _client. Those default directories
<br>
could be respectively overridden by the environment
variables ELIOM_SERVER_DIR and ELIOM_CLIENT_DIR.</p>

<p style="margin-top: 1em">The types infered by eliomc for
values sent by the server to the client are stored in an
intermediate files named as the original .eliom file and
whose extension is .type_mli. <br>
That file is required by js_of_eliom for compiling the
client part of the .eliom file. The eliomdep tool correctly
generate dependencies that intermediate file for the server
<br>
.cmo and the client .cmo.</p>

<p style="margin-top: 1em">OPTIONS <br>
-eliom-inc &lt;dir&gt; Add &lt;dir&gt; to the list of eliom
include directories (eliomdep only).</p>

<p style="margin-top: 1em">-dir &lt;dir&gt; <br>
Specify the target directory for generated files</p>

<p style="margin-top: 1em">-package &lt;name&gt; <br>
This is the same option as the ocamlfind one.</p>

<p style="margin-top: 1em">-predicates &lt;p&gt; <br>
This is the same option as the ocamlfind one.</p>

<p style="margin-top: 1em">-no-autoload <br>
Do not load commonly used syntax extensions (deriving, lwt,
js_of_ocaml, tyxml).</p>

<p style="margin-top: 1em">-type-conv <br>
Use type_conv syntax extensions instead of deriving one. It
has no effect if used in conjunction with -no-autoload.</p>

<p style="margin-top: 1em">-ppopt &lt;opt&gt; <br>
Append &lt;opt&gt; to preprocessor invocation.</p>

<p style="margin-top: 1em">-jsopt &lt;opt&gt; <br>
Append &lt;opt&gt; to js_of_ocaml invocation (js_of_eliom
only).</p>

<p style="margin-top: 1em">-infer &lt;opt&gt; <br>
For .eliom file, only generate the intermediate .type_mli
file (eliomc and eliomopt only).</p>

<p style="margin-top: 1em">-noinfer &lt;opt&gt; <br>
For .eliom file, do not generate the intermediate .type_mli
file (eliomc and eliomopt only).</p>

<p style="margin-top: 1em">-help or --help <br>
Display a short usage summary and exit.</p>

<p style="margin-top: 1em">EXAMPLES <br>
The compilation of an Eliom projects composed of a server
specific file named server.ml, a client specific file named
client.ml and two common files name base.eliom and <br>
main.eliom, could be achieved with the following
commands:</p>

<p style="margin-top: 1em">eliomc -a -o appl.cma server.ml
base.eliom main.eliom <br>
js_of_eliom -o appl.js client.ml base.eliom main.eliom</p>

<p style="margin-top: 1em">To avoid recompiling the whole
project each times, this could be split in multiple
steps:</p>

<p style="margin-top: 1em">eliomc -c server.ml <br>
eliomc -c base.eliom <br>
eliomc -c main.eliom <br>
eliomc -a -o appl.cma _server/server.cmo _server/base.cmo
_server/main.cmo <br>
js_of_eliom -c client.ml <br>
js_of_eliom -c base.eliom <br>
js_of_eliom -c main.eliom <br>
js_of_eliom -o appl.js _client/client.cmo _client/base.cmo
_client/main.cmo</p>

<p style="margin-top: 1em">SEE ALSO <br>
ocamlc(1), ocamlopt(1), js_of_ocaml(1), ocamlfind(1),
ocamlcp(1), ocamldep(1).</p>

<p style="margin-top: 1em">AUTHOR <br>
eliomc, js_of_eliom, eliomdep and eliomopt were written by
Gregoire Henry &lt;gregoire.henry@pps.jussieu.fr&gt;.</p>

<p style="margin-top: 1em">eliomdoc was written by Charly
Chevalier &lt;charly.n.chevalier@gmail.com&gt;.</p>

<p style="margin-top: 1em">This manual page was written by
Pierre Chambart &lt;chambart@crans.org&gt;.</p>

<p style="margin-top: 1em">2012-02-15 ELIOMC(1)</p>
<hr>
</body>
</html>
