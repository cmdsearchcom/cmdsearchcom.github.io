<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:52:48 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ATOMIC(1) July 2015 ATOMIC(1)</p>

<p style="margin-top: 1em">NAME <br>
atomic-images - operations on container images</p>

<p style="margin-top: 1em">SYNOPSIS <br>
atomic images COMMAND [OPTIONS] [IMAGES...]</p>

<p style="margin-top: 1em">atomic images allows the user to
view and operate on container images in a docker
registry.</p>

<p style="margin-top: 1em">COMMANDS <br>
delete</p>

<p style="margin-top: 1em">Delete the specified container
image(s). If you use the --remote option remote disk space
will not be freed until the registry garbage-collection
command is invoked for the <br>
remote registry.</p>

<p style="margin-top: 1em">generate <br>
Generates a gomtree validation manifest for all images.
Gomtree is required for this feature to be available.</p>

<p style="margin-top: 1em">help</p>

<p style="margin-top: 1em">Displays a help file associated
with a container or image.</p>

<p style="margin-top: 1em">If a container or image has a
help file (in man format) embedded in itself, atomic help
will display the help file in a pager similar to man. The
default location for a help <br>
file is /image_help.1 but the location of the help can be
overridden with the HELP LABEL. If you choose to override
the default location, ensure the path provided is a <br>
fully-qualified path that includes the help file itself.</p>

<p style="margin-top: 1em">The help file can be written
using the middleman markup and the converted using the
go-md2man utility as follows:</p>

<p style="margin-top: 1em">go-md2man -in image_help.1.md
-out image_help.1</p>

<p style="margin-top: 1em">You can also use any of the many
options to create the help file including using native man
tagging.</p>

<p style="margin-top: 1em">info</p>

<p style="margin-top: 1em">Displays the LABEL fields within
an image. By default, it will check first for a local image
and then all configured registries.</p>

<p style="margin-top: 1em">For a system container image,
this will also display the environment variables a user can
set.</p>

<p style="margin-top: 1em">list</p>

<p style="margin-top: 1em">List all installed container
images on your system.</p>

<p style="margin-top: 1em">A &gt; preceding the image name
indicates that the image is used by a container.</p>

<p style="margin-top: 1em">A * in the first column
indicates a dangling image. Dangling images are images with
no name/tag and which are not used by any other images.
Since they are not used, they waste <br>
system space. Dangling images can be caused by using
&rsquo;docker build&rsquo; to update an image without
removing the older version of the image.</p>

<p style="margin-top: 1em">prune</p>

<p style="margin-top: 1em">Prune/delete all dangling
images, freeing wasted disk space.</p>

<p style="margin-top: 1em">tag</p>

<p style="margin-top: 1em">Tag locally the image with a
different name. The source image won&rsquo;t be
modified.</p>

<p style="margin-top: 1em">update</p>

<p style="margin-top: 1em">Pulls the latest update of the
image from the repository. If a container based on this
image exists, the container will continue to use the old
image. Use --force to remove the <br>
container.</p>

<p style="margin-top: 1em">verify</p>

<p style="margin-top: 1em">Checks whether there is a newer
image available. If the image differs, it will capture any
of its relevant information like version (where applicable).
<br>
Verify will always attempt to use the Version and Release
labels to determine if there is a newer version. If that
information is not <br>
available, then for &rsquo;ostree&rsquo; images, verify will
compare using the manifest digests. In the case of docker
images, it will use the image&rsquo;s ID <br>
for comparison.</p>

<p style="margin-top: 1em">version</p>

<p style="margin-top: 1em">Display image &rsquo;Id
Name:Version:Release RepoTag&rsquo; label</p>

<p style="margin-top: 1em">delete OPTIONS <br>
[-h|--help] <br>
Print usage statement</p>

<p style="margin-top: 1em">[-f|--force] <br>
Force the deletion of specified local images, even if they
are in use.</p>

<p style="margin-top: 1em">[--remote] <br>
Delete images in remote registry. --force is not supported
with this option.</p>

<p style="margin-top: 1em">[--storage=[ostree|docker]] <br>
Optionally specify the storage from which to delete the
image from. Will prompt user to specify if the same image
name exists in both ostree and docker, and the user did not
<br>
specify.</p>

<p style="margin-top: 1em">Note: <br>
Atomic --assumeyes option can be used</p>

<p style="margin-top: 1em">[-y|--assumeyes] <br>
Delete image(s) without conformation from the user</p>

<p style="margin-top: 1em">info OPTIONS <br>
[-h|--help] <br>
Print usage statement</p>

<p style="margin-top: 1em">[--remote] <br>
Ignore all local images, only search configured
registries.</p>

<p style="margin-top: 1em">[--storage=[ostree|docker]] <br>
Optionally specify the storage of the image. Will prompt
user to specify if the same image name exists in both ostree
and docker, and the user did not specify.</p>

<p style="margin-top: 1em">list OPTIONS <br>
[-h|--help] <br>
Print usage statement</p>

<p style="margin-top: 1em">[-a|--all] <br>
Show all images, including intermediate images</p>

<p style="margin-top: 1em">[-f|--filter] <br>
Filter output based on given filters, example usage:
&rsquo;--filter repo=foo&rsquo; will list all images that
has &quot;foo&quot; as part of their repository name.</p>

<p style="margin-top: 1em">Filterables: created, id, image,
is_dangling, repo, size, tag, type</p>

<p style="margin-top: 1em">[-n|--noheading] <br>
Do not print heading when listing the images</p>

<p style="margin-top: 1em">[--no-trunc] <br>
Do not truncate output</p>

<p style="margin-top: 1em">[-q|--quiet] <br>
Only display image IDs</p>

<p style="margin-top: 1em">[--json] <br>
Output in the form of JSON.</p>

<p style="margin-top: 1em">update OPTIONS <br>
[-f|--force] <br>
Remove all containers based on this image</p>

<p style="margin-top: 1em">[-h|--help] <br>
Print usage statement</p>

<p style="margin-top: 1em">[--storage=[ostree|docker]] <br>
Optionally specify the storage of the image. Defaults to
docker.</p>

<p style="margin-top: 1em">verify OPTIONS <br>
[-h|--help] <br>
Print usage statement</p>

<p style="margin-top: 1em">[--no-validate] <br>
Skip validation of the files contained inside the image.</p>

<p style="margin-top: 1em">[--storage=[ostree|docker]] <br>
Optionally specify the storage of the image. Will prompt
user to specify if the same image name exists in both ostree
and docker, and the user did not specify.</p>

<p style="margin-top: 1em">[-v|--verbose] <br>
Will output the status of each base image that makes up the
image being verified.</p>

<p style="margin-top: 1em">version OPTIONS <br>
[-h|--help] <br>
Print usage statement</p>

<p style="margin-top: 1em">[-r|--recurse] <br>
Recurse through all layers of the specified image.</p>

<p style="margin-top: 1em">[--storage=[ostree|docker]] <br>
Optionally specify the storage of the image. Will prompt
user to specify if the same image name exists in both ostree
and docker, and the user did not specify.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Verify the Red Hat rsyslog image</p>

<p style="margin-top: 1em"># atomic images verify
registry.access.redhat.com/rhel7/rsyslog <br>
#</p>

<p style="margin-top: 1em">Verify the Red Hat rsyslog image
and show status of each image layer</p>

<p style="margin-top: 1em"># atomic images verify -v
registry.access.redhat.com/rhel7/rsyslog <br>
registry.access.redhat.com/rhel7/rsyslog contains the
following images:</p>

<p style="margin-top: 1em">rhel7/rsyslog-7.1-29
rhel7/rsyslog-7.1-29 <br>
redhat/rhel7-7.1-24 redhat/rhel7-7.1-24</p>

<p style="margin-top: 1em">* = version difference</p>

<p style="margin-top: 1em">Verify a system image</p>

<p style="margin-top: 1em"># sudo atomic images verify
busybox <br>
validation output for layer
a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4:</p>

<p style="margin-top: 1em">(no changes detected)</p>

<p style="margin-top: 1em">validation output for layer
8ddc19f16526912237dd8af81971d5e4dd0587907234be2b83e249518d5b673f:</p>

<p style="margin-top: 1em">&quot;etc/shadow&quot;: keyword
&quot;size&quot;: expected 243; got 268 <br>
&quot;etc/shadow&quot;: keyword &quot;sha256digest&quot;:
expected 22d9cee21ee808c52af44ac...; got
7a07ac69054c2a3533569874c2...</p>

<p style="margin-top: 1em">HISTORY <br>
July 2015, Originally compiled by Daniel Walsh (dwalsh at
redhat dot com) July 2016, Updated to reflect images
sub-command changes (jhonce at redhat dot com) July 2016,
Added <br>
sub-commands all, filter and quiet to list (jerzhang at
redhat dot com)</p>

<p style="margin-top: 1em">Dan Walsh Atomic Man Pages
ATOMIC(1)</p>
<hr>
</body>
</html>
