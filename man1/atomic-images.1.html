<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ATOMIC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ATOMIC(1)</td>
    <td class="head-vol">July 2015</td>
    <td class="head-rtitle">ATOMIC(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
atomic-images - operations on container images
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>atomic images COMMAND [OPTIONS] [IMAGES...]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
atomic images allows the user to view and operate on container images in a
  docker registry.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<b>delete</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Delete the specified container image(s). If you use the <b>--remote option</b>
  remote disk space will not be freed until the <b>registry
  garbage-collection</b> command is invoked for the remote registry.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>generate</b>
<br/>
 Generates a gomtree validation manifest for all images. Gomtree is required for
  this feature to be available.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>help</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Displays a help file associated with a container or image.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If a container or image has a help file (in man format) embedded in itself,
  atomic help will display the help file in a pager similar to man. The default
  location for a help file is /image_help.1 but the location of the help can be
  overridden with the HELP LABEL. If you choose to override the default
  location, ensure the path provided is a fully-qualified path that includes the
  help file itself.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The help file can be written using the middleman markup and the converted using
  the go-md2man utility as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
go-md2man -in image_help.1.md -out image_help.1
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
You can also use any of the many options to create the help file including using
  native man tagging.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>info</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Displays the LABEL fields within an image. By default, it will check first for a
  local image and then all configured registries.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
For a system container image, this will also display the environment variables a
  user can set.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>list</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
List all installed container images on your system.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A <b>&gt;</b> preceding the image name indicates that the image is used by a
  container.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A * in the first column indicates a dangling image. <b>Dangling</b> images are
  images with no name/tag and which are not used by any other images. Since they
  are not used, they waste system space. Dangling images can be caused by using
  'docker build' to update an image without removing the older version of the
  image.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>prune</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Prune/delete all <b>dangling</b> images, freeing wasted disk space.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>tag</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Tag locally the image with a different name. The source image won't be modified.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>update</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Pulls the latest update of the image from the repository. If a container based
  on this image exists, the container will continue to use the old image. Use
  --force to remove the container.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>verify</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Checks whether there is a newer image available. If the image differs, it will
  capture any of its relevant information like version (where applicable).
<br/>
 Verify will always attempt to use the <b>Version</b> and <b>Release</b> labels
  to determine if there is a newer version. If that information is not
<br/>
 available, then for 'ostree' images, verify will compare using the manifest
  digests. In the case of docker images, it will use the image's ID
<br/>
 for comparison.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>version</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Display image 'Id Name:Version:Release RepoTag' label
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="delete_OPTIONS"><a class="selflink" href="#delete_OPTIONS">delete
  OPTIONS</a></h1>
[ <b>-h|--help</b>]
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-f|--force</b>]
<br/>
 Force the deletion of specified local images, even if they are in use.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--remote</b>]
<br/>
 Delete images in remote registry. <i>--force</i> is not supported with this
  option.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--storage=[ostree|docker]</b>]
<br/>
 Optionally specify the storage from which to delete the image from. Will prompt
  user to specify if the same image name exists in both ostree and docker, and
  the user did not specify.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Note:"><a class="selflink" href="#Note:">Note:</a></h1>
Atomic --assumeyes option can be used
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-y|--assumeyes</b>]
<br/>
 Delete image(s) without conformation from the user
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="info_OPTIONS"><a class="selflink" href="#info_OPTIONS">info
  OPTIONS</a></h1>
[ <b>-h|--help</b>]
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--remote</b>]
<br/>
 Ignore all local images, only search configured registries.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--storage=[ostree|docker]</b>]
<br/>
 Optionally specify the storage of the image. Will prompt user to specify if the
  same image name exists in both ostree and docker, and the user did not
  specify.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="list_OPTIONS"><a class="selflink" href="#list_OPTIONS">list
  OPTIONS</a></h1>
[ <b>-h|--help</b>]
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-a|--all</b>]
<br/>
 Show all images, including intermediate images
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-f|--filter</b>]
<br/>
 Filter output based on given filters, example usage: '--filter repo=foo' will
  list all images that has &quot;foo&quot; as part of their repository name.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Filterables: <b></b>created, <b></b>id, <b></b>image, <b></b>is_dangling,
  <b></b>repo, <b></b>size, <b></b>tag, <b></b>type
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-n|--noheading</b>]
<br/>
 Do not print heading when listing the images
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--no-trunc</b>]
<br/>
 Do not truncate output
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-q|--quiet</b>]
<br/>
 Only display image IDs
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--json</b>]
<br/>
 Output in the form of JSON.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="update_OPTIONS"><a class="selflink" href="#update_OPTIONS">update
  OPTIONS</a></h1>
[ <b>-f</b>|<b>--force</b>]
<br/>
 Remove all containers based on this image
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-h</b>|<b>--help</b>]
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--storage=[ostree|docker]</b>]
<br/>
 Optionally specify the storage of the image. Defaults to docker.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="verify_OPTIONS"><a class="selflink" href="#verify_OPTIONS">verify
  OPTIONS</a></h1>
[ <b>-h|--help</b>]
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--no-validate</b>]
<br/>
 Skip validation of the files contained inside the image.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--storage=[ostree|docker]</b>]
<br/>
 Optionally specify the storage of the image. Will prompt user to specify if the
  same image name exists in both ostree and docker, and the user did not
  specify.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-v|--verbose</b>]
<br/>
 Will output the status of each base image that makes up the image being
  verified.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="version_OPTIONS"><a class="selflink" href="#version_OPTIONS">version
  OPTIONS</a></h1>
[ <b>-h|--help</b>]
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-r|--recurse</b>]
<br/>
 Recurse through all layers of the specified image.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>--storage=[ostree|docker]</b>]
<br/>
 Optionally specify the storage of the image. Will prompt user to specify if the
  same image name exists in both ostree and docker, and the user did not
  specify.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Verify the Red Hat rsyslog image
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
# atomic images verify registry.access.redhat.com/rhel7/rsyslog
#
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Verify the Red Hat rsyslog image and show status of each image layer
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
# atomic images verify -v registry.access.redhat.com/rhel7/rsyslog
registry.access.redhat.com/rhel7/rsyslog contains the following images:
<div class="Pp"></div>
 rhel7/rsyslog-7.1-29           rhel7/rsyslog-7.1-29
 redhat/rhel7-7.1-24            redhat/rhel7-7.1-24
<div class="Pp"></div>
 * = version difference
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Verify a system image
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
# sudo atomic images verify busybox
validation output for layer a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4:
<div class="Pp"></div>
(no changes detected)
<div class="Pp"></div>
validation output for layer 8ddc19f16526912237dd8af81971d5e4dd0587907234be2b83e249518d5b673f:
<div class="Pp"></div>
&quot;etc/shadow&quot;: keyword &quot;size&quot;: expected 243; got 268
&quot;etc/shadow&quot;: keyword &quot;sha256digest&quot;: expected 22d9cee21ee808c52af44ac...; got 7a07ac69054c2a3533569874c2...
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
July 2015, Originally compiled by Daniel Walsh (dwalsh at redhat dot com) July
  2016, Updated to reflect images sub-command changes (jhonce at redhat dot com)
  July 2016, Added sub-commands all, filter and quiet to list (jerzhang at
  redhat dot com)</div>
<table class="foot">
  <tr>
    <td class="foot-date"> Atomic Man Pages</td>
    <td class="foot-os">Dan Walsh</td>
  </tr>
</table>
</body>
</html>
