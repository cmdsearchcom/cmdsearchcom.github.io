<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DIDJVU(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DIDJVU(1)</td>
    <td class="head-vol">didjvu manual</td>
    <td class="head-rtitle">DIDJVU(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
didjvu - DjVu encoder with foreground/background separation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 16.00ex; text-indent: -16.00ex;"><b>didjvu
  separate</b> [{
  <b>-o</b>&#x00A0;|&#x00A0;<b>--output</b>}&#x00A0;<i>output-mask</i>] [
  <i>option</i>...] <i>input-image</i></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 16.00ex; text-indent: -16.00ex;"><b>didjvu
  separate</b> <b>--output-template</b>&#x00A0;<i>name-template</i>
  [<i>option</i>...] <i>input-image</i>...</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 14.00ex; text-indent: -14.00ex;"><b>didjvu
  encode</b> [{
  <b>-o</b>&#x00A0;|&#x00A0;<b>--output</b>}&#x00A0;<i>output-djvu</i>] [
  <i>option</i>...] <i>input-image</i></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 14.00ex; text-indent: -14.00ex;"><b>didjvu
  encode</b> <b>--output-template</b>&#x00A0;<i>name-template</i>
  [<i>option</i>...] <i>input-image</i>...</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 14.00ex; text-indent: -14.00ex;"><b>didjvu
  bundle</b> [{
  <b>-o</b>&#x00A0;|&#x00A0;<b>--output</b>}&#x00A0;<i>output-djvu</i>] [
  <i>option</i>...] <i>input-image</i>...</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 7.00ex; text-indent: -7.00ex;"><b>didjvu</b>
  { <b>--version</b> | <b>--help</b> | <b>-h</b>}</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>didjvu</b> uses the <i>Gamera</i>[1] framework to separate
  foreground/background layers, which can be then encoded into a DjVu file.
<div class="Pp"></div>
<b>didjvu separate</b> generates images mask(s) for the supplied input image(s).
  Masks are saved in the PNG format.
<div class="Pp"></div>
<b>didjvu encode</b> converts the supplied input image(s) to single-page DjVu
  documents(s).
<div class="Pp"></div>
<b>didjvu bundle</b> converts the supplied input image(s) to a bundled
  multi-page DjVu document.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>didjvu</b> accepts the following options:
<h2 class="Ss" title="Ss" id="Input,_output"><a class="selflink" href="#Input,_output">Input,
  output</a></h2>
<b>-o</b>, <b>--output=</b><b></b><i>output-djvu</i>
<div style="margin-left: 4.00ex;">Generate a bundled multi-page document. Write
  the file into <i>output-djvu</i> file instead of standard output.
<div style="height: 1.00em;">&#x00A0;</div>
For <b>separate</b> and <b>encode</b> commands, this option is allowed only if
  there is exactly one input file (i.e. exactly one output file).</div>
<div class="Pp"></div>
<b>--output-template=</b><b></b><i>template</i>
<div style="margin-left: 4.00ex;">Specifies the naming scheme for output files
  for the <b>separate</b> and <b>encode</b> commands. Please consult the
  &#x201C;TEMPLATE LANGUAGE&#x201D; section for the template language
  description.
<div style="height: 1.00em;">&#x00A0;</div>
This option is mandatory if there is more than one input file (i.e. more than
  one output file).</div>
<div class="Pp"></div>
<b>--page-id-template=</b><b></b><i>template</i>
<div style="margin-left: 4.00ex;">Specifies the naming scheme for page
  identifiers for the <b>bundle</b> command. Please consult the &#x201C;TEMPLATE
  LANGUAGE&#x201D; section for the template language description. The default
  template is &#x201C;{base-ext}.djvu&#x201D;.
<div style="height: 1.00em;">&#x00A0;</div>
For portability reasons, page identifiers:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;must consist only of lowercase ASCII
  letters, digits, _, +, - and dot,</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;cannot start with a +, - or a
  dot,</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;cannot contain two consecutive
  dots,</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;must end with the .djvu
  extension.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h2 class="Ss" title="Ss" id="Masks"><a class="selflink" href="#Masks">Masks</a></h2>
<b>--loss-level=</b><b></b><i>n</i>
<div style="margin-left: 4.00ex;">Specifies the aggressiveness of the lossy
  compression for the <b>separate</b> and <b>encode</b> commands. The default is
  0 (lossless). Valid values are integers between 0 and 200, inclusive.
<div style="height: 1.00em;">&#x00A0;</div>
This option is similar to the <b>-losslevel</b> option of <b>cjb2</b>; please
  consult the <b>cjb2</b>(1) manual page for details.</div>
<div class="Pp"></div>
<b>--lossless</b>
<div style="margin-left: 4.00ex;">Synonym for <b>--loss-level=0</b>.</div>
<div class="Pp"></div>
<b>--clean</b>
<div style="margin-left: 4.00ex;">Synonym for <b>--loss-level=1</b>.</div>
<div class="Pp"></div>
<b>--lossy</b>
<div style="margin-left: 4.00ex;">Synonym for <b>--loss-level=100</b>.</div>
<div class="Pp"></div>
<b>-m</b>, <b>--method=</b><b></b><i>method</i>
<div style="margin-left: 4.00ex;">Use the selected method to generate image mask
  (i.e. separate foreground from background). The following methods should be
  available:
<div class="Pp"></div>
abutaleb
<div style="margin-left: 4.00ex;">Abutaleb locally-adaptive thresholding
  algorithm</div>
<div class="Pp"></div>
bernsen
<div style="margin-left: 4.00ex;">Bernsen thresholding algorithm</div>
<div class="Pp"></div>
brink
<div style="margin-left: 4.00ex;">Brink and Pendock's minimum-cross entropy
  method
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
this method requires Gamera &#x2265; 3.4.0
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
djvu
<div style="margin-left: 4.00ex;">DjVu thresholding algorithm</div>
<div class="Pp"></div>
global
<div style="margin-left: 4.00ex;">splitting along a global threshold value</div>
<div class="Pp"></div>
niblack
<div style="margin-left: 4.00ex;">Niblack adaptive thresholding algorithm</div>
<div class="Pp"></div>
otsu
<div style="margin-left: 4.00ex;">Otsu thresholding algorithm</div>
<div class="Pp"></div>
sauvola
<div style="margin-left: 4.00ex;">Sauvola adaptive thresholding algorithm</div>
<div class="Pp"></div>
shading-subtraction
<div style="margin-left: 4.00ex;">thresholds an image after subtracting a
  possibly shaded background
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
this method requires Gamera &#x2265; 3.3.1
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
tsai
<div style="margin-left: 4.00ex;">splitting along a threshold value determined
  using the Tsai Moment Preserving Threshold algorithm</div>
<div class="Pp"></div>
white-rohrer
<div style="margin-left: 4.00ex;">White and Rohrer dynamic thresholding
  algorithm</div>
<div style="height: 1.00em;">&#x00A0;</div>
The default is &#x2018;djvu&#x2019;.
<div style="height: 1.00em;">&#x00A0;</div>
Please consult the <i>Gamera documentation</i>[2] for details.</div>
<div class="Pp"></div>
<b>-x</b>, <b>--param=</b><b></b><i>name</i><b>=</b><b></b><i>value</i>
<div style="margin-left: 4.00ex;">Set parameter for the binarization method.
<div style="height: 1.00em;">&#x00A0;</div>
This option can be used more than once.
<div style="height: 1.00em;">&#x00A0;</div>
Please consult the <i>Gamera documentation</i>[2] for details.</div>
<div class="Pp"></div>
<b>-p</b>, <b>--pages-per-dict=</b><b></b><i>n</i>
<div style="margin-left: 4.00ex;">For <b>bundle</b> command: if <i>n</i> &gt; 1,
  compress masks with <b>minidjvu</b> using <i>n</i> pages in one pass. The
  default is 1.</div>
<div class="Pp"></div>
<b>--masks</b>, <b>--mask=</b><b></b><i>input-mask</i>
<div style="margin-left: 4.00ex;">Use the pre-generated image masks for the
  <b>encode</b> and <b>bundle</b> commands.</div>
<h2 class="Ss" title="Ss" id="Foreground/background_quality,_resolution"><a class="selflink" href="#Foreground/background_quality,_resolution">Foreground/background
  quality, resolution</a></h2>
(These options apply to <b>encode</b> and <b>bundle</b> commands only.)
<div class="Pp"></div>
<b>-d</b>, <b>--dpi=</b><b></b><i>resolution</i>
<div style="margin-left: 4.00ex;">Specifies the desired resolution to
  <i>resolution</i> dots per inch. The default is to preserve the input file
  resolution, or 300 dpi if resolution metadata is missing. The allowed range
  is: 72 &#x2264; <i>resolution</i> &#x2264; 6000.</div>
<div class="Pp"></div>
<b>--fg-slices=</b><b></b><i>n</i>
<div style="margin-left: 4.00ex;">Specifies the encoding quality of the IW44
  foreground layer. The default is 100.
<div style="height: 1.00em;">&#x00A0;</div>
This option is similar to the <b>-slice</b> option of <b>c44</b>; please consult
  the <b>c44</b>(1) manual page for details.</div>
<div class="Pp"></div>
<b>--fg-crcb=normal</b>
<div style="margin-left: 4.00ex;">Select normal chrominance encoding of the
  foreground layer.</div>
<div class="Pp"></div>
<b>--fg-crcb=half</b>
<div style="margin-left: 4.00ex;">Select half resolution chrominance encoding of
  the foreground layer.</div>
<div class="Pp"></div>
<b>--fg-crcb=full</b>
<div style="margin-left: 4.00ex;">Select the highest possible quality for
  encoding the chrominance information of the foreground layer. This is the
  default.</div>
<div class="Pp"></div>
<b>--fg-crcb=none</b>
<div style="margin-left: 4.00ex;">Disable the encoding of the chrominance of the
  foreground layer.</div>
<div class="Pp"></div>
<b>--fg-subsample=</b><b></b><i>n</i>
<div style="margin-left: 4.00ex;">Specifies the foreground subsampling ratio.
  The default is 6. Valid values are integers between 1 and 12, inclusive.</div>
<div class="Pp"></div>
<b>
  --bg-slices=</b><b></b><i>n</i><b>+</b><b></b><i>...</i><b>+</b><b></b><i>n</i>
  <b> </b>, <b>
  --bg-slices=</b><b></b><i>n</i><b>,</b><b></b><i>...</i><b>,</b><b></b><i>n</i><b>
  </b>
<div style="margin-left: 4.00ex;">Specifies the encoding quality of the IW44
  background layer. The default is 74+10+6+7.
<div style="height: 1.00em;">&#x00A0;</div>
This option is similar to the <b>-slice</b> option of <b>c44</b>; please consult
  the <b>c44</b>(1) manual page for details.</div>
<div class="Pp"></div>
<b>--bg-crcb=normal</b>
<div style="margin-left: 4.00ex;">Select normal chrominance encoding of the
  background layer. This is the default.</div>
<div class="Pp"></div>
<b>--bg-crcb=half</b>
<div style="margin-left: 4.00ex;">Select half resolution chrominance encoding of
  the background layer.</div>
<div class="Pp"></div>
<b>--bg-crcb=full</b>
<div style="margin-left: 4.00ex;">Select the highest possible quality for
  encoding the chrominance information of the background layer.</div>
<div class="Pp"></div>
<b>--bg-crcb=none</b>
<div style="margin-left: 4.00ex;">Disable the encoding of the chrominance of the
  background layer.</div>
<div class="Pp"></div>
<b>--bg-subsample=</b><b></b><i>n</i>
<div style="margin-left: 4.00ex;">Specifies the background subsampling ratio.
  The default is 3. Valid values are integers between 1 and 12, inclusive.</div>
<h2 class="Ss" title="Ss" id="XMP_support"><a class="selflink" href="#XMP_support">XMP
  support</a></h2>
(These options apply to <b>encode</b> and <b>bundle</b> commands only.)
<div class="Pp"></div>
<b>--xmp</b>
<div style="margin-left: 4.00ex;">Create sidecar <i>XMP</i>[3] metadata.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
This option is experimental!
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<h2 class="Ss" title="Ss" id="Verbosity,_help"><a class="selflink" href="#Verbosity,_help">Verbosity,
  help</a></h2>
<b>-v</b>, <b>--verbose</b>
<div style="margin-left: 4.00ex;">Display more informational messages while
  converting the file.</div>
<div class="Pp"></div>
<b>-q</b>, <b>--quiet</b>
<div style="margin-left: 4.00ex;">Don't display informational messages while
  converting the file.</div>
<div class="Pp"></div>
<b>--version</b>
<div style="margin-left: 4.00ex;">Output version information and exit.</div>
<div class="Pp"></div>
<b>-h</b>, <b>--help</b>
<div style="margin-left: 4.00ex;">Display help and exit.</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The following environment variables affects <b>didjvu</b>:
<div class="Pp"></div>
<i>TMPDIR</i>
<div style="margin-left: 4.00ex;"><b>didjvu</b> makes heavy use of temporary
  files. It will store them in a directory specified by this variable. The
  default is /tmp.</div>
<h1 class="Sh" title="Sh" id="TEMPLATE_LANGUAGE"><a class="selflink" href="#TEMPLATE_LANGUAGE">TEMPLATE
  LANGUAGE</a></h1>
<h2 class="Ss" title="Ss" id="Template_syntax"><a class="selflink" href="#Template_syntax">Template
  syntax</a></h2>
The template language uses the <i>Python string formatting syntax</i>[4].
<h2 class="Ss" title="Ss" id="Available_field_names"><a class="selflink" href="#Available_field_names">Available
  field names</a></h2>
<i>name</i>
<div style="margin-left: 4.00ex;">input file path</div>
<div class="Pp"></div>
<i>name-ext</i>
<div style="margin-left: 4.00ex;">input file path without file extension</div>
<div class="Pp"></div>
<i>base</i>
<div style="margin-left: 4.00ex;">input file name without directory
  components</div>
<div class="Pp"></div>
<i>base-ext</i>
<div style="margin-left: 4.00ex;">input file name without directory components
  and without file extension</div>
<div class="Pp"></div>
<i>page</i>, <i>page+</i><i></i><i>N</i>, <i>page-</i><i></i><i>N</i>
<div style="margin-left: 4.00ex;">page number, optionally shifted by a number
  <i>N</i></div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>djvu</b>(1), <b>djvumake</b>(1), <b>c44</b>(1), <b>cjb2</b>(1),
  <b>minidjvu</b>(1),
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Gamera</dd>
</dl>
<div style="margin-left: 4.00ex;"><i>http://gamera.informatik.hsnr.de/</i></div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">Gamera documentation</dd>
</dl>
<div style="margin-left: 4.00ex;"><i>http://gamera.informatik.hsnr.de/docs/gamera-docs/binarization.html</i></div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">XMP</dd>
</dl>
<div style="margin-left: 4.00ex;"><i>https://www.adobe.com/devnet/xmp.html</i></div>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag">Python string formatting syntax</dd>
</dl>
<div style="margin-left: 4.00ex;"><i>https://docs.python.org/library/string.html#format-string-syntax</i></div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-11-13</td>
    <td class="foot-os">didjvu 0.8.1</td>
  </tr>
</table>
</body>
</html>
