<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FTEQCC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FTEQCC(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">FTEQCC(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fteqcc - FTE QuakeC compiler
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>fteqcc</b> [<i>options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This manual page documents briefly the <b>fteqcc</b> command.
<div class="Pp"></div>
<b>fteqcc</b> is a program that compiles QuakeC sourcecode to binaray game data
  of Quake1 or QuakeWorld based games.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show summary of options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Fautoproto</b></dt>
  <dd class="It-tag">enable automatic prototyping</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Fwasm</b></dt>
  <dd class="It-tag">dump all assembler code to qc.asm</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Kkeyword, -Kno-keyword</b></dt>
  <dd class="It-tag">turn language keywords on or off. Keywords available to
      toggle are: asm, break, case, class, const, continue, default, entity,
      enum, enumflags, extern, float, for, goto, int, integer, noref, nosave,
      shared, state, string, struct, switch, thinktime, typedef, union, var and
      vector.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O0, -O1, -O2, -O3,</b></dt>
  <dd class="It-tag">use optimisation level between 0 and 3. With 0, no
      optimisation takes place, other values include more or less of the options
      in the section <b>OPTIMISATION</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-src directory</b></dt>
  <dd class="It-tag">Specify a directory to look for source files (progs.src)
      in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Wall</b></dt>
  <dd class="It-tag">show all warnings</dd>
</dl>
<h1 class="Sh" title="Sh" id="FORMAT"><a class="selflink" href="#FORMAT">FORMAT</a></h1>
<b>fteqcc</b> supports several output formats.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Tstandard, -Tq1, -Tquakec</b></dt>
  <dd class="It-tag">This is the default setting and generates code compatible
      with original Quake1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Thexen2, -Th2</b></dt>
  <dd class="It-tag">Outputs Hexen2 compatible code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Tkkqwsv, -Tkk7, -Tbigprogs, -Tversion7,
    -Tkkqwsv</b></dt>
  <dd class="It-tag">Generates KK Version 7 compatible progs</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Tfte</b></dt>
  <dd class="It-tag">Generates code specific to FTE Quake.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIMISATION"><a class="selflink" href="#OPTIMISATION">OPTIMISATION</a></h1>
The following options may be used to fine-tune optimisation. Some of them are
  activated automatically.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oassignments</b></dt>
  <dd class="It-tag">c = a*b is performed in one operation rather than two, and
      can cause older decompilers to fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oshortenifs</b></dt>
  <dd class="It-tag">if (!a) was traditionally compiled in two statements. This
      optimisation does it in one, but can cause some decompilers to get
      confused.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ononvec_parms</b></dt>
  <dd class="It-tag">In the origional qcc, function parameters were specified as
      a vector store even for floats. This fixes that.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oconstant_names</b></dt>
  <dd class="It-tag">strips out the names of constants from your progs,
      resulting in smaller files. It makes decompilers leave out names or
      fabricate numerical ones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oconstant_name_strings</b></dt>
  <dd class="It-tag">strips out the names of string constants from your progs.
      This can break addons, so don't use it in those cases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Odupconstdefs</b></dt>
  <dd class="It-tag">merge definitions of constants which are the same value.
      Pay extra attention to assignment to constant warnings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Onouplicatestrings</b></dt>
  <dd class="It-tag">compact the string table that is stored in the progs. It
      will be considerably smaller with this.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Olocals</b></dt>
  <dd class="It-tag">Strips out local names and definitions. This makes it
      REALLY hard to decompile</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ofunction_names</b></dt>
  <dd class="It-tag">This strips out the names of functions which are never
      called. Doesn't make much of an impact though.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ofilenames</b></dt>
  <dd class="It-tag">This strips out the filenames of the progs. This can
      confuse the really old decompilers, but is nothing to the more recent
      ones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ounreferenced</b></dt>
  <dd class="It-tag">Removes the entries of unreferenced variables. Doesn't make
      a difference in well maintained code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ooverlaptemps</b></dt>
  <dd class="It-tag">Optimises the pr_globals count by overlapping temporaries.
      In QC, every multiplication, division or operation in general produces a
      temporary variable. This optimisation prevents excess, and in the case of
      Hexen2's gamecode, reduces the count by 50k. This is the most important
      optimisation, ever.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oconstantarithmatic</b></dt>
  <dd class="It-tag">5*6 actually emits an operation into the progs. This
      prevents that happening, effectivly making the compiler see 30</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oprecache_file</b></dt>
  <dd class="It-tag">Strip out stuff wasted used in function calls and strings
      to the precache_file builtin (which is actually a stub in quake).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Oreturn_only</b></dt>
  <dd class="It-tag">Functions ending in a return statement do not need a done
      statement at the end of the function. This can confuse some decompilers,
      making functions appear larger than they were.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ocompound_jumps</b></dt>
  <dd class="It-tag">This optimisation plays an effect mostly with nested
      if/else statements, instead of jumping to an unconditional jump statement,
      it'll jump to the final destination instead. This will bewilder
      decompilers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ostrip_functions</b></dt>
  <dd class="It-tag">Strips out the 'defs' of functions that were only ever
      called directly. This does not affect saved games.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Olocals_marshalling</b></dt>
  <dd class="It-tag">Store all locals in one section of the pr_globals. Vastly
      reducing it. This effectivly does the job of overlaptemps. It's been
      noticed as buggy by a few, however, and the curcumstances where it causes
      problems are not yet known.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ovectorcals</b></dt>
  <dd class="It-tag">Where a function is called with just a vector, this causes
      the function call to store three floats instead of one vector. This can
      save a good number of pr_globals where those vectors contain many
      duplicate coordinates but do not match entirly.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
fteqcc was written by David Walton &lt;acceptthis@users.sourceforge.net&gt; and
  J. Smith &lt;timeserv@users.sourceforge.net&gt;.
<div class="Pp"></div>
This manual page was written by Ren&#x00E9; van Bevern &lt;rvb@debian.org&gt;,
  for the Debian project (but may be used by others). Most information was
  obtained from comments in the source codes.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Juni 26, 2005</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
