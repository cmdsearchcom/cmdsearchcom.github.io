<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:52:42 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ATF-CHECK(1) BSD General Commands Manual
ATF-CHECK(1)</p>

<p style="margin-top: 1em">NAME <br>
atf-check &acirc; executes a command and analyzes its
results</p>

<p style="margin-top: 1em">SYNOPSIS <br>
atf-check [-s qual:value] [-o action:arg ...] [-e action:arg
...] [-x] command <br>
atf-check -h</p>

<p style="margin-top: 1em">DESCRIPTION <br>
atf-check executes a given command and analyzes its results,
including exit code, stdout and stderr.</p>

<p style="margin-top: 1em">In the first synopsis form,
atf-check will execute the provided command and apply checks
specified by arguments. By default it will act as if it was
run with -s exit:0 -o empty -e <br>
empty. Multiple checks for the same output channel are
allowed and, if specified, their results will be combined as
a logical and (meaning that the output must match all the
pro&acirc; <br>
vided checks).</p>

<p style="margin-top: 1em">In the second synopsis form,
atf-check will print information about all supported options
and their purpose.</p>

<p style="margin-top: 1em">The following options are
available:</p>

<p style="margin-top: 1em">-h Shows a short summary of all
available options and their purpose.</p>

<p style="margin-top: 1em">-s qual:value Analyzes
termination status. Must be one of: <br>
exit:&lt;value&gt; checks that the program exited cleanly
and that its exit status is equal to value. The exit code
can be omitted altogether, in which case any clean <br>
exit is accepted. <br>
ignore ignores the exit check. <br>
signal:&lt;value&gt; checks that the program exited due to a
signal and that the signal that terminated it is value. The
signal can be specified both as a number or as a <br>
name, or it can also be omitted altogether, in which case
any signal is accepted.</p>

<p style="margin-top: 1em">Most of these checkers can be
prefixed by the &acirc;not-&acirc; string, which effectively
reverses the check.</p>

<p style="margin-top: 1em">-o action:arg Analyzes standard
output. Must be one of: <br>
empty checks that stdout is empty <br>
ignore ignores stdout <br>
file:&lt;path&gt; compares stdout with given file <br>
inline:&lt;value&gt; compares stdout with inline value <br>
match:&lt;regexp&gt; looks for a regular expression in
stdout <br>
save:&lt;path&gt; saves stdout to given file</p>

<p style="margin-top: 1em">Most of these checkers can be
prefixed by the &acirc;not-&acirc; string, which effectively
reverses the check.</p>

<p style="margin-top: 1em">-e action:arg Analyzes standard
error (syntax identical to above)</p>

<p style="margin-top: 1em">-x Executes command as a shell
command line, executing it with the system shell defined by
ATF_SHELL in atf-config(1). You should avoid using this flag
if at all pos&acirc; <br>
sible to prevent shell quoting issues.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
atf-check exits 0 on success, and other (unspecified) value
on failure.</p>

<p style="margin-top: 1em">EXAMPLES <br>
# Exit code 0, nothing on stdout/stderr <br>
atf-check &rsquo;true&rsquo;</p>

<p style="margin-top: 1em"># Typical usage if failure is
expected <br>
atf-check -s not-exit:0 &rsquo;false&rsquo;</p>

<p style="margin-top: 1em"># Checking stdout/stderr <br>
echo foobar &gt;expout <br>
atf-check -o file:expout -e inline:&quot;xxyy0 &rsquo;echo
foobar ; printf &quot;xxyy0 &gt;&amp;2&rsquo;</p>

<p style="margin-top: 1em"># Checking for a crash <br>
atf-check -s signal:sigsegv my_program</p>

<p style="margin-top: 1em"># Combined checks <br>
atf-check -o match:foo -o not-match:bar echo foo baz</p>

<p style="margin-top: 1em">SEE ALSO <br>
atf-config(1), atf(7)</p>

<p style="margin-top: 1em">BSD June 27, 2010 BSD</p>
<hr>
</body>
</html>
