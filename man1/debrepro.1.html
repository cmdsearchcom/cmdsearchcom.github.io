<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DEBREPRO(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DEBREPRO(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">DEBREPRO(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
debrepro - reproduciblity tester for Debian packages
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>debrepro</b> [<i>SOURCEDIR</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>debrepro</b> will build a given source directory twice, with a set of
  variation between the first and second build, and compare the binary packages
  produced. If <b>diffoscope</b> is installed, it is used to compare
  non-matching binaries. If <b>disorderfs</b> is installed, it is used during
  the build to inject non-determinism in filesystem listing operations.
<div class="Pp"></div>
<i>SOURCEDIR</i> must be a directory containing an unpacked Debian source
  package. If <i>SOURCEDIR</i> is omitted, the current directory is assumed.
<h1 class="Sh" title="Sh" id="OUTPUT_DIRECTORY"><a class="selflink" href="#OUTPUT_DIRECTORY">OUTPUT
  DIRECTORY</a></h1>
At the very end of a build, <b>debrepro</b> will inform the location of the
  output directory where the build artifacts can be found. The contents of this
  directory is as follows:
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>&#x00AB;outdir&#x00BB;/first</i></b></dt>
  <dd class="It-tag">contains the results of the first build, including a copy
      of the source tree, and the resulting binary packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>&#x00AB;outdir&#x00BB;/first/build.sh</i></b></dt>
  <dd class="It-tag">contains the exact build script that was used in the first
      build.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>&#x00AB;outdir&#x00BB;/second</i></b></dt>
  <dd class="It-tag">contains the results of the second build, including a copy
      of the source tree, and the resulting binary packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>&#x00AB;outdir&#x00BB;/second/build.sh</i></b></dt>
  <dd class="It-tag">contains the exact build script that was used in the second
      build.</dd>
</dl>
<div class="Pp"></div>
diff'ing <i>&#x00AB;outdir&#x00BB;/first/build.sh</i> and
  <i>&#x00AB;outdir&#x00BB;/second/build.sh</i> is an excellent way of figuring
  out exactly what changed between the two builds.
<h1 class="Sh" title="Sh" id="SUPPORTED_VARIATIONS"><a class="selflink" href="#SUPPORTED_VARIATIONS">SUPPORTED
  VARIATIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>USER</b></b></dt>
  <dd class="It-tag">The <i>$USER</i> environment name will contain different
      values between the first and second builds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>PATH</b></b></dt>
  <dd class="It-tag">During the second build, a fake, unexisting directory will
      be appended to the <i>$PATH</i> environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>umask</b></b></dt>
  <dd class="It-tag">The builds will use different umask settings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>locale</b></b></dt>
  <dd class="It-tag">Both <i>$LC_ALL</i> and <i>$LANG</i> will be different
      across the two builds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>timezone</b></b></dt>
  <dd class="It-tag"><i>$TZ</i> will be different across builds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>filesystem&#x00A0;ordering</b></b></dt>
  <dd class="It-tag">If <b>disorderfs</b> is installed, both builds will be done
      under a disorderfs overlay directory. This will cause filesystem listing
      operations to be return items in a non-deterministic order.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>time</b></b></dt>
  <dd class="It-tag">The second build will be executed 213 days, 7 hours and 13
      minutes in the future with regards to the current time.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>diffoscope</b>(1), <b>disorderfs</b>(1),
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Antonio Terceiro &lt;terceiro@debian.org&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Debian Utilities</td>
    <td class="foot-os">DEBIAN</td>
  </tr>
</table>
</body>
</html>
