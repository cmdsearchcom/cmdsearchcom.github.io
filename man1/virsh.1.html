<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:16 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VIRSH(1) Virtualization Support VIRSH(1)</p>

<p style="margin-top: 1em">NAME <br>
virsh - management user interface</p>

<p style="margin-top: 1em">SYNOPSIS <br>
virsh [OPTION]... [COMMAND_STRING]</p>

<p style="margin-top: 1em">virsh [OPTION]... COMMAND
[ARG]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The virsh program is the main interface for managing virsh
guest domains. The program can be used to create, pause, and
shutdown domains. It can also be used to list current <br>
domains. Libvirt is a C toolkit to interact with the
virtualization capabilities of recent versions of Linux (and
other OSes). It is free software available under the GNU
Lesser <br>
General Public License. Virtualization of the Linux
Operating System means the ability to run multiple instances
of Operating Systems concurrently on a single hardware
system <br>
where the basic resources are driven by a Linux instance.
The library aims at providing a long term stable C API. It
currently supports Xen, QEMU, KVM, LXC, OpenVZ, VirtualBox
<br>
and VMware ESX.</p>

<p style="margin-top: 1em">The basic structure of most
virsh usage is:</p>

<p style="margin-top: 1em">virsh [OPTION]...
&lt;command&gt; &lt;domain&gt; [ARG]...</p>

<p style="margin-top: 1em">Where command is one of the
commands listed below; domain is the numeric domain id, or
the domain name, or the domain UUID; and ARGS are command
specific options. There are a <br>
few exceptions to this rule in the cases where the command
in question acts on all domains, the entire machine, or
directly on the xen hypervisor. Those exceptions will be
clear <br>
for each of those commands. Note: it is permissible to give
numeric names to domains, however, doing so will result in a
domain that can only be identified by domain id. In <br>
other words, if a numeric value is supplied it will be
interpreted as a domain id, not as a name.</p>

<p style="margin-top: 1em">The virsh program can be used
either to run one COMMAND by giving the command and its
arguments on the shell command line, or a COMMAND_STRING
which is a single shell argument <br>
consisting of multiple COMMAND actions and their arguments
joined with whitespace, and separated by semicolons between
commands. Within COMMAND_STRING, virsh understands the <br>
same single, double, and backslash escapes as the shell,
although you must add another layer of shell escaping in
creating the single shell argument. If no command is given
in <br>
the command line, virsh will then start a minimal
interpreter waiting for your commands, and the quit command
will then exit the program.</p>

<p style="margin-top: 1em">The virsh program understands
the following OPTIONS.</p>

<p style="margin-top: 1em">-c, --connect URI <br>
Connect to the specified URI, as if by the connect command,
instead of the default connection.</p>

<p style="margin-top: 1em">-d, --debug LEVEL <br>
Enable debug messages at integer LEVEL and above. LEVEL can
range from 0 to 4 (default). See the documentation of
VIRSH_DEBUG environment variable below for the description
<br>
of each LEVEL.</p>

<p style="margin-top: 1em">-e, --escape string <br>
Set alternative escape sequence for console command. By
default, telnet&rsquo;s ^] is used. Allowed characters when
using hat notation are: alphabetic character, @, [, ], ^,
_.</p>

<p style="margin-top: 1em">-h, --help <br>
Ignore all other arguments, and behave as if the help
command were given instead.</p>

<p style="margin-top: 1em">-k, --keepalive-interval
INTERVAL <br>
Set an INTERVAL (in seconds) for sending keepalive messages
to check whether connection to the server is still alive.
Setting the interval to 0 disables client keepalive <br>
mechanism.</p>

<p style="margin-top: 1em">-K, --keepalive-count COUNT <br>
Set a number of times keepalive message can be sent without
getting an answer from the server without marking the
connection dead. There is no effect to this setting in case
<br>
the INTERVAL is set to 0.</p>

<p style="margin-top: 1em">-l, --log FILE <br>
Output logging details to FILE.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Avoid extra informational messages.</p>

<p style="margin-top: 1em">-r, --readonly <br>
Make the initial connection read-only, as if by the
--readonly option of the connect command.</p>

<p style="margin-top: 1em">-t, --timing <br>
Output elapsed time information for each command.</p>

<p style="margin-top: 1em">-v, --version[=short] <br>
Ignore all other arguments, and prints the version of the
libvirt library virsh is coming from</p>

<p style="margin-top: 1em">-V, --version=long <br>
Ignore all other arguments, and prints the version of the
libvirt library virsh is coming from and which options and
driver are compiled in.</p>

<p style="margin-top: 1em">NOTES <br>
Most virsh operations rely upon the libvirt library being
able to connect to an already running libvirtd service. This
can usually be done using the command service libvirtd <br>
start.</p>

<p style="margin-top: 1em">Most virsh commands require root
privileges to run due to the communications channels used to
talk to the hypervisor. Running as non root will return an
error.</p>

<p style="margin-top: 1em">Most virsh commands act
synchronously, except maybe shutdown, setvcpus and setmem.
In those cases the fact that the virsh program returned, may
not mean the action is complete <br>
and you must poll periodically to detect that the guest
completed the operation.</p>

<p style="margin-top: 1em">virsh strives for backward
compatibility. Although the help command only lists the
preferred usage of a command, if an older version of virsh
supported an alternate spelling of <br>
a command or option (such as --tunnelled instead of
--tunneled), then scripts using that older spelling will
continue to work.</p>

<p style="margin-top: 1em">Several virsh commands take an
optionally scaled integer; if no scale is provided, then the
default is listed in the command (for historical reasons,
some commands default to <br>
bytes, while other commands default to kibibytes). The
following case-insensitive suffixes can be used to select a
specific scale: <br>
b, byte byte 1 <br>
KB kilobyte 1,000 <br>
k, KiB kibibyte 1,024 <br>
MB megabyte 1,000,000 <br>
M, MiB mebibyte 1,048,576 <br>
GB gigabyte 1,000,000,000 <br>
G, GiB gibibyte 1,073,741,824 <br>
TB terabyte 1,000,000,000,000 <br>
T, TiB tebibyte 1,099,511,627,776 <br>
PB petabyte 1,000,000,000,000,000 <br>
P, PiB pebibyte 1,125,899,906,842,624 <br>
EB exabyte 1,000,000,000,000,000,000 <br>
E, EiB exbibyte 1,152,921,504,606,846,976</p>

<p style="margin-top: 1em">GENERIC COMMANDS <br>
The following commands are generic i.e. not specific to a
domain.</p>

<p style="margin-top: 1em">help [command-or-group] <br>
This lists each of the virsh commands. When used without
options, all commands are listed, one per line, grouped into
related categories, displaying the keyword for each <br>
group.</p>

<p style="margin-top: 1em">To display only commands for a
specific group, give the keyword for that group as an
option. For example:</p>

<p style="margin-top: 1em">virsh # help host</p>

<p style="margin-top: 1em">Host and Hypervisor (help
keyword &rsquo;host&rsquo;): <br>
capabilities capabilities <br>
cpu-models show the CPU models for an architecture <br>
connect (re)connect to hypervisor <br>
freecell NUMA free memory <br>
hostname print the hypervisor hostname <br>
qemu-attach Attach to existing QEMU process <br>
qemu-monitor-command QEMU Monitor Command <br>
qemu-agent-command QEMU Guest Agent Command <br>
sysinfo print the hypervisor sysinfo <br>
uri print the hypervisor canonical URI</p>

<p style="margin-top: 1em">To display detailed information
for a specific command, give its name as the option instead.
For example:</p>

<p style="margin-top: 1em">virsh # help list <br>
NAME <br>
list - list domains</p>

<p style="margin-top: 1em">SYNOPSIS <br>
list [--inactive] [--all]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Returns list of domains.</p>

<p style="margin-top: 1em">OPTIONS <br>
--inactive list inactive domains <br>
--all list inactive &amp; active domains</p>

<p style="margin-top: 1em">quit, exit <br>
quit this interactive terminal</p>

<p style="margin-top: 1em">version [--daemon] <br>
Will print out the major version info about what this built
from. If --daemon is specified then the version of the
libvirt daemon is included in the output.</p>

<p style="margin-top: 1em">Example</p>

<p style="margin-top: 1em">$ virsh version <br>
Compiled against library: libvirt 1.2.3 <br>
Using library: libvirt 1.2.3 <br>
Using API: QEMU 1.2.3 <br>
Running hypervisor: QEMU 2.0.50</p>

<p style="margin-top: 1em">$ virsh version --daemon <br>
Compiled against library: libvirt 1.2.3 <br>
Using library: libvirt 1.2.3 <br>
Using API: QEMU 1.2.3 <br>
Running hypervisor: QEMU 2.0.50 <br>
Running against daemon: 1.2.6</p>

<p style="margin-top: 1em">cd [directory] <br>
Will change current directory to directory. The default
directory for the cd command is the home directory or, if
there is no HOME variable in the environment, the root <br>
directory.</p>

<p style="margin-top: 1em">This command is only available
in interactive mode.</p>

<p style="margin-top: 1em">pwd Will print the current
directory.</p>

<p style="margin-top: 1em">connect [URI] [--readonly] <br>
(Re)-Connect to the hypervisor. When the shell is first
started, this is automatically run with the URI parameter
requested by the &quot;-c&quot; option on the command line.
The URI <br>
parameter specifies how to connect to the hypervisor. The
documentation page at &lt;http://libvirt.org/uri.html&gt;
list the values supported, but the most common are:</p>

<p style="margin-top: 1em">xen:/// <br>
this is used to connect to the local Xen hypervisor</p>

<p style="margin-top: 1em">qemu:///system <br>
connect locally as root to the daemon supervising QEMU and
KVM domains</p>

<p style="margin-top: 1em">qemu:///session <br>
connect locally as a normal user to his own set of QEMU and
KVM domains</p>

<p style="margin-top: 1em">lxc:/// <br>
connect to a local linux container</p>

<p style="margin-top: 1em">To find the currently used URI,
check the uri command documented below.</p>

<p style="margin-top: 1em">For remote access see the
documentation page at &lt;http://libvirt.org/uri.html&gt; on
how to make URIs. The --readonly option allows for read-only
connection</p>

<p style="margin-top: 1em">uri Prints the hypervisor
canonical URI, can be useful in shell mode.</p>

<p style="margin-top: 1em">hostname <br>
Print the hypervisor hostname.</p>

<p style="margin-top: 1em">sysinfo <br>
Print the XML representation of the hypervisor sysinfo, if
available.</p>

<p style="margin-top: 1em">nodeinfo <br>
Returns basic information about the node, like number and
type of CPU, and size of the physical memory. The output
corresponds to virNodeInfo structure. Specifically, the <br>
&quot;CPU socket(s)&quot; field means number of CPU sockets
per NUMA cell. The information libvirt displays is dependent
upon what each architecture may provide.</p>

<p style="margin-top: 1em">nodecpumap [--pretty] <br>
Displays the node&rsquo;s total number of CPUs, the number
of online CPUs and the list of online CPUs.</p>

<p style="margin-top: 1em">With --pretty the online CPUs
are printed as a range instead of a list.</p>

<p style="margin-top: 1em">nodecpustats [cpu] [--percent]
<br>
Returns cpu stats of the node. If cpu is specified, this
will prints specified cpu statistics only. If --percent is
specified, this will prints percentage of each kind of <br>
cpu statistics during 1 second.</p>

<p style="margin-top: 1em">nodememstats [cell] <br>
Returns memory stats of the node. If cell is specified, this
will prints specified cell statistics only.</p>

<p style="margin-top: 1em">nodesuspend [target] [duration]
<br>
Puts the node (host machine) into a system-wide sleep state
and schedule the node&rsquo;s Real-Time-Clock interrupt to
resume the node after the time duration specified by
duration <br>
is out. target specifies the state to which the host will be
suspended to, it can be &quot;mem&quot; (suspend to RAM),
&quot;disk&quot; (suspend to disk), or &quot;hybrid&quot;
(suspend to both RAM and <br>
disk). duration specifies the time duration in seconds for
which the host has to be suspended, it should be at least 60
seconds.</p>

<p style="margin-top: 1em">node-memory-tune
[shm-pages-to-scan] [shm-sleep-millisecs]
[shm-merge-across-nodes] <br>
Allows you to display or set the node memory parameters.
shm-pages-to-scan can be used to set the number of pages to
scan before the shared memory service goes to sleep; <br>
shm-sleep-millisecs can be used to set the number of
millisecs the shared memory service should sleep before next
scan; shm-merge-across-nodes specifies if pages from <br>
different numa nodes can be merged. When set to 0, only
pages which physically reside in the memory area of same
NUMA node can be merged. When set to 1, pages from all nodes
<br>
can be merged. Default to 1.</p>

<p style="margin-top: 1em">Note: Currently the &quot;shared
memory service&quot; only means KSM (Kernel Samepage
Merging).</p>

<p style="margin-top: 1em">capabilities <br>
Print an XML document describing the capabilities of the
hypervisor we are currently connected to. This includes a
section on the host capabilities in terms of CPU and <br>
features, and a set of description for each kind of guest
which can be virtualized. For a more complete description
see: <br>
&lt;http://libvirt.org/formatcaps.html&gt; The XML also show
the NUMA topology information if available.</p>

<p style="margin-top: 1em">domcapabilities [virttype]
[emulatorbin] [arch] [machine] <br>
Print an XML document describing the domain capabilities for
the hypervisor we are connected to using information either
sourced from an existing domain or taken from the <br>
virsh capabilities output. This may be useful if you intend
to create a new domain and are curious if for instance it
could make use of VFIO by creating a domain for the <br>
hypervisor with a specific emulator and architecture.</p>

<p style="margin-top: 1em">Each hypervisor will have
different requirements regarding which options are required
and which are optional. A hypervisor can support providing a
default value for any of <br>
the options.</p>

<p style="margin-top: 1em">The virttype option specifies
the virtualization type used. The value to be used is either
from the &rsquo;type&rsquo; attribute of the &lt;domain/&gt;
top level element from the domain XML or <br>
the &rsquo;type&rsquo; attribute found within each
&lt;guest/&gt; element from the virsh capabilities output.
The emulatorbin option specifies the path to the emulator.
The value to be used <br>
is either the &lt;emulator&gt; element in the domain XML or
the virsh capabilities output. The arch option specifies the
architecture to be used for the domain. The value to be <br>
used is either the &quot;arch&quot; attribute from the
domain&rsquo;s XML &lt;os/&gt; element and &lt;type/&gt;
subelement or the &quot;name&quot; attribute of an
&lt;arch/&gt; element from the virsh capabililites <br>
output. The machine specifies the machine type for the
emulator. The value to be used is either the
&quot;machine&quot; attribute from the domain&rsquo;s XML
&lt;os/&gt; element and &lt;type/&gt; <br>
subelement or one from a list of machines from the virsh
capabilities output for a specific architecture and domain
type.</p>

<p style="margin-top: 1em">For the qemu hypervisor, a
virttype of either &rsquo;qemu&rsquo; or &rsquo;kvm&rsquo;
must be supplied along with either the emulatorbin or arch
in order to generate output for the default machine. <br>
Supplying a machine value will generate output for the
specific machine.</p>

<p style="margin-top: 1em">inject-nmi domain <br>
Inject NMI to the guest.</p>

<p style="margin-top: 1em">list [--inactive | --all]
[--managed-save] [--title] { [--table] | --name | --uuid }
[--persistent] [--transient] [--with-managed-save]
[--without-managed-save] [--autostart] <br>
[--no-autostart] [--with-snapshot] [--without-snapshot]
[--state-running] [--state-paused] [--state-shutoff]
[--state-other] <br>
Prints information about existing domains. If no options are
specified it prints out information about running
domains.</p>

<p style="margin-top: 1em">An example format for the list
is as follows:</p>

<p style="margin-top: 1em">virsh list <br>
Id Name State <br>
---------------------------------------------------- <br>
0 Domain-0 running <br>
2 fedora paused</p>

<p style="margin-top: 1em">Name is the name of the domain.
ID the domain numeric id. State is the run state (see
below).</p>

<p style="margin-top: 1em">STATES</p>

<p style="margin-top: 1em">The State field lists 8 states
for a domain, and which ones the current domain is in.</p>

<p style="margin-top: 1em">running <br>
The domain is currently running on a CPU</p>

<p style="margin-top: 1em">idle <br>
The domain is idle, and not running or runnable. This can be
caused because the domain is waiting on IO (a traditional
wait state) or has gone to sleep because there was <br>
nothing else for it to do.</p>

<p style="margin-top: 1em">paused <br>
The domain has been paused, usually occurring through the
administrator running virsh suspend. When in a paused state
the domain will still consume allocated resources <br>
like memory, but will not be eligible for scheduling by the
hypervisor.</p>

<p style="margin-top: 1em">shutdown <br>
The domain is in the process of shutting down, i.e. the
guest operating system has been notified and should be in
the process of stopping its operations gracefully.</p>

<p style="margin-top: 1em">shut off <br>
The domain is not running. Usually this indicates the domain
has been shut down completely, or has not been started.</p>

<p style="margin-top: 1em">crashed <br>
The domain has crashed, which is always a violent ending.
Usually this state can only occur if the domain has been
configured not to restart on crash.</p>

<p style="margin-top: 1em">dying <br>
The domain is in process of dying, but hasn&rsquo;t
completely shutdown or crashed.</p>

<p style="margin-top: 1em">pmsuspended <br>
The domain has been suspended by guest power management,
e.g. entered into s3 state.</p>

<p style="margin-top: 1em">Normally only active domains are
listed. To list inactive domains specify --inactive or --all
to list both active and inactive domains.</p>

<p style="margin-top: 1em">To further filter the list of
domains you may specify one or more of filtering flags
supported by the list command. These flags are grouped by
function. Specifying one or <br>
more flags from a group enables the filter group. Note that
some combinations of flags may yield no results. Supported
filtering flags and groups:</p>

<p style="margin-top: 1em">Persistence <br>
Flag --persistent is used to include persistent domains in
the returned list. To include transient domains specify
--transient.</p>

<p style="margin-top: 1em">Existence of managed save image
<br>
To list domains having a managed save image specify flag
--with-managed-save. For domains that don&rsquo;t have a
managed save image specify --without-managed-save.</p>

<p style="margin-top: 1em">Domain state <br>
The following filter flags select a domain by its state:
--state-running for running domains, --state-paused for
paused domains, --state-shutoff for turned off domains <br>
and --state-other for all other states as a fallback.</p>

<p style="margin-top: 1em">Autostarting domains <br>
To list autostarting domains use the flag --autostart. To
list domains with this feature disabled use
--no-autostart.</p>

<p style="margin-top: 1em">Snapshot existence <br>
Domains that have snapshot images can be listed using flag
--with-snapshot, domains without a snapshot
--without-snapshot.</p>

<p style="margin-top: 1em">When talking to older servers,
this command is forced to use a series of API calls with an
inherent race, where a domain might not be listed or might
appear more than once if <br>
it changed state between calls while the list was being
collected. Newer servers do not have this problem.</p>

<p style="margin-top: 1em">If --managed-save is specified,
then domains that have managed save state (only possible if
they are in the shut off state, so you need to specify
--inactive or --all to <br>
actually list them) will instead show as saved in the
listing. This flag is usable only with the default --table
output. Note that this flag does not filter the list of <br>
domains.</p>

<p style="margin-top: 1em">If --name is specified, domain
names are printed instead of the table formatted one per
line. If --uuid is specified domain&rsquo;s UUID&rsquo;s are
printed instead of names. Flag <br>
--table specifies that the legacy table-formatted output
should be used. This is the default. All of these are
mutually exclusive.</p>

<p style="margin-top: 1em">If --title is specified, then
the short domain description (title) is printed in an extra
column. This flag is usable only with the default --table
output.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">virsh list --title <br>
Id Name State Title <br>

--------------------------------------------------------------------------
<br>
0 Domain-0 running Mailserver 1 <br>
2 fedora paused</p>

<p style="margin-top: 1em">freecell [{ [--cellno] cellno |
--all }] <br>
Prints the available amount of memory on the machine or
within a NUMA cell. The freecell command can provide one of
three different displays of available memory on the <br>
machine depending on the options specified. With no options,
it displays the total free memory on the machine. With the
--all option, it displays the free memory in each <br>
cell and the total free memory on the machine. Finally, with
a numeric argument or with --cellno plus a cell number it
will display the free memory for the specified cell <br>
only.</p>

<p style="margin-top: 1em">freepages [{ [--cellno] cellno
[--pagesize] pagesize | --all }] <br>
Prints the available amount of pages within a NUMA cell.
cellno refers to the NUMA cell you&rsquo;re interested in.
pagesize is a scaled integer (see NOTES above).
Alternatively, <br>
if --all is used, info on each possible combination of NUMA
cell and page size is printed out.</p>

<p style="margin-top: 1em">allocpages [--pagesize] pagesize
[--pagecount] pagecount [[--cellno] cellno] [--add] [--all]
<br>
Change the size of pages pool of pagesize on the host. If
--add is specified, then pagecount pages are added into the
pool. However, if --add wasn&rsquo;t specified, then the
<br>
pagecount is taken as the new absolute size of the pool
(this may be used to free some pages and size the pool
down). The cellno modifier can be used to narrow the <br>
modification down to a single host NUMA cell. On the other
end of spectrum lies --all which executes the modification
on all NUMA cells.</p>

<p style="margin-top: 1em">cpu-baseline FILE [--features]
[--migratable] <br>
Compute baseline CPU which will be supported by all host
CPUs given in &lt;file&gt;. The list of host CPUs is built
by extracting all &lt;cpu&gt; elements from the
&lt;file&gt;. Thus, the <br>
&lt;file&gt; can contain either a set of &lt;cpu&gt;
elements separated by new lines or even a set of complete
&lt;capabilities&gt; elements printed by capabilities
command. If --features is <br>
specified then the resulting XML description will explicitly
include all features that make up the CPU, without this
option features that are part of the CPU model will not <br>
be listed in the XML description. If --migratable is
specified, features that block migration will not be
included in the resulting CPU.</p>

<p style="margin-top: 1em">cpu-compare FILE [--error] <br>
Compare CPU definition from XML &lt;file&gt; with host CPU.
The XML &lt;file&gt; may contain either host or guest CPU
definition. The host CPU definition is the &lt;cpu&gt;
element and its <br>
contents as printed by capabilities command. The guest CPU
definition is the &lt;cpu&gt; element and its contents from
domain XML definition. For more information on guest CPU
<br>
definition see:
&lt;http://libvirt.org/formatdomain.html#elementsCPU&gt;. If
--error is specified, the command will return an error when
the given CPU is incompatible with host CPU <br>
and a message providing more details about the
incompatibility will be printed out.</p>

<p style="margin-top: 1em">cpu-models arch <br>
Print the list of CPU models known for the specified
architecture.</p>

<p style="margin-top: 1em">echo [--shell] [--xml] [arg...]
<br>
Echo back each arg, separated by space. If --shell is
specified, then the output will be single-quoted where
needed, so that it is suitable for reuse in a shell context.
If <br>
--xml is specified, then the output will be escaped for use
in XML.</p>

<p style="margin-top: 1em">DOMAIN COMMANDS <br>
The following commands manipulate domains directly, as
stated previously most commands take domain as the first
parameter. The domain can be specified as a short integer, a
name <br>
or a full UUID.</p>

<p style="margin-top: 1em">autostart [--disable] domain
<br>
Configure a domain to be automatically started at boot.</p>

<p style="margin-top: 1em">The option --disable disables
autostarting.</p>

<p style="margin-top: 1em">console domain [devname]
[--safe] [--force] <br>
Connect the virtual serial console for the guest. The
optional devname parameter refers to the device alias of an
alternate console, serial or parallel device configured for
<br>
the guest. If omitted, the primary console will be
opened.</p>

<p style="margin-top: 1em">If the flag --safe is specified,
the connection is only attempted if the driver supports safe
console handling. This flag specifies that the server has to
ensure exclusive <br>
access to console devices. Optionally the --force flag may
be specified, requesting to disconnect any existing
sessions, such as in a case of a broken connection.</p>

<p style="margin-top: 1em">create FILE [--console]
[--paused] [--autodestroy] [--pass-fds N,M,...] <br>
Create a domain from an XML &lt;file&gt;. An easy way to
create the XML &lt;file&gt; is to use the dumpxml command to
obtain the definition of a pre-existing guest. The domain
will be <br>
paused if the --paused option is used and supported by the
driver; otherwise it will be running. If --console is
requested, attach to the console after creation. If <br>
--autodestroy is requested, then the guest will be
automatically destroyed when virsh closes its connection to
libvirt, or otherwise exits.</p>

<p style="margin-top: 1em">If --pass-fds is specified, the
argument is a comma separated list of open file descriptors
which should be pass on into the guest. The file descriptors
will be re-numbered <br>
in the guest, starting from 3. This is only supported with
container based virtualization.</p>

<p style="margin-top: 1em">Example</p>

<p style="margin-top: 1em">virsh dumpxml &lt;domain&gt;
&gt; domain.xml <br>
vi domain.xml (or make changes with your other text editor)
<br>
virsh create domain.xml</p>

<p style="margin-top: 1em">define FILE <br>
Define a domain from an XML &lt;file&gt;. The domain
definition is registered but not started. If domain is
already running, the changes will take effect on the next
boot.</p>

<p style="margin-top: 1em">desc domain [[--live] [--config]
| [--current]] [--title] [--edit] [--new-desc New
description or title message] <br>
Show or modify description and title of a domain. These
values are user fields that allow to store arbitrary textual
data to allow easy identification of domains. Title <br>
should be short, although it&rsquo;s not enforced. (See also
metadata that works with XML based domain metadata.)</p>

<p style="margin-top: 1em">Flags --live or --config select
whether this command works on live or persistent definitions
of the domain. If both --live and --config are specified,
the --config option <br>
takes precedence on getting the current description and both
live configuration and config are updated while setting the
description. --current is exclusive and implied if <br>
none of these was specified.</p>

<p style="margin-top: 1em">Flag --edit specifies that an
editor with the contents of current description or title
should be opened and the contents saved back afterwards.</p>

<p style="margin-top: 1em">Flag --title selects operation
on the title field instead of description.</p>

<p style="margin-top: 1em">If neither of --edit and
--new-desc are specified the note or description is
displayed instead of being modified.</p>

<p style="margin-top: 1em">destroy domain [--graceful] <br>
Immediately terminate the domain domain. This doesn&rsquo;t
give the domain OS any chance to react, and it&rsquo;s the
equivalent of ripping the power cord out on a physical
machine. <br>
In most cases you will want to use the shutdown command
instead. However, this does not delete any storage volumes
used by the guest, and if the domain is persistent, it can
<br>
be restarted later.</p>

<p style="margin-top: 1em">If domain is transient, then the
metadata of any snapshots will be lost once the guest stops
running, but the snapshot contents still exist, and a new
domain with the same <br>
name and UUID can restore the snapshot metadata with
snapshot-create.</p>

<p style="margin-top: 1em">If --graceful is specified,
don&rsquo;t resort to extreme measures (e.g. SIGKILL) when
the guest doesn&rsquo;t stop after a reasonable timeout;
return an error instead.</p>

<p style="margin-top: 1em">domblkstat domain [block-device]
[--human] <br>
Get device block stats for a running domain. A block-device
corresponds to a unique target name (&lt;target
dev=&rsquo;name&rsquo;/&gt;) or source file (&lt;source
file=&rsquo;name&rsquo;/&gt;) for one of the <br>
disk devices attached to domain (see also domblklist for
listing these names). On a lxc or qemu domain, omitting the
block-device yields device block stats summarily for the
<br>
entire domain.</p>

<p style="margin-top: 1em">Use --human for a more human
readable output.</p>

<p style="margin-top: 1em">Availability of these fields
depends on hypervisor. Unsupported fields are missing from
the output. Other fields may appear if communicating with a
newer version of libvirtd.</p>

<p style="margin-top: 1em">Explanation of fields (fields
appear in the following order): <br>
rd_req - count of read operations <br>
rd_bytes - count of read bytes <br>
wr_req - count of write operations <br>
wr_bytes - count of written bytes <br>
errs - error count <br>
flush_operations - count of flush operations <br>
rd_total_times - total time read operations took (ns) <br>
wr_total_times - total time write operations took (ns) <br>
flush_total_times - total time flush operations took (ns)
<br>
&lt;-- other fields provided by hypervisor --&gt;</p>

<p style="margin-top: 1em">domifaddr domain [interface]
[--full] [--source lease|agent] <br>
Get a list of interfaces of a running domain along with
their IP and MAC addresses, or limited output just for one
interface if interface is specified. Note that interface
<br>
can be driver dependent, it can be the name within guest OS
or the name you would see in domain XML. Moreover, the whole
command may require a guest agent to be configured <br>
for the queried domain under some drivers, notably qemu. If
--full is specified, the interface name is always displayed
when the interface has multiple addresses or alias, <br>
otherwise it only displays the interface name for the first
address, and &quot;-&quot; for the others. The --source
argument specifies what data source to use for the
addresses, <br>
currently one of &rsquo;lease&rsquo; to read DHCP leases, or
&rsquo;agent&rsquo; to query the guest OS via an agent. If
unspecified, &rsquo;lease&rsquo; is the default.</p>

<p style="margin-top: 1em">domifstat domain
interface-device <br>
Get network interface stats for a running domain.</p>

<p style="margin-top: 1em">domif-setlink domain
interface-device state [--config] <br>
Modify link state of the domain&rsquo;s virtual interface.
Possible values for state are &quot;up&quot; and
&quot;down&quot;. If --config is specified, only the
persistent configuration of the domain <br>
is modified, for compatibility purposes, --persistent is
alias of --config. interface-device can be the
interface&rsquo;s target name or the MAC address.</p>

<p style="margin-top: 1em">domif-getlink domain
interface-device [--config] <br>
Query link state of the domain&rsquo;s virtual interface. If
--config is specified, query the persistent configuration,
for compatibility purposes, --persistent is alias of <br>
--config.</p>

<p style="margin-top: 1em">interface-device can be the
interface&rsquo;s target name or the MAC address.</p>

<p style="margin-top: 1em">domiftune domain
interface-device [[--config] [--live] | [--current]]
[--inbound average,peak,burst,floor] [--outbound
average,peak,burst] <br>
Set or query the domain&rsquo;s network interface&rsquo;s
bandwidth parameters. interface-device can be the
interface&rsquo;s target name (&lt;target
dev=&rsquo;name&rsquo;/&gt;), or the MAC address.</p>

<p style="margin-top: 1em">If no --inbound or --outbound is
specified, this command will query and show the bandwidth
settings. Otherwise, it will set the inbound or outbound
bandwidth. <br>
average,peak,burst,floor is the same as in command
attach-interface. Values for average, peak and floor are
expressed in kilobytes per second, while burst is expressed
in <br>
kilobytes in a single burst at peak speed as described in
the Network XML documentation at
&lt;http://libvirt.org/formatnetwork.html#elementQoS&gt;.</p>

<p style="margin-top: 1em">To clear inbound or outbound
settings, use --inbound or --outbound respectfully with
average value of zero.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If --config is specified, affect the next
boot of a persistent guest. If --current is specified,
affect the current guest <br>
state. Both --live and --config flags may be given, but
--current is exclusive. If no flag is specified, behavior is
different depending on hypervisor.</p>

<p style="margin-top: 1em">dommemstat domain [--period
seconds] [[--config] [--live] | [--current]] <br>
Get memory stats for a running domain.</p>

<p style="margin-top: 1em">Depending on the hypervisor a
variety of statistics can be returned</p>

<p style="margin-top: 1em">For QEMU/KVM with a memory
balloon, setting the optional --period to a value larger
than 0 in seconds will allow the balloon driver to return
additional statistics which will <br>
be displayed by subsequent dommemstat commands. Setting the
--period to 0 will stop the balloon driver collection, but
does not clear the statistics in the balloon driver. <br>
Requires at least QEMU/KVM 1.5 to be running on the
host.</p>

<p style="margin-top: 1em">The --live, --config, and
--current flags are only valid when using the --period
option in order to set the collection period for the balloon
driver. If --live is specified, <br>
only the running guest collection period is affected. If
--config is specified, affect the next boot of a persistent
guest. If --current is specified, affect the current <br>
guest state.</p>

<p style="margin-top: 1em">Both --live and --config flags
may be given, but --current is exclusive. If no flag is
specified, behavior is different depending on the guest
state.</p>

<p style="margin-top: 1em">domblkerror domain <br>
Show errors on block devices. This command usually comes
handy when domstate command says that a domain was paused
due to I/O error. The domblkerror command lists all block
<br>
devices in error state and the error seen on each of
them.</p>

<p style="margin-top: 1em">domblkinfo domain block-device
<br>
Get block device size info for a domain. A block-device
corresponds to a unique target name (&lt;target
dev=&rsquo;name&rsquo;/&gt;) or source file (&lt;source
file=&rsquo;name&rsquo;/&gt;) for one of the disk <br>
devices attached to domain (see also domblklist for listing
these names).</p>

<p style="margin-top: 1em">domblklist domain [--inactive]
[--details] <br>
Print a table showing the brief information of all block
devices associated with domain. If --inactive is specified,
query the block devices that will be used on the next <br>
boot, rather than those currently in use by a running
domain. If --details is specified, disk type and device
value will also be printed. Other contexts that require a
block <br>
device name (such as domblkinfo or snapshot-create for disk
snapshots) will accept either target or unique source names
printed by this command.</p>

<p style="margin-top: 1em">domstats [--raw] [--enforce]
[--backing] [--state] [--cpu-total] [--balloon] [--vcpu]
[--interface] [--block] [--perf] [[--list-active]
[--list-inactive] [--list-persistent] <br>
[--list-transient] [--list-running] [--list-paused]
[--list-shutoff] [--list-other]] | [domain ...] <br>
Get statistics for multiple or all domains. Without any
argument this command prints all available statistics for
all domains.</p>

<p style="margin-top: 1em">The list of domains to gather
stats for can be either limited by listing the domains as a
space separated list, or by specifying one of the filtering
flags --list-*. (The <br>
approaches can&rsquo;t be combined.)</p>

<p style="margin-top: 1em">By default some of the returned
fields may be converted to more human friendly values by a
set of pretty-printers. To suppress this behavior use the
--raw flag.</p>

<p style="margin-top: 1em">The individual statistics groups
are selectable via specific flags. By default all supported
statistics groups are returned. Supported statistics groups
flags are: --state, <br>
--cpu-total, --balloon, --vcpu, --interface, --block,
--perf.</p>

<p style="margin-top: 1em">When selecting the --state group
the following fields are returned: &quot;state.state&quot; -
state of the VM, returned as number from virDomainState
enum, &quot;state.reason&quot; - reason for <br>
entering given state, returned as int from virDomain*Reason
enum corresponding to given state.</p>

<p style="margin-top: 1em">--cpu-total returns:
&quot;cpu.time&quot; - total cpu time spent for this domain
in nanoseconds, &quot;cpu.user&quot; - user cpu time spent
in nanoseconds, &quot;cpu.system&quot; - system cpu time
spent <br>
in nanoseconds</p>

<p style="margin-top: 1em">--balloon returns:
&quot;balloon.current&quot; - the memory in kiB currently
used, &quot;balloon.maximum&quot; - the maximum memory in
kiB allowed</p>

<p style="margin-top: 1em">--vcpu returns:
&quot;vcpu.current&quot; - current number of online virtual
CPUs, &quot;vcpu.maximum&quot; - maximum number of online
virtual CPUs, &quot;vcpu.&lt;num&gt;.state&quot; - state of
the virtual CPU <br>
&lt;num&gt;, as number from virVcpuState enum,
&quot;vcpu.&lt;num&gt;.time&quot; - virtual cpu time spent
by virtual CPU &lt;num&gt;</p>

<p style="margin-top: 1em">--interface returns:
&quot;net.count&quot; - number of network interfaces on this
domain, &quot;net.&lt;num&gt;.name&quot; - name of the
interface &lt;num&gt;, &quot;net.&lt;num&gt;.rx.bytes&quot;
- number of bytes <br>
received, &quot;net.&lt;num&gt;.rx.pkts&quot; - number of
packets received, &quot;net.&lt;num&gt;.rx.errs&quot; -
number of receive errors,
&quot;net.&lt;num&gt;.rx.drop&quot; - number of receive
packets dropped, <br>
&quot;net.&lt;num&gt;.tx.bytes&quot; - number of bytes
transmitted, &quot;net.&lt;num&gt;.tx.pkts&quot; - number of
packets transmitted, &quot;net.&lt;num&gt;.tx.errs&quot; -
number of transmission errors, <br>
&quot;net.&lt;num&gt;.tx.drop&quot; - number of transmit
packets dropped</p>

<p style="margin-top: 1em">--perf returns the statistics of
all enabled perf events: &quot;perf.cmt&quot; - the cache
usage in Byte currently used &quot;perf.mbmt&quot; - total
system bandwidth from one level of cache <br>
&quot;perf.mbml&quot; - bandwidth of memory traffic for a
memory controller</p>

<p style="margin-top: 1em">--block returns information
about disks associated with each domain. Using the --backing
flag extends this information to cover all resources in the
backing chain, rather <br>
than the default of limiting information to the active layer
for each guest disk. Information listed includes:
&quot;block.count&quot; - number of block devices being
listed, <br>
&quot;block.&lt;num&gt;.name&quot; - name of the target of
the block device &lt;num&gt; (the same name for multiple
entries if --backing is present),
&quot;block.&lt;num&gt;.backingIndex&quot; - when --backing
is <br>
present, matches up with the &lt;backingStore&gt; index
listed in domain XML for backing files,
&quot;block.&lt;num&gt;.path&quot; - file source of block
device &lt;num&gt;, if it is a local file or <br>
block device, &quot;block.&lt;num&gt;.rd.reqs&quot; - number
of read requests, &quot;block.&lt;num&gt;.rd.bytes&quot; -
number of read bytes, &quot;block.&lt;num&gt;.rd.times&quot;
- total time (ns) spent on reads, <br>
&quot;block.&lt;num&gt;.wr.reqs&quot; - number of write
requests, &quot;block.&lt;num&gt;.wr.bytes&quot; - number of
written bytes, &quot;block.&lt;num&gt;.wr.times&quot; -
total time (ns) spent on writes, <br>
&quot;block.&lt;num&gt;.fl.reqs&quot; - total flush
requests, &quot;block.&lt;num&gt;.fl.times&quot; - total
time (ns) spent on cache flushing,
&quot;block.&lt;num&gt;.errors&quot; - Xen only: the
&rsquo;oo_req&rsquo; value, <br>
&quot;block.&lt;num&gt;.allocation&quot; - offset of highest
written sector in bytes,
&quot;block.&lt;num&gt;.capacity&quot; - logical size of
source file in bytes, &quot;block.&lt;num&gt;.physical&quot;
- physical size of <br>
source file in bytes</p>

<p style="margin-top: 1em">Selecting a specific statistics
groups doesn&rsquo;t guarantee that the daemon supports the
selected group of stats. Flag --enforce forces the command
to fail if the daemon doesn&rsquo;t <br>
support the selected group.</p>

<p style="margin-top: 1em">domiflist domain [--inactive]
<br>
Print a table showing the brief information of all virtual
interfaces associated with domain. If --inactive is
specified, query the virtual interfaces that will be used on
<br>
the next boot, rather than those currently in use by a
running domain. Other contexts that require a MAC address of
virtual interface (such as detach-interface or domif- <br>
setlink) will accept the MAC address printed by this
command.</p>

<p style="margin-top: 1em">blockcommit domain path
[bandwidth] [--bytes] [base] [--shallow] [top] [--delete]
[--keep-relative] [--wait [--async] [--verbose]] [--timeout
seconds] [--active] [{--pivot | <br>
--keep-overlay}] <br>
Reduce the length of a backing image chain, by committing
changes at the top of the chain (snapshot or delta files)
into backing images. By default, this command attempts to
<br>
flatten the entire chain. If base and/or top are specified
as files within the backing chain, then the operation is
constrained to committing just that portion of the chain;
<br>
--shallow can be used instead of base to specify the
immediate backing file of the resulting top image to be
committed. The files being committed are rendered invalid,
<br>
possibly as soon as the operation starts; using the --delete
flag will attempt to remove these invalidated files at the
successful completion of the commit operation. When <br>
the --keep-relative flag is used, the backing file paths
will be kept relative.</p>

<p style="margin-top: 1em">When top is omitted or specified
as the active image, it is also possible to specify --active
to trigger a two-phase active commit. In the first phase,
top is copied into <br>
base and the job can only be canceled, with top still
containing data not yet in base. In the second phase, top
and base remain identical until a call to blockjob with the
<br>
--abort flag (keeping top as the active image that tracks
changes from that point in time) or the --pivot flag (making
base the new active image and invalidating top).</p>

<p style="margin-top: 1em">By default, this command returns
as soon as possible, and data for the entire disk is
committed in the background; the progress of the operation
can be checked with blockjob. <br>
However, if --wait is specified, then this command will
block until the operation completes (or for --active, enters
the second phase), or until the operation is canceled <br>
because the optional timeout in seconds elapses or SIGINT is
sent (usually with &quot;Ctrl-C&quot;). Using --verbose
along with --wait will produce periodic status updates. If
job <br>
cancellation is triggered, --async will return control to
the user as fast as possible, otherwise the command may
continue to block a little while longer until the job is
<br>
done cleaning up. Using --pivot is shorthand for combining
--active --wait with an automatic blockjob --pivot; and
using --keep-overlay is shorthand for combining --active
<br>
--wait with an automatic blockjob --abort.</p>

<p style="margin-top: 1em">path specifies fully-qualified
path of the disk; it corresponds to a unique target name
(&lt;target dev=&rsquo;name&rsquo;/&gt;) or source file
(&lt;source file=&rsquo;name&rsquo;/&gt;) for one of the
disk <br>
devices attached to domain (see also domblklist for listing
these names). bandwidth specifies copying bandwidth limit in
MiB/s, although for qemu, it may be non-zero only <br>
for an online domain. For further information on the
bandwidth argument see the corresponding section for the
blockjob command.</p>

<p style="margin-top: 1em">blockcopy domain path { dest
[format] [--blockdev] | --xml file } [--shallow]
[--reuse-external] [bandwidth] [--wait [--async]
[--verbose]] [{--pivot | --finish}] [--timeout <br>
seconds] [granularity] [buf-size] [--bytes] <br>
Copy a disk backing image chain to a destination. Either
dest as the destination file name, or --xml with the name of
an XML file containing a top-level &lt;disk&gt; element <br>
describing the destination, must be present. Additionally,
if dest is given, format should be specified to declare the
format of the destination (if format is omitted, then <br>
libvirt will reuse the format of the source, or with
--reuse-external will be forced to probe the destination
format, which could be a potential security hole). The
command <br>
supports --raw as a boolean flag synonym for --format=raw.
When using dest, the destination is treated as a regular
file unless --blockdev is used to signal that it is a <br>
block device. By default, this command flattens the entire
chain; but if --shallow is specified, the copy shares the
backing chain.</p>

<p style="margin-top: 1em">If --reuse-external is
specified, then the destination must exist and have
sufficient space to hold the copy. If --shallow is used in
conjunction with --reuse-external then <br>
the pre-created image must have guest visible contents
identical to guest visible contents of the backing file of
the original image. This may be used to modify the backing
<br>
file names on the destination.</p>

<p style="margin-top: 1em">By default, the copy job runs in
the background, and consists of two phases. Initially, the
job must copy all data from the source, and during this
phase, the job can only <br>
be canceled to revert back to the source disk, with no
guarantees about the destination. After this phase
completes, both the source and the destination remain
mirrored <br>
until a call to blockjob with the --abort and --pivot flags
pivots over to the copy, or a call without --pivot leaves
the destination as a faithful copy of that point in <br>
time. However, if --wait is specified, then this command
will block until the mirroring phase begins, or cancel the
operation if the optional timeout in seconds elapses or <br>
SIGINT is sent (usually with &quot;Ctrl-C&quot;). Using
--verbose along with --wait will produce periodic status
updates. Using --pivot (similar to blockjob --pivot) or
--finish <br>
(similar to blockjob --abort) implies --wait, and will
additionally end the job cleanly rather than leaving things
in the mirroring phase. If job cancellation is triggered
<br>
by timeout or by --finish, --async will return control to
the user as fast as possible, otherwise the command may
continue to block a little while longer until the job has
<br>
actually cancelled.</p>

<p style="margin-top: 1em">path specifies fully-qualified
path of the disk. bandwidth specifies copying bandwidth
limit in MiB/s. Specifying a negative value is interpreted
as an unsigned long long <br>
value that might be essentially unlimited, but more likely
would overflow; it is safer to use 0 for that purpose. For
further information on the bandwidth argument see the <br>
corresponding section for the blockjob command. Specifying
granularity allows fine-tuning of the granularity that will
be copied when a dirty region is detected; larger <br>
values trigger less I/O overhead but may end up copying more
data overall (the default value is usually correct);
hypervisors may restrict this to be a power of two or fall
<br>
within a certain range. Specifying buf-size will control how
much data can be simultaneously in-flight during the copy;
larger values use more memory but may allow faster <br>
completion (the default value is usually correct).</p>

<p style="margin-top: 1em">blockpull domain path
[bandwidth] [--bytes] [base] [--wait [--verbose] [--timeout
seconds] [--async]] [--keep-relative] <br>
Populate a disk from its backing image chain. By default,
this command flattens the entire chain; but if base is
specified, containing the name of one of the backing files
in <br>
the chain, then that file becomes the new backing file and
only the intermediate portion of the chain is pulled. Once
all requested data from the backing image chain has <br>
been pulled, the disk no longer depends on that portion of
the backing chain.</p>

<p style="margin-top: 1em">By default, this command returns
as soon as possible, and data for the entire disk is pulled
in the background; the progress of the operation can be
checked with blockjob. <br>
However, if --wait is specified, then this command will
block until the operation completes, or cancel the operation
if the optional timeout in seconds elapses or SIGINT is <br>
sent (usually with &quot;Ctrl-C&quot;). Using --verbose
along with --wait will produce periodic status updates. If
job cancellation is triggered, --async will return control
to the <br>
user as fast as possible, otherwise the command may continue
to block a little while longer until the job is done
cleaning up.</p>

<p style="margin-top: 1em">Using the --keep-relative flag
will keep the backing chain names relative.</p>

<p style="margin-top: 1em">path specifies fully-qualified
path of the disk; it corresponds to a unique target name
(&lt;target dev=&rsquo;name&rsquo;/&gt;) or source file
(&lt;source file=&rsquo;name&rsquo;/&gt;) for one of the
disk <br>
devices attached to domain (see also domblklist for listing
these names). bandwidth specifies copying bandwidth limit in
MiB/s. For further information on the bandwidth <br>
argument see the corresponding section for the blockjob
command.</p>

<p style="margin-top: 1em">blkdeviotune domain device
[[--config] [--live] | [--current]] [[total-bytes-sec] |
[read-bytes-sec] [write-bytes-sec]] [[total-iops-sec] |
[read-iops-sec] [write-iops-sec]] <br>
[[total-bytes-sec-max] | [read-bytes-sec-max]
[write-bytes-sec-max]] [[total-iops-sec-max] |
[read-iops-sec-max] [write-iops-sec-max]] [size-iops-sec]
<br>
Set or query the block disk io parameters for a block device
of domain. device specifies a unique target name (&lt;target
dev=&rsquo;name&rsquo;/&gt;) or source file (&lt;source
file=&rsquo;name&rsquo;/&gt;) <br>
for one of the disk devices attached to domain (see also
domblklist for listing these names).</p>

<p style="margin-top: 1em">If no limit is specified, it
will query current I/O limits setting. Otherwise, alter the
limits with these flags: --total-bytes-sec specifies total
throughput limit as a <br>
scaled integer, the default being bytes per second if no
suffix is specified. --read-bytes-sec specifies read
throughput limit as a scaled integer, the default being
bytes <br>
per second if no suffix is specified. --write-bytes-sec
specifies write throughput limit as a scaled integer, the
default being bytes per second if no suffix is specified.
<br>
--total-iops-sec specifies total I/O operations limit per
second. --read-iops-sec specifies read I/O operations limit
per second. --write-iops-sec specifies write I/O <br>
operations limit per second. --total-bytes-sec-max specifies
maximum total throughput limit as a scaled integer, the
default being bytes per second if no suffix is specified
<br>
--read-bytes-sec-max specifies maximum read throughput limit
as a scaled integer, the default being bytes per second if
no suffix is specified. --write-bytes-sec-max <br>
specifies maximum write throughput limit as a scaled
integer, the default being bytes per second if no suffix is
specified. --total-iops-sec-max specifies maximum total I/O
<br>
operations limit per second. --read-iops-sec-max specifies
maximum read I/O operations limit per second.
--write-iops-sec-max specifies maximum write I/O operations
limit <br>
per second. --size-iops-sec specifies size I/O operations
limit per second.</p>

<p style="margin-top: 1em">Older versions of virsh only
accepted these options with underscore instead of dash, as
in --total_bytes_sec.</p>

<p style="margin-top: 1em">Bytes and iops values are
independent, but setting only one value (such as
--read-bytes-sec) resets the other two in that category to
unlimited. An explicit 0 also clears <br>
any limit. A non-zero value for a given total cannot be
mixed with non-zero values for read or write.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If --config is specified, affect the next
boot of a persistent guest. If --current is specified,
affect the current guest <br>
state. When setting the disk io parameters both --live and
--config flags may be given, but --current is exclusive. For
querying only one of --live, --config or --current <br>
can be specified. If no flag is specified, behavior is
different depending on hypervisor.</p>

<p style="margin-top: 1em">blockjob domain path { [--abort]
[--async] [--pivot] | [--info] [--raw] [--bytes] |
[bandwidth] } <br>
Manage active block operations. There are three
mutually-exclusive modes: --info, bandwidth, and --abort.
--async and --pivot imply abort mode; --raw implies info
mode; and <br>
if no mode was given, --info mode is assumed.</p>

<p style="margin-top: 1em">path specifies fully-qualified
path of the disk; it corresponds to a unique target name
(&lt;target dev=&rsquo;name&rsquo;/&gt;) or source file
(&lt;source file=&rsquo;name&rsquo;/&gt;) for one of the
disk <br>
devices attached to domain (see also domblklist for listing
these names).</p>

<p style="margin-top: 1em">In --abort mode, the active job
on the specified disk will be aborted. If --async is also
specified, this command will return immediately, rather than
waiting for the <br>
cancellation to complete. If --pivot is specified, this
requests that an active copy or active commit job be pivoted
over to the new image.</p>

<p style="margin-top: 1em">In --info mode, the active job
information on the specified disk will be printed. By
default, the output is a single human-readable summary line;
this format may change in <br>
future versions. Adding --raw lists each field of the
struct, in a stable format. If the --bytes flag is set, then
the command errors out if the server could not supply <br>
bytes/s resolution; when omitting the flag, raw output is
listed in MiB/s and human-readable output automatically
selects the best resolution supported by the server.</p>

<p style="margin-top: 1em">bandwidth can be used to set
bandwidth limit for the active job in MiB/s. If --bytes is
specified then the bandwidth value is interpreted in
bytes/s. Specifying a negative <br>
value is interpreted as an unsigned long value or
essentially unlimited. The hypervisor can choose whether to
reject the value or convert it to the maximum value allowed.
<br>
Optionally a scaled positive number may be used as bandwidth
(see NOTES above). Using --bytes with a scaled value allows
to use finer granularity. A scaled value used without <br>
--bytes will be rounded down to MiB/s. Note that the --bytes
may be unsupported by the hypervisor.</p>

<p style="margin-top: 1em">blockresize domain path size
<br>
Resize a block device of domain while the domain is running,
path specifies the absolute path of the block device; it
corresponds to a unique target name (&lt;target <br>
dev=&rsquo;name&rsquo;/&gt;) or source file (&lt;source
file=&rsquo;name&rsquo;/&gt;) for one of the disk devices
attached to domain (see also domblklist for listing these
names).</p>

<p style="margin-top: 1em">size is a scaled integer (see
NOTES above) which defaults to KiB (blocks of 1024 bytes) if
there is no suffix. You must use a suffix of &quot;B&quot;
to get bytes (note that for <br>
historical reasons, this differs from vol-resize which
defaults to bytes without a suffix).</p>

<p style="margin-top: 1em">domdisplay domain
[--include-password] [[--type] type] <br>
Output a URI which can be used to connect to the graphical
display of the domain via VNC, SPICE or RDP. The particular
graphical display type can be selected using the type <br>
parameter (e.g. &quot;vnc&quot;, &quot;spice&quot;,
&quot;rdp&quot;). If --include-password is specified, the
SPICE channel password will be included in the URI.</p>

<p style="margin-top: 1em">domfsinfo domain <br>
Show a list of mounted filesystems within the running
domain. The list contains mountpoints, names of a mounted
device in the guest, filesystem types, and unique target
names <br>
used in the domain XML (&lt;target
dev=&rsquo;name&rsquo;/&gt;).</p>

<p style="margin-top: 1em">Note that this command requires
a guest agent configured and running in the domain&rsquo;s
guest OS.</p>

<p style="margin-top: 1em">domfsfreeze domain
[[--mountpoint] mountpoint...] <br>
Freeze mounted filesystems within a running domain to
prepare for consistent snapshots.</p>

<p style="margin-top: 1em">The --mountpoint option takes a
parameter mountpoint, which is a mount point path of the
filesystem to be frozen. This option can occur multiple
times. If this is not <br>
specified, every mounted filesystem is frozen.</p>

<p style="margin-top: 1em">Note: snapshot-create command
has a --quiesce option to freeze and thaw the filesystems
automatically to keep snapshots consistent. domfsfreeze
command is only needed when a <br>
user wants to utilize the native snapshot features of
storage devices not supported by libvirt.</p>

<p style="margin-top: 1em">domfsthaw domain [[--mountpoint]
mountpoint...] <br>
Thaw mounted filesystems within a running domain, which have
been frozen by domfsfreeze command.</p>

<p style="margin-top: 1em">The --mountpoint option takes a
parameter mountpoint, which is a mount point path of the
filesystem to be thawed. This option can occur multiple
times. If this is not <br>
specified, every mounted filesystem is thawed.</p>

<p style="margin-top: 1em">domfstrim domain [--minimum
bytes] [--mountpoint mountPoint] <br>
Issue a fstrim command on all mounted filesystems within a
running domain. It discards blocks which are not in use by
the filesystem. If --minimum bytes is specified, it <br>
tells guest kernel length of contiguous free range. Smaller
than this may be ignored (this is a hint and the guest may
not respect it). By increasing this value, the fstrim <br>
operation will complete more quickly for filesystems with
badly fragmented free space, although not all blocks will be
discarded. The default value is zero, meaning &quot;discard
<br>
every free block&quot;. Moreover, a if user wants to trim
only one mount point, it can be specified via optional
--mountpoint parameter.</p>

<p style="margin-top: 1em">domhostname domain <br>
Returns the hostname of a domain, if the hypervisor makes it
available.</p>

<p style="margin-top: 1em">dominfo domain <br>
Returns basic information about the domain.</p>

<p style="margin-top: 1em">domuuid domain-name-or-id <br>
Convert a domain name or id to domain UUID</p>

<p style="margin-top: 1em">domid domain-name-or-uuid <br>
Convert a domain name (or UUID) to a domain id</p>

<p style="margin-top: 1em">domjobabort domain <br>
Abort the currently running domain job.</p>

<p style="margin-top: 1em">domjobinfo domain [--completed]
<br>
Returns information about jobs running on a domain.
--completed tells virsh to return information about a
recently finished job. Statistics of a completed job are
<br>
automatically destroyed once read or when libvirtd is
restarted. Note that time information returned for completed
migrations may be completely irrelevant unless both source
<br>
and destination hosts have synchronized time (i.e., NTP
daemon is running on both of them).</p>

<p style="margin-top: 1em">domname domain-id-or-uuid <br>
Convert a domain Id (or UUID) to domain name</p>

<p style="margin-top: 1em">domrename domain new-name <br>
Rename a domain. This command changes current domain name to
the new name specified in the second argument.</p>

<p style="margin-top: 1em">Note: Domain must be inactive
and without snapshots.</p>

<p style="margin-top: 1em">domstate domain [--reason] <br>
Returns state about a domain. --reason tells virsh to also
print reason for the state.</p>

<p style="margin-top: 1em">domcontrol domain <br>
Returns state of an interface to VMM used to control a
domain. For states other than &quot;ok&quot; or
&quot;error&quot; the command also prints number of seconds
elapsed since the control <br>
interface entered its current state.</p>

<p style="margin-top: 1em">domtime domain { [--now]
[--pretty] [--sync] [--time time] } <br>
Gets or sets the domain&rsquo;s system time. When run
without any arguments (but domain), the current
domain&rsquo;s system time is printed out. The --pretty
modifier can be used to <br>
print the time in more human readable form.</p>

<p style="margin-top: 1em">When --time time is specified,
the domain&rsquo;s time is not gotten but set instead. The
--now modifier acts like if it was an alias for --time $now,
which means it sets the time <br>
that is currently on the host virsh is running at. In both
cases (setting and getting), time is in seconds relative to
Epoch of 1970-01-01 in UTC. The --sync modifies the <br>
set behavior a bit: The time passed is ignored, but the time
to set is read from domain&rsquo;s RTC instead. Please note,
that some hypervisors may require a guest agent to be <br>
configured in order to get or set the guest time.</p>

<p style="margin-top: 1em">domxml-from-native format config
<br>
Convert the file config in the native guest configuration
format named by format to a domain XML format. For QEMU/KVM
hypervisor, the format argument must be qemu-argv. For <br>
Xen hypervisor, the format argument may be xen-xm, xen-xl,
or xen-sxpr. For LXC hypervisor, the format argument must be
lxc-tools.</p>

<p style="margin-top: 1em">domxml-to-native format xml <br>
Convert the file xml in domain XML format to the native
guest configuration format named by format. For QEMU/KVM
hypervisor, the format argument must be qemu-argv. For Xen
<br>
hypervisor, the format argument may be xen-xm, xen-xl, or
xen-sxpr. For LXC hypervisor, the format argument must be
lxc-tools.</p>

<p style="margin-top: 1em">dump domain corefilepath
[--bypass-cache] { [--live] | [--crash] | [--reset] }
[--verbose] [--memory-only] [--format string] <br>
Dumps the core of a domain to a file for analysis. If --live
is specified, the domain continues to run until the core
dump is complete, rather than pausing up front. If <br>
--crash is specified, the domain is halted with a crashed
status, rather than merely left in a paused state. If
--reset is specified, the domain is reset after successful
<br>
dump. Note, these three switches are mutually exclusive. If
--bypass-cache is specified, the save will avoid the file
system cache, although this may slow down the <br>
operation. If --memory-only is specified, the file is elf
file, and will only include domain&rsquo;s memory and cpu
common register value. It is very useful if the domain uses
<br>
host devices directly. --format string is used to specify
the format of &rsquo;memory-only&rsquo; dump, and string can
be one of them: elf, kdump-zlib(kdump-compressed format with
zlib- <br>
compressed), kdump-lzo(kdump-compressed format with
lzo-compressed), kdump-snappy(kdump-compressed format with
snappy-compressed).</p>

<p style="margin-top: 1em">The progress may be monitored
using domjobinfo virsh command and canceled with domjobabort
command (sent by another virsh instance). Another option is
to send SIGINT (usually <br>
with &quot;Ctrl-C&quot;) to the virsh process running dump
command. --verbose displays the progress of dump.</p>

<p style="margin-top: 1em">NOTE: Some hypervisors may
require the user to manually ensure proper permissions on
file and path specified by argument corefilepath.</p>

<p style="margin-top: 1em">NOTE: Crash dump in a old
kvmdump format is being obsolete and cannot be loaded and
processed by crash utility since its version 6.1.0. A
--memory-only option is required in <br>
order to produce valid ELF file which can be later processed
by the crash utility.</p>

<p style="margin-top: 1em">dumpxml domain [--inactive]
[--security-info] [--update-cpu] [--migratable] <br>
Output the domain information as an XML dump to stdout, this
format can be used by the create command. Additional options
affecting the XML dump may be used. --inactive tells <br>
virsh to dump domain configuration that will be used on next
start of the domain as opposed to the current domain
configuration. Using --security-info will also include <br>
security sensitive information in the XML dump. --update-cpu
updates domain CPU requirements according to host CPU. With
--migratable one can request an XML that is suitable <br>
for migrations, i.e., compatible with older libvirt releases
and possibly amended with internal run-time options. This
option may automatically enable other options <br>
(--update-cpu, --security-info, ...) as necessary.</p>

<p style="margin-top: 1em">edit domain <br>
Edit the XML configuration file for a domain, which will
affect the next boot of the guest.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh dumpxml --inactive
--security-info domain &gt; domain.xml <br>
vi domain.xml (or make changes with your other text editor)
<br>
virsh define domain.xml</p>

<p style="margin-top: 1em">except that it does some error
checking.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">event {[domain] { event | --all
} [--loop] [--timeout seconds] [--timestamp] | --list} <br>
Wait for a class of domain events to occur, and print
appropriate details of events as they happen. The events can
optionally be filtered by domain. Using --list as the <br>
only argument will provide a list of possible event values
known by this client, although the connection might not
allow registering for all these events. It is also <br>
possible to use --all instead of event to register for all
possible event types at once.</p>

<p style="margin-top: 1em">By default, this command is
one-shot, and returns success once an event occurs; you can
send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
immediately. If --timeout is specified, <br>
the command gives up waiting for events after seconds have
elapsed. With --loop, the command prints all events until a
timeout or interrupt key.</p>

<p style="margin-top: 1em">When --timestamp is used, a
human-readable timestamp will be printed before the
event.</p>

<p style="margin-top: 1em">iothreadinfo domain [[--live]
[--config] | [--current]] <br>
Display basic domain IOThreads information including the
IOThread ID and the CPU Affinity for each IOThread.</p>

<p style="margin-top: 1em">If --live is specified, get the
IOThreads data from the running guest. If the guest is not
running, an error is returned. If --config is specified, get
the IOThreads data <br>
from the next boot of a persistent guest. If --current is
specified or --live and --config are not specified, then get
the IOThread data based on the current guest state.</p>

<p style="margin-top: 1em">iothreadpin domain iothread
cpulist [[--live] [--config] | [--current]] <br>
Change the pinning of a domain IOThread to host physical
CPUs. In order to retrieve a list of all IOThreads, use
iothreadinfo. To pin an iothread specify the cpulist desired
<br>
for the IOThread ID as listed in the iothreadinfo
output.</p>

<p style="margin-top: 1em">cpulist is a list of physical
CPU numbers. Its syntax is a comma separated list and a
special markup using &rsquo;-&rsquo; and &rsquo;^&rsquo;
(ex. &rsquo;0-4&rsquo;, &rsquo;0-3,^2&rsquo;) can also be
allowed. The &rsquo;-&rsquo; <br>
denotes the range and the &rsquo;^&rsquo; denotes exclusive.
If you want to reset iothreadpin setting, that is, to pin an
iothread to all physical cpus, simply specify
&rsquo;r&rsquo; as a cpulist.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If the guest is not running, an error is
returned. If --config is specified, affect the next boot of
a persistent guest. If <br>
--current is specified or --live and --config are not
specified, affect the current guest state. Both --live and
--config flags may be given if cpulist is present, but <br>
--current is exclusive. If no flag is specified, behavior is
different depending on hypervisor.</p>

<p style="margin-top: 1em">Note: The expression is
sequentially evaluated, so &quot;0-15,^8&quot; is identical
to &quot;9-14,0-7,15&quot; but not identical to
&quot;^8,0-15&quot;.</p>

<p style="margin-top: 1em">iothreadadd domain iothread_id
[[--config] [--live] | [--current]] <br>
Add a new IOThread to the domain using the specified
iothread_id. If the iothread_id already exists, the command
will fail. The iothread_id must be greater than zero.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If the guest is not running an error is
returned. If --config is specified, affect the next boot of
a persistent guest. If <br>
--current is specified or --live and --config are not
specified, affect the current guest state.</p>

<p style="margin-top: 1em">iothreaddel domain iothread_id
[[--config] [--live] | [--current]] <br>
Delete an IOThread from the domain using the specified
iothread_id. If an IOThread is currently assigned to a disk
resource such as via the attach-disk command, then the <br>
attempt to remove the IOThread will fail. If the iothread_id
does not exist an error will occur.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If the guest is not running an error is
returned. If --config is specified, affect the next boot of
a persistent guest. If <br>
--current is specified or --live and --config are not
specified, affect the current guest state.</p>

<p style="margin-top: 1em">managedsave domain
[--bypass-cache] [{--running | --paused}] [--verbose] <br>
Save and destroy (stop) a running domain, so it can be
restarted from the same state at a later time. When the
virsh start command is next run for the domain, it will <br>
automatically be started from this saved state. If
--bypass-cache is specified, the save will avoid the file
system cache, although this may slow down the operation.</p>

<p style="margin-top: 1em">The progress may be monitored
using domjobinfo virsh command and canceled with domjobabort
command (sent by another virsh instance). Another option is
to send SIGINT (usually <br>
with &quot;Ctrl-C&quot;) to the virsh process running
managedsave command. --verbose displays the progress of
save.</p>

<p style="margin-top: 1em">Normally, starting a managed
save will decide between running or paused based on the
state the domain was in when the save was done; passing
either the --running or --paused <br>
flag will allow overriding which state the start should
use.</p>

<p style="margin-top: 1em">The dominfo command can be used
to query whether a domain currently has any managed save
image.</p>

<p style="margin-top: 1em">managedsave-remove domain <br>
Remove the managedsave state file for a domain, if it
exists. This ensures the domain will do a full boot the next
time it is started.</p>

<p style="margin-top: 1em">maxvcpus [type] <br>
Provide the maximum number of virtual CPUs supported for a
guest VM on this connection. If provided, the type parameter
must be a valid type attribute for the &lt;domain&gt; <br>
element of XML.</p>

<p style="margin-top: 1em">cpu-stats domain [--total]
[start] [count] <br>
Provide cpu statistics information of a domain. The domain
should be running. Default it shows stats for all CPUs, and
a total. Use --total for only the total stats, start <br>
for only the per-cpu stats of the CPUs from start, count for
only count CPUs&rsquo; stats.</p>

<p style="margin-top: 1em">metadata domain [[--live]
[--config] | [--current]] [--edit] [uri] [key] [set]
[--remove] <br>
Show or modify custom XML metadata of a domain. The metadata
is a user defined XML that allows to store arbitrary XML
data in the domain definition. Multiple separate custom <br>
metadata pieces can be stored in the domain XML. The pieces
are identified by a private XML namespace provided via the
uri argument. (See also desc that works with textual <br>
metadata of a domain.)</p>

<p style="margin-top: 1em">Flags --live or --config select
whether this command works on live or persistent definitions
of the domain. If both --live and --config are specified,
the --config option <br>
takes precedence on getting the current description and both
live configuration and config are updated while setting the
description. --current is exclusive and implied if <br>
none of these was specified.</p>

<p style="margin-top: 1em">Flag --remove specifies that the
metadata element specified by the uri argument should be
removed rather than updated.</p>

<p style="margin-top: 1em">Flag --edit specifies that an
editor with the metadata identified by the uri argument
should be opened and the contents saved back afterwards.
Otherwise the new contents can <br>
be provided via the set argument.</p>

<p style="margin-top: 1em">When setting metadata via --edit
or set the key argument must be specified and is used to
prefix the custom elements to bind them to the private
namespace.</p>

<p style="margin-top: 1em">If neither of --edit and set are
specified the XML metadata corresponding to the uri
namespace is displayed instead of being modified.</p>

<p style="margin-top: 1em">migrate [--live] [--offline]
[--direct] [--p2p [--tunnelled]] [--persistent]
[--undefinesource] [--suspend] [--copy-storage-all]
[--copy-storage-inc] [--change-protection] <br>
[--unsafe] [--verbose] [--abort-on-error] [--postcopy]
[--postcopy-after-precopy] domain desturi [migrateuri]
[graphicsuri] [listen-address] [dname] [--timeout seconds
<br>
[--timeout-suspend | --timeout-postcopy]] [--xml file]
[--migrate-disks disk-list] [--disks-port port]
[--compressed] [--comp-methods method-list]
[--comp-mt-level] <br>
[--comp-mt-threads] [--comp-mt-dthreads]
[--comp-xbzrle-cache] [--auto-converge]
[auto-converge-initial] [auto-converge-increment] <br>
Migrate domain to another host. Add --live for live
migration; &lt;--p2p&gt; for peer-2-peer migration; --direct
for direct migration; or --tunnelled for tunnelled
migration. <br>
--offline migrates domain definition without starting the
domain on destination and without stopping it on source
host. Offline migration may be used with inactive domains
<br>
and it must be used with --persistent option. --persistent
leaves the domain persistent on destination host,
--undefinesource undefines the domain on the source host,
and <br>
--suspend leaves the domain paused on the destination host.
--copy-storage-all indicates migration with non-shared
storage with full disk copy, --copy-storage-inc indicates
<br>
migration with non-shared storage with incremental copy
(same base image shared between source and destination). In
both cases the disk images have to exist on destination <br>
host, the --copy-storage-... options only tell libvirt to
transfer data from the images on source host to the images
found at the same place on the destination host. By <br>
default only non-shared non-readonly images are transferred.
Use --migrate-disks to explicitly specify a list of disk
targets to transfer via the comma separated disk-list <br>
argument. --change-protection enforces that no incompatible
configuration changes will be made to the domain while the
migration is underway; this flag is implicitly enabled <br>
when supported by the hypervisor, but can be explicitly used
to reject the migration if the hypervisor lacks change
protection support. --verbose displays the progress of <br>
migration. --abort-on-error cancels the migration if a soft
error (for example I/O error) happens during the migration.
--postcopy enables post-copy logic in migration, but <br>
does not actually start post-copy, i.e., migration is
started in pre-copy mode. Once migration is running, the
user may switch to post-copy using the migrate-postcopy <br>
command sent from another virsh instance or use
--postcopy-after-precopy to let libvirt automatically switch
to post-copy after the first pass of pre-copy is
finished.</p>

<p style="margin-top: 1em">--auto-converge forces
convergence during live migration. The initial guest CPU
throttling rate can be set with auto-converge-initial. If
the initial throttling rate is not <br>
enough to ensure convergence, the rate is periodically
increased by auto-converge-increment.</p>

<p style="margin-top: 1em">Note: Individual hypervisors
usually do not support all possible types of migration. For
example, QEMU does not support direct migration.</p>

<p style="margin-top: 1em">In some cases libvirt may refuse
to migrate the domain because doing so may lead to potential
problems such as data corruption, and thus the migration is
considered unsafe. <br>
For QEMU domain, this may happen if the domain uses disks
without explicitly setting cache mode to &quot;none&quot;.
Migrating such domains is unsafe unless the disk images are
stored <br>
on coherent clustered filesystem, such as GFS2 or GPFS. If
you are sure the migration is safe or you just do not care,
use --unsafe to force the migration.</p>

<p style="margin-top: 1em">dname is used for renaming the
domain to new name during migration, which also usually can
be omitted. Likewise, --xml file is usually omitted, but can
be used to supply an <br>
alternative XML file for use on the destination to supply a
larger set of changes to any host-specific portions of the
domain XML, such as accounting for naming differences <br>
between source and destination in accessing underlying
storage.</p>

<p style="margin-top: 1em">--timeout seconds tells virsh to
run a specified action when live migration exceeds that many
seconds. It can only be used with --live. If
--timeout-suspend is specified, <br>
the domain will be suspended after the timeout and the
migration will complete offline; this is the default if no
--timeout-* option is specified on the command line. When
<br>
--timeout-postcopy is used, virsh will switch migration from
pre-copy to post-copy upon timeout; migration has to be
started with --postcopy option for this to work.</p>

<p style="margin-top: 1em">--compressed activates
compression, the compression method is chosen with
--comp-methods. Supported methods are &quot;mt&quot; and
&quot;xbzrle&quot; and can be used in any combination. When
no <br>
methods are specified, a hypervisor default methods will be
used. QEMU defaults to &quot;xbzrle&quot;. Compression
methods can be tuned further. --comp-mt-level sets
compression level. <br>
Values are in range from 0 to 9, where 1 is maximum speed
and 9 is maximum compression. --comp-mt-threads and
--comp-mt-dthreads set the number of compress threads on
source <br>
and the number of decompress threads on target respectively.
--comp-xbzrle-cache sets size of page cache in bytes.</p>

<p style="margin-top: 1em">Running migration can be
canceled by interrupting virsh (usually using
&quot;Ctrl-C&quot;) or by domjobabort command sent from
another virsh instance.</p>

<p style="margin-top: 1em">The desturi and migrateuri
parameters can be used to control which destination the
migration uses. desturi is important for managed migration,
but unused for direct <br>
migration; migrateuri is required for direct migration, but
can usually be automatically determined for managed
migration.</p>

<p style="margin-top: 1em">Note: The desturi parameter for
normal migration and peer2peer migration has different
semantics:</p>

<p style="margin-top: 1em">&Acirc;&middot; normal
migration: the desturi is an address of the target host as
seen from the client machine.</p>

<p style="margin-top: 1em">&Acirc;&middot; peer2peer
migration: the desturi is an address of the target host as
seen from the source machine.</p>

<p style="margin-top: 1em">When migrateuri is not
specified, libvirt will automatically determine the
hypervisor specific URI. Some hypervisors, including QEMU,
have an optional &quot;migration_host&quot; <br>
configuration parameter (useful when the host has multiple
network interfaces). If this is unspecified, libvirt
determines a name by looking up the target host&rsquo;s
configured <br>
hostname.</p>

<p style="margin-top: 1em">There are a few scenarios where
specifying migrateuri may help:</p>

<p style="margin-top: 1em">&Acirc;&middot; The configured
hostname is incorrect, or DNS is broken. If a host has a
hostname which will not resolve to match one of its public
IP addresses, then libvirt will <br>
generate an incorrect URI. In this case migrateuri should be
explicitly specified, using an IP address, or a correct
hostname.</p>

<p style="margin-top: 1em">&Acirc;&middot; The host has
multiple network interfaces. If a host has multiple network
interfaces, it might be desirable for the migration data
stream to be sent over a specific <br>
interface for either security or performance reasons. In
this case migrateuri should be explicitly specified, using
an IP address associated with the network to be used.</p>

<p style="margin-top: 1em">&Acirc;&middot; The firewall
restricts what ports are available. When libvirt generates a
migration URI, it will pick a port number using hypervisor
specific rules. Some hypervisors <br>
only require a single port to be open in the firewalls,
while others require a whole range of port numbers. In the
latter case migrateuri might be specified to choose a <br>
specific port number outside the default range in order to
comply with local firewall policies.</p>

<p style="margin-top: 1em">See
&lt;http://libvirt.org/migration.html#uris&gt; for more
details on migration URIs.</p>

<p style="margin-top: 1em">Optional graphicsuri overrides
connection parameters used for automatically reconnecting a
graphical clients at the end of migration. If omitted,
libvirt will compute the <br>
parameters based on target host IP address. In case the
client does not have a direct access to the network
virtualization hosts are connected to and needs to connect
through <br>
a proxy, graphicsuri may be used to specify the address the
client should connect to. The URI is formed as follows:</p>


<p style="margin-top: 1em">protocol://hostname[:port]/[?parameters]</p>

<p style="margin-top: 1em">where protocol is either
&quot;spice&quot; or &quot;vnc&quot; and parameters is a
list of protocol specific parameters separated by
&rsquo;&amp;&rsquo;. Currently recognized parameters are
&quot;tlsPort&quot; and <br>
&quot;tlsSubject&quot;. For example,</p>


<p style="margin-top: 1em">spice://target.host.com:1234/?tlsPort=4567</p>

<p style="margin-top: 1em">Optional listen-address sets the
listen address that hypervisor on the destination side
should bind to for incoming migration. Both IPv4 and IPv6
addresses are accepted as <br>
well as hostnames (the resolving is done on destination).
Some hypervisors do not support this feature and will return
an error if this parameter is used.</p>

<p style="margin-top: 1em">Optional disks-port sets the
port that hypervisor on destination side should bind to for
incoming disks traffic. Currently it is supported only by
qemu.</p>

<p style="margin-top: 1em">migrate-setmaxdowntime domain
downtime <br>
Set maximum tolerable downtime for a domain which is being
live-migrated to another host. The downtime is a number of
milliseconds the guest is allowed to be down at the end <br>
of live migration.</p>

<p style="margin-top: 1em">migrate-compcache domain [--size
bytes] <br>
Sets and/or gets size of the cache (in bytes) used for
compressing repeatedly transferred memory pages during live
migration. When called without size, the command just <br>
prints current size of the compression cache. When size is
specified, the hypervisor is asked to change compression
cache to size bytes and then the current size is printed
<br>
(the result may differ from the requested size due to
rounding done by the hypervisor). The size option is
supposed to be used while the domain is being live-migrated
as a <br>
reaction to migration progress and increasing number of
compression cache misses obtained from domjobinfo.</p>

<p style="margin-top: 1em">migrate-setspeed domain
bandwidth <br>
Set the maximum migration bandwidth (in MiB/s) for a domain
which is being migrated to another host. bandwidth is
interpreted as an unsigned long long value. Specifying a
<br>
negative value results in an essentially unlimited value
being provided to the hypervisor. The hypervisor can choose
whether to reject the value or convert it to the maximum
<br>
value allowed.</p>

<p style="margin-top: 1em">migrate-getspeed domain <br>
Get the maximum migration bandwidth (in MiB/s) for a
domain.</p>

<p style="margin-top: 1em">migrate-postcopy domain <br>
Switch the current migration from pre-copy to post-copy.
This is only supported for a migration started with
--postcopy option.</p>

<p style="margin-top: 1em">numatune domain [--mode mode]
[--nodeset nodeset] [[--config] [--live] | [--current]] <br>
Set or get a domain&rsquo;s numa parameters, corresponding
to the &lt;numatune&gt; element of domain XML. Without
flags, the current settings are displayed.</p>

<p style="margin-top: 1em">mode can be one of
&lsquo;strict&rsquo;, &lsquo;interleave&rsquo; and
&lsquo;preferred&rsquo; or any valid number from the
virDomainNumatuneMemMode enum in case the daemon supports
it. For a running domain, <br>
the mode can&rsquo;t be changed, and the nodeset can be
changed only if the domain was started with a mode of
&lsquo;strict&rsquo;.</p>

<p style="margin-top: 1em">nodeset is a list of numa nodes
used by the host for running the domain. Its syntax is a
comma separated list, with &rsquo;-&rsquo; for ranges and
&rsquo;^&rsquo; for excluding a node.</p>

<p style="margin-top: 1em">If --live is specified, set
scheduler information of a running guest. If --config is
specified, affect the next boot of a persistent guest. If
--current is specified, <br>
affect the current guest state.</p>

<p style="margin-top: 1em">reboot domain [--mode MODE-LIST]
<br>
Reboot a domain. This acts just as if the domain had the
reboot command run from the console. The command returns as
soon as it has executed the reboot action, which may be <br>
significantly before the domain actually reboots.</p>

<p style="margin-top: 1em">The exact behavior of a domain
when it reboots is set by the on_reboot parameter in the
domain&rsquo;s XML definition.</p>

<p style="margin-top: 1em">By default the hypervisor will
try to pick a suitable shutdown method. To specify an
alternative method, the --mode parameter can specify a comma
separated list which <br>
includes &quot;acpi&quot;, &quot;agent&quot;,
&quot;initctl&quot;, &quot;signal&quot; and
&quot;paravirt&quot;. The order in which drivers will try
each mode is undefined, and not related to the order
specified to virsh. <br>
For strict control over ordering, use a single mode at a
time and repeat the command.</p>

<p style="margin-top: 1em">reset domain <br>
Reset a domain immediately without any guest shutdown. reset
emulates the power reset button on a machine, where all
guest hardware sees the RST line set and reinitializes <br>
internal state.</p>

<p style="margin-top: 1em">Note: Reset without any guest OS
shutdown risks data loss.</p>

<p style="margin-top: 1em">restore state-file
[--bypass-cache] [--xml file] [{--running | --paused}] <br>
Restores a domain from a virsh save state file. See save for
more info.</p>

<p style="margin-top: 1em">If --bypass-cache is specified,
the restore will avoid the file system cache, although this
may slow down the operation.</p>

<p style="margin-top: 1em">--xml file is usually omitted,
but can be used to supply an alternative XML file for use on
the restored guest with changes only in the host-specific
portions of the domain <br>
XML. For example, it can be used to account for file naming
differences in underlying storage due to disk snapshots
taken after the guest was saved.</p>

<p style="margin-top: 1em">Normally, restoring a saved
image will use the state recorded in the save image to
decide between running or paused; passing either the
--running or --paused flag will allow <br>
overriding which state the domain should be started in.</p>

<p style="margin-top: 1em">Note: To avoid corrupting file
system contents within the domain, you should not reuse the
saved state file for a second restore unless you have also
reverted all storage <br>
volumes back to the same contents as when the state file was
created.</p>

<p style="margin-top: 1em">save domain state-file
[--bypass-cache] [--xml file] [{--running | --paused}]
[--verbose] <br>
Saves a running domain (RAM, but not disk state) to a state
file so that it can be restored later. Once saved, the
domain will no longer be running on the system, thus the
<br>
memory allocated for the domain will be free for other
domains to use. virsh restore restores from this state file.
If --bypass-cache is specified, the save will avoid the <br>
file system cache, although this may slow down the
operation.</p>

<p style="margin-top: 1em">The progress may be monitored
using domjobinfo virsh command and canceled with domjobabort
command (sent by another virsh instance). Another option is
to send SIGINT (usually <br>
with &quot;Ctrl-C&quot;) to the virsh process running save
command. --verbose displays the progress of save.</p>

<p style="margin-top: 1em">This is roughly equivalent to
doing a hibernate on a running computer, with all the same
limitations. Open network connections may be severed upon
restore, as TCP timeouts <br>
may have expired.</p>

<p style="margin-top: 1em">--xml file is usually omitted,
but can be used to supply an alternative XML file for use on
the restored guest with changes only in the host-specific
portions of the domain <br>
XML. For example, it can be used to account for file naming
differences that are planned to be made via disk snapshots
of underlying storage after the guest is saved.</p>

<p style="margin-top: 1em">Normally, restoring a saved
image will decide between running or paused based on the
state the domain was in when the save was done; passing
either the --running or --paused <br>
flag will allow overriding which state the restore should
use.</p>

<p style="margin-top: 1em">Domain saved state files assume
that disk images will be unchanged between the creation and
restore point. For a more complete system restore point,
where the disk state is <br>
saved alongside the memory state, see the snapshot family of
commands.</p>

<p style="margin-top: 1em">save-image-define file xml
[{--running | --paused}] <br>
Update the domain XML that will be used when file is later
used in the restore command. The xml argument must be a file
name containing the alternative XML, with changes <br>
only in the host-specific portions of the domain XML. For
example, it can be used to account for file naming
differences resulting from creating disk snapshots of
underlying <br>
storage after the guest was saved.</p>

<p style="margin-top: 1em">The save image records whether
the domain should be restored to a running or paused state.
Normally, this command does not alter the recorded state;
passing either the <br>
--running or --paused flag will allow overriding which state
the restore should use.</p>

<p style="margin-top: 1em">save-image-dumpxml file
[--security-info] <br>
Extract the domain XML that was in effect at the time the
saved state file file was created with the save command.
Using --security-info will also include security sensitive
<br>
information.</p>

<p style="margin-top: 1em">save-image-edit file [{--running
| --paused}] <br>
Edit the XML configuration associated with a saved state
file file created by the save command.</p>

<p style="margin-top: 1em">The save image records whether
the domain should be restored to a running or paused state.
Normally, this command does not alter the recorded state;
passing either the <br>
--running or --paused flag will allow overriding which state
the restore should use.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh save-image-dumpxml
state-file &gt; state-file.xml <br>
vi state-file.xml (or make changes with your other text
editor) <br>
virsh save-image-define state-file state-file-xml</p>

<p style="margin-top: 1em">except that it does some error
checking.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">schedinfo domain [[--config]
[--live] | [--current]] [[--set] parameter=value]... <br>
schedinfo [--weight number] [--cap number] domain <br>
Allows you to show (and set) the domain scheduler
parameters. The parameters available for each hypervisor
are:</p>

<p style="margin-top: 1em">LXC (posix scheduler) :
cpu_shares, vcpu_period, vcpu_quota</p>

<p style="margin-top: 1em">QEMU/KVM (posix scheduler):
cpu_shares, vcpu_period, vcpu_quota, emulator_period,
emulator_quota, iothread_quota, iothread_period</p>

<p style="margin-top: 1em">Xen (credit scheduler): weight,
cap</p>

<p style="margin-top: 1em">ESX (allocation scheduler):
reservation, limit, shares</p>

<p style="margin-top: 1em">If --live is specified, set
scheduler information of a running guest. If --config is
specified, affect the next boot of a persistent guest. If
--current is specified, <br>
affect the current guest state.</p>

<p style="margin-top: 1em">Note: The cpu_shares parameter
has a valid value range of 0-262144; Negative values are
wrapped to positive, and larger values are capped at the
maximum. Therefore, -1 is a <br>
useful shorthand for 262144. On the Linux kernel, the values
0 and 1 are automatically converted to a minimal value of
2.</p>

<p style="margin-top: 1em">Note: The weight and cap
parameters are defined only for the XEN_CREDIT scheduler and
are now DEPRECATED.</p>

<p style="margin-top: 1em">Note: The vcpu_period,
emulator_period, and iothread_period parameters have a valid
value range of 1000-1000000 or 0, and the vcpu_quota,
emulator_quota, and iothread_quota <br>
parameters have a valid value range of
1000-18446744073709551 or less than 0. The value 0 for
either parameter is the same as not specifying that
parameter.</p>

<p style="margin-top: 1em">screenshot domain
[imagefilepath] [--screen screenID] <br>
Takes a screenshot of a current domain console and stores it
into a file. Optionally, if hypervisor supports more
displays for a domain, screenID allows to specify which <br>
screen will be captured. It is the sequential number of
screen. In case of multiple graphics cards, heads are
enumerated before devices, e.g. having two graphics cards,
both <br>
with four heads, screen ID 5 addresses the second head on
the second card.</p>

<p style="margin-top: 1em">send-key domain [--codeset
codeset] [--holdtime holdtime] keycode... <br>
Parse the keycode sequence as keystrokes to send to domain.
Each keycode can either be a numeric value or a symbolic
name from the corresponding codeset. If --holdtime is <br>
given, each keystroke will be held for that many
milliseconds. The default codeset is linux, but use of the
--codeset option allows other codesets to be chosen.</p>

<p style="margin-top: 1em">If multiple keycodes are
specified, they are all sent simultaneously to the guest,
and they may be received in random order. If you need
distinct keypresses, you must use <br>
multiple send-key invocations.</p>

<p style="margin-top: 1em">linux <br>
The numeric values are those defined by the Linux generic
input event subsystem. The symbolic names match the
corresponding Linux key constant macro names.</p>

<p style="margin-top: 1em">xt The numeric values are those
defined by the original XT keyboard controller. No symbolic
names are provided</p>

<p style="margin-top: 1em">atset1 <br>
The numeric values are those defined by the AT keyboard
controller, set 1 (aka XT compatible set). Extended keycoes
from atset1 may differ from extended keycodes in the <br>
xt codeset. No symbolic names are provided</p>

<p style="margin-top: 1em">atset2 <br>
The numeric values are those defined by the AT keyboard
controller, set 2. No symbolic names are provided</p>

<p style="margin-top: 1em">atset3 <br>
The numeric values are those defined by the AT keyboard
controller, set 3 (aka PS/2 compatible set). No symbolic
names are provided</p>

<p style="margin-top: 1em">os_x <br>
The numeric values are those defined by the OS-X keyboard
input subsystem. The symbolic names match the corresponding
OS-X key constant macro names</p>

<p style="margin-top: 1em">xt_kbd <br>
The numeric values are those defined by the Linux KBD
device. These are a variant on the original XT codeset, but
often with different encoding for extended keycodes. No <br>
symbolic names are provided.</p>

<p style="margin-top: 1em">win32 <br>
The numeric values are those defined by the Win32 keyboard
input subsystem. The symbolic names match the corresponding
Win32 key constant macro names</p>

<p style="margin-top: 1em">usb The numeric values are those
defined by the USB HID specification for keyboard input. No
symbolic names are provided</p>

<p style="margin-top: 1em">rfb The numeric values are those
defined by the RFB extension for sending raw keycodes. These
are a variant on the XT codeset, but extended keycodes have
the low bit of the <br>
second byte set, instead of the high bit of the first byte.
No symbolic names are provided.</p>

<p style="margin-top: 1em">Examples <br>
# send three strokes &rsquo;k&rsquo;, &rsquo;e&rsquo;,
&rsquo;y&rsquo;, using xt codeset. these <br>
# are all pressed simultaneously and may be received by the
guest <br>
# in random order <br>
virsh send-key dom --codeset xt 37 18 21</p>

<p style="margin-top: 1em"># send one stroke
&rsquo;right-ctrl+C&rsquo; <br>
virsh send-key dom KEY_RIGHTCTRL KEY_C</p>

<p style="margin-top: 1em"># send a tab, held for 1 second
<br>
virsh send-key --holdtime 1000 0xf</p>

<p style="margin-top: 1em">send-process-signal domain-id
pid signame <br>
Send a signal signame to the process identified by pid
running in the virtual domain domain-id. The pid is a
process ID in the virtual domain namespace.</p>

<p style="margin-top: 1em">The signame argument may be
either an integer signal constant number, or one of the
symbolic names:</p>

<p style="margin-top: 1em">&quot;nop&quot;,
&quot;hup&quot;, &quot;int&quot;, &quot;quit&quot;,
&quot;ill&quot;, <br>
&quot;trap&quot;, &quot;abrt&quot;, &quot;bus&quot;,
&quot;fpe&quot;, &quot;kill&quot;, <br>
&quot;usr1&quot;, &quot;segv&quot;, &quot;usr2&quot;,
&quot;pipe&quot;, &quot;alrm&quot;, <br>
&quot;term&quot;, &quot;stkflt&quot;, &quot;chld&quot;,
&quot;cont&quot;, &quot;stop&quot;, <br>
&quot;tstp&quot;, &quot;ttin&quot;, &quot;ttou&quot;,
&quot;urg&quot;, &quot;xcpu&quot;, <br>
&quot;xfsz&quot;, &quot;vtalrm&quot;, &quot;prof&quot;,
&quot;winch&quot;, &quot;poll&quot;, <br>
&quot;pwr&quot;, &quot;sys&quot;, &quot;rt0&quot;,
&quot;rt1&quot;, &quot;rt2&quot;, &quot;rt3&quot;, <br>
&quot;rt4&quot;, &quot;rt5&quot;, &quot;rt6&quot;,
&quot;rt7&quot;, &quot;rt8&quot;, &quot;rt9&quot;, <br>
&quot;rt10&quot;, &quot;rt11&quot;, &quot;rt12&quot;,
&quot;rt13&quot;, &quot;rt14&quot;, &quot;rt15&quot;, <br>
&quot;rt16&quot;, &quot;rt17&quot;, &quot;rt18&quot;,
&quot;rt19&quot;, &quot;rt20&quot;, &quot;rt21&quot;, <br>
&quot;rt22&quot;, &quot;rt23&quot;, &quot;rt24&quot;,
&quot;rt25&quot;, &quot;rt26&quot;, &quot;rt27&quot;, <br>
&quot;rt28&quot;, &quot;rt29&quot;, &quot;rt30&quot;,
&quot;rt31&quot;, &quot;rt32&quot;</p>

<p style="margin-top: 1em">The symbol name may optionally
be prefixed with &rsquo;sig&rsquo; or &rsquo;sig_&rsquo; and
may be in uppercase or lowercase.</p>

<p style="margin-top: 1em">Examples <br>
virsh send-process-signal myguest 1 15 <br>
virsh send-process-signal myguest 1 term <br>
virsh send-process-signal myguest 1 sigterm <br>
virsh send-process-signal myguest 1 SIG_HUP</p>

<p style="margin-top: 1em">setmem domain size [[--config]
[--live] | [--current]] <br>
Change the memory allocation for a guest domain. If --live
is specified, perform a memory balloon of a running guest.
If --config is specified, affect the next boot of a <br>
persistent guest. If --current is specified, affect the
current guest state. Both --live and --config flags may be
given, but --current is exclusive. If no flag is <br>
specified, behavior is different depending on
hypervisor.</p>

<p style="margin-top: 1em">size is a scaled integer (see
NOTES above); it defaults to kibibytes (blocks of 1024
bytes) unless you provide a suffix (and the older option
name --kilobytes is available as <br>
a deprecated synonym) . Libvirt rounds up to the nearest
kibibyte. Some hypervisors require a larger granularity than
KiB, and requests that are not an even multiple will <br>
be rounded up. For example, vSphere/ESX rounds the parameter
up to mebibytes (1024 kibibytes).</p>

<p style="margin-top: 1em">For Xen, you can only adjust the
memory of a running domain if the domain is paravirtualized
or running the PV balloon driver.</p>

<p style="margin-top: 1em">For LXC, the value being set is
the cgroups value for limit_in_bytes or the maximum amount
of user memory (including file cache). When viewing memory
inside the container, <br>
this is the /proc/meminfo &quot;MemTotal&quot; value. When
viewing the value from the host, use the virsh memtune
command. In order to view the current memory in use and the
maximum <br>
value allowed to set memory, use the virsh dominfo
command.</p>

<p style="margin-top: 1em">set-user-password domain user
password [--encrypted] <br>
Set the password for the user account in the guest
domain.</p>

<p style="margin-top: 1em">If --encrypted is specified, the
password is assumed to be already encrypted by the method
required by the guest OS.</p>

<p style="margin-top: 1em">For QEMU/KVM, this requires the
guest agent to be configured and running.</p>

<p style="margin-top: 1em">setmaxmem domain size
[[--config] [--live] | [--current]] <br>
Change the maximum memory allocation limit for a guest
domain. If --live is specified, affect a running guest. If
--config is specified, affect the next boot of a <br>
persistent guest. If --current is specified, affect the
current guest state. Both --live and --config flags may be
given, but --current is exclusive. If no flag is <br>
specified, behavior is different depending on
hypervisor.</p>

<p style="margin-top: 1em">Some hypervisors such as
QEMU/KVM don&rsquo;t support live changes (especially
increasing) of the maximum memory limit. Even persistent
configuration changes might not be <br>
performed with some hypervisors/configuration (e.g. on NUMA
enabled domains on QEMU). For complex configuration changes
use command edit instead).</p>

<p style="margin-top: 1em">size is a scaled integer (see
NOTES above); it defaults to kibibytes (blocks of 1024
bytes) unless you provide a suffix (and the older option
name --kilobytes is available as <br>
a deprecated synonym) . Libvirt rounds up to the nearest
kibibyte. Some hypervisors require a larger granularity than
KiB, and requests that are not an even multiple will <br>
be rounded up. For example, vSphere/ESX rounds the parameter
up to mebibytes (1024 kibibytes).</p>

<p style="margin-top: 1em">memtune domain [--hard-limit
size] [--soft-limit size] [--swap-hard-limit size]
[--min-guarantee size] [[--config] [--live] | [--current]]
<br>
Allows you to display or set the domain memory parameters.
Without flags, the current settings are displayed; with a
flag, the appropriate limit is adjusted if supported by <br>
the hypervisor. LXC and QEMU/KVM support --hard-limit,
--soft-limit, and --swap-hard-limit. --min-guarantee is
supported only by ESX hypervisor. Each of these limits are
<br>
scaled integers (see NOTES above), with a default of
kibibytes (blocks of 1024 bytes) if no suffix is present.
Libvirt rounds up to the nearest kibibyte. Some hypervisors
<br>
require a larger granularity than KiB, and requests that are
not an even multiple will be rounded up. For example,
vSphere/ESX rounds the parameter up to mebibytes (1024 <br>
kibibytes).</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If --config is specified, affect the next
boot of a persistent guest. If --current is specified,
affect the current guest <br>
state. Both --live and --config flags may be given, but
--current is exclusive. If no flag is specified, behavior is
different depending on hypervisor.</p>

<p style="margin-top: 1em">For QEMU/KVM, the parameters are
applied to the QEMU process as a whole. Thus, when counting
them, one needs to add up guest RAM, guest video RAM, and
some memory overhead <br>
of QEMU itself. The last piece is hard to determine so one
needs guess and try.</p>

<p style="margin-top: 1em">For LXC, the displayed
hard_limit value is the current memory setting from the XML
or the results from a virsh setmem command.</p>

<p style="margin-top: 1em">--hard-limit <br>
The maximum memory the guest can use.</p>

<p style="margin-top: 1em">--soft-limit <br>
The memory limit to enforce during memory contention.</p>

<p style="margin-top: 1em">--swap-hard-limit <br>
The maximum memory plus swap the guest can use. This has to
be more than hard-limit value provided.</p>

<p style="margin-top: 1em">--min-guarantee <br>
The guaranteed minimum memory allocation for the guest.</p>

<p style="margin-top: 1em">Specifying -1 as a value for
these limits is interpreted as unlimited.</p>

<p style="margin-top: 1em">perf domain [--enable eventSpec]
[--disable eventSpec] [[--config] [--live] | [--current]]
<br>
Get the current perf events setting or enable/disable
specific perf events for a guest domain.</p>

<p style="margin-top: 1em">Perf is a performance analyzing
tool in Linux, and it can instrument CPU performance
counters, tracepoints, kprobes, and uprobes (dynamic
tracing). Perf supports a list of <br>
measurable events, and can measure events coming from
different sources. For instance, some event are pure kernel
counters, in this case they are called software events, <br>
including context-switches, minor-faults, etc.. Now dozens
of events from different sources can be supported by
perf.</p>

<p style="margin-top: 1em">Currently only QEMU/KVM supports
this command. The --enable and --disable option combined
with eventSpec can be used to enabled or disable specific
performance event. <br>
eventSpec is a string list of one or more events separated
by commas. Valid event names are &quot;cmt&quot;,
&quot;mbmt&quot;, &quot;mbml&quot;. CMT is a PQos (Platform
Qos) feature to monitor the usage <br>
of cache by applications running on the platform. MBM
(Memory Bandwidth Monitoring) provides a way to monitor the
Total system memory bandwidth between one level of cache
<br>
and another (mbmt) and the amount of data (bytes/s) sent
through the memory controller on the socket (mbml).</p>

<p style="margin-top: 1em">The statistics can be retrieved
using the domstats command using the --perf flag.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If --config is specified, affect the next
boot of a persistent guest. If --current is specified,
affect the current guest <br>
state. Both --live and --config flags may be given, but
--current is exclusive. If no flag is specified, behavior is
different depending on hypervisor.</p>

<p style="margin-top: 1em">blkiotune domain [--weight
weight] [--device-weights device-weights]
[--device-read-iops-sec device-read-iops-sec]
[--device-write-iops-sec device-write-iops-sec] <br>
[--device-read-bytes-sec device-read-bytes-sec]
[--device-write-bytes-sec device-write-bytes-sec]
[[--config] [--live] | [--current]] <br>
Display or set the blkio parameters. QEMU/KVM supports
--weight. --weight is in range [100, 1000]. After kernel
2.6.39, the value could be in the range [10, 1000].</p>

<p style="margin-top: 1em">device-weights is a single
string listing one or more device/weight pairs, in the
format of /path/to/device,weight,/path/to/device,weight.
Each weight is in the range [100, <br>
1000], [10, 1000] after kernel 2.6.39, or the value 0 to
remove that device from per-device listings. Only the
devices listed in the string are modified; any existing per-
<br>
device weights for other devices remain unchanged.</p>

<p style="margin-top: 1em">device-read-iops-sec is a single
string listing one or more device/read_iops_sec pairs, int
the format of
/path/to/device,read_iops_sec,/path/to/device,read_iops_sec.
Each <br>
read_iops_sec is a number which type is unsigned int, value
0 to remove that device from per-decice listing. Only the
devices listed in the string are modified; any existing <br>
per-device read_iops_sec for other devices remain
unchanged.</p>

<p style="margin-top: 1em">device-write-iops-sec is a
single string listing one or more device/write_iops_sec
pairs, int the format of
/path/to/device,write_iops_sec,/path/to/device,write_iops_sec.
<br>
Each write_iops_sec is a number which type is unsigned int,
value 0 to remove that device from per-decice listing. Only
the devices listed in the string are modified; any <br>
existing per-device write_iops_sec for other devices remain
unchanged.</p>

<p style="margin-top: 1em">device-read-bytes-sec is a
single string listing one or more device/read_bytes_sec
pairs, int the format of
/path/to/device,read_bytes_sec,/path/to/device,read_bytes_sec.
<br>
Each read_bytes_sec is a number which type is unsigned long
long, value 0 to remove that device from per-decice listing.
Only the devices listed in the string are modified; <br>
any existing per-device read_bytes_sec for other devices
remain unchanged.</p>

<p style="margin-top: 1em">device-write-bytes-sec is a
single string listing one or more device/write_bytes_sec
pairs, int the format of
/path/to/device,write_bytes_sec,/path/to/device,write_bytes_sec.
<br>
Each write_bytes_sec is a number which type is unsigned long
long, value 0 to remove that device from per-decice listing.
Only the devices listed in the string are modified; <br>
any existing per-device write_bytes_sec for other devices
remain unchanged.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If --config is specified, affect the next
boot of a persistent guest. If --current is specified,
affect the current guest <br>
state. Both --live and --config flags may be given, but
--current is exclusive. If no flag is specified, behavior is
different depending on hypervisor.</p>

<p style="margin-top: 1em">setvcpus domain count
[--maximum] [[--config] [--live] | [--current]] [--guest]
<br>
Change the number of virtual CPUs active in a guest domain.
By default, this command works on active guest domains. To
change the settings for an inactive guest domain, use <br>
the --config flag.</p>

<p style="margin-top: 1em">The count value may be limited
by host, hypervisor, or a limit coming from the original
description of the guest domain. For Xen, you can only
adjust the virtual CPUs of a <br>
running domain if the domain is paravirtualized.</p>

<p style="margin-top: 1em">If the --config flag is
specified, the change is made to the stored XML
configuration for the guest domain, and will only take
effect when the guest domain is next started.</p>

<p style="margin-top: 1em">If --live is specified, the
guest domain must be active, and the change takes place
immediately. Both the --config and --live flags may be
specified together if supported by <br>
the hypervisor. If this command is run before the guest has
finished booting, the guest may fail to process the
change.</p>

<p style="margin-top: 1em">If --current is specified,
affect the current guest state.</p>

<p style="margin-top: 1em">When no flags are given, the
--live flag is assumed and the guest domain must be active.
In this situation it is up to the hypervisor whether the
--config flag is also <br>
assumed, and therefore whether the XML configuration is
adjusted to make the change persistent.</p>

<p style="margin-top: 1em">If --guest is specified, then
the count of cpus is modified in the guest instead of the
hypervisor. This flag is usable only for live domains and
may require guest agent to <br>
be configured in the guest.</p>

<p style="margin-top: 1em">The --maximum flag controls the
maximum number of virtual cpus that can be hot-plugged the
next time the domain is booted. As such, it must only be
used with the --config <br>
flag, and not with the --live or the --current flag.</p>

<p style="margin-top: 1em">shutdown domain [--mode
MODE-LIST] <br>
Gracefully shuts down a domain. This coordinates with the
domain OS to perform graceful shutdown, so there is no
guarantee that it will succeed, and may take a variable <br>
length of time depending on what services must be shutdown
in the domain.</p>

<p style="margin-top: 1em">The exact behavior of a domain
when it shuts down is set by the on_shutdown parameter in
the domain&rsquo;s XML definition.</p>

<p style="margin-top: 1em">If domain is transient, then the
metadata of any snapshots will be lost once the guest stops
running, but the snapshot contents still exist, and a new
domain with the same <br>
name and UUID can restore the snapshot metadata with
snapshot-create.</p>

<p style="margin-top: 1em">By default the hypervisor will
try to pick a suitable shutdown method. To specify an
alternative method, the --mode parameter can specify a comma
separated list which <br>
includes &quot;acpi&quot;, &quot;agent&quot;,
&quot;initctl&quot;, &quot;signal&quot; and
&quot;paravirt&quot;. The order in which drivers will try
each mode is undefined, and not related to the order
specified to virsh. <br>
For strict control over ordering, use a single mode at a
time and repeat the command.</p>

<p style="margin-top: 1em">start domain-name-or-uuid
[--console] [--paused] [--autodestroy] [--bypass-cache]
[--force-boot] [--pass-fds N,M,...] <br>
Start a (previously defined) inactive domain, either from
the last managedsave state, or via a fresh boot if no
managedsave state is present. The domain will be paused if
<br>
the --paused option is used and supported by the driver;
otherwise it will be running. If --console is requested,
attach to the console after creation. If --autodestroy is
<br>
requested, then the guest will be automatically destroyed
when virsh closes its connection to libvirt, or otherwise
exits. If --bypass-cache is specified, and managedsave <br>
state exists, the restore will avoid the file system cache,
although this may slow down the operation. If --force-boot
is specified, then any managedsave state is discarded <br>
and a fresh boot occurs.</p>

<p style="margin-top: 1em">If --pass-fds is specified, the
argument is a comma separated list of open file descriptors
which should be pass on into the guest. The file descriptors
will be re-numered in <br>
the guest, starting from 3. This is only supported with
container based virtualization.</p>

<p style="margin-top: 1em">suspend domain <br>
Suspend a running domain. It is kept in memory but
won&rsquo;t be scheduled anymore.</p>

<p style="margin-top: 1em">resume domain <br>
Moves a domain out of the suspended state. This will allow a
previously suspended domain to now be eligible for
scheduling by the underlying hypervisor.</p>

<p style="margin-top: 1em">dompmsuspend domain target
[--duration] <br>
Suspend a running domain into one of these states (possible
target values): <br>
mem equivalent of S3 ACPI state <br>
disk equivalent of S4 ACPI state <br>
hybrid RAM is saved to disk but not powered off</p>

<p style="margin-top: 1em">The --duration argument
specifies number of seconds before the domain is woken up
after it was suspended (see also dompmwakeup). Default is 0
for unlimited suspend time. <br>
(This feature isn&rsquo;t currently supported by any
hypervisor driver and 0 should be used.).</p>

<p style="margin-top: 1em">Note that this command requires
a guest agent configured and running in the domain&rsquo;s
guest OS.</p>

<p style="margin-top: 1em">Beware that at least for QEMU,
the domain&rsquo;s process will be terminated when target
disk is used and a new process will be launched when libvirt
is asked to wake up the <br>
domain. As a result of this, any runtime changes, such as
device hotplug or memory settings, are lost unless such
changes were made with --config flag.</p>

<p style="margin-top: 1em">dompmwakeup domain <br>
Wakeup a domain from pmsuspended state (either suspended by
dompmsuspend or from the guest itself). Injects a wakeup
into the guest that is in pmsuspended state, rather than
<br>
waiting for the previously requested duration (if any) to
elapse. This operation doesn&rsquo;t not necessarily fail if
the domain is running.</p>

<p style="margin-top: 1em">ttyconsole domain <br>
Output the device used for the TTY console of the domain. If
the information is not available the processes will provide
an exit code of 1.</p>

<p style="margin-top: 1em">undefine domain [--managed-save]
[--snapshots-metadata] [--nvram] [ {--storage volumes |
--remove-all-storage [--delete-snapshots]} --wipe-storage]
<br>
Undefine a domain. If the domain is running, this converts
it to a transient domain, without stopping it. If the domain
is inactive, the domain configuration is removed.</p>

<p style="margin-top: 1em">The --managed-save flag
guarantees that any managed save image (see the managedsave
command) is also cleaned up. Without the flag, attempts to
undefine a domain with a <br>
managed save image will fail.</p>

<p style="margin-top: 1em">The --snapshots-metadata flag
guarantees that any snapshots (see the snapshot-list
command) are also cleaned up when undefining an inactive
domain. Without the flag, <br>
attempts to undefine an inactive domain with snapshot
metadata will fail. If the domain is active, this flag is
ignored.</p>

<p style="margin-top: 1em">The --nvram flag ensures no
nvram (/domain/os/nvram/) file is left behind. If the domain
has an nvram file and the flag is omitted, the undefine will
fail.</p>

<p style="margin-top: 1em">The --storage flag takes a
parameter volumes, which is a comma separated list of volume
target names or source paths of storage volumes to be
removed along with the undefined <br>
domain. Volumes can be undefined and thus removed only on
inactive domains. Volume deletion is only attempted after
the domain is undefined; if not all of the requested <br>
volumes could be deleted, the error message indicates what
still remains behind. If a volume path is not found in the
domain definition, it&rsquo;s treated as if the volume was
<br>
successfully deleted. Only volumes managed by libvirt in
storage pools can be removed this way. (See domblklist for
list of target names associated to a domain). Example: <br>
--storage vda,/path/to/storage.img</p>

<p style="margin-top: 1em">The --remove-all-storage flag
specifies that all of the domain&rsquo;s storage volumes
should be deleted.</p>

<p style="margin-top: 1em">The --delete-snapshots flag
specifies that any snapshots associated with the storage
volume should be deleted as well. Requires the
--remove-all-storage flag to be provided. <br>
Not all storage drivers support this option, presently only
rbd.</p>

<p style="margin-top: 1em">The flag --wipe-storage
specifies that the storage volumes should be wiped before
removal.</p>

<p style="margin-top: 1em">NOTE: For an inactive domain,
the domain name or UUID must be used as the domain.</p>

<p style="margin-top: 1em">vcpucount domain [{--maximum |
--active} {--config | --live | --current}] [--guest] <br>
Print information about the virtual cpu counts of the given
domain. If no flags are specified, all possible counts are
listed in a table; otherwise, the output is limited to <br>
just the numeric value requested. For historical reasons,
the table lists the label &quot;current&quot; on the rows
that can be queried in isolation via the --active flag,
rather than <br>
relating to the --current flag.</p>

<p style="margin-top: 1em">--maximum requests information
on the maximum cap of vcpus that a domain can add via
setvcpus, while --active shows the current usage; these two
flags cannot both be <br>
specified. --config requires a persistent domain and
requests information regarding the next time the domain will
be booted, --live requires a running domain and lists <br>
current values, and --current queries according to the
current state of the domain (corresponding to --live if
running, or --config if inactive); these three flags are
<br>
mutually exclusive.</p>

<p style="margin-top: 1em">If --guest is specified, then
the count of cpus is reported from the perspective of the
guest. This flag is usable only for live domains and may
require guest agent to be <br>
configured in the guest.</p>

<p style="margin-top: 1em">vcpuinfo domain [--pretty] <br>
Returns basic information about the domain virtual CPUs,
like the number of vCPUs, the running time, the affinity to
physical processors.</p>

<p style="margin-top: 1em">With --pretty, cpu affinities
are shown as ranges.</p>

<p style="margin-top: 1em">vcpupin domain [vcpu] [cpulist]
[[--live] [--config] | [--current]] <br>
Query or change the pinning of domain VCPUs to host physical
CPUs. To pin a single vcpu, specify cpulist; otherwise, you
can query one vcpu or omit vcpu to list all at once.</p>

<p style="margin-top: 1em">cpulist is a list of physical
CPU numbers. Its syntax is a comma separated list and a
special markup using &rsquo;-&rsquo; and &rsquo;^&rsquo;
(ex. &rsquo;0-4&rsquo;, &rsquo;0-3,^2&rsquo;) can also be
allowed. The &rsquo;-&rsquo; <br>
denotes the range and the &rsquo;^&rsquo; denotes exclusive.
For pinning the vcpu to all physical cpus specify
&rsquo;r&rsquo; as a cpulist. If --live is specified, affect
a running guest. If <br>
--config is specified, affect the next boot of a persistent
guest. If --current is specified, affect the current guest
state. Both --live and --config flags may be given if <br>
cpulist is present, but --current is exclusive. If no flag
is specified, behavior is different depending on
hypervisor.</p>

<p style="margin-top: 1em">Note: The expression is
sequentially evaluated, so &quot;0-15,^8&quot; is identical
to &quot;9-14,0-7,15&quot; but not identical to
&quot;^8,0-15&quot;.</p>

<p style="margin-top: 1em">emulatorpin domain [cpulist]
[[--live] [--config] | [--current]] <br>
Query or change the pinning of domain&rsquo;s emulator
threads to host physical CPUs.</p>

<p style="margin-top: 1em">See vcpupin for cpulist.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running guest. If --config is specified, affect the next
boot of a persistent guest. If --current is specified,
affect the current guest <br>
state. Both --live and --config flags may be given if
cpulist is present, but --current is exclusive. If no flag
is specified, behavior is different depending on <br>
hypervisor.</p>

<p style="margin-top: 1em">guestvcpus domain [[--enable] |
[--disable]] [cpulist] <br>
Query or change state of vCPUs from guest&rsquo;s point of
view using the guest agent. When invoked without cpulist the
guest is queried for available guest vCPUs, their state and
<br>
possibility to be offlined.</p>

<p style="margin-top: 1em">If cpulist is provided then one
of --enable or --disable must be provided too. The desired
operation is then executed on the domain.</p>

<p style="margin-top: 1em">See vcpupin for information on
cpulist.</p>

<p style="margin-top: 1em">vncdisplay domain <br>
Output the IP address and port number for the VNC display.
If the information is not available the processes will
provide an exit code of 1.</p>

<p style="margin-top: 1em">DEVICE COMMANDS <br>
The following commands manipulate devices associated to
domains. The domain can be specified as a short integer, a
name or a full UUID. To better understand the values allowed
<br>
as options for the command reading the documentation at
&lt;http://libvirt.org/formatdomain.html&gt; on the format
of the device sections to get the most accurate set of
accepted <br>
values.</p>

<p style="margin-top: 1em">attach-device domain FILE
[[[--live] [--config] | [--current]] | [--persistent]] <br>
Attach a device to the domain, using a device definition in
an XML file using a device definition element such as
&lt;disk&gt; or &lt;interface&gt; as the top-level element.
See the <br>
documentation at
&lt;http://libvirt.org/formatdomain.html#elementsDevices&gt;
to learn about libvirt XML format for a device. If --config
is specified the command alters the <br>
persistent domain configuration with the device attach
taking effect the next time libvirt starts the domain. For
cdrom and floppy devices, this command only replaces the
<br>
media within an existing device; consider using
update-device for this usage. For passthrough host devices,
see also nodedev-detach, needed if the PCI device does not
use <br>
managed mode.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. When no flag is specified legacy
API is used whose behavior depends on the hypervisor <br>
driver.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain.</p>

<p style="margin-top: 1em">Note: using of partial device
definition XML files may lead to unexpected results as some
fields may be autogenerated and thus match devices other
than expected.</p>

<p style="margin-top: 1em">attach-disk domain source target
[[[--live] [--config] | [--current]] | [--persistent]]
[--targetbus bus] [--driver driver] [--subdriver subdriver]
[--iothread iothread] [--cache <br>
cache] [--type type] [--mode mode] [--sourcetype sourcetype]
[--serial serial] [--wwn wwn] [--rawio] [--address address]
[--multifunction] [--print-xml] <br>
Attach a new disk device to the domain. source is path for
the files and devices. target controls the bus or device
under which the disk is exposed to the guest OS. It <br>
indicates the &quot;logical&quot; device name; the optional
targetbus attribute specifies the type of disk device to
emulate; possible values are driver specific, with typical
values <br>
being ide, scsi, virtio, xen, usb, sata, or sd, if omitted,
the bus type is inferred from the style of the device name
(e.g. a device named &rsquo;sda&rsquo; will typically be
exported <br>
using a SCSI bus). driver can be file, tap or phy for the
Xen hypervisor depending on the kind of access; or qemu for
the QEMU emulator. Further details to the driver can <br>
be passed using subdriver. For Xen subdriver can be aio,
while for QEMU subdriver should match the format of the disk
source, such as raw or qcow2. Hypervisor default will <br>
be used if subdriver is not specified. However, the default
may not be correct, esp. for QEMU as for security reasons it
is configured not to detect disk formats. type can <br>
indicate lun, cdrom or floppy as alternative to the disk
default, although this use only replaces the media within
the existing virtual cdrom or floppy device; consider using
<br>
update-device for this usage instead. mode can specify the
two specific mode readonly or shareable. sourcetype can
indicate the type of source (block|file) cache can be one
<br>
of &quot;default&quot;, &quot;none&quot;,
&quot;writethrough&quot;, &quot;writeback&quot;,
&quot;directsync&quot; or &quot;unsafe&quot;. iothread is
the number within the range of domain IOThreads to which
this disk may be attached <br>
(QEMU only). serial is the serial of disk device. wwn is the
wwn of disk device. rawio indicates the disk needs rawio
capability. address is the address of disk device in <br>
the form of pci:domain.bus.slot.function,
scsi:controller.bus.unit, ide:controller.bus.unit or
ccw:cssid.ssid.devno. Virtio-ccw devices must have their
cssid set to 0xfe. <br>
multifunction indicates specified pci address is a
multifunction pci device address.</p>

<p style="margin-top: 1em">If --print-xml is specified,
then the XML of the disk that would be attached is printed
instead.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. When no flag is specified legacy
API is used whose behavior depends on the hypervisor <br>
driver.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain. Likewise,
--shareable is an alias for <br>
--mode shareable.</p>

<p style="margin-top: 1em">attach-interface domain type
source [[[--live] [--config] | [--current]] |
[--persistent]] [--target target] [--mac mac] [--script
script] [--model model] [--inbound <br>
average,peak,burst,floor] [--outbound average,peak,burst]
[--managed] [--print-xml] <br>
Attach a new network interface to the domain.</p>

<p style="margin-top: 1em">type can be one of the:</p>

<p style="margin-top: 1em">network to indicate connection
via a libvirt virtual network,</p>

<p style="margin-top: 1em">bridge to indicate connection
via a bridge device on the host,</p>

<p style="margin-top: 1em">direct to indicate connection
directly to one of the host&rsquo;s network interfaces or
bridges,</p>

<p style="margin-top: 1em">hostdev to indicate connection
using a passthrough of PCI device on the host.</p>

<p style="margin-top: 1em">source indicates the source of
the connection. The source depends on the type of the
interface:</p>

<p style="margin-top: 1em">network name of the virtual
network,</p>

<p style="margin-top: 1em">bridge the name of the bridge
device,</p>

<p style="margin-top: 1em">direct the name of the
host&rsquo;s interface or bridge,</p>

<p style="margin-top: 1em">hostdev the PCI address of the
host&rsquo;s interface formatted as
domain:bus:slot.function.</p>

<p style="margin-top: 1em">--target is used to specify the
tap/macvtap device to be used to connect the domain to the
source. Names starting with &rsquo;vnet&rsquo; are
considered as auto-generated and are <br>
blanked out/regenerated each time the interface is
attached.</p>

<p style="margin-top: 1em">--mac specifies the MAC address
of the network interface; if a MAC address is not given, a
new address will be automatically generated (and stored in
the persistent <br>
configuration if &quot;--config&quot; is given on the
command line).</p>

<p style="margin-top: 1em">--script is used to specify a
path to a custom script to be called while attaching to a
bridge - this will be called instead of the default script
not in addition to it. <br>
This is valid only for interfaces of bridge type and only
for Xen domains.</p>

<p style="margin-top: 1em">--model specifies the network
device model to be presented to the domain.</p>

<p style="margin-top: 1em">--inbound and --outbound control
the bandwidth of the interface. At least one from the
average, floor pair must be specified. The other two peak
and burst are optional, so <br>
&quot;average,peak&quot;, &quot;average,,burst&quot;,
&quot;average,,,floor&quot;, &quot;average&quot; and
&quot;,,,floor&quot; are also legal. Values for average,
floor and peak are expressed in kilobytes per second, while
<br>
burst is expressed in kilobytes in a single burst at peak
speed as described in the Network XML documentation at
&lt;http://libvirt.org/formatnetwork.html#elementQoS&gt;.</p>

<p style="margin-top: 1em">--managed is usable only for
hostdev type and tells libvirt that the interface should be
managed, which means detached and reattached from/to the
host by libvirt.</p>

<p style="margin-top: 1em">If --print-xml is specified,
then the XML of the interface that would be attached is
printed instead.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. When no flag is specified legacy
API is used whose behavior depends on the hypervisor <br>
driver.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain.</p>

<p style="margin-top: 1em">Note: the optional target value
is the name of a device to be created as the back-end on the
node. If not provided a device named &quot;vnetN&quot; or
&quot;vifN&quot; will be created <br>
automatically.</p>

<p style="margin-top: 1em">detach-device domain FILE
[[[--live] [--config] | [--current]] | [--persistent]] <br>
Detach a device from the domain, takes the same kind of XML
descriptions as command attach-device. For passthrough host
devices, see also nodedev-reattach, needed if the <br>
device does not use managed mode.</p>

<p style="margin-top: 1em">Note: The supplied XML
description of the device should be as specific as its
definition in the domain XML. The set of attributes used to
match the device are internal to the <br>
drivers. Using a partial definition, or attempting to detach
a device that is not present in the domain XML, but shares
some specific attributes with one that is present, may <br>
lead to unexpected results.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. When no flag is specified legacy
API is used whose behavior depends on the hypervisor <br>
driver.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain.</p>

<p style="margin-top: 1em">Note that older versions of
virsh used --config as an alias for --persistent.</p>

<p style="margin-top: 1em">detach-disk domain target
[[[--live] [--config] | [--current]] | [--persistent]] <br>
Detach a disk device from a domain. The target is the device
as seen from the domain.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. When no flag is specified legacy
API is used whose behavior depends on the hypervisor <br>
driver.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain.</p>

<p style="margin-top: 1em">Note that older versions of
virsh used --config as an alias for --persistent.</p>

<p style="margin-top: 1em">detach-interface domain type
[--mac mac] [[[--live] [--config] | [--current]] |
[--persistent]] <br>
Detach a network interface from a domain. type can be either
network to indicate a physical network device or bridge to
indicate a bridge to a device. It is recommended to <br>
use the mac option to distinguish between the interfaces if
more than one are present on the domain.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. When no flag is specified legacy
API is used whose behavior depends on the hypervisor <br>
driver.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain.</p>

<p style="margin-top: 1em">Note that older versions of
virsh used --config as an alias for --persistent.</p>

<p style="margin-top: 1em">update-device domain file
[--force] [[[--live] [--config] | [--current]] |
[--persistent]] <br>
Update the characteristics of a device associated with
domain, based on the device definition in an XML file. The
--force option can be used to force device update, e.g., to
<br>
eject a CD-ROM even if it is locked/mounted in the domain.
See the documentation at
&lt;http://libvirt.org/formatdomain.html#elementsDevices&gt;
to learn about libvirt XML format <br>
for a device.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running domain. If --config is specified, affect the next
startup of a persistent domain. If --current is specified,
affect the current <br>
domain state. Both --live and --config flags may be given,
but --current is exclusive. Not specifying any flag is the
same as specifying --current.</p>

<p style="margin-top: 1em">For compatibility purposes,
--persistent behaves like --config for an offline domain,
and like --live --config for a running domain.</p>

<p style="margin-top: 1em">Note that older versions of
virsh used --config as an alias for --persistent.</p>

<p style="margin-top: 1em">Note: using of partial device
definition XML files may lead to unexpected results as some
fields may be autogenerated and thus match devices other
than expected.</p>

<p style="margin-top: 1em">change-media domain path
[--eject] [--insert] [--update] [source] [--force] [[--live]
[--config] | [--current]] [--print-xml] [--block] <br>
Change media of CDROM or floppy drive. path can be the
fully-qualified path or the unique target name (&lt;target
dev=&rsquo;hdc&rsquo;&gt;) of the disk device. source
specifies the path of <br>
the media to be inserted or updated. Flag --block allows to
set the backing type in case a block device is used as media
for the CDROM or floppy drive instead of a file.</p>

<p style="margin-top: 1em">--eject indicates the media will
be ejected. --insert indicates the media will be inserted.
source must be specified. If the device has source (e.g.
&lt;source file=&rsquo;media&rsquo;&gt;), <br>
and source is not specified, --update is equal to --eject.
If the device has no source, and source is specified,
--update is equal to --insert. If the device has source, and
<br>
source is specified, --update behaves like combination of
--eject and --insert. If none of --eject, --insert, and
--update is specified, --update is used by default. The <br>
--force option can be used to force media changing. If
--live is specified, alter live configuration of running
guest. If --config is specified, alter persistent <br>
configuration, effect observed on next boot. --current can
be either or both of live and config, depends on the
hypervisor&rsquo;s implementation. Both --live and --config
flags <br>
may be given, but --current is exclusive. If no flag is
specified, behavior is different depending on hypervisor. If
--print-xml is specified, the XML that would be used to <br>
change media is printed instead of changing the media.</p>

<p style="margin-top: 1em">NODEDEV COMMANDS <br>
The following commands manipulate host devices that are
intended to be passed through to guest domains via
&lt;hostdev&gt; elements in a domain&rsquo;s &lt;devices&gt;
section. A node device key <br>
is generally specified by the bus name followed by its
address, using underscores between all components, such as
pci_0000_00_02_1, usb_1_5_3, or net_eth1_00_27_13_6a_fe_00.
The <br>
nodedev-list gives the full list of host devices that are
known to libvirt, although this includes devices that cannot
be assigned to a guest (for example, attempting to detach
<br>
the PCI device that controls the host&rsquo;s hard disk
controller where the guest&rsquo;s disk images live could
cause the host system to lock up or reboot).</p>

<p style="margin-top: 1em">For more information on node
device definition see:
&lt;http://libvirt.org/formatnode.html&gt;.</p>

<p style="margin-top: 1em">Passthrough devices cannot be
simultaneously used by the host and its guest domains, nor
by multiple active guests at once. If the &lt;hostdev&gt;
description of a PCI device includes <br>
the attribute managed=&rsquo;yes&rsquo;, and the hypervisor
driver supports it, then the device is in managed mode, and
attempts to use that passthrough device in an active guest
will <br>
automatically behave as if nodedev-detach (guest start,
device hot-plug) and nodedev-reattach (guest stop, device
hot-unplug) were called at the right points. If a PCI device
is <br>
not marked as managed, then it must manually be detached
before guests can use it, and manually reattached to be
returned to the host. Also, if a device is manually
detached, <br>
then the host does not regain control of the device without
a matching reattach, even if the guests use the device in
managed mode.</p>

<p style="margin-top: 1em">nodedev-create FILE <br>
Create a device on the host node that can then be assigned
to virtual machines. Normally, libvirt is able to
automatically determine which host nodes are available for
use, <br>
but this allows registration of host hardware that libvirt
did not automatically detect. file contains xml for a
top-level &lt;device&gt; description of a node device.</p>

<p style="margin-top: 1em">nodedev-destroy device <br>
Destroy (stop) a device on the host. device can be either
device name or wwn pair in &quot;wwnn,wwpn&quot; format
(only works for vHBA currently). Note that this makes
libvirt quit <br>
managing a host device, and may even make that device
unusable by the rest of the physical host until a
reboot.</p>

<p style="margin-top: 1em">nodedev-detach nodedev [--driver
backend_driver] <br>
Detach nodedev from the host, so that it can safely be used
by guests via &lt;hostdev&gt; passthrough. This is reversed
with nodedev-reattach, and is done automatically for <br>
managed devices. For compatibility purposes, this command
can also be spelled nodedev-dettach.</p>

<p style="margin-top: 1em">Different backend drivers expect
the device to be bound to different dummy devices. For
example, QEMU&rsquo;s &quot;kvm&quot; backend driver (the
default) expects the device to be bound to <br>
pci-stub, but its &quot;vfio&quot; backend driver expects
the device to be bound to vfio-pci. The --driver parameter
can be used to specify the desired backend driver.</p>

<p style="margin-top: 1em">nodedev-dumpxml device <br>
Dump a &lt;device&gt; XML representation for the given node
device, including such information as the device name, which
bus owns the device, the vendor and product id, and any <br>
capabilities of the device usable by libvirt (such as
whether device reset is supported). device can be either
device name or wwn pair in &quot;wwnn,wwpn&quot; format
(only works for <br>
HBA).</p>

<p style="margin-top: 1em">nodedev-list cap --tree <br>
List all of the devices available on the node that are known
by libvirt. cap is used to filter the list by capability
types, the types must be separated by comma, e.g. --cap <br>
pci,scsi, valid capability types include
&rsquo;system&rsquo;, &rsquo;pci&rsquo;,
&rsquo;usb_device&rsquo;, &rsquo;usb&rsquo;,
&rsquo;net&rsquo;, &rsquo;scsi_host&rsquo;,
&rsquo;scsi_target&rsquo;, &rsquo;scsi&rsquo;,
&rsquo;storage&rsquo;, &rsquo;fc_host&rsquo;,
&rsquo;vports&rsquo;, &rsquo;scsi_generic&rsquo;. If <br>
--tree is used, the output is formatted in a tree
representing parents of each node. cap and --tree are
mutually exclusive.</p>

<p style="margin-top: 1em">nodedev-reattach nodedev <br>
Declare that nodedev is no longer in use by any guests, and
that the host can resume normal use of the device. This is
done automatically for PCI devices in managed mode and <br>
USB devices, but must be done explicitly to match any
explicit nodedev-detach.</p>

<p style="margin-top: 1em">nodedev-reset nodedev <br>
Trigger a device reset for nodedev, useful prior to
transferring a node device between guest passthrough or the
host. Libvirt will often do this action implicitly when <br>
required, but this command allows an explicit reset when
needed.</p>

<p style="margin-top: 1em">VIRTUAL NETWORK COMMANDS <br>
The following commands manipulate networks. Libvirt has the
capability to define virtual networks which can then be used
by domains and linked to actual network devices. For more
<br>
detailed information about this feature see the
documentation at
&lt;http://libvirt.org/formatnetwork.html&gt; . Many of the
commands for virtual networks are similar to the ones used
<br>
for domains, but the way to name a virtual network is either
by its name or UUID.</p>

<p style="margin-top: 1em">net-autostart network
[--disable] <br>
Configure a virtual network to be automatically started at
boot. The --disable option disable autostarting.</p>

<p style="margin-top: 1em">net-create file <br>
Create a transient (temporary) virtual network from an XML
file and instantiate (start) the network. See the
documentation at
&lt;http://libvirt.org/formatnetwork.html&gt; to get <br>
a description of the XML network format used by libvirt.</p>

<p style="margin-top: 1em">net-define file <br>
Define an inactive persistent virtual network or modify an
existing persistent one from the XML file.</p>

<p style="margin-top: 1em">net-destroy network <br>
Destroy (stop) a given transient or persistent virtual
network specified by its name or UUID. This takes effect
immediately.</p>

<p style="margin-top: 1em">net-dumpxml network [--inactive]
<br>
Output the virtual network information as an XML dump to
stdout. If --inactive is specified, then physical functions
are not expanded into their associated virtual <br>
functions.</p>

<p style="margin-top: 1em">net-edit network <br>
Edit the XML configuration file for a network.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh net-dumpxml --inactive
network &gt; network.xml <br>
vi network.xml (or make changes with your other text editor)
<br>
virsh net-define network.xml</p>

<p style="margin-top: 1em">except that it does some error
checking.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">net-event {[network] event
[--loop] [--timeout seconds] [--timestamp] | --list} <br>
Wait for a class of network events to occur, and print
appropriate details of events as they happen. The events can
optionally be filtered by network. Using --list as the <br>
only argument will provide a list of possible event values
known by this client, although the connection might not
allow registering for all these events.</p>

<p style="margin-top: 1em">By default, this command is
one-shot, and returns success once an event occurs; you can
send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
immediately. If --timeout is specified, <br>
the command gives up waiting for events after seconds have
elapsed. With --loop, the command prints all events until a
timeout or interrupt key.</p>

<p style="margin-top: 1em">When --timestamp is used, a
human-readable timestamp will be printed before the
event.</p>

<p style="margin-top: 1em">net-info network <br>
Returns basic information about the network object.</p>

<p style="margin-top: 1em">net-list [--inactive | --all] {
[--table] | --name | --uuid } [--persistent]
[&lt;--transient&gt;] [--autostart] [&lt;--no-autostart&gt;]
<br>
Returns the list of active networks, if --all is specified
this will also include defined but inactive networks, if
--inactive is specified only the inactive ones will be <br>
listed. You may also want to filter the returned networks by
--persistent to list the persistent ones, --transient to
list the transient ones, --autostart to list the ones <br>
with autostart enabled, and --no-autostart to list the ones
with autostart disabled.</p>

<p style="margin-top: 1em">If --name is specified, network
names are printed instead of the table formatted one per
line. If --uuid is specified network&rsquo;s UUID&rsquo;s
are printed instead of names. Flag <br>
--table specifies that the legacy table-formatted output
should be used. This is the default. All of these are
mutually exclusive.</p>

<p style="margin-top: 1em">NOTE: When talking to older
servers, this command is forced to use a series of API calls
with an inherent race, where a pool might not be listed or
might appear more than <br>
once if it changed state between calls while the list was
being collected. Newer servers do not have this problem.</p>

<p style="margin-top: 1em">net-name network-UUID <br>
Convert a network UUID to network name.</p>

<p style="margin-top: 1em">net-start network <br>
Start a (previously defined) inactive network.</p>

<p style="margin-top: 1em">net-undefine network <br>
Undefine the configuration for a persistent network. If the
network is active, make it transient.</p>

<p style="margin-top: 1em">net-uuid network-name <br>
Convert a network name to network UUID.</p>

<p style="margin-top: 1em">net-update network command
section xml [--parent-index index] [[--live] [--config] |
[--current]] <br>
Update the given section of an existing network definition,
with the changes optionally taking effect immediately,
without needing to destroy and re-start the network.</p>

<p style="margin-top: 1em">command is one of
&quot;add-first&quot;, &quot;add-last&quot;, &quot;add&quot;
(a synonym for add-last), &quot;delete&quot;, or
&quot;modify&quot;.</p>

<p style="margin-top: 1em">section is one of
&quot;bridge&quot;, &quot;domain&quot;, &quot;ip&quot;,
&quot;ip-dhcp-host&quot;, &quot;ip-dhcp-range&quot;,
&quot;forward&quot;, &quot;forward-interface&quot;,
&quot;forward-pf&quot;, &quot;portgroup&quot;,
&quot;dns-host&quot;, &quot;dns-txt&quot;, or
&quot;dns-srv&quot;, <br>
each section being named by a concatenation of the xml
element hierarchy leading to the element being changed. For
example, &quot;ip-dhcp-host&quot; will change a &lt;host&gt;
element that <br>
is contained inside a &lt;dhcp&gt; element inside an
&lt;ip&gt; element of the network.</p>

<p style="margin-top: 1em">xml is either the text of a
complete xml element of the type being changed (e.g.
&quot;&lt;host mac=&quot;00:11:22:33:44:55&rsquo;
ip=&rsquo;1.2.3.4&rsquo;/&gt;&quot;, or the name of a file
that contains a <br>
complete xml element. Disambiguation is done by looking at
the first character of the provided text - if the first
character is &quot;&lt;&quot;, it is xml text, if the first
character is <br>
not &quot;&lt;&quot;, it is the name of a file that contains
the xml text to be used.</p>

<p style="margin-top: 1em">The --parent-index option is
used to specify which of several parent elements the
requested element is in (0-based). For example, a dhcp
&lt;host&gt; element could be in any one of <br>
multiple &lt;ip&gt; elements in the network; if a
parent-index isn&rsquo;t provided, the &quot;most
appropriate&quot; &lt;ip&gt; element will be selected
(usually the only one that already has a &lt;dhcp&gt; <br>
element), but if --parent-index is given, that particular
instance of &lt;ip&gt; will get the modification.</p>

<p style="margin-top: 1em">If --live is specified, affect a
running network. If --config is specified, affect the next
startup of a persistent network. If --current is specified,
affect the current <br>
network state. Both --live and --config flags may be given,
but --current is exclusive. Not specifying any flag is the
same as specifying --current.</p>

<p style="margin-top: 1em">net-dhcp-leases network [mac]
<br>
Get a list of dhcp leases for all network interfaces
connected to the given virtual network or limited output
just for one interface if mac is specified.</p>

<p style="margin-top: 1em">INTERFACE COMMANDS <br>
The following commands manipulate host interfaces. Often,
these host interfaces can then be used by name within domain
&lt;interface&gt; elements (such as a system-created bridge
<br>
interface), but there is no requirement that host interfaces
be tied to any particular guest configuration XML at
all.</p>

<p style="margin-top: 1em">Many of the commands for host
interfaces are similar to the ones used for domains, and the
way to name an interface is either by its name or its MAC
address. However, using a <br>
MAC address for an iface argument only works when that
address is unique (if an interface and a bridge share the
same MAC address, which is often the case, then using that
MAC <br>
address results in an error due to ambiguity, and you must
resort to a name instead).</p>

<p style="margin-top: 1em">iface-bridge interface bridge
[--no-stp] [delay] [--no-start] <br>
Create a bridge device named bridge, and attach the existing
network device interface to the new bridge. The new bridge
defaults to starting immediately, with STP enabled <br>
and a delay of 0; these settings can be altered with
--no-stp, --no-start, and an integer number of seconds for
delay. All IP address configuration of interface will be
moved <br>
to the new bridge device.</p>

<p style="margin-top: 1em">See also iface-unbridge for
undoing this operation.</p>

<p style="margin-top: 1em">iface-define file <br>
Define an inactive persistent physical host interface or
modify an existing persistent one from the XML file.</p>

<p style="margin-top: 1em">iface-destroy interface <br>
Destroy (stop) a given host interface, such as by running
&quot;if-down&quot; to disable that interface from active
use. This takes effect immediately.</p>

<p style="margin-top: 1em">iface-dumpxml interface
[--inactive] <br>
Output the host interface information as an XML dump to
stdout. If --inactive is specified, then the output reflects
the persistent state of the interface that will be used <br>
the next time it is started.</p>

<p style="margin-top: 1em">iface-edit interface <br>
Edit the XML configuration file for a host interface.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh iface-dumpxml iface &gt;
iface.xml <br>
vi iface.xml (or make changes with your other text editor)
<br>
virsh iface-define iface.xml</p>

<p style="margin-top: 1em">except that it does some error
checking.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">iface-list [--inactive | --all]
<br>
Returns the list of active host interfaces. If --all is
specified this will also include defined but inactive
interfaces. If --inactive is specified only the inactive
ones <br>
will be listed.</p>

<p style="margin-top: 1em">iface-name interface <br>
Convert a host interface MAC to interface name, if the MAC
address is unique among the host&rsquo;s interfaces.</p>

<p style="margin-top: 1em">interface specifies the
interface MAC address.</p>

<p style="margin-top: 1em">iface-mac interface <br>
Convert a host interface name to MAC address.</p>

<p style="margin-top: 1em">interface specifies the
interface name.</p>

<p style="margin-top: 1em">iface-start interface <br>
Start a (previously defined) host interface, such as by
running &quot;if-up&quot;.</p>

<p style="margin-top: 1em">iface-unbridge bridge
[--no-start] <br>
Tear down a bridge device named bridge, releasing its
underlying interface back to normal usage, and moving all IP
address configuration from the bridge device to the <br>
underlying device. The underlying interface is restarted
unless --no-start is present; this flag is present for
symmetry, but generally not recommended.</p>

<p style="margin-top: 1em">See also iface-bridge for
creating a bridge.</p>

<p style="margin-top: 1em">iface-undefine interface <br>
Undefine the configuration for an inactive host
interface.</p>

<p style="margin-top: 1em">iface-begin <br>
Create a snapshot of current host interface settings, which
can later be committed (iface-commit) or restored
(iface-rollback). If a snapshot already exists, then this
<br>
command will fail until the previous snapshot has been
committed or restored. Undefined behavior results if any
external changes are made to host interfaces outside of the
<br>
libvirt API between the beginning of a snapshot and its
eventual commit or rollback.</p>

<p style="margin-top: 1em">iface-commit <br>
Declare all changes since the last iface-begin as working,
and delete the rollback point. If no interface snapshot has
already been started, then this command will fail.</p>

<p style="margin-top: 1em">iface-rollback <br>
Revert all host interface settings back to the state
recorded in the last iface-begin. If no interface snapshot
has already been started, then this command will fail. <br>
Rebooting the host also serves as an implicit rollback
point.</p>

<p style="margin-top: 1em">STORAGE POOL COMMANDS <br>
The following commands manipulate storage pools. Libvirt has
the capability to manage various storage solutions,
including files, raw partitions, and domain-specific
formats, <br>
used to provide the storage volumes visible as devices
within virtual machines. For more detailed information about
this feature, see the documentation at <br>
&lt;http://libvirt.org/formatstorage.html&gt; . Many of the
commands for pools are similar to the ones used for
domains.</p>

<p style="margin-top: 1em">find-storage-pool-sources type
[srcSpec] <br>
Returns XML describing all possible available storage pool
sources that could be used to create or define a storage
pool of a given type. If srcSpec is provided, it is a file
<br>
that contains XML to further restrict the query for
pools.</p>

<p style="margin-top: 1em">Not all storage pools support
discovery in this manner. Furthermore, for those that do
support discovery, only specific XML elements are required
in order to return valid <br>
data, while other elements and even attributes of some
elements are ignored since they are not necessary to find
the pool based on the search criteria. The following lists
<br>
the supported type options and the expected minimal XML
elements used to perform the search.</p>

<p style="margin-top: 1em">For a &quot;netfs&quot; or
&quot;gluster&quot; pool, the minimal expected XML required
is the &lt;host&gt; element with a &quot;name&quot;
attribute describing the IP address or hostname to be used
to find the <br>
pool. The &quot;port&quot; attribute will be ignored as will
any other provided XML elements in srcSpec.</p>

<p style="margin-top: 1em">For a &quot;logical&quot; pool,
the contents of the srcSpec file are ignored, although if
provided the file must at least exist.</p>

<p style="margin-top: 1em">For an &quot;iscsi&quot; pool,
the minimal expect XML required is the &lt;host&gt; element
with a &quot;name&quot; attribute describing the IP address
or hostname to be used to find the pool (the <br>
iSCSI server address). Optionally, the &quot;port&quot;
attribute may be provided, although it will default to 3260.
Optionally, an &lt;initiator&gt; XML element with a
&quot;name&quot; attribute may <br>
be provided to further restrict the iSCSI target search to a
specific initiator for multi-iqn iSCSI storage pools.</p>

<p style="margin-top: 1em">find-storage-pool-sources-as
type [host] [port] [initiator] <br>
Rather than providing srcSpec XML file for
find-storage-pool-sources use this command option in order
to have virsh generate the query XML file using the optional
arguments. <br>
The command will return the same output XML as
find-storage-pool-sources.</p>

<p style="margin-top: 1em">Use host to describe a specific
host to use for networked storage, such as netfs, gluster,
and iscsi type pools.</p>

<p style="margin-top: 1em">Use port to further restrict
which networked port to utilize for the connection if
required by the specific storage backend, such as iscsi.</p>

<p style="margin-top: 1em">Use initiator to further
restrict the iscsi type pool searches to specific target
initiators.</p>

<p style="margin-top: 1em">pool-autostart pool-or-uuid
[--disable] <br>
Configure whether pool should automatically start at
boot.</p>

<p style="margin-top: 1em">pool-build pool-or-uuid
[--overwrite] [--no-overwrite] <br>
Build a given pool.</p>

<p style="margin-top: 1em">Options --overwrite and
--no-overwrite can only be used for pool-build a filesystem
or disk pool. For a file system pool if neither of them is
specified, pool-build makes the <br>
directory. If --no-overwrite is specified, it probes to
determine if a filesystem already exists on the target
device, returning an error if exists, or using mkfs to
format <br>
the target device if not. If --overwrite is specified, mkfs
is always executed and any existing data on the target
device is overwritten unconditionally. For a disk pool, if
<br>
neither of them is specified or --no-overwrite is specified,
pool-build will use &rsquo;parted --print&rsquo; in order to
determine if the disk already has a label before attempting
to <br>
create one. Only if a disk does not already have one will a
label be created. If --overwrite is specified or it&rsquo;s
been determined that the disk doesn&rsquo;t already have
one, <br>
&rsquo;parted mklabel&rsquo; will be used to create a label
of the format specified by the pool source format type or
&quot;dos&quot; if not specified for the pool.</p>

<p style="margin-top: 1em">pool-create file [--build]
[[--overwrite] | [--no-overwrite]] <br>
Create and start a pool object from the XML file.</p>

<p style="margin-top: 1em">[--build] [[--overwrite] |
[--no-overwrite]] perform a pool-build after creation in
order to remove the need for a follow-up command to build
the pool. The --overwrite and <br>
--no-overwrite flags follow the same rules as pool-build. If
just --build is provided, then pool-build is called with no
flags.</p>

<p style="margin-top: 1em">pool-create-as name type
[--print-xml] [--source-host hostname] [--source-path path]
[--source-dev path] [--source-name name] [--target path]
[--source-format format] <br>
[--auth-type authtype --auth-username username
--secret-usage usage] [[--adapter-name name] |
[--adapter-wwnn --adapter-wwpn] [--adapter-parent parent]]
[--build] [[--overwrite] <br>
| [--no-overwrite]] <br>
Create and start a pool object name from the raw parameters.
If --print-xml is specified, then print the XML of the pool
object without creating the pool. Otherwise, the <br>
pool has the specified type. When using pool-create-as for a
pool of type &quot;disk&quot;, the existing partitions found
on the --source-dev path will be used to populate the disk
<br>
pool. Therefore, it is suggested to use pool-define-as and
pool-build with the --overwrite in order to properly
initialize the disk pool.</p>

<p style="margin-top: 1em">[--source-host hostname]
provides the source hostname for pools backed by storage
from a remote server (pool types netfs, iscsi, rbd,
sheepdog, gluster).</p>

<p style="margin-top: 1em">[--source-path path] provides
the source directory path for pools backed by directories
(pool type dir).</p>

<p style="margin-top: 1em">[--source-dev path] provides the
source path for pools backed by physical devices (pool types
fs, logical, disk, iscsi, zfs).</p>

<p style="margin-top: 1em">[--source-name name] provides
the source name for pools backed by storage from a named
element (pool types logical, rbd, sheepdog, gluster).</p>

<p style="margin-top: 1em">[--target path] is the path for
the mapping of the storage pool into the host file
system.</p>

<p style="margin-top: 1em">[--source-format format]
provides information about the format of the pool (pool
types fs, netfs, disk, logical).</p>

<p style="margin-top: 1em">[--auth-type authtype
--auth-username username --secret-usage usage] provides the
elements required to generate authentication credentials for
the storage pool. The authtype <br>
is either chap for iscsi type pools or ceph for rbd type
pools.</p>

<p style="margin-top: 1em">[--adapter-name name] defines
the scsi_hostN adapter name to be used for the scsi_host
adapter type pool.</p>

<p style="margin-top: 1em">[--adapter-wwnn --adapter-wwpn
[--adapter-parent parent]] defines the wwnn and wwpn to be
used for the fc_host adapter type pool. The parent
optionally provides the name of <br>
the scsi_hostN node device to be used for the vHBA.</p>

<p style="margin-top: 1em">[--build] [[--overwrite] |
[--no-overwrite]] perform a pool-build after creation in
order to remove the need for a follow-up command to build
the pool. The --overwrite and <br>
--no-overwrite flags follow the same rules as pool-build. If
just --build is provided, then pool-build is called with no
flags.</p>

<p style="margin-top: 1em">pool-define file <br>
Define an inactive persistent storage pool or modify an
existing persistent one from the XML file.</p>

<p style="margin-top: 1em">pool-define-as name type
[--print-xml] [--source-host hostname] [--source-path path]
[--source-dev path] [--source-name name] [--target path]
[--source-format format] <br>
[--auth-type authtype --auth-username username
--secret-usage usage] [[--adapter-name name] |
[--adapter-wwnn --adapter-wwpn] [--adapter-parent parent]]
<br>
Create, but do not start, a pool object name from the raw
parameters. If --print-xml is specified, then print the XML
of the pool object without defining the pool. <br>
Otherwise, the pool has the specified type.</p>

<p style="margin-top: 1em">Use the same arguments as
pool-create-as, except for the --build, --overwrite, and
--no-overwrite options.</p>

<p style="margin-top: 1em">pool-destroy pool-or-uuid <br>
Destroy (stop) a given pool object. Libvirt will no longer
manage the storage described by the pool object, but the raw
data contained in the pool is not changed, and can be <br>
later recovered with pool-create.</p>

<p style="margin-top: 1em">pool-delete pool-or-uuid <br>
Destroy the resources used by a given pool object. This
operation is non-recoverable. The pool object will still
exist after this command, ready for the creation of new <br>
storage volumes.</p>

<p style="margin-top: 1em">pool-dumpxml [--inactive]
pool-or-uuid <br>
Returns the XML information about the pool object.
--inactive tells virsh to dump pool configuration that will
be used on next start of the pool as opposed to the current
<br>
pool configuration.</p>

<p style="margin-top: 1em">pool-edit pool-or-uuid <br>
Edit the XML configuration file for a storage pool.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh pool-dumpxml pool &gt;
pool.xml <br>
vi pool.xml (or make changes with your other text editor)
<br>
virsh pool-define pool.xml</p>

<p style="margin-top: 1em">except that it does some error
checking.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">pool-info pool-or-uuid <br>
Returns basic information about the pool object.</p>

<p style="margin-top: 1em">pool-list [--inactive] [--all]
[--persistent] [--transient] [--autostart] [--no-autostart]
[[--details] [&lt;type&gt;] <br>
List pool objects known to libvirt. By default, only active
pools are listed; --inactive lists just the inactive pools,
and --all lists all pools.</p>

<p style="margin-top: 1em">In addition, there are several
sets of filtering flags. --persistent is to list the
persistent pools, --transient is to list the transient
pools. --autostart lists the <br>
autostarting pools, --no-autostart lists the pools with
autostarting disabled.</p>

<p style="margin-top: 1em">You may also want to list pools
with specified types using type, the pool types must be
separated by comma, e.g. --type dir,disk. The valid pool
types include &rsquo;dir&rsquo;, &rsquo;fs&rsquo;, <br>
&rsquo;netfs&rsquo;, &rsquo;logical&rsquo;,
&rsquo;disk&rsquo;, &rsquo;iscsi&rsquo;, &rsquo;scsi&rsquo;,
&rsquo;mpath&rsquo;, &rsquo;rbd&rsquo;,
&rsquo;sheepdog&rsquo; and &rsquo;gluster&rsquo;.</p>

<p style="margin-top: 1em">The --details option instructs
virsh to additionally display pool persistence and capacity
related information where available.</p>

<p style="margin-top: 1em">NOTE: When talking to older
servers, this command is forced to use a series of API calls
with an inherent race, where a pool might not be listed or
might appear more than <br>
once if it changed state between calls while the list was
being collected. Newer servers do not have this problem.</p>

<p style="margin-top: 1em">pool-name uuid <br>
Convert the uuid to a pool name.</p>

<p style="margin-top: 1em">pool-refresh pool-or-uuid <br>
Refresh the list of volumes contained in pool.</p>

<p style="margin-top: 1em">pool-start pool-or-uuid
[--build] [[--overwrite] | [--no-overwrite]] <br>
Start the storage pool, which is previously defined but
inactive.</p>

<p style="margin-top: 1em">[--build] [[--overwrite] |
[--no-overwrite]] perform a pool-build prior to pool-start
to ensure the pool environment is in an expected state
rather than needing to run the <br>
build command prior to startup. The --overwrite and
--no-overwrite flags follow the same rules as pool-build. If
just --build is provided, then pool-build is called with no
<br>
flags.</p>

<p style="margin-top: 1em">Note: A storage pool that relies
on remote resources such as an &quot;iscsi&quot; or a (v)HBA
backed &quot;scsi&quot; pool may need to be refreshed
multiple times in order to have all the <br>
volumes detected (see pool-refresh). This is because the
corresponding volume devices may not be present in the
host&rsquo;s filesystem during the initial pool startup or
the <br>
current refresh attempt. The number of refresh retries is
dependent upon the network connection and the time the host
takes to export the corresponding devices.</p>

<p style="margin-top: 1em">pool-undefine pool-or-uuid <br>
Undefine the configuration for an inactive pool.</p>

<p style="margin-top: 1em">pool-uuid pool <br>
Returns the UUID of the named pool.</p>

<p style="margin-top: 1em">pool-event {[pool] event
[--loop] [--timeout seconds] [--timestamp] | --list} <br>
Wait for a class of storage pool events to occur, and print
appropriate details of events as they happen. The events can
optionally be filtered by pool. Using --list as the <br>
only argument will provide a list of possible event values
known by this client, although the connection might not
allow registering for all these events.</p>

<p style="margin-top: 1em">By default, this command is
one-shot, and returns success once an event occurs; you can
send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
immediately. If --timeout is specified, <br>
the command gives up waiting for events after seconds have
elapsed. With --loop, the command prints all events until a
timeout or interrupt key.</p>

<p style="margin-top: 1em">When --timestamp is used, a
human-readable timestamp will be printed before the
event.</p>

<p style="margin-top: 1em">VOLUME COMMANDS <br>
vol-create pool-or-uuid FILE [--prealloc-metadata] <br>
Create a volume from an XML &lt;file&gt;. pool-or-uuid is
the name or UUID of the storage pool to create the volume
in. FILE is the XML &lt;file&gt; with the volume definition.
An easy <br>
way to create the XML &lt;file&gt; is to use the vol-dumpxml
command to obtain the definition of a pre-existing volume.
[--prealloc-metadata] preallocate metadata (for qcow2 <br>
images which don&rsquo;t support full allocation). This
option creates a sparse image file with metadata, resulting
in higher performance compared to images with no
preallocation <br>
and only slightly higher initial disk space usage.</p>

<p style="margin-top: 1em">Example</p>

<p style="margin-top: 1em">virsh vol-dumpxml --pool
storagepool1 appvolume1 &gt; newvolume.xml <br>
vi newvolume.xml (or make changes with your other text
editor) <br>
virsh vol-create differentstoragepool newvolume.xml</p>

<p style="margin-top: 1em">vol-create-from pool-or-uuid
FILE [--inputpool pool-or-uuid] vol-name-or-key-or-path
[--prealloc-metadata] [--reflink] <br>
Create a volume, using another volume as input. pool-or-uuid
is the name or UUID of the storage pool to create the volume
in. FILE is the XML &lt;file&gt; with the volume <br>
definition. --inputpool pool-or-uuid is the name or uuid of
the storage pool the source volume is in.
vol-name-or-key-or-path is the name or key or path of the
source <br>
volume. [--prealloc-metadata] preallocate metadata (for
qcow2 images which don&rsquo;t support full allocation).
This option creates a sparse image file with metadata,
resulting <br>
in higher performance compared to images with no
preallocation and only slightly higher initial disk space
usage. When --reflink is specified, perform a COW
lightweight <br>
copy, where the data blocks are copied only when modified.
If this is not possible, the copy fails.</p>

<p style="margin-top: 1em">vol-create-as pool-or-uuid name
capacity [--allocation size] [--format string]
[--backing-vol vol-name-or-key-or-path]
[--backing-vol-format string] [--prealloc-metadata] <br>
[--print-xml] <br>
Create a volume from a set of arguments unless --print-xml
is specified, in which case just the XML of the volume
object is printed out without any actual object creation.
<br>
pool-or-uuid is the name or UUID of the storage pool to
create the volume in. name is the name of the new volume.
For a disk pool, this must match the partition name as <br>
determined from the pool&rsquo;s source device path and the
next available partition. For example, a source device path
of /dev/sdb and there are no partitions on the disk, then
<br>
the name must be sdb1 with the next name being sdb2 and so
on. capacity is the size of the volume to be created, as a
scaled integer (see NOTES above), defaulting to bytes <br>
if there is no suffix. --allocation size is the initial size
to be allocated in the volume, also as a scaled integer
defaulting to bytes. --format string is used in file <br>
based storage pools to specify the volume file format to
use; raw, bochs, qcow, qcow2, vmdk, qed. Use extended for
disk storage pools in order to create an extended partition
<br>
(other values are validity checked but not preserved when
libvirtd is restarted or the pool is refreshed).
--backing-vol vol-name-or-key-or-path is the source backing
volume <br>
to be used if taking a snapshot of an existing volume.
--backing-vol-format string is the format of the snapshot
backing volume; raw, bochs, qcow, qcow2, qed, vmdk, <br>
host_device. These are, however, meant for file based
storage pools. [--prealloc-metadata] preallocate metadata
(for qcow2 images which don&rsquo;t support full
allocation). This <br>
option creates a sparse image file with metadata, resulting
in higher performance compared to images with no
preallocation and only slightly higher initial disk space
usage.</p>

<p style="margin-top: 1em">vol-clone [--pool pool-or-uuid]
vol-name-or-key-or-path name [--prealloc-metadata]
[--reflink] <br>
Clone an existing volume within the parent pool. Less
powerful, but easier to type, version of vol-create-from.
--pool pool-or-uuid is the name or UUID of the storage pool
<br>
that contains the source volume, and will contain the new
volume. vol-name-or-key-or-path is the name or key or path
of the source volume. name is the name of the new <br>
volume. [--prealloc-metadata] preallocate metadata (for
qcow2 images which don&rsquo;t support full allocation).
This option creates a sparse image file with metadata,
resulting <br>
in higher performance compared to images with no
preallocation and only slightly higher initial disk space
usage. When --reflink is specified, perform a COW
lightweight <br>
copy, where the data blocks are copied only when modified.
If this is not possible, the copy fails.</p>

<p style="margin-top: 1em">vol-delete [--pool pool-or-uuid]
vol-name-or-key-or-path [--delete-snapshots] <br>
Delete a given volume. --pool pool-or-uuid is the name or
UUID of the storage pool the volume is in.
vol-name-or-key-or-path is the name or key or path of the
volume to <br>
delete.</p>

<p style="margin-top: 1em">The --delete-snapshots flag
specifies that any snapshots associated with the storage
volume should be deleted as well. Not all storage drivers
support this option, presently <br>
only rbd.</p>

<p style="margin-top: 1em">vol-upload [--pool pool-or-uuid]
[--offset bytes] [--length bytes] vol-name-or-key-or-path
local-file <br>
Upload the contents of local-file to a storage volume.
--pool pool-or-uuid is the name or UUID of the storage pool
the volume is in. vol-name-or-key-or-path is the name or
<br>
key or path of the volume where the file will be uploaded.
--offset is the position in the storage volume at which to
start writing the data. The value must be 0 or larger. <br>
--length is an upper bound of the amount of data to be
uploaded. A negative value is interpreted as an unsigned
long long value to essentially include everything from the
<br>
offset to the end of the volume. An error will occur if the
local-file is greater than the specified length. See the
description for the libvirt virStorageVolUpload API for <br>
details regarding possible target volume and pool changes as
a result of the pool refresh when the upload is
attempted.</p>

<p style="margin-top: 1em">vol-download [--pool
pool-or-uuid] [--offset bytes] [--length bytes]
vol-name-or-key-or-path local-file <br>
Download the contents of a storage volume to local-file.
--pool pool-or-uuid is the name or UUID of the storage pool
the volume is in. vol-name-or-key-or-path is the name <br>
or key or path of the volume to download. --offset is the
position in the storage volume at which to start reading the
data. The value must be 0 or larger. --length is an <br>
upper bound of the amount of data to be downloaded. A
negative value is interpreted as an unsigned long long value
to essentially include everything from the offset to the
<br>
end of the volume.</p>

<p style="margin-top: 1em">vol-wipe [--pool pool-or-uuid]
[--algorithm algorithm] vol-name-or-key-or-path <br>
Wipe a volume, ensure data previously on the volume is not
accessible to future reads. --pool pool-or-uuid is the name
or UUID of the storage pool the volume is in. vol- <br>
name-or-key-or-path is the name or key or path of the volume
to wipe. It is possible to choose different wiping
algorithms instead of re-writing volume with zeroes. This
can <br>
be done via --algorithm switch.</p>

<p style="margin-top: 1em">Supported algorithms <br>
zero - 1-pass all zeroes <br>
nnsa - 4-pass NNSA Policy Letter NAP-14.1-C (XVI-8) for <br>
sanitizing removable and non-removable hard disks: <br>
random x2, 0x00, verify. <br>
dod - 4-pass DoD 5220.22-M section 8-306 procedure for <br>
sanitizing removable and non-removable rigid <br>
disks: random, 0x00, 0xff, verify. <br>
bsi - 9-pass method recommended by the German Center of <br>
Security in Information Technologies <br>
(http://www.bsi.bund.de): 0xff, 0xfe, 0xfd, 0xfb, <br>
0xf7, 0xef, 0xdf, 0xbf, 0x7f. <br>
gutmann - The canonical 35-pass sequence described in <br>
Gutmann&rsquo;s paper. <br>
schneier - 7-pass method described by Bruce Schneier in <br>
&quot;Applied Cryptography&quot; (1996): 0x00, 0xff, <br>
random x5. <br>
pfitzner7 - Roy Pfitzner&rsquo;s 7-random-pass method:
random x7. <br>
pfitzner33 - Roy Pfitzner&rsquo;s 33-random-pass method:
random x33. <br>
random - 1-pass pattern: random. <br>
trim - 1-pass trimming the volume using TRIM or DISCARD</p>

<p style="margin-top: 1em">Note: The &quot;scrub&quot;
binary will be used to handle the &rsquo;nnsa&rsquo;,
&rsquo;dod&rsquo;, &rsquo;bsi&rsquo;, &rsquo;gutmann&rsquo;,
&rsquo;schneier&rsquo;, &rsquo;pfitzner7&rsquo; and
&rsquo;pfitzner33&rsquo; algorithms. The availability of the
algorithms <br>
may be limited by the version of the &quot;scrub&quot;
binary installed on the host. The &rsquo;zero&rsquo;
algorithm will write zeroes to the entire volume. For some
volumes, such as sparse or <br>
rbd volumes, this may result in completely filling the
volume with zeroes making it appear to be completely full.
As an alternative, the &rsquo;trim&rsquo; algorithm does not
overwrite <br>
all the data in a volume, rather it expects the storage
driver to be able to discard all bytes in a volume. It is up
to the storage driver to handle how the discarding <br>
occurs. Not all storage drivers or volume types can support
&rsquo;trim&rsquo;.</p>

<p style="margin-top: 1em">vol-dumpxml [--pool
pool-or-uuid] vol-name-or-key-or-path <br>
Output the volume information as an XML dump to stdout.
--pool pool-or-uuid is the name or UUID of the storage pool
the volume is in. vol-name-or-key-or-path is the name or
<br>
key or path of the volume to output the XML of.</p>

<p style="margin-top: 1em">vol-info [--pool pool-or-uuid]
vol-name-or-key-or-path [--bytes] <br>
Returns basic information about the given storage volume.
--pool pool-or-uuid is the name or UUID of the storage pool
the volume is in. vol-name-or-key-or-path is the name <br>
or key or path of the volume to return information for. If
--bytes is specified the sizes are not converted to human
friendly units.</p>

<p style="margin-top: 1em">vol-list [--pool pool-or-uuid]
[--details] <br>
Return the list of volumes in the given storage pool. --pool
pool-or-uuid is the name or UUID of the storage pool. The
--details option instructs virsh to additionally <br>
display volume type and capacity related information where
available.</p>

<p style="margin-top: 1em">vol-pool [--uuid]
vol-key-or-path <br>
Return the pool name or UUID for a given volume. By default,
the pool name is returned. If the --uuid option is given,
the pool UUID is returned instead. vol-key-or-path is <br>
the key or path of the volume to return the pool information
for.</p>

<p style="margin-top: 1em">vol-path [--pool pool-or-uuid]
vol-name-or-key <br>
Return the path for a given volume. --pool pool-or-uuid is
the name or UUID of the storage pool the volume is in.
vol-name-or-key is the name or key of the volume to return
<br>
the path for.</p>

<p style="margin-top: 1em">vol-name vol-key-or-path <br>
Return the name for a given volume. vol-key-or-path is the
key or path of the volume to return the name for.</p>

<p style="margin-top: 1em">vol-key [--pool pool-or-uuid]
vol-name-or-path <br>
Return the volume key for a given volume. --pool
pool-or-uuid is the name or UUID of the storage pool the
volume is in. vol-name-or-path is the name or path of the
volume to <br>
return the volume key for.</p>

<p style="margin-top: 1em">vol-resize [--pool pool-or-uuid]
vol-name-or-path pool-or-uuid capacity [--allocate]
[--delta] [--shrink] <br>
Resize the capacity of the given volume, in bytes. --pool
pool-or-uuid is the name or UUID of the storage pool the
volume is in. vol-name-or-key-or-path is the name or key
<br>
or path of the volume to resize. The new capacity might be
sparse unless --allocate is specified. Normally, capacity is
the new size, but if --delta is present, then it is <br>
added to the existing size. Attempts to shrink the volume
will fail unless --shrink is present; capacity cannot be
negative unless --shrink is provided, but a negative sign
<br>
is not necessary. capacity is a scaled integer (see NOTES
above), which defaults to bytes if there is no suffix. This
command is only safe for storage volumes not in use by <br>
an active guest; see also blockresize for live resizing.</p>

<p style="margin-top: 1em">SECRET COMMANDS <br>
The following commands manipulate &quot;secrets&quot; (e.g.
passwords, passphrases and encryption keys). Libvirt can
store secrets independently from their use, and other
objects (e.g. <br>
volumes or domains) can refer to the secrets for encryption
or possibly other uses. Secrets are identified using a UUID.
See &lt;http://libvirt.org/formatsecret.html&gt; for <br>
documentation of the XML format used to represent properties
of secrets.</p>

<p style="margin-top: 1em">secret-define file <br>
Create a secret with the properties specified in file, with
no associated secret value. If file does not specify a UUID,
choose one automatically. If file specifies a UUID <br>
of an existing secret, replace its properties by properties
defined in file, without affecting the secret value.</p>

<p style="margin-top: 1em">secret-dumpxml secret <br>
Output properties of secret (specified by its UUID) as an
XML dump to stdout.</p>

<p style="margin-top: 1em">secret-set-value secret base64
<br>
Set the value associated with secret (specified by its UUID)
to the value Base64-encoded value base64.</p>

<p style="margin-top: 1em">secret-get-value secret <br>
Output the value associated with secret (specified by its
UUID) to stdout, encoded using Base64.</p>

<p style="margin-top: 1em">secret-undefine secret <br>
Delete a secret (specified by its UUID), including the
associated value, if any.</p>

<p style="margin-top: 1em">secret-list [--ephemeral]
[--no-ephemeral] [--private] [--no-private] <br>
Returns the list of secrets. You may also want to filter the
returned secrets by --ephemeral to list the ephemeral ones,
--no-ephemeral to list the non-ephemeral ones, <br>
--private to list the private ones, and --no-private to list
the non-private ones.</p>

<p style="margin-top: 1em">SNAPSHOT COMMANDS <br>
The following commands manipulate domain snapshots.
Snapshots take the disk, memory, and device state of a
domain at a point-of-time, and save it for future use. They
have many <br>
uses, from saving a &quot;clean&quot; copy of an OS image to
saving a domain&rsquo;s state before a potentially
destructive operation. Snapshots are identified with a
unique name. See <br>
&lt;http://libvirt.org/formatsnapshot.html&gt; for
documentation of the XML format used to represent properties
of snapshots.</p>

<p style="margin-top: 1em">snapshot-create domain [xmlfile]
{[--redefine [--current]] | [--no-metadata] [--halt]
[--disk-only] [--reuse-external] [--quiesce] [--atomic]
[--live]} <br>
Create a snapshot for domain domain with the properties
specified in xmlfile. Normally, the only properties settable
for a domain snapshot are the &lt;name&gt; and
&lt;description&gt; <br>
elements, as well as &lt;disks&gt; if --disk-only is given;
the rest of the fields are ignored, and automatically filled
in by libvirt. If xmlfile is completely omitted, then <br>
libvirt will choose a value for all fields. The new snapshot
will become current, as listed by snapshot-current.</p>

<p style="margin-top: 1em">If --halt is specified, the
domain will be left in an inactive state after the snapshot
is created.</p>

<p style="margin-top: 1em">If --disk-only is specified, the
snapshot will only include disk state rather than the usual
system checkpoint with vm state. Disk snapshots are faster
than full system <br>
checkpoints, but reverting to a disk snapshot may require
fsck or journal replays, since it is like the disk state at
the point when the power cord is abruptly pulled; and <br>
mixing --halt and --disk-only loses any data that was not
flushed to disk at the time.</p>

<p style="margin-top: 1em">If --redefine is specified, then
all XML elements produced by snapshot-dumpxml are valid;
this can be used to migrate snapshot hierarchy from one
machine to another, to <br>
recreate hierarchy for the case of a transient domain that
goes away and is later recreated with the same name and
UUID, or to make slight alterations in the snapshot <br>
metadata (such as host-specific aspects of the domain XML
embedded in the snapshot). When this flag is supplied, the
xmlfile argument is mandatory, and the domain&rsquo;s
current <br>
snapshot will not be altered unless the --current flag is
also given.</p>

<p style="margin-top: 1em">If --no-metadata is specified,
then the snapshot data is created, but any metadata is
immediately discarded (that is, libvirt does not treat the
snapshot as current, and <br>
cannot revert to the snapshot unless --redefine is later
used to teach libvirt about the metadata again).</p>

<p style="margin-top: 1em">If --reuse-external is
specified, and the snapshot XML requests an external
snapshot with a destination of an existing file, then the
destination must exist and be pre- <br>
created with correct format and metadata. The file is then
reused; otherwise, a snapshot is refused to avoid losing
contents of the existing files.</p>

<p style="margin-top: 1em">If --quiesce is specified,
libvirt will try to use guest agent to freeze and unfreeze
domain&rsquo;s mounted file systems. However, if domain has
no guest agent, snapshot creation <br>
will fail. Currently, this requires --disk-only to be passed
as well.</p>

<p style="margin-top: 1em">If --atomic is specified,
libvirt will guarantee that the snapshot either succeeds, or
fails with no changes; not all hypervisors support this. If
this flag is not <br>
specified, then some hypervisors may fail after partially
performing the action, and dumpxml must be used to see
whether any partial changes occurred.</p>

<p style="margin-top: 1em">If --live is specified, libvirt
takes the snapshot while the guest is running. This
increases the size of the memory image of the external
checkpoint. This is currently <br>
supported only for external checkpoints.</p>

<p style="margin-top: 1em">Existence of snapshot metadata
will prevent attempts to undefine a persistent domain.
However, for transient domains, snapshot metadata is
silently lost when the domain <br>
quits running (whether by command such as destroy or by
internal guest action).</p>

<p style="margin-top: 1em">snapshot-create-as domain
{[--print-xml] | [--no-metadata] [--halt]
[--reuse-external]} [name] [description] [--disk-only
[--quiesce]] [--atomic] [[--live] [--memspec memspec]] <br>
[--diskspec] diskspec]... <br>
Create a snapshot for domain domain with the given
&lt;name&gt; and &lt;description&gt;; if either value is
omitted, libvirt will choose a value. If --print-xml is
specified, then XML <br>
appropriate for snapshot-create is output, rather than
actually creating a snapshot. Otherwise, if --halt is
specified, the domain will be left in an inactive state
after <br>
the snapshot is created, and if --disk-only is specified,
the snapshot will not include vm state.</p>

<p style="margin-top: 1em">The --memspec option can be used
to control whether a checkpoint is internal or external. The
--memspec flag is mandatory, followed by a memspec of the
form <br>
[file=]name[,snapshot=type], where type can be no, internal,
or external. To include a literal comma in file=name, escape
it with a second comma. --memspec cannot be used <br>
together with --disk-only.</p>

<p style="margin-top: 1em">The --diskspec option can be
used to control how --disk-only and external checkpoints
create external files. This option can occur multiple times,
according to the number of <br>
&lt;disk&gt; elements in the domain xml. Each
&lt;diskspec&gt; is in the form
disk[,snapshot=type][,driver=type][,file=name]. A diskspec
must be provided for disks backed by block <br>
devices as libvirt doesn&rsquo;t auto-generate file names
for those. To include a literal comma in disk or in
file=name, escape it with a second comma. A literal
--diskspec must <br>
precede each diskspec unless all three of domain, name, and
description are also present. For example, a diskspec of
&quot;vda,snapshot=external,file=/path/to,,new&quot; results
in <br>
the following XML: <br>
&lt;disk name=&rsquo;vda&rsquo;
snapshot=&rsquo;external&rsquo;&gt; <br>
&lt;source file=&rsquo;/path/to,new&rsquo;/&gt; <br>
&lt;/disk&gt;</p>

<p style="margin-top: 1em">If --reuse-external is
specified, and the domain XML or diskspec option requests an
external snapshot with a destination of an existing file,
then the destination must exist <br>
and be pre-created with correct format and metadata. The
file is then reused; otherwise, a snapshot is refused to
avoid losing contents of the existing files.</p>

<p style="margin-top: 1em">If --quiesce is specified,
libvirt will try to use guest agent to freeze and unfreeze
domain&rsquo;s mounted file systems. However, if domain has
no guest agent, snapshot creation <br>
will fail. Currently, this requires --disk-only to be passed
as well.</p>

<p style="margin-top: 1em">If --no-metadata is specified,
then the snapshot data is created, but any metadata is
immediately discarded (that is, libvirt does not treat the
snapshot as current, and <br>
cannot revert to the snapshot unless snapshot-create is
later used to teach libvirt about the metadata again). This
flag is incompatible with --print-xml.</p>

<p style="margin-top: 1em">If --atomic is specified,
libvirt will guarantee that the snapshot either succeeds, or
fails with no changes; not all hypervisors support this. If
this flag is not <br>
specified, then some hypervisors may fail after partially
performing the action, and dumpxml must be used to see
whether any partial changes occurred.</p>

<p style="margin-top: 1em">If --live is specified, libvirt
takes the snapshot while the guest is running. This
increases the size of the memory image of the external
checkpoint. This is currently <br>
supported only for external checkpoints.</p>

<p style="margin-top: 1em">snapshot-current domain
{[--name] | [--security-info] | [snapshotname]} <br>
Without snapshotname, this will output the snapshot XML for
the domain&rsquo;s current snapshot (if any). If --name is
specified, just the current snapshot name instead of the
<br>
full xml. Otherwise, using --security-info will also include
security sensitive information in the XML.</p>

<p style="margin-top: 1em">With snapshotname, this is a
request to make the existing named snapshot become the
current snapshot, without reverting the domain.</p>

<p style="margin-top: 1em">snapshot-edit domain
[snapshotname] [--current] {[--rename] | [--clone]} <br>
Edit the XML configuration file for snapshotname of a
domain. If both snapshotname and --current are specified,
also force the edited snapshot to become the current <br>
snapshot. If snapshotname is omitted, then --current must be
supplied, to edit the current snapshot.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh snapshot-dumpxml dom name
&gt; snapshot.xml <br>
vi snapshot.xml (or make changes with your other text
editor) <br>
virsh snapshot-create dom snapshot.xml --redefine
[--current]</p>

<p style="margin-top: 1em">except that it does some error
checking.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">If --rename is specified, then
the edits can change the snapshot name. If --clone is
specified, then changing the snapshot name will create a
clone of the snapshot metadata. <br>
If neither is specified, then the edits must not change the
snapshot name. Note that changing a snapshot name must be
done with care, since the contents of some snapshots, <br>
such as internal snapshots within a single qcow2 file, are
accessible only from the original name.</p>

<p style="margin-top: 1em">snapshot-info domain {snapshot |
--current} <br>
Output basic information about a named &lt;snapshot&gt;, or
the current snapshot with --current.</p>

<p style="margin-top: 1em">snapshot-list domain
[--metadata] [--no-metadata] [{--parent | --roots | [{--tree
| --name}]}] [{[--from] snapshot | --current}
[--descendants]] [--leaves] [--no-leaves] <br>
[--inactive] [--active] [--disk-only] [--internal]
[--external] <br>
List all of the available snapshots for the given domain,
defaulting to show columns for the snapshot name, creation
time, and domain state.</p>

<p style="margin-top: 1em">If --parent is specified, add a
column to the output table giving the name of the parent of
each snapshot. If --roots is specified, the list will be
filtered to just <br>
snapshots that have no parents. If --tree is specified, the
output will be in a tree format, listing just snapshot
names. These three options are mutually exclusive. If <br>
--name is specified only the snapshot name is printed. This
option is mutually exclusive with --tree.</p>

<p style="margin-top: 1em">If --from is provided, filter
the list to snapshots which are children of the given
snapshot; or if --current is provided, start at the current
snapshot. When used in <br>
isolation or with --parent, the list is limited to direct
children unless --descendants is also present. When used
with --tree, the use of --descendants is implied. This <br>
option is not compatible with --roots. Note that the
starting point of --from or --current is not included in the
list unless the --tree option is also present.</p>

<p style="margin-top: 1em">If --leaves is specified, the
list will be filtered to just snapshots that have no
children. Likewise, if --no-leaves is specified, the list
will be filtered to just <br>
snapshots with children. (Note that omitting both options
does no filtering, while providing both options will either
produce the same list or error out depending on whether <br>
the server recognizes the flags). Filtering options are not
compatible with --tree.</p>

<p style="margin-top: 1em">If --metadata is specified, the
list will be filtered to just snapshots that involve libvirt
metadata, and thus would prevent undefine of a persistent
domain, or be lost on <br>
destroy of a transient domain. Likewise, if --no-metadata is
specified, the list will be filtered to just snapshots that
exist without the need for libvirt metadata.</p>

<p style="margin-top: 1em">If --inactive is specified, the
list will be filtered to snapshots that were taken when the
domain was shut off. If --active is specified, the list will
be filtered to <br>
snapshots that were taken when the domain was running, and
where the snapshot includes the memory state to revert to
that running state. If --disk-only is specified, the <br>
list will be filtered to snapshots that were taken when the
domain was running, but where the snapshot includes only
disk state.</p>

<p style="margin-top: 1em">If --internal is specified, the
list will be filtered to snapshots that use internal storage
of existing disk images. If --external is specified, the
list will be filtered <br>
to snapshots that use external files for disk images or
memory state.</p>

<p style="margin-top: 1em">snapshot-dumpxml domain snapshot
[--security-info] <br>
Output the snapshot XML for the domain&rsquo;s snapshot
named snapshot. Using --security-info will also include
security sensitive information. Use snapshot-current to
easily <br>
access the XML of the current snapshot.</p>

<p style="margin-top: 1em">snapshot-parent domain {snapshot
| --current} <br>
Output the name of the parent snapshot, if any, for the
given snapshot, or for the current snapshot with
--current.</p>

<p style="margin-top: 1em">snapshot-revert domain {snapshot
| --current} [{--running | --paused}] [--force] <br>
Revert the given domain to the snapshot specified by
snapshot, or to the current snapshot with --current. Be
aware that this is a destructive action; any changes in the
<br>
domain since the last snapshot was taken will be lost. Also
note that the state of the domain after snapshot-revert is
complete will be the state of the domain at the time <br>
the original snapshot was taken.</p>

<p style="margin-top: 1em">Normally, reverting to a
snapshot leaves the domain in the state it was at the time
the snapshot was created, except that a disk snapshot with
no vm state leaves the domain <br>
in an inactive state. Passing either the --running or
--paused flag will perform additional state changes (such as
booting an inactive domain, or pausing a running domain).
<br>
Since transient domains cannot be inactive, it is required
to use one of these flags when reverting to a disk snapshot
of a transient domain.</p>

<p style="margin-top: 1em">There are two cases where a
snapshot revert involves extra risk, which requires the use
of --force to proceed. One is the case of a snapshot that
lacks full domain <br>
information for reverting configuration (such as snapshots
created prior to libvirt 0.9.5); since libvirt cannot prove
that the current configuration matches what was in use <br>
at the time of the snapshot, supplying --force assures
libvirt that the snapshot is compatible with the current
configuration (and if it is not, the domain will likely fail
<br>
to run). The other is the case of reverting from a running
domain to an active state where a new hypervisor has to be
created rather than reusing the existing hypervisor, <br>
because it implies drawbacks such as breaking any existing
VNC or Spice connections; this condition happens with an
active snapshot that uses a provably incompatible <br>
configuration, as well as with an inactive snapshot that is
combined with the --start or --pause flag.</p>

<p style="margin-top: 1em">snapshot-delete domain {snapshot
| --current} [--metadata] [{--children | --children-only}]
<br>
Delete the snapshot for the domain named snapshot, or the
current snapshot with --current. If this snapshot has child
snapshots, changes from this snapshot will be merged <br>
into the children. If --children is passed, then delete this
snapshot and any children of this snapshot. If
--children-only is passed, then delete any children of this
<br>
snapshot, but leave this snapshot intact. These two flags
are mutually exclusive.</p>

<p style="margin-top: 1em">If --metadata is specified, then
only delete the snapshot metadata maintained by libvirt,
while leaving the snapshot contents intact for access by
external tools; otherwise <br>
deleting a snapshot also removes the data contents from that
point in time.</p>

<p style="margin-top: 1em">NWFILTER COMMANDS <br>
The following commands manipulate network filters. Network
filters allow filtering of the network traffic coming from
and going to virtual machines. Individual network traffic
<br>
filters are written in XML and may contain references to
other network filters, describe traffic filtering rules, or
contain both. Network filters are referenced by virtual <br>
machines from within their interface description. A network
filter may be referenced by multiple virtual machines&rsquo;
interfaces.</p>

<p style="margin-top: 1em">nwfilter-define xmlfile <br>
Make a new network filter known to libvirt. If a network
filter with the same name already exists, it will be
replaced with the new XML. Any running virtual machine <br>
referencing this network filter will have its network
traffic rules adapted. If for any reason the network traffic
filtering rules cannot be instantiated by any of the <br>
running virtual machines, then the new XML will be
rejected.</p>

<p style="margin-top: 1em">nwfilter-undefine nwfilter-name
<br>
Delete a network filter. The deletion will fail if any
running virtual machine is currently using this network
filter.</p>

<p style="margin-top: 1em">nwfilter-list <br>
List all of the available network filters.</p>

<p style="margin-top: 1em">nwfilter-dumpxml nwfilter-name
<br>
Output the network filter XML.</p>

<p style="margin-top: 1em">nwfilter-edit nwfilter-name <br>
Edit the XML of a network filter.</p>

<p style="margin-top: 1em">This is equivalent to:</p>

<p style="margin-top: 1em">virsh nwfilter-dumpxml myfilter
&gt; myfilter.xml <br>
vi myfilter.xml (or make changes with your other text
editor) <br>
virsh nwfilter-define myfilter.xml</p>

<p style="margin-top: 1em">except that it does some error
checking. The new network filter may be rejected due to the
same reason as mentioned in nwfilter-define.</p>

<p style="margin-top: 1em">The editor used can be supplied
by the $VISUAL or $EDITOR environment variables, and
defaults to &quot;vi&quot;.</p>

<p style="margin-top: 1em">HYPERVISOR-SPECIFIC COMMANDS
<br>
NOTE: Use of the following commands is strongly discouraged.
They can cause libvirt to become confused and do the wrong
thing on subsequent operations. Once you have used these
<br>
commands, please do not report problems to the libvirt
developers; the reports will be ignored. If you find that
these commands are the only way to accomplish something,
then it <br>
is better to request that the feature be added as a
first-class citizen in the regular libvirt library.</p>

<p style="margin-top: 1em">qemu-attach pid <br>
Attach an externally launched QEMU process to the libvirt
QEMU driver. The QEMU process must have been created with a
monitor connection using the UNIX driver. Ideally the <br>
process will also have had the &rsquo;-name&rsquo; argument
specified.</p>

<p style="margin-top: 1em">$ qemu-kvm -cdrom ~/demo.iso
-monitor unix:/tmp/demo,server,nowait -name foo -uuid
cece4f9f-dff0-575d-0e8e-01fe380f12ea &amp; <br>
$ QEMUPID=$! <br>
$ virsh qemu-attach $QEMUPID</p>

<p style="margin-top: 1em">Not all functions of libvirt are
expected to work reliably after attaching to an externally
launched QEMU process. There may be issues with the guest
ABI changing upon <br>
migration and device hotplug or hotunplug may not work. The
attached environment should be considered primarily
read-only.</p>

<p style="margin-top: 1em">qemu-monitor-command domain {
[--hmp] | [--pretty] } command... <br>
Send an arbitrary monitor command command to domain domain
through the qemu monitor. The results of the command will be
printed on stdout. If --hmp is passed, the command <br>
is considered to be a human monitor command and libvirt will
automatically convert it into QMP if needed. In that case
the result will also be converted back from QMP. If <br>
--pretty is given, and the monitor uses QMP, then the output
will be pretty-printed. If more than one argument is
provided for command, they are concatenated with a space in
<br>
between before passing the single command to the
monitor.</p>

<p style="margin-top: 1em">qemu-agent-command domain
[--timeout seconds | --async | --block] command... <br>
Send an arbitrary guest agent command command to domain
domain through qemu agent. --timeout, --async and --block
options are exclusive. --timeout requires timeout seconds
<br>
seconds and it must be positive. When --aysnc is given, the
command waits for timeout whether success or failed. And
when --block is given, the command waits forever with <br>
blocking timeout.</p>

<p style="margin-top: 1em">qemu-monitor-event [domain]
[--event event-name] [--loop] [--timeout seconds] [--pretty]
[--regex] [--no-case] [--timestamp] <br>
Wait for arbitrary QEMU monitor events to occur, and print
out the details of events as they happen. The events can
optionally be filtered by domain or event-name. The <br>
&rsquo;query-events&rsquo; QMP command can be used via
qemu-monitor-command to learn what events are supported. If
--regex is used, event-name is a basic regular expression
instead of a <br>
literal string. If --no-case is used, event-name will match
case-insensitively.</p>

<p style="margin-top: 1em">By default, this command is
one-shot, and returns success once an event occurs; you can
send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
immediately. If --timeout is specified, <br>
the command gives up waiting for events after seconds have
elapsed. With --loop, the command prints all events until a
timeout or interrupt key. If --pretty is specified, <br>
any JSON event details are pretty-printed for better
legibility.</p>

<p style="margin-top: 1em">When --timestamp is used, a
human-readable timestamp will be printed before the event,
and the timing information provided by QEMU will be
omitted.</p>

<p style="margin-top: 1em">lxc-enter-namespace domain
[--noseclabel] -- /path/to/binary [arg1, [arg2, ...]] <br>
Enter the namespace of domain and execute the command
&quot;/path/to/binary&quot; passing the requested args. The
binary path is relative to the container root filesystem,
not the host <br>
root filesystem. The binary will inherit the environment
variables / console visible to virsh. The command will be
run with the same sVirt context and cgroups placement as
<br>
processes within the container. This command only works when
connected to the LXC hypervisor driver. This command
succeeds only if &quot;/path/to/binary&quot; has 0 exit
status.</p>

<p style="margin-top: 1em">By default the new process will
run with the security label of the new parent container. Use
the --noseclabel option to instead have the process keep the
same security label <br>
as &quot;virsh&quot;.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The following environment variables can be set to alter the
behaviour of &quot;virsh&quot;</p>

<p style="margin-top: 1em">VIRSH_DEBUG=&lt;0 to 4&gt; <br>
Turn on verbose debugging of virsh commands. Valid levels
are</p>

<p style="margin-top: 1em">&Acirc;&middot;
VIRSH_DEBUG=0</p>

<p style="margin-top: 1em">DEBUG - Messages at ALL levels
get logged</p>

<p style="margin-top: 1em">&Acirc;&middot;
VIRSH_DEBUG=1</p>

<p style="margin-top: 1em">INFO - Logs messages at levels
INFO, NOTICE, WARNING and ERROR</p>

<p style="margin-top: 1em">&Acirc;&middot;
VIRSH_DEBUG=2</p>

<p style="margin-top: 1em">NOTICE - Logs messages at levels
NOTICE, WARNING and ERROR</p>

<p style="margin-top: 1em">&Acirc;&middot;
VIRSH_DEBUG=3</p>

<p style="margin-top: 1em">WARNING - Logs messages at
levels WARNING and ERROR</p>

<p style="margin-top: 1em">&Acirc;&middot;
VIRSH_DEBUG=4</p>

<p style="margin-top: 1em">ERROR - Messages at only ERROR
level gets logged.</p>


<p style="margin-top: 1em">VIRSH_LOG_FILE=&quot;LOGFILE&quot;
<br>
The file to log virsh debug messages.</p>

<p style="margin-top: 1em">VIRSH_DEFAULT_CONNECT_URI <br>
The hypervisor to connect to by default. Set this to a URI,
in the same format as accepted by the connect option. This
environment variable is deprecated in favour of the <br>
global LIBVIRT_DEFAULT_URI variable which serves the same
purpose.</p>

<p style="margin-top: 1em">LIBVIRT_DEFAULT_URI <br>
The hypervisor to connect to by default. Set this to a URI,
in the same format as accepted by the connect option. This
overrides the default URI set in any client config file <br>
and prevents libvirt from probing for drivers.</p>

<p style="margin-top: 1em">VISUAL <br>
The editor to use by the edit and related options.</p>

<p style="margin-top: 1em">EDITOR <br>
The editor to use by the edit and related options, if
&quot;VISUAL&quot; is not set.</p>

<p style="margin-top: 1em">VIRSH_HISTSIZE <br>
The number of commands to remember in the command history.
The default value is 500.</p>

<p style="margin-top: 1em">LIBVIRT_DEBUG=LEVEL <br>
Turn on verbose debugging of all libvirt API calls. Valid
levels are</p>

<p style="margin-top: 1em">&Acirc;&middot;
LIBVIRT_DEBUG=1</p>

<p style="margin-top: 1em">Messages at level DEBUG or
above</p>

<p style="margin-top: 1em">&Acirc;&middot;
LIBVIRT_DEBUG=2</p>

<p style="margin-top: 1em">Messages at level INFO or
above</p>

<p style="margin-top: 1em">&Acirc;&middot;
LIBVIRT_DEBUG=3</p>

<p style="margin-top: 1em">Messages at level WARNING or
above</p>

<p style="margin-top: 1em">&Acirc;&middot;
LIBVIRT_DEBUG=4</p>

<p style="margin-top: 1em">Messages at level ERROR or
above</p>

<p style="margin-top: 1em">For further information about
debugging options consult
&lt;http://libvirt.org/logging.html&gt;</p>

<p style="margin-top: 1em">BUGS <br>
Report any bugs discovered to the libvirt community via the
mailing list &lt;http://libvirt.org/contact.html&gt; or bug
tracker &lt;http://libvirt.org/bugs.html&gt;. Alternatively
report <br>
bugs to your software distributor / vendor.</p>

<p style="margin-top: 1em">AUTHORS <br>
Please refer to the AUTHORS file distributed with
libvirt.</p>

<p style="margin-top: 1em">Based on the xm man page by:
<br>
Sean Dague &lt;sean at dague dot net&gt; <br>
Daniel Stekloff &lt;dsteklof at us dot ibm dot com&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2005, 2007-2015 Red Hat, Inc., and the authors
listed in the libvirt AUTHORS file.</p>

<p style="margin-top: 1em">LICENSE <br>
virsh is distributed under the terms of the GNU LGPL v2+.
This is free software; see the source for copying
conditions. There is NO warranty; not even for
MERCHANTABILITY or <br>
FITNESS FOR A PARTICULAR PURPOSE</p>

<p style="margin-top: 1em">SEE ALSO <br>
virt-install(1), virt-xml-validate(1), virt-top(1),
virt-df(1), &lt;http://www.libvirt.org/&gt;</p>

<p style="margin-top: 1em">libvirt-2.0.0 2017-05-25
VIRSH(1)</p>
<hr>
</body>
</html>
