<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>VIRSH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VIRSH(1)</td>
    <td class="head-vol">Virtualization Support</td>
    <td class="head-rtitle">VIRSH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
virsh - management user interface
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>virsh</b> [<i>OPTION</i>]... [<i>COMMAND_STRING</i>]
<div class="Pp"></div>
<b>virsh</b> [<i>OPTION</i>]... <i>COMMAND</i> [<i>ARG</i>]...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>virsh</b> program is the main interface for managing virsh guest domains.
  The program can be used to create, pause, and shutdown domains. It can also be
  used to list current domains. Libvirt is a C toolkit to interact with the
  virtualization capabilities of recent versions of Linux (and other OSes). It
  is free software available under the GNU Lesser General Public License.
  Virtualization of the Linux Operating System means the ability to run multiple
  instances of Operating Systems concurrently on a single hardware system where
  the basic resources are driven by a Linux instance. The library aims at
  providing a long term stable C API. It currently supports Xen, QEMU, KVM, LXC,
  OpenVZ, VirtualBox and VMware ESX.
<div class="Pp"></div>
The basic structure of most virsh usage is:
<div class="Pp"></div>
<pre>
  virsh [OPTION]... &lt;command&gt; &lt;domain&gt; [ARG]...
</pre>
<div class="Pp"></div>
Where <i>command</i> is one of the commands listed below; <i>domain</i> is the
  numeric domain id, or the domain name, or the domain UUID; and <i>ARGS</i> are
  command specific options. There are a few exceptions to this rule in the cases
  where the command in question acts on all domains, the entire machine, or
  directly on the xen hypervisor. Those exceptions will be clear for each of
  those commands. Note: it is permissible to give numeric names to domains,
  however, doing so will result in a domain that can only be identified by
  domain id. In other words, if a numeric value is supplied it will be
  interpreted as a domain id, not as a name.
<div class="Pp"></div>
The <b>virsh</b> program can be used either to run one <i>COMMAND</i> by giving
  the command and its arguments on the shell command line, or a
  <i>COMMAND_STRING</i> which is a single shell argument consisting of multiple
  <i>COMMAND</i> actions and their arguments joined with whitespace, and
  separated by semicolons between commands. Within <i>COMMAND_STRING</i>, virsh
  understands the same single, double, and backslash escapes as the shell,
  although you must add another layer of shell escaping in creating the single
  shell argument. If no command is given in the command line, <b>virsh</b> will
  then start a minimal interpreter waiting for your commands, and the
  <b>quit</b> command will then exit the program.
<div class="Pp"></div>
The <b>virsh</b> program understands the following <i>OPTIONS</i>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--connect</b> <i>URI</i></dt>
  <dd class="It-tag">Connect to the specified <i>URI</i>, as if by the
      <b>connect</b> command, instead of the default connection.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--debug</b> <i>LEVEL</i></dt>
  <dd class="It-tag">Enable debug messages at integer <i>LEVEL</i> and above.
      <i>LEVEL</i> can range from 0 to 4 (default). See the documentation of
      <b>VIRSH_DEBUG</b> environment variable below for the description of each
      <i>LEVEL</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--escape</b> <i>string</i></dt>
  <dd class="It-tag">Set alternative escape sequence for <i>console</i> command.
      By default, telnet's <b>^]</b> is used. Allowed characters when using hat
      notation are: alphabetic character, @, [, ], \, ^, _.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Ignore all other arguments, and behave as if the
      <b>help</b> command were given instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b>, <b>--keepalive-interval</b> <i>INTERVAL</i></dt>
  <dd class="It-tag">Set an <i>INTERVAL</i> (in seconds) for sending keepalive
      messages to check whether connection to the server is still alive. Setting
      the interval to 0 disables client keepalive mechanism.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b>, <b>--keepalive-count</b> <i>COUNT</i></dt>
  <dd class="It-tag">Set a number of times keepalive message can be sent without
      getting an answer from the server without marking the connection dead.
      There is no effect to this setting in case the <i>INTERVAL</i> is set to
      0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--log</b> <i>FILE</i></dt>
  <dd class="It-tag">Output logging details to <i>FILE</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">Avoid extra informational messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--readonly</b></dt>
  <dd class="It-tag">Make the initial connection read-only, as if by the
      <i>--readonly</i> option of the <b>connect</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--timing</b></dt>
  <dd class="It-tag">Output elapsed time information for each command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--version[=short]</b></dt>
  <dd class="It-tag">Ignore all other arguments, and prints the version of the
      libvirt library virsh is coming from</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version=long</b></dt>
  <dd class="It-tag">Ignore all other arguments, and prints the version of the
      libvirt library virsh is coming from and which options and driver are
      compiled in.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Most <b>virsh</b> operations rely upon the libvirt library being able to connect
  to an already running libvirtd service. This can usually be done using the
  command <b>service libvirtd start</b>.
<div class="Pp"></div>
Most <b>virsh</b> commands require root privileges to run due to the
  communications channels used to talk to the hypervisor. Running as non root
  will return an error.
<div class="Pp"></div>
Most <b>virsh</b> commands act synchronously, except maybe shutdown, setvcpus
  and setmem. In those cases the fact that the <b>virsh</b> program returned,
  may not mean the action is complete and you must poll periodically to detect
  that the guest completed the operation.
<div class="Pp"></div>
<b>virsh</b> strives for backward compatibility. Although the <b>help</b>
  command only lists the preferred usage of a command, if an older version of
  <b>virsh</b> supported an alternate spelling of a command or option (such as
  <i>--tunnelled</i> instead of <i>--tunneled</i>), then scripts using that
  older spelling will continue to work.
<div class="Pp"></div>
Several <b>virsh</b> commands take an optionally scaled integer; if no scale is
  provided, then the default is listed in the command (for historical reasons,
  some commands default to bytes, while other commands default to kibibytes).
  The following case-insensitive suffixes can be used to select a specific
  scale:
<br/>
 b, byte byte 1
<br/>
 KB kilobyte 1,000
<br/>
 k, KiB kibibyte 1,024
<br/>
 MB megabyte 1,000,000
<br/>
 M, MiB mebibyte 1,048,576
<br/>
 GB gigabyte 1,000,000,000
<br/>
 G, GiB gibibyte 1,073,741,824
<br/>
 TB terabyte 1,000,000,000,000
<br/>
 T, TiB tebibyte 1,099,511,627,776
<br/>
 PB petabyte 1,000,000,000,000,000
<br/>
 P, PiB pebibyte 1,125,899,906,842,624
<br/>
 EB exabyte 1,000,000,000,000,000,000
<br/>
 E, EiB exbibyte 1,152,921,504,606,846,976
<h1 class="Sh" title="Sh" id="GENERIC_COMMANDS"><a class="selflink" href="#GENERIC_COMMANDS">GENERIC
  COMMANDS</a></h1>
The following commands are generic i.e. not specific to a domain.
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b> [<i>command-or-group</i>]</dt>
  <dd class="It-tag">This lists each of the virsh commands. When used without
      options, all commands are listed, one per line, grouped into related
      categories, displaying the keyword for each group.
    <div style="height: 1.00em;">&#x00A0;</div>
    To display only commands for a specific group, give the keyword for that
      group as an option. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh # help host
  Host and Hypervisor (help keyword 'host'):
     capabilities                   capabilities
     cpu-models                     show the CPU models for an architecture
     connect                        (re)connect to hypervisor
     freecell                       NUMA free memory
     hostname                       print the hypervisor hostname
     qemu-attach                    Attach to existing QEMU process
     qemu-monitor-command           QEMU Monitor Command
     qemu-agent-command             QEMU Guest Agent Command
     sysinfo                        print the hypervisor sysinfo
     uri                            print the hypervisor canonical URI
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    To display detailed information for a specific command, give its name as the
      option instead. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh # help list
   NAME
     list - list domains
   SYNOPSIS
     list [--inactive] [--all]
   DESCRIPTION
     Returns list of domains.
   OPTIONS
     --inactive       list inactive domains
     --all            list inactive &amp; active domains
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quit</b>, <b>exit</b></dt>
  <dd class="It-tag">quit this interactive terminal</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>version</b> [<i>--daemon</i>]</dt>
  <dd class="It-tag">Will print out the major version info about what this built
      from. If <i>--daemon</i> is specified then the version of the libvirt
      daemon is included in the output.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"><b>Example</b>
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
 $ virsh version
 Compiled against library: libvirt 1.2.3
 Using library: libvirt 1.2.3
 Using API: QEMU 1.2.3
 Running hypervisor: QEMU 2.0.50
 $ virsh version --daemon
 Compiled against library: libvirt 1.2.3
 Using library: libvirt 1.2.3
 Using API: QEMU 1.2.3
 Running hypervisor: QEMU 2.0.50
 Running against daemon: 1.2.6
</pre>
</div>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cd</b> [<i>directory</i>]</dt>
  <dd class="It-tag">Will change current directory to <i>directory</i>. The
      default directory for the <b>cd</b> command is the home directory or, if
      there is no <i>HOME</i> variable in the environment, the root directory.
    <div style="height: 1.00em;">&#x00A0;</div>
    This command is only available in interactive mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pwd</b></dt>
  <dd class="It-tag">Will print the current directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>connect</b> [<i>URI</i>] [<i>--readonly</i>]</dt>
  <dd class="It-tag">(Re)-Connect to the hypervisor. When the shell is first
      started, this is automatically run with the <i>URI</i> parameter requested
      by the &quot;-c&quot; option on the command line. The <i>URI</i> parameter
      specifies how to connect to the hypervisor. The documentation page at
      &lt;http://libvirt.org/uri.html&gt; list the values supported, but the
      most common are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">xen:///</dt>
  <dd class="It-tag">this is used to connect to the local Xen hypervisor</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">qemu:///system</dt>
  <dd class="It-tag">connect locally as root to the daemon supervising QEMU and
      KVM domains</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">qemu:///session</dt>
  <dd class="It-tag">connect locally as a normal user to his own set of QEMU and
      KVM domains</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lxc:///</dt>
  <dd class="It-tag">connect to a local linux container</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
To find the currently used URI, check the <i>uri</i> command documented below.
<div style="height: 1.00em;">&#x00A0;</div>
For remote access see the documentation page at
  &lt;http://libvirt.org/uri.html&gt; on how to make URIs. The <i>--readonly</i>
  option allows for read-only connection</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>uri</b></dt>
  <dd class="It-tag">Prints the hypervisor canonical URI, can be useful in shell
      mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hostname</b></dt>
  <dd class="It-tag">Print the hypervisor hostname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sysinfo</b></dt>
  <dd class="It-tag">Print the XML representation of the hypervisor sysinfo, if
      available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodeinfo</b></dt>
  <dd class="It-tag">Returns basic information about the node, like number and
      type of CPU, and size of the physical memory. The output corresponds to
      virNodeInfo structure. Specifically, the &quot;CPU socket(s)&quot; field
      means number of CPU sockets per NUMA cell. The information libvirt
      displays is dependent upon what each architecture may provide.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodecpumap</b> [<i>--pretty</i>]</dt>
  <dd class="It-tag">Displays the node's total number of CPUs, the number of
      online CPUs and the list of online CPUs.
    <div style="height: 1.00em;">&#x00A0;</div>
    With <i>--pretty</i> the online CPUs are printed as a range instead of a
      list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodecpustats</b> [<i>cpu</i>] [<i>--percent</i>]</dt>
  <dd class="It-tag">Returns cpu stats of the node. If <i>cpu</i> is specified,
      this will prints specified cpu statistics only. If <i>--percent</i> is
      specified, this will prints percentage of each kind of cpu statistics
      during 1 second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodememstats</b> [<i>cell</i>]</dt>
  <dd class="It-tag">Returns memory stats of the node. If <i>cell</i> is
      specified, this will prints specified cell statistics only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodesuspend</b> [<i>target</i>] [<i>duration</i>]</dt>
  <dd class="It-tag">Puts the node (host machine) into a system-wide sleep state
      and schedule the node's Real-Time-Clock interrupt to resume the node after
      the time duration specified by <i>duration</i> is out. <i>target</i>
      specifies the state to which the host will be suspended to, it can be
      &quot;mem&quot; (suspend to RAM), &quot;disk&quot; (suspend to disk), or
      &quot;hybrid&quot; (suspend to both RAM and disk). <i>duration</i>
      specifies the time duration in seconds for which the host has to be
      suspended, it should be at least 60 seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node-memory-tune</b> [<i>shm-pages-to-scan</i>]
    [<i>shm-sleep-millisecs</i>] [ <i>shm-merge-across-nodes</i>]</dt>
  <dd class="It-tag">Allows you to display or set the node memory parameters.
      <i>shm-pages-to-scan</i> can be used to set the number of pages to scan
      before the shared memory service goes to sleep; <i>shm-sleep-millisecs</i>
      can be used to set the number of millisecs the shared memory service
      should sleep before next scan; <i>shm-merge-across-nodes</i> specifies if
      pages from different numa nodes can be merged. When set to 0, only pages
      which physically reside in the memory area of same NUMA node can be
      merged. When set to 1, pages from all nodes can be merged. Default to 1.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: Currently the &quot;shared memory service&quot; only means KSM
      (Kernel Samepage Merging).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>capabilities</b></dt>
  <dd class="It-tag">Print an XML document describing the capabilities of the
      hypervisor we are currently connected to. This includes a section on the
      host capabilities in terms of CPU and features, and a set of description
      for each kind of guest which can be virtualized. For a more complete
      description see:
    <br/>
     &lt;http://libvirt.org/formatcaps.html&gt; The XML also show the NUMA
      topology information if available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domcapabilities</b> [<i>virttype</i>]
    [<i>emulatorbin</i>] [ <i>arch</i>] [<i>machine</i>]</dt>
  <dd class="It-tag">Print an XML document describing the domain capabilities
      for the hypervisor we are connected to using information either sourced
      from an existing domain or taken from the <b>virsh capabilities</b>
      output. This may be useful if you intend to create a new domain and are
      curious if for instance it could make use of VFIO by creating a domain for
      the hypervisor with a specific emulator and architecture.
    <div style="height: 1.00em;">&#x00A0;</div>
    Each hypervisor will have different requirements regarding which options are
      required and which are optional. A hypervisor can support providing a
      default value for any of the options.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>virttype</i> option specifies the virtualization type used. The value
      to be used is either from the 'type' attribute of the &lt;domain/&gt; top
      level element from the domain XML or the 'type' attribute found within
      each &lt;guest/&gt; element from the <b>virsh capabilities</b> output. The
      <i>emulatorbin</i> option specifies the path to the emulator. The value to
      be used is either the &lt;emulator&gt; element in the domain XML or the
      <b>virsh capabilities</b> output. The <i>arch</i> option specifies the
      architecture to be used for the domain. The value to be used is either the
      &quot;arch&quot; attribute from the domain's XML &lt;os/&gt; element and
      &lt;type/&gt; subelement or the &quot;name&quot; attribute of an
      &lt;arch/&gt; element from the <b>virsh capabililites</b> output. The
      <i>machine</i> specifies the machine type for the emulator. The value to
      be used is either the &quot;machine&quot; attribute from the domain's XML
      &lt;os/&gt; element and &lt;type/&gt; subelement or one from a list of
      machines from the <b>virsh capabilities</b> output for a specific
      architecture and domain type.
    <div style="height: 1.00em;">&#x00A0;</div>
    For the qemu hypervisor, a <i>virttype</i> of either 'qemu' or 'kvm' must be
      supplied along with either the <i>emulatorbin</i> or <i>arch</i> in order
      to generate output for the default <i>machine</i>. Supplying a
      <i>machine</i> value will generate output for the specific machine.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>inject-nmi</b> <i>domain</i></dt>
  <dd class="It-tag">Inject NMI to the guest.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list</b> [<i>--inactive</i> | <i>--all</i>]
    [<i>--managed-save</i>] [ <i>--title</i>] { [<i>--table</i>] | <i>--name</i>
    | <i>--uuid</i> } [<i>--persistent</i>] [<i>--transient</i>]
    [<i>--with-managed-save</i>] [ <i>--without-managed-save</i>]
    [<i>--autostart</i>] [ <i>--no-autostart</i>] [<i>--with-snapshot</i>]
    [<i>--without-snapshot</i>] [ <i>--state-running</i>]
    [<i>--state-paused</i>] [ <i>--state-shutoff</i>]
    [<i>--state-other</i>]</dt>
  <dd class="It-tag">Prints information about existing domains. If no options
      are specified it prints out information about running domains.
    <div style="height: 1.00em;">&#x00A0;</div>
    An example format for the list is as follows:
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>virsh</b> list
    <br/>
     Id Name State
    <br/>
     ----------------------------------------------------
    <br/>
     0 Domain-0 running
    <br/>
     2 fedora paused
    <div style="height: 1.00em;">&#x00A0;</div>
    Name is the name of the domain. ID the domain numeric id. State is the run
      state (see below).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>STATES</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The State field lists 8 states for a domain, and which ones the current
      domain is in.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>running</b></dt>
  <dd class="It-tag">The domain is currently running on a CPU</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>idle</b></dt>
  <dd class="It-tag">The domain is idle, and not running or runnable. This can
      be caused because the domain is waiting on IO (a traditional wait state)
      or has gone to sleep because there was nothing else for it to do.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>paused</b></dt>
  <dd class="It-tag">The domain has been paused, usually occurring through the
      administrator running <b>virsh suspend</b>. When in a paused state the
      domain will still consume allocated resources like memory, but will not be
      eligible for scheduling by the hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shutdown</b></dt>
  <dd class="It-tag">The domain is in the process of shutting down, i.e. the
      guest operating system has been notified and should be in the process of
      stopping its operations gracefully.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shut off</b></dt>
  <dd class="It-tag">The domain is not running. Usually this indicates the
      domain has been shut down completely, or has not been started.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>crashed</b></dt>
  <dd class="It-tag">The domain has crashed, which is always a violent ending.
      Usually this state can only occur if the domain has been configured not to
      restart on crash.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dying</b></dt>
  <dd class="It-tag">The domain is in process of dying, but hasn't completely
      shutdown or crashed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmsuspended</b></dt>
  <dd class="It-tag">The domain has been suspended by guest power management,
      e.g. entered into s3 state.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Normally only active domains are listed. To list inactive domains specify
  <i>--inactive</i> or <i>--all</i> to list both active and inactive domains.
<div style="height: 1.00em;">&#x00A0;</div>
To further filter the list of domains you may specify one or more of filtering
  flags supported by the <b>list</b> command. These flags are grouped by
  function. Specifying one or more flags from a group enables the filter group.
  Note that some combinations of flags may yield no results. Supported filtering
  flags and groups:
<dl class="Bl-tag">
  <dt class="It-tag"><b>Persistence</b></dt>
  <dd class="It-tag">Flag <i>--persistent</i> is used to include persistent
      domains in the returned list. To include transient domains specify
      <i>--transient</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Existence of managed save image</b></dt>
  <dd class="It-tag">To list domains having a managed save image specify flag
      <i>--with-managed-save</i>. For domains that don't have a managed save
      image specify <i>--without-managed-save</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Domain state</b></dt>
  <dd class="It-tag">The following filter flags select a domain by its state:
      <i>--state-running</i> for running domains, <i>--state-paused</i> for
      paused domains, <i>--state-shutoff</i> for turned off domains and
      <i>--state-other</i> for all other states as a fallback.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Autostarting domains</b></dt>
  <dd class="It-tag">To list autostarting domains use the flag
      <i>--autostart</i>. To list domains with this feature disabled use
      <i>--no-autostart</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Snapshot existence</b></dt>
  <dd class="It-tag">Domains that have snapshot images can be listed using flag
      <i>--with-snapshot</i>, domains without a snapshot
      <i>--without-snapshot</i>.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
When talking to older servers, this command is forced to use a series of API
  calls with an inherent race, where a domain might not be listed or might
  appear more than once if it changed state between calls while the list was
  being collected. Newer servers do not have this problem.
<div style="height: 1.00em;">&#x00A0;</div>
If <i>--managed-save</i> is specified, then domains that have managed save state
  (only possible if they are in the <b>shut off</b> state, so you need to
  specify <i>--inactive</i> or <i>--all</i> to actually list them) will instead
  show as <b>saved</b> in the listing. This flag is usable only with the default
  <i>--table</i> output. Note that this flag does not filter the list of
  domains.
<div style="height: 1.00em;">&#x00A0;</div>
If <i>--name</i> is specified, domain names are printed instead of the table
  formatted one per line. If <i>--uuid</i> is specified domain's UUID's are
  printed instead of names. Flag <i>--table</i> specifies that the legacy
  table-formatted output should be used. This is the default. All of these are
  mutually exclusive.
<div style="height: 1.00em;">&#x00A0;</div>
If <i>--title</i> is specified, then the short domain description (title) is
  printed in an extra column. This flag is usable only with the default
  <i>--table</i> output.
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="height: 1.00em;">&#x00A0;</div>
<b>virsh</b> list --title
<br/>
 Id Name State Title
<br/>
 --------------------------------------------------------------------------
<br/>
 0 Domain-0 running Mailserver 1
<br/>
 2 fedora paused</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>freecell</b> [{ [<i>--cellno</i>] <b>cellno</b> |
    <i>--all</i> }]</dt>
  <dd class="It-tag">Prints the available amount of memory on the machine or
      within a NUMA cell. The freecell command can provide one of three
      different displays of available memory on the machine depending on the
      options specified. With no options, it displays the total free memory on
      the machine. With the --all option, it displays the free memory in each
      cell and the total free memory on the machine. Finally, with a numeric
      argument or with --cellno plus a cell number it will display the free
      memory for the specified cell only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>freepages</b> [{ [<i>--cellno</i>] <i>cellno</i>
    [<i>--pagesize</i>] <i>pagesize</i> | <i>--all</i> }]</dt>
  <dd class="It-tag">Prints the available amount of pages within a NUMA cell.
      <i>cellno</i> refers to the NUMA cell you're interested in.
      <i>pagesize</i> is a scaled integer (see <b>NOTES</b> above).
      Alternatively, if <i>--all</i> is used, info on each possible combination
      of NUMA cell and page size is printed out.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>allocpages</b> [<i>--pagesize</i>] <i>pagesize</i>
    [<i>--pagecount</i>] <i>pagecount</i> [[<i>--cellno</i>] <i>cellno</i>]
    [<i>--add</i>] [ <i>--all</i>]</dt>
  <dd class="It-tag">Change the size of pages pool of <i>pagesize</i> on the
      host. If <i>--add</i> is specified, then <i>pagecount</i> pages are added
      into the pool. However, if <i>--add</i> wasn't specified, then the
      <i>pagecount</i> is taken as the new absolute size of the pool (this may
      be used to free some pages and size the pool down). The <i>cellno</i>
      modifier can be used to narrow the modification down to a single host NUMA
      cell. On the other end of spectrum lies <i>--all</i> which executes the
      modification on all NUMA cells.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpu-baseline</b> <i>FILE</i> [<i>--features</i>]
    [<i>--migratable</i>]</dt>
  <dd class="It-tag">Compute baseline CPU which will be supported by all host
      CPUs given in &lt;file&gt;. The list of host CPUs is built by extracting
      all &lt;cpu&gt; elements from the &lt;file&gt;. Thus, the &lt;file&gt; can
      contain either a set of &lt;cpu&gt; elements separated by new lines or
      even a set of complete &lt;capabilities&gt; elements printed by
      <b>capabilities</b> command. If <i>--features</i> is specified then the
      resulting XML description will explicitly include all features that make
      up the CPU, without this option features that are part of the CPU model
      will not be listed in the XML description. If <i>--migratable</i> is
      specified, features that block migration will not be included in the
      resulting CPU.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpu-compare</b> <i>FILE</i> [<i>--error</i>]</dt>
  <dd class="It-tag">Compare CPU definition from XML &lt;file&gt; with host CPU.
      The XML &lt;file&gt; may contain either host or guest CPU definition. The
      host CPU definition is the &lt;cpu&gt; element and its contents as printed
      by <b>capabilities</b> command. The guest CPU definition is the
      &lt;cpu&gt; element and its contents from domain XML definition. For more
      information on guest CPU definition see:
      &lt;http://libvirt.org/formatdomain.html#elementsCPU&gt;. If
      <i>--error</i> is specified, the command will return an error when the
      given CPU is incompatible with host CPU and a message providing more
      details about the incompatibility will be printed out.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpu-models</b> <i>arch</i></dt>
  <dd class="It-tag">Print the list of CPU models known for the specified
      architecture.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>echo</b> [<i>--shell</i>] [<i>--xml</i>]
    [<i>arg</i>...]</dt>
  <dd class="It-tag">Echo back each <i>arg</i>, separated by space. If
      <i>--shell</i> is specified, then the output will be single-quoted where
      needed, so that it is suitable for reuse in a shell context. If
      <i>--xml</i> is specified, then the output will be escaped for use in
    XML.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DOMAIN_COMMANDS"><a class="selflink" href="#DOMAIN_COMMANDS">DOMAIN
  COMMANDS</a></h1>
The following commands manipulate domains directly, as stated previously most
  commands take domain as the first parameter. The <i>domain</i> can be
  specified as a short integer, a name or a full UUID.
<dl class="Bl-tag">
  <dt class="It-tag"><b>autostart</b> [<i>--disable</i>] <i>domain</i></dt>
  <dd class="It-tag">Configure a domain to be automatically started at boot.
    <div style="height: 1.00em;">&#x00A0;</div>
    The option <i>--disable</i> disables autostarting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>console</b> <i>domain</i> [<i>devname</i>]
    [<i>--safe</i>] [ <i>--force</i>]</dt>
  <dd class="It-tag">Connect the virtual serial console for the guest. The
      optional <i>devname</i> parameter refers to the device alias of an
      alternate console, serial or parallel device configured for the guest. If
      omitted, the primary console will be opened.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the flag <i>--safe</i> is specified, the connection is only attempted if
      the driver supports safe console handling. This flag specifies that the
      server has to ensure exclusive access to console devices. Optionally the
      <i>--force</i> flag may be specified, requesting to disconnect any
      existing sessions, such as in a case of a broken connection.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>create</b> <i>FILE</i> [<i>--console</i>]
    [<i>--paused</i>] [ <i>--autodestroy</i>] [<i>--pass-fds N,M,...</i>]</dt>
  <dd class="It-tag">Create a domain from an XML &lt;file&gt;. An easy way to
      create the XML &lt;file&gt; is to use the <b>dumpxml</b> command to obtain
      the definition of a pre-existing guest. The domain will be paused if the
      <i>--paused</i> option is used and supported by the driver; otherwise it
      will be running. If <i>--console</i> is requested, attach to the console
      after creation. If <i>--autodestroy</i> is requested, then the guest will
      be automatically destroyed when virsh closes its connection to libvirt, or
      otherwise exits.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--pass-fds</i> is specified, the argument is a comma separated list of
      open file descriptors which should be pass on into the guest. The file
      descriptors will be re-numbered in the guest, starting from 3. This is
      only supported with container based virtualization.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Example</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh dumpxml &lt;domain&gt; &gt; domain.xml
 vi domain.xml (or make changes with your other text editor)
 virsh create domain.xml
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>define</b> <i>FILE</i></dt>
  <dd class="It-tag">Define a domain from an XML &lt;file&gt;. The domain
      definition is registered but not started. If domain is already running,
      the changes will take effect on the next boot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>desc</b> <i>domain</i> [[<i>--live</i>]
    [<i>--config</i>] | [ <i>--current</i>]] [<i>--title</i>] [<i>--edit</i>]
    [<i>--new-desc</i> New description or title message]</dt>
  <dd class="It-tag">Show or modify description and title of a domain. These
      values are user fields that allow to store arbitrary textual data to allow
      easy identification of domains. Title should be short, although it's not
      enforced. (See also <b>metadata</b> that works with XML based domain
      metadata.)
    <div style="height: 1.00em;">&#x00A0;</div>
    Flags <i>--live</i> or <i>--config</i> select whether this command works on
      live or persistent definitions of the domain. If both <i>--live</i> and
      <i>--config</i> are specified, the <i>--config</i> option takes precedence
      on getting the current description and both live configuration and config
      are updated while setting the description. <i>--current</i> is exclusive
      and implied if none of these was specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    Flag <i>--edit</i> specifies that an editor with the contents of current
      description or title should be opened and the contents saved back
      afterwards.
    <div style="height: 1.00em;">&#x00A0;</div>
    Flag <i>--title</i> selects operation on the title field instead of
      description.
    <div style="height: 1.00em;">&#x00A0;</div>
    If neither of <i>--edit</i> and <i>--new-desc</i> are specified the note or
      description is displayed instead of being modified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>destroy</b> <i>domain</i> [<i>--graceful</i>]</dt>
  <dd class="It-tag">Immediately terminate the domain <i>domain</i>. This
      doesn't give the domain OS any chance to react, and it's the equivalent of
      ripping the power cord out on a physical machine. In most cases you will
      want to use the <b>shutdown</b> command instead. However, this does not
      delete any storage volumes used by the guest, and if the domain is
      persistent, it can be restarted later.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>domain</i> is transient, then the metadata of any snapshots will be
      lost once the guest stops running, but the snapshot contents still exist,
      and a new domain with the same name and UUID can restore the snapshot
      metadata with <b>snapshot-create</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--graceful</i> is specified, don't resort to extreme measures (e.g.
      SIGKILL) when the guest doesn't stop after a reasonable timeout; return an
      error instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domblkstat</b> <i>domain</i> [<i>block-device</i>]
    [<i>--human</i>]</dt>
  <dd class="It-tag">Get device block stats for a running domain. A
      <i>block-device</i> corresponds to a unique target name (&lt;target
      dev='name'/&gt;) or source file (&lt;source file='name'/&gt;) for one of
      the disk devices attached to <i>domain</i> (see also <b>domblklist</b> for
      listing these names). On a lxc or qemu domain, omitting the
      <i>block-device</i> yields device block stats summarily for the entire
      domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <i>--human</i> for a more human readable output.
    <div style="height: 1.00em;">&#x00A0;</div>
    Availability of these fields depends on hypervisor. Unsupported fields are
      missing from the output. Other fields may appear if communicating with a
      newer version of libvirtd.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Explanation of fields</b> (fields appear in the following order):
    <br/>
     rd_req - count of read operations
    <br/>
     rd_bytes - count of read bytes
    <br/>
     wr_req - count of write operations
    <br/>
     wr_bytes - count of written bytes
    <br/>
     errs - error count
    <br/>
     flush_operations - count of flush operations
    <br/>
     rd_total_times - total time read operations took (ns)
    <br/>
     wr_total_times - total time write operations took (ns)
    <br/>
     flush_total_times - total time flush operations took (ns)
    <br/>
     &lt;-- other fields provided by hypervisor --&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domifaddr</b> <i>domain</i> [<i>interface</i>]
    [<i>--full</i>] [ <i>--source lease|agent</i>]</dt>
  <dd class="It-tag">Get a list of interfaces of a running domain along with
      their IP and MAC addresses, or limited output just for one interface if
      <i>interface</i> is specified. Note that <i>interface</i> can be driver
      dependent, it can be the name within guest OS or the name you would see in
      domain XML. Moreover, the whole command may require a guest agent to be
      configured for the queried domain under some drivers, notably qemu. If
      <i>--full</i> is specified, the interface name is always displayed when
      the interface has multiple addresses or alias, otherwise it only displays
      the interface name for the first address, and &quot;-&quot; for the
      others. The <i>--source</i> argument specifies what data source to use for
      the addresses, currently one of 'lease' to read DHCP leases, or 'agent' to
      query the guest OS via an agent. If unspecified, 'lease' is the
    default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domifstat</b> <i>domain</i> <i>interface-device</i></dt>
  <dd class="It-tag">Get network interface stats for a running domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domif-setlink</b> <i>domain</i> <i>interface-device</i>
    <i>state</i> [<i>--config</i>]</dt>
  <dd class="It-tag">Modify link state of the domain's virtual interface.
      Possible values for state are &quot;up&quot; and &quot;down&quot;. If
      <i>--config</i> is specified, only the persistent configuration of the
      domain is modified, for compatibility purposes, <i>--persistent</i> is
      alias of <i>--config</i>. <i>interface-device</i> can be the interface's
      target name or the MAC address.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domif-getlink</b> <i>domain</i> <i>interface-device</i>
    [ <i>--config</i>]</dt>
  <dd class="It-tag">Query link state of the domain's virtual interface. If
      <i>--config</i> is specified, query the persistent configuration, for
      compatibility purposes, <i>--persistent</i> is alias of <i>--config</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>interface-device</i> can be the interface's target name or the MAC
      address.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domiftune</b> <i>domain</i> <i>interface-device</i>
    [[<i>--config</i>] [<i>--live</i>] | [<i>--current</i>]] [<i>--inbound
    average,peak,burst,floor</i>] [ <i>--outbound average,peak,burst</i>]</dt>
  <dd class="It-tag">Set or query the domain's network interface's bandwidth
      parameters. <i>interface-device</i> can be the interface's target name
      (&lt;target dev='name'/&gt;), or the MAC address.
    <div style="height: 1.00em;">&#x00A0;</div>
    If no <i>--inbound</i> or <i>--outbound</i> is specified, this command will
      query and show the bandwidth settings. Otherwise, it will set the inbound
      or outbound bandwidth. <i>average,peak,burst,floor</i> is the same as in
      command <i>attach-interface</i>. Values for <i>average</i>, <i>peak</i>
      and <i>floor</i> are expressed in kilobytes per second, while <i>burst</i>
      is expressed in kilobytes in a single burst at <i>peak</i> speed as
      described in the Network XML documentation at
      &lt;http://libvirt.org/formatnetwork.html#elementQoS&gt;.
    <div style="height: 1.00em;">&#x00A0;</div>
    To clear inbound or outbound settings, use <i>--inbound</i> or
      <i>--outbound</i> respectfully with average value of zero.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state. Both <i>--live</i> and
      <i>--config</i> flags may be given, but <i>--current</i> is exclusive. If
      no flag is specified, behavior is different depending on hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dommemstat</b> <i>domain</i> [<i>--period</i>
    <b>seconds</b>] [[ <i>--config</i>] [<i>--live</i>] |
    [<i>--current</i>]]</dt>
  <dd class="It-tag">Get memory stats for a running domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Depending on the hypervisor a variety of statistics can be returned
    <div style="height: 1.00em;">&#x00A0;</div>
    For QEMU/KVM with a memory balloon, setting the optional <i>--period</i> to
      a value larger than 0 in seconds will allow the balloon driver to return
      additional statistics which will be displayed by subsequent
      <b>dommemstat</b> commands. Setting the <i>--period</i> to 0 will stop the
      balloon driver collection, but does not clear the statistics in the
      balloon driver. Requires at least QEMU/KVM 1.5 to be running on the host.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--live</i>, <i>--config</i>, and <i>--current</i> flags are only
      valid when using the <i>--period</i> option in order to set the collection
      period for the balloon driver. If <i>--live</i> is specified, only the
      running guest collection period is affected. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state.
    <div style="height: 1.00em;">&#x00A0;</div>
    Both <i>--live</i> and <i>--config</i> flags may be given, but
      <i>--current</i> is exclusive. If no flag is specified, behavior is
      different depending on the guest state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domblkerror</b> <i>domain</i></dt>
  <dd class="It-tag">Show errors on block devices. This command usually comes
      handy when <b>domstate</b> command says that a domain was paused due to
      I/O error. The <b>domblkerror</b> command lists all block devices in error
      state and the error seen on each of them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domblkinfo</b> <i>domain</i> <i>block-device</i></dt>
  <dd class="It-tag">Get block device size info for a domain. A
      <i>block-device</i> corresponds to a unique target name (&lt;target
      dev='name'/&gt;) or source file (&lt;source file='name'/&gt;) for one of
      the disk devices attached to <i>domain</i> (see also <b>domblklist</b> for
      listing these names).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domblklist</b> <i>domain</i> [<i>--inactive</i>]
    [<i>--details</i>]</dt>
  <dd class="It-tag">Print a table showing the brief information of all block
      devices associated with <i>domain</i>. If <i>--inactive</i> is specified,
      query the block devices that will be used on the next boot, rather than
      those currently in use by a running domain. If <i>--details</i> is
      specified, disk type and device value will also be printed. Other contexts
      that require a block device name (such as <i>domblkinfo</i> or
      <i>snapshot-create</i> for disk snapshots) will accept either target or
      unique source names printed by this command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domstats</b> [<i>--raw</i>] [<i>--enforce</i>]
    [<i>--backing</i>] [ <i>--state</i>] [<i>--cpu-total</i>] [<i>--balloon</i>]
    [ <i>--vcpu</i>] [<i>--interface</i>] [<i>--block</i>] [<i>--perf</i>]
    [[<i>--list-active</i>] [ <i>--list-inactive</i>] [<i>--list-persistent</i>]
    [ <i>--list-transient</i>] [<i>--list-running</i>] [<i>--list-paused</i>]
    [<i>--list-shutoff</i>] [<i>--list-other</i>]] | [<i>domain</i> ...]</dt>
  <dd class="It-tag">Get statistics for multiple or all domains. Without any
      argument this command prints all available statistics for all domains.
    <div style="height: 1.00em;">&#x00A0;</div>
    The list of domains to gather stats for can be either limited by listing the
      domains as a space separated list, or by specifying one of the filtering
      flags <i>--list-*</i>. (The approaches can't be combined.)
    <div style="height: 1.00em;">&#x00A0;</div>
    By default some of the returned fields may be converted to more human
      friendly values by a set of pretty-printers. To suppress this behavior use
      the <i>--raw</i> flag.
    <div style="height: 1.00em;">&#x00A0;</div>
    The individual statistics groups are selectable via specific flags. By
      default all supported statistics groups are returned. Supported statistics
      groups flags are: <i>--state</i>, <i>--cpu-total</i>, <i>--balloon</i>,
      <i>--vcpu</i>, <i>--interface</i>, <i>--block</i>, <i>--perf</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    When selecting the <i>--state</i> group the following fields are returned:
      &quot;state.state&quot; - state of the VM, returned as number from
      virDomainState enum, &quot;state.reason&quot; - reason for entering given
      state, returned as int from virDomain*Reason enum corresponding to given
      state.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--cpu-total</i> returns: &quot;cpu.time&quot; - total cpu time spent for
      this domain in nanoseconds, &quot;cpu.user&quot; - user cpu time spent in
      nanoseconds, &quot;cpu.system&quot; - system cpu time spent in nanoseconds
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--balloon</i> returns: &quot;balloon.current&quot; - the memory in kiB
      currently used, &quot;balloon.maximum&quot; - the maximum memory in kiB
      allowed
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--vcpu</i> returns: &quot;vcpu.current&quot; - current number of online
      virtual CPUs, &quot;vcpu.maximum&quot; - maximum number of online virtual
      CPUs, &quot;vcpu.&lt;num&gt;.state&quot; - state of the virtual CPU
      &lt;num&gt;, as number from virVcpuState enum,
      &quot;vcpu.&lt;num&gt;.time&quot; - virtual cpu time spent by virtual CPU
      &lt;num&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--interface</i> returns: &quot;net.count&quot; - number of network
      interfaces on this domain, &quot;net.&lt;num&gt;.name&quot; - name of the
      interface &lt;num&gt;, &quot;net.&lt;num&gt;.rx.bytes&quot; - number of
      bytes received, &quot;net.&lt;num&gt;.rx.pkts&quot; - number of packets
      received, &quot;net.&lt;num&gt;.rx.errs&quot; - number of receive errors,
      &quot;net.&lt;num&gt;.rx.drop&quot; - number of receive packets dropped,
      &quot;net.&lt;num&gt;.tx.bytes&quot; - number of bytes transmitted,
      &quot;net.&lt;num&gt;.tx.pkts&quot; - number of packets transmitted,
      &quot;net.&lt;num&gt;.tx.errs&quot; - number of transmission errors,
      &quot;net.&lt;num&gt;.tx.drop&quot; - number of transmit packets dropped
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--perf</i> returns the statistics of all enabled perf events:
      &quot;perf.cmt&quot; - the cache usage in Byte currently used
      &quot;perf.mbmt&quot; - total system bandwidth from one level of cache
      &quot;perf.mbml&quot; - bandwidth of memory traffic for a memory
      controller
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--block</i> returns information about disks associated with each domain.
      Using the <i>--backing</i> flag extends this information to cover all
      resources in the backing chain, rather than the default of limiting
      information to the active layer for each guest disk. Information listed
      includes: &quot;block.count&quot; - number of block devices being listed,
      &quot;block.&lt;num&gt;.name&quot; - name of the target of the block
      device &lt;num&gt; (the same name for multiple entries if <i>--backing</i>
      is present), &quot;block.&lt;num&gt;.backingIndex&quot; - when
      <i>--backing</i> is present, matches up with the &lt;backingStore&gt;
      index listed in domain XML for backing files,
      &quot;block.&lt;num&gt;.path&quot; - file source of block device
      &lt;num&gt;, if it is a local file or block device,
      &quot;block.&lt;num&gt;.rd.reqs&quot; - number of read requests,
      &quot;block.&lt;num&gt;.rd.bytes&quot; - number of read bytes,
      &quot;block.&lt;num&gt;.rd.times&quot; - total time (ns) spent on reads,
      &quot;block.&lt;num&gt;.wr.reqs&quot; - number of write requests,
      &quot;block.&lt;num&gt;.wr.bytes&quot; - number of written bytes,
      &quot;block.&lt;num&gt;.wr.times&quot; - total time (ns) spent on writes,
      &quot;block.&lt;num&gt;.fl.reqs&quot; - total flush requests,
      &quot;block.&lt;num&gt;.fl.times&quot; - total time (ns) spent on cache
      flushing, &quot;block.&lt;num&gt;.errors&quot; - Xen only: the 'oo_req'
      value, &quot;block.&lt;num&gt;.allocation&quot; - offset of highest
      written sector in bytes, &quot;block.&lt;num&gt;.capacity&quot; - logical
      size of source file in bytes, &quot;block.&lt;num&gt;.physical&quot; -
      physical size of source file in bytes
    <div style="height: 1.00em;">&#x00A0;</div>
    Selecting a specific statistics groups doesn't guarantee that the daemon
      supports the selected group of stats. Flag <i>--enforce</i> forces the
      command to fail if the daemon doesn't support the selected group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domiflist</b> <i>domain</i> [<i>--inactive</i>]</dt>
  <dd class="It-tag">Print a table showing the brief information of all virtual
      interfaces associated with <i>domain</i>. If <i>--inactive</i> is
      specified, query the virtual interfaces that will be used on the next
      boot, rather than those currently in use by a running domain. Other
      contexts that require a MAC address of virtual interface (such as
      <i>detach-interface</i> or <i>domif-setlink</i>) will accept the MAC
      address printed by this command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blockcommit</b> <i>domain</i> <i>path</i>
    [<i>bandwidth</i>] [ <i>--bytes</i>] [<i>base</i>] [<i>--shallow</i>]
    [<i>top</i>] [ <i>--delete</i>] [<i>--keep-relative</i>] [<i>--wait</i>
    [<i>--async</i>] [ <i>--verbose</i>]] [<i>--timeout</i> <b>seconds</b>]
    [<i>--active</i>] [{ <i>--pivot</i> | <i>--keep-overlay</i>}]</dt>
  <dd class="It-tag">Reduce the length of a backing image chain, by committing
      changes at the top of the chain (snapshot or delta files) into backing
      images. By default, this command attempts to flatten the entire chain. If
      <i>base</i> and/or <i>top</i> are specified as files within the backing
      chain, then the operation is constrained to committing just that portion
      of the chain; <i>--shallow</i> can be used instead of <i>base</i> to
      specify the immediate backing file of the resulting top image to be
      committed. The files being committed are rendered invalid, possibly as
      soon as the operation starts; using the <i>--delete</i> flag will attempt
      to remove these invalidated files at the successful completion of the
      commit operation. When the <i>--keep-relative</i> flag is used, the
      backing file paths will be kept relative.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <i>top</i> is omitted or specified as the active image, it is also
      possible to specify <i>--active</i> to trigger a two-phase active commit.
      In the first phase, <i>top</i> is copied into <i>base</i> and the job can
      only be canceled, with top still containing data not yet in base. In the
      second phase, <i>top</i> and <i>base</i> remain identical until a call to
      <b>blockjob</b> with the <i>--abort</i> flag (keeping top as the active
      image that tracks changes from that point in time) or the <i>--pivot</i>
      flag (making base the new active image and invalidating top).
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this command returns as soon as possible, and data for the
      entire disk is committed in the background; the progress of the operation
      can be checked with <b>blockjob</b>. However, if <i>--wait</i> is
      specified, then this command will block until the operation completes (or
      for <i>--active</i>, enters the second phase), or until the operation is
      canceled because the optional <i>timeout</i> in seconds elapses or SIGINT
      is sent (usually with &quot;Ctrl-C&quot;). Using <i>--verbose</i> along
      with <i>--wait</i> will produce periodic status updates. If job
      cancellation is triggered, <i>--async</i> will return control to the user
      as fast as possible, otherwise the command may continue to block a little
      while longer until the job is done cleaning up. Using <i>--pivot</i> is
      shorthand for combining <i>--active</i> <i>--wait</i> with an automatic
      <b>blockjob</b> <i>--pivot</i>; and using <i>--keep-overlay</i> is
      shorthand for combining <i>--active</i> <i>--wait</i> with an automatic
      <b>blockjob</b> <i>--abort</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>path</i> specifies fully-qualified path of the disk; it corresponds to a
      unique target name (&lt;target dev='name'/&gt;) or source file (&lt;source
      file='name'/&gt;) for one of the disk devices attached to <i>domain</i>
      (see also <b>domblklist</b> for listing these names). <i>bandwidth</i>
      specifies copying bandwidth limit in MiB/s, although for qemu, it may be
      non-zero only for an online domain. For further information on the
      <i>bandwidth</i> argument see the corresponding section for the
      <b>blockjob</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blockcopy</b> <i>domain</i> <i>path</i> { <i>dest</i>
    [<i>format</i>] [<i>--blockdev</i>] | <i>--xml</i> <b>file</b> }
    [<i>--shallow</i>] [ <i>--reuse-external</i>] [<i>bandwidth</i>]
    [<i>--wait</i> [ <i>--async</i>] [<i>--verbose</i>]] [{<i>--pivot</i> |
    <i>--finish</i>}] [ <i>--timeout</i> <b>seconds</b>] [<i>granularity</i>]
    [<i>buf-size</i>] [<i>--bytes</i>]</dt>
  <dd class="It-tag">Copy a disk backing image chain to a destination. Either
      <i>dest</i> as the destination file name, or <i>--xml</i> with the name of
      an XML file containing a top-level &lt;disk&gt; element describing the
      destination, must be present. Additionally, if <i>dest</i> is given,
      <i>format</i> should be specified to declare the format of the destination
      (if <i>format</i> is omitted, then libvirt will reuse the format of the
      source, or with <i>--reuse-external</i> will be forced to probe the
      destination format, which could be a potential security hole). The command
      supports <i>--raw</i> as a boolean flag synonym for <i>--format=raw</i>.
      When using <i>dest</i>, the destination is treated as a regular file
      unless <i>--blockdev</i> is used to signal that it is a block device. By
      default, this command flattens the entire chain; but if <i>--shallow</i>
      is specified, the copy shares the backing chain.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--reuse-external</i> is specified, then the destination must exist and
      have sufficient space to hold the copy. If <i>--shallow</i> is used in
      conjunction with <i>--reuse-external</i> then the pre-created image must
      have guest visible contents identical to guest visible contents of the
      backing file of the original image. This may be used to modify the backing
      file names on the destination.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, the copy job runs in the background, and consists of two phases.
      Initially, the job must copy all data from the source, and during this
      phase, the job can only be canceled to revert back to the source disk,
      with no guarantees about the destination. After this phase completes, both
      the source and the destination remain mirrored until a call to
      <b>blockjob</b> with the <i>--abort</i> and <i>--pivot</i> flags pivots
      over to the copy, or a call without <i>--pivot</i> leaves the destination
      as a faithful copy of that point in time. However, if <i>--wait</i> is
      specified, then this command will block until the mirroring phase begins,
      or cancel the operation if the optional <i>timeout</i> in seconds elapses
      or SIGINT is sent (usually with &quot;Ctrl-C&quot;). Using
      <i>--verbose</i> along with <i>--wait</i> will produce periodic status
      updates. Using <i>--pivot</i> (similar to <b>blockjob</b> <i>--pivot</i>)
      or <i>--finish</i> (similar to <b>blockjob</b> <i>--abort</i>) implies
      <i>--wait</i>, and will additionally end the job cleanly rather than
      leaving things in the mirroring phase. If job cancellation is triggered by
      timeout or by <i>--finish</i>, <i>--async</i> will return control to the
      user as fast as possible, otherwise the command may continue to block a
      little while longer until the job has actually cancelled.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>path</i> specifies fully-qualified path of the disk. <i>bandwidth</i>
      specifies copying bandwidth limit in MiB/s. Specifying a negative value is
      interpreted as an unsigned long long value that might be essentially
      unlimited, but more likely would overflow; it is safer to use 0 for that
      purpose. For further information on the <i>bandwidth</i> argument see the
      corresponding section for the <b>blockjob</b> command. Specifying
      <i>granularity</i> allows fine-tuning of the granularity that will be
      copied when a dirty region is detected; larger values trigger less I/O
      overhead but may end up copying more data overall (the default value is
      usually correct); hypervisors may restrict this to be a power of two or
      fall within a certain range. Specifying <i>buf-size</i> will control how
      much data can be simultaneously in-flight during the copy; larger values
      use more memory but may allow faster completion (the default value is
      usually correct).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blockpull</b> <i>domain</i> <i>path</i>
    [<i>bandwidth</i>] [ <i>--bytes</i>] [<i>base</i>] [<i>--wait</i>
    [<i>--verbose</i>] [ <i>--timeout</i> <b>seconds</b>] [<i>--async</i>]]
    [<i>--keep-relative</i>]</dt>
  <dd class="It-tag">Populate a disk from its backing image chain. By default,
      this command flattens the entire chain; but if <i>base</i> is specified,
      containing the name of one of the backing files in the chain, then that
      file becomes the new backing file and only the intermediate portion of the
      chain is pulled. Once all requested data from the backing image chain has
      been pulled, the disk no longer depends on that portion of the backing
      chain.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this command returns as soon as possible, and data for the
      entire disk is pulled in the background; the progress of the operation can
      be checked with <b>blockjob</b>. However, if <i>--wait</i> is specified,
      then this command will block until the operation completes, or cancel the
      operation if the optional <i>timeout</i> in seconds elapses or SIGINT is
      sent (usually with &quot;Ctrl-C&quot;). Using <i>--verbose</i> along with
      <i>--wait</i> will produce periodic status updates. If job cancellation is
      triggered, <i>--async</i> will return control to the user as fast as
      possible, otherwise the command may continue to block a little while
      longer until the job is done cleaning up.
    <div style="height: 1.00em;">&#x00A0;</div>
    Using the <i>--keep-relative</i> flag will keep the backing chain names
      relative.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>path</i> specifies fully-qualified path of the disk; it corresponds to a
      unique target name (&lt;target dev='name'/&gt;) or source file (&lt;source
      file='name'/&gt;) for one of the disk devices attached to <i>domain</i>
      (see also <b>domblklist</b> for listing these names). <i>bandwidth</i>
      specifies copying bandwidth limit in MiB/s. For further information on the
      <i>bandwidth</i> argument see the corresponding section for the
      <b>blockjob</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blkdeviotune</b> <i>domain</i> <i>device</i>
    [[<i>--config</i>] [ <i>--live</i>] | [<i>--current</i>]]
    [[<i>total-bytes-sec</i>] | [ <i>read-bytes-sec</i>]
    [<i>write-bytes-sec</i>]] [[ <i>total-iops-sec</i>] | [<i>read-iops-sec</i>]
    [ <i>write-iops-sec</i>]] [[<i>total-bytes-sec-max</i>] |
    [<i>read-bytes-sec-max</i>] [ <i>write-bytes-sec-max</i>]]
    [[<i>total-iops-sec-max</i>] | [ <i>read-iops-sec-max</i>]
    [<i>write-iops-sec-max</i>]] [ <i>size-iops-sec</i>]</dt>
  <dd class="It-tag">Set or query the block disk io parameters for a block
      device of <i>domain</i>. <i>device</i> specifies a unique target name
      (&lt;target dev='name'/&gt;) or source file (&lt;source file='name'/&gt;)
      for one of the disk devices attached to <i>domain</i> (see also
      <b>domblklist</b> for listing these names).
    <div style="height: 1.00em;">&#x00A0;</div>
    If no limit is specified, it will query current I/O limits setting.
      Otherwise, alter the limits with these flags: <i>--total-bytes-sec</i>
      specifies total throughput limit as a scaled integer, the default being
      bytes per second if no suffix is specified. <i>--read-bytes-sec</i>
      specifies read throughput limit as a scaled integer, the default being
      bytes per second if no suffix is specified. <i>--write-bytes-sec</i>
      specifies write throughput limit as a scaled integer, the default being
      bytes per second if no suffix is specified. <i>--total-iops-sec</i>
      specifies total I/O operations limit per second. <i>--read-iops-sec</i>
      specifies read I/O operations limit per second. <i>--write-iops-sec</i>
      specifies write I/O operations limit per second.
      <i>--total-bytes-sec-max</i> specifies maximum total throughput limit as a
      scaled integer, the default being bytes per second if no suffix is
      specified <i>--read-bytes-sec-max</i> specifies maximum read throughput
      limit as a scaled integer, the default being bytes per second if no suffix
      is specified. <i>--write-bytes-sec-max</i> specifies maximum write
      throughput limit as a scaled integer, the default being bytes per second
      if no suffix is specified. <i>--total-iops-sec-max</i> specifies maximum
      total I/O operations limit per second. <i>--read-iops-sec-max</i>
      specifies maximum read I/O operations limit per second.
      <i>--write-iops-sec-max</i> specifies maximum write I/O operations limit
      per second. <i>--size-iops-sec</i> specifies size I/O operations limit per
      second.
    <div style="height: 1.00em;">&#x00A0;</div>
    Older versions of virsh only accepted these options with underscore instead
      of dash, as in <i>--total_bytes_sec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Bytes and iops values are independent, but setting only one value (such as
      --read-bytes-sec) resets the other two in that category to unlimited. An
      explicit 0 also clears any limit. A non-zero value for a given total
      cannot be mixed with non-zero values for read or write.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state. When setting the disk io
      parameters both <i>--live</i> and <i>--config</i> flags may be given, but
      <i>--current</i> is exclusive. For querying only one of <i>--live</i>,
      <i>--config</i> or <i>--current</i> can be specified. If no flag is
      specified, behavior is different depending on hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blockjob</b> <i>domain</i> <i>path</i> {
    [<i>--abort</i>] [ <i>--async</i>] [<i>--pivot</i>] | [<i>--info</i>]
    [<i>--raw</i>] [ <i>--bytes</i>] | [<i>bandwidth</i>] }</dt>
  <dd class="It-tag">Manage active block operations. There are three
      mutually-exclusive modes: <i>--info</i>, <i>bandwidth</i>, and
      <i>--abort</i>. <i>--async</i> and <i>--pivot</i> imply abort mode;
      <i>--raw</i> implies info mode; and if no mode was given, <i>--info</i>
      mode is assumed.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>path</i> specifies fully-qualified path of the disk; it corresponds to a
      unique target name (&lt;target dev='name'/&gt;) or source file (&lt;source
      file='name'/&gt;) for one of the disk devices attached to <i>domain</i>
      (see also <b>domblklist</b> for listing these names).
    <div style="height: 1.00em;">&#x00A0;</div>
    In <i>--abort</i> mode, the active job on the specified disk will be
      aborted. If <i>--async</i> is also specified, this command will return
      immediately, rather than waiting for the cancellation to complete. If
      <i>--pivot</i> is specified, this requests that an active copy or active
      commit job be pivoted over to the new image.
    <div style="height: 1.00em;">&#x00A0;</div>
    In <i>--info</i> mode, the active job information on the specified disk will
      be printed. By default, the output is a single human-readable summary
      line; this format may change in future versions. Adding <i>--raw</i> lists
      each field of the struct, in a stable format. If the <i>--bytes</i> flag
      is set, then the command errors out if the server could not supply bytes/s
      resolution; when omitting the flag, raw output is listed in MiB/s and
      human-readable output automatically selects the best resolution supported
      by the server.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>bandwidth</i> can be used to set bandwidth limit for the active job in
      MiB/s. If <i>--bytes</i> is specified then the bandwidth value is
      interpreted in bytes/s. Specifying a negative value is interpreted as an
      unsigned long value or essentially unlimited. The hypervisor can choose
      whether to reject the value or convert it to the maximum value allowed.
      Optionally a scaled positive number may be used as bandwidth (see
      <b>NOTES</b> above). Using <i>--bytes</i> with a scaled value allows to
      use finer granularity. A scaled value used without <i>--bytes</i> will be
      rounded down to MiB/s. Note that the <i>--bytes</i> may be unsupported by
      the hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blockresize</b> <i>domain</i> <i>path</i>
    <i>size</i></dt>
  <dd class="It-tag">Resize a block device of domain while the domain is
      running, <i>path</i> specifies the absolute path of the block device; it
      corresponds to a unique target name (&lt;target dev='name'/&gt;) or source
      file (&lt;source file='name'/&gt;) for one of the disk devices attached to
      <i>domain</i> (see also <b>domblklist</b> for listing these names).
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>size</i> is a scaled integer (see <b>NOTES</b> above) which defaults to
      KiB (blocks of 1024 bytes) if there is no suffix. You must use a suffix of
      &quot;B&quot; to get bytes (note that for historical reasons, this differs
      from <b>vol-resize</b> which defaults to bytes without a suffix).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domdisplay</b> <i>domain</i> [<i>--include-password</i>]
    [[ <i>--type</i>] <b>type</b>]</dt>
  <dd class="It-tag">Output a URI which can be used to connect to the graphical
      display of the domain via VNC, SPICE or RDP. The particular graphical
      display type can be selected using the <b>type</b> parameter (e.g.
      &quot;vnc&quot;, &quot;spice&quot;, &quot;rdp&quot;). If
      <i>--include-password</i> is specified, the SPICE channel password will be
      included in the URI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domfsinfo</b> <i>domain</i></dt>
  <dd class="It-tag">Show a list of mounted filesystems within the running
      domain. The list contains mountpoints, names of a mounted device in the
      guest, filesystem types, and unique target names used in the domain XML
      (&lt;target dev='name'/&gt;).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this command requires a guest agent configured and running in the
      domain's guest OS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domfsfreeze</b> <i>domain</i> [[<i>--mountpoint</i>]
    <b>mountpoint</b>...]</dt>
  <dd class="It-tag">Freeze mounted filesystems within a running domain to
      prepare for consistent snapshots.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--mountpoint</i> option takes a parameter <b>mountpoint</b>, which is
      a mount point path of the filesystem to be frozen. This option can occur
      multiple times. If this is not specified, every mounted filesystem is
      frozen.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note: <b>snapshot-create</b> command has a <i>--quiesce</i> option to freeze
      and thaw the filesystems automatically to keep snapshots consistent.
      <b>domfsfreeze</b> command is only needed when a user wants to utilize the
      native snapshot features of storage devices not supported by libvirt.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domfsthaw</b> <i>domain</i> [[<i>--mountpoint</i>]
    <b>mountpoint</b>...]</dt>
  <dd class="It-tag">Thaw mounted filesystems within a running domain, which
      have been frozen by domfsfreeze command.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--mountpoint</i> option takes a parameter <b>mountpoint</b>, which is
      a mount point path of the filesystem to be thawed. This option can occur
      multiple times. If this is not specified, every mounted filesystem is
      thawed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domfstrim</b> <i>domain</i> [<i>--minimum</i>
    <b>bytes</b>] [ <i>--mountpoint mountPoint</i>]</dt>
  <dd class="It-tag">Issue a fstrim command on all mounted filesystems within a
      running domain. It discards blocks which are not in use by the filesystem.
      If <i>--minimum</i> <b>bytes</b> is specified, it tells guest kernel
      length of contiguous free range. Smaller than this may be ignored (this is
      a hint and the guest may not respect it). By increasing this value, the
      fstrim operation will complete more quickly for filesystems with badly
      fragmented free space, although not all blocks will be discarded. The
      default value is zero, meaning &quot;discard every free block&quot;.
      Moreover, a if user wants to trim only one mount point, it can be
      specified via optional <i>--mountpoint</i> parameter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domhostname</b> <i>domain</i></dt>
  <dd class="It-tag">Returns the hostname of a domain, if the hypervisor makes
      it available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dominfo</b> <i>domain</i></dt>
  <dd class="It-tag">Returns basic information about the domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domuuid</b> <i>domain-name-or-id</i></dt>
  <dd class="It-tag">Convert a domain name or id to domain UUID</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domid</b> <i>domain-name-or-uuid</i></dt>
  <dd class="It-tag">Convert a domain name (or UUID) to a domain id</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domjobabort</b> <i>domain</i></dt>
  <dd class="It-tag">Abort the currently running domain job.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domjobinfo</b> <i>domain</i> [<i>--completed</i>]</dt>
  <dd class="It-tag">Returns information about jobs running on a domain.
      <i>--completed</i> tells virsh to return information about a recently
      finished job. Statistics of a completed job are automatically destroyed
      once read or when libvirtd is restarted. Note that time information
      returned for completed migrations may be completely irrelevant unless both
      source and destination hosts have synchronized time (i.e., NTP daemon is
      running on both of them).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domname</b> <i>domain-id-or-uuid</i></dt>
  <dd class="It-tag">Convert a domain Id (or UUID) to domain name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domrename</b> <i>domain</i> <i>new-name</i></dt>
  <dd class="It-tag">Rename a domain. This command changes current domain name
      to the new name specified in the second argument.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: Domain must be inactive and without snapshots.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domstate</b> <i>domain</i> [<i>--reason</i>]</dt>
  <dd class="It-tag">Returns state about a domain. <i>--reason</i> tells virsh
      to also print reason for the state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domcontrol</b> <i>domain</i></dt>
  <dd class="It-tag">Returns state of an interface to VMM used to control a
      domain. For states other than &quot;ok&quot; or &quot;error&quot; the
      command also prints number of seconds elapsed since the control interface
      entered its current state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domtime</b> <i>domain</i> { [<i>--now</i>]
    [<i>--pretty</i>] [ <i>--sync</i>] [<i>--time</i> <b>time</b>] }</dt>
  <dd class="It-tag">Gets or sets the domain's system time. When run without any
      arguments (but <i>domain</i>), the current domain's system time is printed
      out. The <i>--pretty</i> modifier can be used to print the time in more
      human readable form.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <i>--time</i> <b>time</b> is specified, the domain's time is not gotten
      but set instead. The <i>--now</i> modifier acts like if it was an alias
      for <i>--time</i> <b></b><b>$now</b><b></b>, which means it sets the time
      that is currently on the host virsh is running at. In both cases (setting
      and getting), time is in seconds relative to Epoch of 1970-01-01 in UTC.
      The <i>--sync</i> modifies the set behavior a bit: The time passed is
      ignored, but the time to set is read from domain's RTC instead. Please
      note, that some hypervisors may require a guest agent to be configured in
      order to get or set the guest time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domxml-from-native</b> <i>format</i> <i>config</i></dt>
  <dd class="It-tag">Convert the file <i>config</i> in the native guest
      configuration format named by <i>format</i> to a domain XML format. For
      QEMU/KVM hypervisor, the <i>format</i> argument must be <b>qemu-argv</b>.
      For Xen hypervisor, the <i>format</i> argument may be <b>xen-xm</b>,
      <b>xen-xl</b>, or <b>xen-sxpr</b>. For LXC hypervisor, the <i>format</i>
      argument must be <b>lxc-tools</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domxml-to-native</b> <i>format</i> <i>xml</i></dt>
  <dd class="It-tag">Convert the file <i>xml</i> in domain XML format to the
      native guest configuration format named by <i>format</i>. For QEMU/KVM
      hypervisor, the <i>format</i> argument must be <b>qemu-argv</b>. For Xen
      hypervisor, the <i>format</i> argument may be <b>xen-xm</b>,
      <b>xen-xl</b>, or <b>xen-sxpr</b>. For LXC hypervisor, the <i>format</i>
      argument must be <b>lxc-tools</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dump</b> <i>domain</i> <i>corefilepath</i>
    [<i>--bypass-cache</i>] { [ <i>--live</i>] | [<i>--crash</i>] |
    [<i>--reset</i>] } [ <i>--verbose</i>] [<i>--memory-only</i>]
    [<i>--format</i> <i>string</i>]</dt>
  <dd class="It-tag">Dumps the core of a domain to a file for analysis. If
      <i>--live</i> is specified, the domain continues to run until the core
      dump is complete, rather than pausing up front. If <i>--crash</i> is
      specified, the domain is halted with a crashed status, rather than merely
      left in a paused state. If <i>--reset</i> is specified, the domain is
      reset after successful dump. Note, these three switches are mutually
      exclusive. If <i>--bypass-cache</i> is specified, the save will avoid the
      file system cache, although this may slow down the operation. If
      <i>--memory-only</i> is specified, the file is elf file, and will only
      include domain's memory and cpu common register value. It is very useful
      if the domain uses host devices directly. <i>--format</i> <i>string</i> is
      used to specify the format of 'memory-only' dump, and <i>string</i> can be
      one of them: elf, kdump-zlib(kdump-compressed format with
      zlib-compressed), kdump-lzo(kdump-compressed format with lzo-compressed),
      kdump-snappy(kdump-compressed format with snappy-compressed).
    <div style="height: 1.00em;">&#x00A0;</div>
    The progress may be monitored using <b>domjobinfo</b> virsh command and
      canceled with <b>domjobabort</b> command (sent by another virsh instance).
      Another option is to send SIGINT (usually with &quot;Ctrl-C&quot;) to the
      virsh process running <b>dump</b> command. <i>--verbose</i> displays the
      progress of dump.
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTE: Some hypervisors may require the user to manually ensure proper
      permissions on file and path specified by argument <i>corefilepath</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTE: Crash dump in a old kvmdump format is being obsolete and cannot be
      loaded and processed by crash utility since its version 6.1.0. A
      --memory-only option is required in order to produce valid ELF file which
      can be later processed by the crash utility.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumpxml</b> <i>domain</i> [<i>--inactive</i>]
    [<i>--security-info</i>] [ <i>--update-cpu</i>] [<i>--migratable</i>]</dt>
  <dd class="It-tag">Output the domain information as an XML dump to stdout,
      this format can be used by the <b>create</b> command. Additional options
      affecting the XML dump may be used. <i>--inactive</i> tells virsh to dump
      domain configuration that will be used on next start of the domain as
      opposed to the current domain configuration. Using <i>--security-info</i>
      will also include security sensitive information in the XML dump.
      <i>--update-cpu</i> updates domain CPU requirements according to host CPU.
      With <i>--migratable</i> one can request an XML that is suitable for
      migrations, i.e., compatible with older libvirt releases and possibly
      amended with internal run-time options. This option may automatically
      enable other options ( <i>--update-cpu</i>, <i>--security-info</i>, ...)
      as necessary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>edit</b> <i>domain</i></dt>
  <dd class="It-tag">Edit the XML configuration file for a domain, which will
      affect the next boot of the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh dumpxml --inactive --security-info domain &gt; domain.xml
 vi domain.xml (or make changes with your other text editor)
 virsh define domain.xml
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>event</b> {[<i>domain</i>] { <i>event</i> | <i>--all</i>
    } [ <i>--loop</i>] [<i>--timeout</i> <i>seconds</i>] [<i>--timestamp</i>] |
    <i>--list</i>}</dt>
  <dd class="It-tag">Wait for a class of domain events to occur, and print
      appropriate details of events as they happen. The events can optionally be
      filtered by <i>domain</i>. Using <i>--list</i> as the only argument will
      provide a list of possible <i>event</i> values known by this client,
      although the connection might not allow registering for all these events.
      It is also possible to use <i>--all</i> instead of <i>event</i> to
      register for all possible event types at once.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this command is one-shot, and returns success once an event
      occurs; you can send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
      immediately. If <i>--timeout</i> is specified, the command gives up
      waiting for events after <i>seconds</i> have elapsed. With <i>--loop</i>,
      the command prints all events until a timeout or interrupt key.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <i>--timestamp</i> is used, a human-readable timestamp will be printed
      before the event.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iothreadinfo</b> <i>domain</i> [[<i>--live</i>]
    [<i>--config</i>] | [ <i>--current</i>]]</dt>
  <dd class="It-tag">Display basic domain IOThreads information including the
      IOThread ID and the CPU Affinity for each IOThread.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, get the IOThreads data from the running
      guest. If the guest is not running, an error is returned. If
      <i>--config</i> is specified, get the IOThreads data from the next boot of
      a persistent guest. If <i>--current</i> is specified or <i>--live</i> and
      <i>--config</i> are not specified, then get the IOThread data based on the
      current guest state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iothreadpin</b> <i>domain</i> <i>iothread</i>
    <i>cpulist</i> [[ <i>--live</i>] [<i>--config</i>] |
    [<i>--current</i>]]</dt>
  <dd class="It-tag">Change the pinning of a domain IOThread to host physical
      CPUs. In order to retrieve a list of all IOThreads, use
      <b>iothreadinfo</b>. To pin an <i>iothread</i> specify the <i>cpulist</i>
      desired for the IOThread ID as listed in the <b>iothreadinfo</b> output.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>cpulist</i> is a list of physical CPU numbers. Its syntax is a comma
      separated list and a special markup using '-' and '^' (ex. '0-4',
      '0-3,^2') can also be allowed. The '-' denotes the range and the '^'
      denotes exclusive. If you want to reset iothreadpin setting, that is, to
      pin an <i>iothread</i> to all physical cpus, simply specify 'r' as a
      <i>cpulist</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If the guest is not
      running, an error is returned. If <i>--config</i> is specified, affect the
      next boot of a persistent guest. If <i>--current</i> is specified or
      <i>--live</i> and <i>--config</i> are not specified, affect the current
      guest state. Both <i>--live</i> and <i>--config</i> flags may be given if
      <i>cpulist</i> is present, but <i>--current</i> is exclusive. If no flag
      is specified, behavior is different depending on hypervisor.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The expression is sequentially evaluated, so
      &quot;0-15,^8&quot; is identical to &quot;9-14,0-7,15&quot; but not
      identical to &quot;^8,0-15&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iothreadadd</b> <i>domain</i> <i>iothread_id</i>
    [[<i>--config</i>] [ <i>--live</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Add a new IOThread to the domain using the specified
      <i>iothread_id</i>. If the <i>iothread_id</i> already exists, the command
      will fail. The <i>iothread_id</i> must be greater than zero.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If the guest is not
      running an error is returned. If <i>--config</i> is specified, affect the
      next boot of a persistent guest. If <i>--current</i> is specified or
      <i>--live</i> and <i>--config</i> are not specified, affect the current
      guest state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iothreaddel</b> <i>domain</i> <i>iothread_id</i>
    [[<i>--config</i>] [ <i>--live</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Delete an IOThread from the domain using the specified
      <i>iothread_id</i>. If an IOThread is currently assigned to a disk
      resource such as via the <b>attach-disk</b> command, then the attempt to
      remove the IOThread will fail. If the <i>iothread_id</i> does not exist an
      error will occur.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If the guest is not
      running an error is returned. If <i>--config</i> is specified, affect the
      next boot of a persistent guest. If <i>--current</i> is specified or
      <i>--live</i> and <i>--config</i> are not specified, affect the current
      guest state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>managedsave</b> <i>domain</i> [<i>--bypass-cache</i>]
    [{<i>--running</i> | <i>--paused</i>}] [<i>--verbose</i>]</dt>
  <dd class="It-tag">Save and destroy (stop) a running domain, so it can be
      restarted from the same state at a later time. When the virsh <b>start</b>
      command is next run for the domain, it will automatically be started from
      this saved state. If <i>--bypass-cache</i> is specified, the save will
      avoid the file system cache, although this may slow down the operation.
    <div style="height: 1.00em;">&#x00A0;</div>
    The progress may be monitored using <b>domjobinfo</b> virsh command and
      canceled with <b>domjobabort</b> command (sent by another virsh instance).
      Another option is to send SIGINT (usually with &quot;Ctrl-C&quot;) to the
      virsh process running <b>managedsave</b> command. <i>--verbose</i>
      displays the progress of save.
    <div style="height: 1.00em;">&#x00A0;</div>
    Normally, starting a managed save will decide between running or paused
      based on the state the domain was in when the save was done; passing
      either the <i>--running</i> or <i>--paused</i> flag will allow overriding
      which state the <b>start</b> should use.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>dominfo</b> command can be used to query whether a domain currently
      has any managed save image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>managedsave-remove</b> <i>domain</i></dt>
  <dd class="It-tag">Remove the <b>managedsave</b> state file for a domain, if
      it exists. This ensures the domain will do a full boot the next time it is
      started.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maxvcpus</b> [<i>type</i>]</dt>
  <dd class="It-tag">Provide the maximum number of virtual CPUs supported for a
      guest VM on this connection. If provided, the <i>type</i> parameter must
      be a valid type attribute for the &lt;domain&gt; element of XML.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpu-stats</b> <i>domain</i> [<i>--total</i>]
    [<i>start</i>] [ <i>count</i>]</dt>
  <dd class="It-tag">Provide cpu statistics information of a domain. The domain
      should be running. Default it shows stats for all CPUs, and a total. Use
      <i>--total</i> for only the total stats, <i>start</i> for only the per-cpu
      stats of the CPUs from <i>start</i>, <i>count</i> for only <i>count</i>
      CPUs' stats.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>metadata</b> <i>domain</i> [[<i>--live</i>]
    [<i>--config</i>] | [ <i>--current</i>]] [<i>--edit</i>] [<i>uri</i>]
    [<i>key</i>] [ <i>set</i>] [<i>--remove</i>]</dt>
  <dd class="It-tag">Show or modify custom XML metadata of a domain. The
      metadata is a user defined XML that allows to store arbitrary XML data in
      the domain definition. Multiple separate custom metadata pieces can be
      stored in the domain XML. The pieces are identified by a private XML
      namespace provided via the <i>uri</i> argument. (See also <b>desc</b> that
      works with textual metadata of a domain.)
    <div style="height: 1.00em;">&#x00A0;</div>
    Flags <i>--live</i> or <i>--config</i> select whether this command works on
      live or persistent definitions of the domain. If both <i>--live</i> and
      <i>--config</i> are specified, the <i>--config</i> option takes precedence
      on getting the current description and both live configuration and config
      are updated while setting the description. <i>--current</i> is exclusive
      and implied if none of these was specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    Flag <i>--remove</i> specifies that the metadata element specified by the
      <i>uri</i> argument should be removed rather than updated.
    <div style="height: 1.00em;">&#x00A0;</div>
    Flag <i>--edit</i> specifies that an editor with the metadata identified by
      the <i>uri</i> argument should be opened and the contents saved back
      afterwards. Otherwise the new contents can be provided via the <i>set</i>
      argument.
    <div style="height: 1.00em;">&#x00A0;</div>
    When setting metadata via <i>--edit</i> or <i>set</i> the <i>key</i>
      argument must be specified and is used to prefix the custom elements to
      bind them to the private namespace.
    <div style="height: 1.00em;">&#x00A0;</div>
    If neither of <i>--edit</i> and <i>set</i> are specified the XML metadata
      corresponding to the <i>uri</i> namespace is displayed instead of being
      modified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate</b> [<i>--live</i>] [<i>--offline</i>]
    [<i>--direct</i>] [ <i>--p2p</i> [<i>--tunnelled</i>]] [<i>--persistent</i>]
    [ <i>--undefinesource</i>] [<i>--suspend</i>] [<i>--copy-storage-all</i>]
    [<i>--copy-storage-inc</i>] [<i>--change-protection</i>] [<i>--unsafe</i>]
    [<i>--verbose</i>] [<i>--abort-on-error</i>] [<i>--postcopy</i>]
    [<i>--postcopy-after-precopy</i>] <i>domain</i> <i>desturi</i>
    [<i>migrateuri</i>] [ <i>graphicsuri</i>] [<i>listen-address</i>]
    [<i>dname</i>] [ <i>--timeout</i> <b>seconds</b> [<i>--timeout-suspend</i> |
    <i>--timeout-postcopy</i>]] [<i>--xml</i> <b>file</b>]
    [<i>--migrate-disks</i> <b>disk-list</b>] [<i>--disks-port</i> <b>port</b>]
    [ <i>--compressed</i>] [<i>--comp-methods</i> <b>method-list</b>]
    [<i>--comp-mt-level</i>] [ <i>--comp-mt-threads</i>]
    [<i>--comp-mt-dthreads</i>] [ <i>--comp-xbzrle-cache</i>]
    [<i>--auto-converge</i>] [ <i>auto-converge-initial</i>]
    [<i>auto-converge-increment</i>]</dt>
  <dd class="It-tag">Migrate domain to another host. Add <i>--live</i> for live
      migration; &lt;--p2p&gt; for peer-2-peer migration; <i>--direct</i> for
      direct migration; or <i>--tunnelled</i> for tunnelled migration.
      <i>--offline</i> migrates domain definition without starting the domain on
      destination and without stopping it on source host. Offline migration may
      be used with inactive domains and it must be used with <i>--persistent</i>
      option. <i>--persistent</i> leaves the domain persistent on destination
      host, <i>--undefinesource</i> undefines the domain on the source host, and
      <i>--suspend</i> leaves the domain paused on the destination host.
      <i>--copy-storage-all</i> indicates migration with non-shared storage with
      full disk copy, <i>--copy-storage-inc</i> indicates migration with
      non-shared storage with incremental copy (same base image shared between
      source and destination). In both cases the disk images have to exist on
      destination host, the <i>--copy-storage-...</i> options only tell libvirt
      to transfer data from the images on source host to the images found at the
      same place on the destination host. By default only non-shared
      non-readonly images are transferred. Use <i>--migrate-disks</i> to
      explicitly specify a list of disk targets to transfer via the comma
      separated <b>disk-list</b> argument. <i>--change-protection</i> enforces
      that no incompatible configuration changes will be made to the domain
      while the migration is underway; this flag is implicitly enabled when
      supported by the hypervisor, but can be explicitly used to reject the
      migration if the hypervisor lacks change protection support.
      <i>--verbose</i> displays the progress of migration.
      <i>--abort-on-error</i> cancels the migration if a soft error (for example
      I/O error) happens during the migration. <i>--postcopy</i> enables
      post-copy logic in migration, but does not actually start post-copy, i.e.,
      migration is started in pre-copy mode. Once migration is running, the user
      may switch to post-copy using the <b>migrate-postcopy</b> command sent
      from another virsh instance or use <i>--postcopy-after-precopy</i> to let
      libvirt automatically switch to post-copy after the first pass of pre-copy
      is finished.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--auto-converge</i> forces convergence during live migration. The
      initial guest CPU throttling rate can be set with
      <i>auto-converge-initial</i>. If the initial throttling rate is not enough
      to ensure convergence, the rate is periodically increased by
      <i>auto-converge-increment</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: Individual hypervisors usually do not support all possible
      types of migration. For example, QEMU does not support direct migration.
    <div style="height: 1.00em;">&#x00A0;</div>
    In some cases libvirt may refuse to migrate the domain because doing so may
      lead to potential problems such as data corruption, and thus the migration
      is considered unsafe. For QEMU domain, this may happen if the domain uses
      disks without explicitly setting cache mode to &quot;none&quot;. Migrating
      such domains is unsafe unless the disk images are stored on coherent
      clustered filesystem, such as GFS2 or GPFS. If you are sure the migration
      is safe or you just do not care, use <i>--unsafe</i> to force the
      migration.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>dname</i> is used for renaming the domain to new name during migration,
      which also usually can be omitted. Likewise, <i>--xml</i> <b>file</b> is
      usually omitted, but can be used to supply an alternative XML file for use
      on the destination to supply a larger set of changes to any host-specific
      portions of the domain XML, such as accounting for naming differences
      between source and destination in accessing underlying storage.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--timeout</i> <b>seconds</b> tells virsh to run a specified action when
      live migration exceeds that many seconds. It can only be used with
      <i>--live</i>. If <i>--timeout-suspend</i> is specified, the domain will
      be suspended after the timeout and the migration will complete offline;
      this is the default if no <i>--timeout-*</i> option is specified on the
      command line. When <i>--timeout-postcopy</i> is used, virsh will switch
      migration from pre-copy to post-copy upon timeout; migration has to be
      started with <i>--postcopy</i> option for this to work.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--compressed</i> activates compression, the compression method is chosen
      with <i>--comp-methods</i>. Supported methods are &quot;mt&quot; and
      &quot;xbzrle&quot; and can be used in any combination. When no methods are
      specified, a hypervisor default methods will be used. QEMU defaults to
      &quot;xbzrle&quot;. Compression methods can be tuned further.
      <i>--comp-mt-level</i> sets compression level. Values are in range from 0
      to 9, where 1 is maximum speed and 9 is maximum compression.
      <i>--comp-mt-threads</i> and <i>--comp-mt-dthreads</i> set the number of
      compress threads on source and the number of decompress threads on target
      respectively. <i>--comp-xbzrle-cache</i> sets size of page cache in bytes.
    <div style="height: 1.00em;">&#x00A0;</div>
    Running migration can be canceled by interrupting virsh (usually using
      &quot;Ctrl-C&quot;) or by <b>domjobabort</b> command sent from another
      virsh instance.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>desturi</i> and <i>migrateuri</i> parameters can be used to control
      which destination the migration uses. <i>desturi</i> is important for
      managed migration, but unused for direct migration; <i>migrateuri</i> is
      required for direct migration, but can usually be automatically determined
      for managed migration.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The <i>desturi</i> parameter for normal migration and
      peer2peer migration has different semantics:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">normal migration: the <i>desturi</i> is an address of the
      target host as seen from the client machine.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">peer2peer migration: the <i>desturi</i> is an address of
      the target host as seen from the source machine.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
When <i>migrateuri</i> is not specified, libvirt will automatically determine
  the hypervisor specific URI. Some hypervisors, including QEMU, have an
  optional &quot;migration_host&quot; configuration parameter (useful when the
  host has multiple network interfaces). If this is unspecified, libvirt
  determines a name by looking up the target host's configured hostname.
<div style="height: 1.00em;">&#x00A0;</div>
There are a few scenarios where specifying <i>migrateuri</i> may help:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The configured hostname is incorrect, or DNS is broken. If
      a host has a hostname which will not resolve to match one of its public IP
      addresses, then libvirt will generate an incorrect URI. In this case
      <i>migrateuri</i> should be explicitly specified, using an IP address, or
      a correct hostname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The host has multiple network interfaces. If a host has
      multiple network interfaces, it might be desirable for the migration data
      stream to be sent over a specific interface for either security or
      performance reasons. In this case <i>migrateuri</i> should be explicitly
      specified, using an IP address associated with the network to be
    used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The firewall restricts what ports are available. When
      libvirt generates a migration URI, it will pick a port number using
      hypervisor specific rules. Some hypervisors only require a single port to
      be open in the firewalls, while others require a whole range of port
      numbers. In the latter case <i>migrateuri</i> might be specified to choose
      a specific port number outside the default range in order to comply with
      local firewall policies.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
See &lt;http://libvirt.org/migration.html#uris&gt; for more details on migration
  URIs.
<div style="height: 1.00em;">&#x00A0;</div>
Optional <i>graphicsuri</i> overrides connection parameters used for
  automatically reconnecting a graphical clients at the end of migration. If
  omitted, libvirt will compute the parameters based on target host IP address.
  In case the client does not have a direct access to the network virtualization
  hosts are connected to and needs to connect through a proxy,
  <i>graphicsuri</i> may be used to specify the address the client should
  connect to. The URI is formed as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    protocol://hostname[:port]/[?parameters]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
where protocol is either &quot;spice&quot; or &quot;vnc&quot; and parameters is
  a list of protocol specific parameters separated by '&amp;'. Currently
  recognized parameters are &quot;tlsPort&quot; and &quot;tlsSubject&quot;. For
  example,
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    spice://target.host.com:1234/?tlsPort=4567
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Optional <i>listen-address</i> sets the listen address that hypervisor on the
  destination side should bind to for incoming migration. Both IPv4 and IPv6
  addresses are accepted as well as hostnames (the resolving is done on
  destination). Some hypervisors do not support this feature and will return an
  error if this parameter is used.
<div style="height: 1.00em;">&#x00A0;</div>
Optional <i>disks-port</i> sets the port that hypervisor on destination side
  should bind to for incoming disks traffic. Currently it is supported only by
  qemu.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate-setmaxdowntime</b> <i>domain</i>
    <i>downtime</i></dt>
  <dd class="It-tag">Set maximum tolerable downtime for a domain which is being
      live-migrated to another host. The <i>downtime</i> is a number of
      milliseconds the guest is allowed to be down at the end of live
    migration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate-compcache</b> <i>domain</i> [<i>--size</i>
    <b>bytes</b>]</dt>
  <dd class="It-tag">Sets and/or gets size of the cache (in bytes) used for
      compressing repeatedly transferred memory pages during live migration.
      When called without <i>size</i>, the command just prints current size of
      the compression cache. When <i>size</i> is specified, the hypervisor is
      asked to change compression cache to <i>size</i> bytes and then the
      current size is printed (the result may differ from the requested size due
      to rounding done by the hypervisor). The <i>size</i> option is supposed to
      be used while the domain is being live-migrated as a reaction to migration
      progress and increasing number of compression cache misses obtained from
      domjobinfo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate-setspeed</b> <i>domain</i> <i>bandwidth</i></dt>
  <dd class="It-tag">Set the maximum migration bandwidth (in MiB/s) for a domain
      which is being migrated to another host. <i>bandwidth</i> is interpreted
      as an unsigned long long value. Specifying a negative value results in an
      essentially unlimited value being provided to the hypervisor. The
      hypervisor can choose whether to reject the value or convert it to the
      maximum value allowed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate-getspeed</b> <i>domain</i></dt>
  <dd class="It-tag">Get the maximum migration bandwidth (in MiB/s) for a
      domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate-postcopy</b> <i>domain</i></dt>
  <dd class="It-tag">Switch the current migration from pre-copy to post-copy.
      This is only supported for a migration started with <i>--postcopy</i>
      option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>numatune</b> <i>domain</i> [<i>--mode</i> <b>mode</b>]
    [<i>--nodeset</i> <b>nodeset</b>] [[<i>--config</i>] [<i>--live</i>] |
    [<i>--current</i>]]</dt>
  <dd class="It-tag">Set or get a domain's numa parameters, corresponding to the
      &lt;numatune&gt; element of domain XML. Without flags, the current
      settings are displayed.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>mode</i> can be one of `strict', `interleave' and `preferred' or any
      valid number from the virDomainNumatuneMemMode enum in case the daemon
      supports it. For a running domain, the mode can't be changed, and the
      nodeset can be changed only if the domain was started with a mode of
      `strict'.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>nodeset</i> is a list of numa nodes used by the host for running the
      domain. Its syntax is a comma separated list, with '-' for ranges and '^'
      for excluding a node.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, set scheduler information of a running guest.
      If <i>--config</i> is specified, affect the next boot of a persistent
      guest. If <i>--current</i> is specified, affect the current guest
    state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reboot</b> <i>domain</i> [<i>--mode MODE-LIST</i>]</dt>
  <dd class="It-tag">Reboot a domain. This acts just as if the domain had the
      <b>reboot</b> command run from the console. The command returns as soon as
      it has executed the reboot action, which may be significantly before the
      domain actually reboots.
    <div style="height: 1.00em;">&#x00A0;</div>
    The exact behavior of a domain when it reboots is set by the
      <i>on_reboot</i> parameter in the domain's XML definition.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default the hypervisor will try to pick a suitable shutdown method. To
      specify an alternative method, the <i>--mode</i> parameter can specify a
      comma separated list which includes &quot;acpi&quot;, &quot;agent&quot;,
      &quot;initctl&quot;, &quot;signal&quot; and &quot;paravirt&quot;. The
      order in which drivers will try each mode is undefined, and not related to
      the order specified to virsh. For strict control over ordering, use a
      single mode at a time and repeat the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reset</b> <i>domain</i></dt>
  <dd class="It-tag">Reset a domain immediately without any guest shutdown.
      <b>reset</b> emulates the power reset button on a machine, where all guest
      hardware sees the RST line set and reinitializes internal state.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: Reset without any guest OS shutdown risks data loss.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restore</b> <i>state-file</i> [<i>--bypass-cache</i>]
    [<i>--xml</i> <b>file</b>] [{<i>--running</i> | <i>--paused</i>}]</dt>
  <dd class="It-tag">Restores a domain from a <b>virsh save</b> state file. See
      <i>save</i> for more info.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--bypass-cache</i> is specified, the restore will avoid the file
      system cache, although this may slow down the operation.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--xml</i> <b>file</b> is usually omitted, but can be used to supply an
      alternative XML file for use on the restored guest with changes only in
      the host-specific portions of the domain XML. For example, it can be used
      to account for file naming differences in underlying storage due to disk
      snapshots taken after the guest was saved.
    <div style="height: 1.00em;">&#x00A0;</div>
    Normally, restoring a saved image will use the state recorded in the save
      image to decide between running or paused; passing either the
      <i>--running</i> or <i>--paused</i> flag will allow overriding which state
      the domain should be started in.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: To avoid corrupting file system contents within the domain,
      you should not reuse the saved state file for a second <b>restore</b>
      unless you have also reverted all storage volumes back to the same
      contents as when the state file was created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save</b> <i>domain</i> <i>state-file</i>
    [<i>--bypass-cache</i>] [ <i>--xml</i> <b>file</b>] [{<i>--running</i> |
    <i>--paused</i>}] [ <i>--verbose</i>]</dt>
  <dd class="It-tag">Saves a running domain (RAM, but not disk state) to a state
      file so that it can be restored later. Once saved, the domain will no
      longer be running on the system, thus the memory allocated for the domain
      will be free for other domains to use. <b>virsh restore</b> restores from
      this state file. If <i>--bypass-cache</i> is specified, the save will
      avoid the file system cache, although this may slow down the operation.
    <div style="height: 1.00em;">&#x00A0;</div>
    The progress may be monitored using <b>domjobinfo</b> virsh command and
      canceled with <b>domjobabort</b> command (sent by another virsh instance).
      Another option is to send SIGINT (usually with &quot;Ctrl-C&quot;) to the
      virsh process running <b>save</b> command. <i>--verbose</i> displays the
      progress of save.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is roughly equivalent to doing a hibernate on a running computer, with
      all the same limitations. Open network connections may be severed upon
      restore, as TCP timeouts may have expired.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--xml</i> <b>file</b> is usually omitted, but can be used to supply an
      alternative XML file for use on the restored guest with changes only in
      the host-specific portions of the domain XML. For example, it can be used
      to account for file naming differences that are planned to be made via
      disk snapshots of underlying storage after the guest is saved.
    <div style="height: 1.00em;">&#x00A0;</div>
    Normally, restoring a saved image will decide between running or paused
      based on the state the domain was in when the save was done; passing
      either the <i>--running</i> or <i>--paused</i> flag will allow overriding
      which state the <b>restore</b> should use.
    <div style="height: 1.00em;">&#x00A0;</div>
    Domain saved state files assume that disk images will be unchanged between
      the creation and restore point. For a more complete system restore point,
      where the disk state is saved alongside the memory state, see the
      <b>snapshot</b> family of commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-image-define</b> <i>file</i> <i>xml</i>
    [{<i>--running</i> | <i>--paused</i>}]</dt>
  <dd class="It-tag">Update the domain XML that will be used when <i>file</i> is
      later used in the <b>restore</b> command. The <i>xml</i> argument must be
      a file name containing the alternative XML, with changes only in the
      host-specific portions of the domain XML. For example, it can be used to
      account for file naming differences resulting from creating disk snapshots
      of underlying storage after the guest was saved.
    <div style="height: 1.00em;">&#x00A0;</div>
    The save image records whether the domain should be restored to a running or
      paused state. Normally, this command does not alter the recorded state;
      passing either the <i>--running</i> or <i>--paused</i> flag will allow
      overriding which state the <b>restore</b> should use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-image-dumpxml</b> <i>file</i>
    [<i>--security-info</i>]</dt>
  <dd class="It-tag">Extract the domain XML that was in effect at the time the
      saved state file <i>file</i> was created with the <b>save</b> command.
      Using <i>--security-info</i> will also include security sensitive
      information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-image-edit</b> <i>file</i> [{<i>--running</i> |
    <i>--paused</i>}]</dt>
  <dd class="It-tag">Edit the XML configuration associated with a saved state
      file <i>file</i> created by the <b>save</b> command.
    <div style="height: 1.00em;">&#x00A0;</div>
    The save image records whether the domain should be restored to a running or
      paused state. Normally, this command does not alter the recorded state;
      passing either the <i>--running</i> or <i>--paused</i> flag will allow
      overriding which state the <b>restore</b> should use.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh save-image-dumpxml state-file &gt; state-file.xml
 vi state-file.xml (or make changes with your other text editor)
 virsh save-image-define state-file state-file-xml
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>schedinfo</b> <i>domain</i> [[<i>--config</i>]
    [<i>--live</i>] | [ <i>--current</i>]] [[<i>--set</i>]
    <b>parameter=value</b>]...</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>schedinfo</b> [<i>--weight</i> <b>number</b>]
    [<i>--cap</i> <b>number</b>] <i>domain</i></dt>
  <dd class="It-tag">Allows you to show (and set) the domain scheduler
      parameters. The parameters available for each hypervisor are:
    <div style="height: 1.00em;">&#x00A0;</div>
    LXC (posix scheduler) : cpu_shares, vcpu_period, vcpu_quota
    <div style="height: 1.00em;">&#x00A0;</div>
    QEMU/KVM (posix scheduler): cpu_shares, vcpu_period, vcpu_quota,
      emulator_period, emulator_quota, iothread_quota, iothread_period
    <div style="height: 1.00em;">&#x00A0;</div>
    Xen (credit scheduler): weight, cap
    <div style="height: 1.00em;">&#x00A0;</div>
    ESX (allocation scheduler): reservation, limit, shares
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, set scheduler information of a running guest.
      If <i>--config</i> is specified, affect the next boot of a persistent
      guest. If <i>--current</i> is specified, affect the current guest state.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The cpu_shares parameter has a valid value range of 0-262144;
      Negative values are wrapped to positive, and larger values are capped at
      the maximum. Therefore, -1 is a useful shorthand for 262144. On the Linux
      kernel, the values 0 and 1 are automatically converted to a minimal value
      of 2.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The weight and cap parameters are defined only for the
      XEN_CREDIT scheduler and are now <i>DEPRECATED</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The vcpu_period, emulator_period, and iothread_period
      parameters have a valid value range of 1000-1000000 or 0, and the
      vcpu_quota, emulator_quota, and iothread_quota parameters have a valid
      value range of 1000-18446744073709551 or less than 0. The value 0 for
      either parameter is the same as not specifying that parameter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>screenshot</b> <i>domain</i> [<i>imagefilepath</i>]
    [<i>--screen</i> <b>screenID</b>]</dt>
  <dd class="It-tag">Takes a screenshot of a current domain console and stores
      it into a file. Optionally, if hypervisor supports more displays for a
      domain, <i>screenID</i> allows to specify which screen will be captured.
      It is the sequential number of screen. In case of multiple graphics cards,
      heads are enumerated before devices, e.g. having two graphics cards, both
      with four heads, screen ID 5 addresses the second head on the second
    card.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>send-key</b> <i>domain</i> [<i>--codeset</i>
    <b>codeset</b>] [ <i>--holdtime</i> <b>holdtime</b>] <i>keycode</i>...</dt>
  <dd class="It-tag">Parse the <i>keycode</i> sequence as keystrokes to send to
      <i>domain</i>. Each <i>keycode</i> can either be a numeric value or a
      symbolic name from the corresponding codeset. If <i>--holdtime</i> is
      given, each keystroke will be held for that many milliseconds. The default
      codeset is <b>linux</b>, but use of the <i>--codeset</i> option allows
      other codesets to be chosen.
    <div style="height: 1.00em;">&#x00A0;</div>
    If multiple keycodes are specified, they are all sent simultaneously to the
      guest, and they may be received in random order. If you need distinct
      keypresses, you must use multiple send-key invocations.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>linux</b></dt>
  <dd class="It-tag">The numeric values are those defined by the Linux generic
      input event subsystem. The symbolic names match the corresponding Linux
      key constant macro names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xt</b></dt>
  <dd class="It-tag">The numeric values are those defined by the original XT
      keyboard controller. No symbolic names are provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>atset1</b></dt>
  <dd class="It-tag">The numeric values are those defined by the AT keyboard
      controller, set 1 (aka XT compatible set). Extended keycoes from
      <b>atset1</b> may differ from extended keycodes in the <b>xt</b> codeset.
      No symbolic names are provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>atset2</b></dt>
  <dd class="It-tag">The numeric values are those defined by the AT keyboard
      controller, set 2. No symbolic names are provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>atset3</b></dt>
  <dd class="It-tag">The numeric values are those defined by the AT keyboard
      controller, set 3 (aka PS/2 compatible set). No symbolic names are
      provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>os_x</b></dt>
  <dd class="It-tag">The numeric values are those defined by the OS-X keyboard
      input subsystem. The symbolic names match the corresponding OS-X key
      constant macro names</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xt_kbd</b></dt>
  <dd class="It-tag">The numeric values are those defined by the Linux KBD
      device. These are a variant on the original XT codeset, but often with
      different encoding for extended keycodes. No symbolic names are
    provided.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>win32</b></dt>
  <dd class="It-tag">The numeric values are those defined by the Win32 keyboard
      input subsystem. The symbolic names match the corresponding Win32 key
      constant macro names</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usb</b></dt>
  <dd class="It-tag">The numeric values are those defined by the USB HID
      specification for keyboard input. No symbolic names are provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rfb</b></dt>
  <dd class="It-tag">The numeric values are those defined by the RFB extension
      for sending raw keycodes. These are a variant on the XT codeset, but
      extended keycodes have the low bit of the second byte set, instead of the
      high bit of the first byte. No symbolic names are provided.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<br/>
 # send three strokes 'k', 'e', 'y', using xt codeset. these
<br/>
 # are all pressed simultaneously and may be received by the guest
<br/>
 # in random order
<br/>
 virsh send-key dom --codeset xt 37 18 21
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
  # send one stroke 'right-ctrl+C'
  virsh send-key dom KEY_RIGHTCTRL KEY_C
  # send a tab, held for 1 second
  virsh send-key --holdtime 1000 0xf
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>send-process-signal</b> <i>domain-id</i> <i>pid</i>
    <i>signame</i></dt>
  <dd class="It-tag">Send a signal <i>signame</i> to the process identified by
      <i>pid</i> running in the virtual domain <i>domain-id</i>. The <i>pid</i>
      is a process ID in the virtual domain namespace.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>signame</i> argument may be either an integer signal constant number,
      or one of the symbolic names:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    &quot;nop&quot;, &quot;hup&quot;, &quot;int&quot;, &quot;quit&quot;, &quot;ill&quot;,
    &quot;trap&quot;, &quot;abrt&quot;, &quot;bus&quot;, &quot;fpe&quot;, &quot;kill&quot;,
    &quot;usr1&quot;, &quot;segv&quot;, &quot;usr2&quot;, &quot;pipe&quot;, &quot;alrm&quot;,
    &quot;term&quot;, &quot;stkflt&quot;, &quot;chld&quot;, &quot;cont&quot;, &quot;stop&quot;,
    &quot;tstp&quot;, &quot;ttin&quot;, &quot;ttou&quot;, &quot;urg&quot;, &quot;xcpu&quot;,
    &quot;xfsz&quot;, &quot;vtalrm&quot;, &quot;prof&quot;, &quot;winch&quot;, &quot;poll&quot;,
    &quot;pwr&quot;, &quot;sys&quot;, &quot;rt0&quot;, &quot;rt1&quot;, &quot;rt2&quot;, &quot;rt3&quot;,
    &quot;rt4&quot;, &quot;rt5&quot;, &quot;rt6&quot;, &quot;rt7&quot;, &quot;rt8&quot;, &quot;rt9&quot;,
    &quot;rt10&quot;, &quot;rt11&quot;, &quot;rt12&quot;, &quot;rt13&quot;, &quot;rt14&quot;, &quot;rt15&quot;,
    &quot;rt16&quot;, &quot;rt17&quot;, &quot;rt18&quot;, &quot;rt19&quot;, &quot;rt20&quot;, &quot;rt21&quot;,
    &quot;rt22&quot;, &quot;rt23&quot;, &quot;rt24&quot;, &quot;rt25&quot;, &quot;rt26&quot;, &quot;rt27&quot;,
    &quot;rt28&quot;, &quot;rt29&quot;, &quot;rt30&quot;, &quot;rt31&quot;, &quot;rt32&quot;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The symbol name may optionally be prefixed with 'sig' or 'sig_' and may be
      in uppercase or lowercase.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Examples</b>
    <br/>
     virsh send-process-signal myguest 1 15
    <br/>
     virsh send-process-signal myguest 1 term
    <br/>
     virsh send-process-signal myguest 1 sigterm
    <br/>
     virsh send-process-signal myguest 1 SIG_HUP</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>setmem</b> <i>domain</i> <b>size</b> [[<i>--config</i>]
    [ <i>--live</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Change the memory allocation for a guest domain. If
      <i>--live</i> is specified, perform a memory balloon of a running guest.
      If <i>--config</i> is specified, affect the next boot of a persistent
      guest. If <i>--current</i> is specified, affect the current guest state.
      Both <i>--live</i> and <i>--config</i> flags may be given, but
      <i>--current</i> is exclusive. If no flag is specified, behavior is
      different depending on hypervisor.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>size</i> is a scaled integer (see <b>NOTES</b> above); it defaults to
      kibibytes (blocks of 1024 bytes) unless you provide a suffix (and the
      older option name <i>--kilobytes</i> is available as a deprecated synonym)
      . Libvirt rounds up to the nearest kibibyte. Some hypervisors require a
      larger granularity than KiB, and requests that are not an even multiple
      will be rounded up. For example, vSphere/ESX rounds the parameter up to
      mebibytes (1024 kibibytes).
    <div style="height: 1.00em;">&#x00A0;</div>
    For Xen, you can only adjust the memory of a running domain if the domain is
      paravirtualized or running the PV balloon driver.
    <div style="height: 1.00em;">&#x00A0;</div>
    For LXC, the value being set is the cgroups value for limit_in_bytes or the
      maximum amount of user memory (including file cache). When viewing memory
      inside the container, this is the /proc/meminfo &quot;MemTotal&quot;
      value. When viewing the value from the host, use the <b>virsh memtune</b>
      command. In order to view the current memory in use and the maximum value
      allowed to set memory, use the <b>virsh dominfo</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-user-password</b> <i>domain</i> <i>user</i>
    <i>password</i> [ <i>--encrypted</i>]</dt>
  <dd class="It-tag">Set the password for the <i>user</i> account in the guest
      domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--encrypted</i> is specified, the password is assumed to be already
      encrypted by the method required by the guest OS.
    <div style="height: 1.00em;">&#x00A0;</div>
    For QEMU/KVM, this requires the guest agent to be configured and
    running.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>setmaxmem</b> <i>domain</i> <b>size</b>
    [[<i>--config</i>] [ <i>--live</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Change the maximum memory allocation limit for a guest
      domain. If <i>--live</i> is specified, affect a running guest. If
      <i>--config</i> is specified, affect the next boot of a persistent guest.
      If <i>--current</i> is specified, affect the current guest state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. If no flag is specified, behavior is different depending on
      hypervisor.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some hypervisors such as QEMU/KVM don't support live changes (especially
      increasing) of the maximum memory limit. Even persistent configuration
      changes might not be performed with some hypervisors/configuration (e.g.
      on NUMA enabled domains on QEMU). For complex configuration changes use
      command <b>edit</b> instead).
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>size</i> is a scaled integer (see <b>NOTES</b> above); it defaults to
      kibibytes (blocks of 1024 bytes) unless you provide a suffix (and the
      older option name <i>--kilobytes</i> is available as a deprecated synonym)
      . Libvirt rounds up to the nearest kibibyte. Some hypervisors require a
      larger granularity than KiB, and requests that are not an even multiple
      will be rounded up. For example, vSphere/ESX rounds the parameter up to
      mebibytes (1024 kibibytes).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>memtune</b> <i>domain</i> [<i>--hard-limit</i>
    <b>size</b>] [ <i>--soft-limit</i> <b>size</b>] [<i>--swap-hard-limit</i>
    <b>size</b>] [<i>--min-guarantee</i> <b>size</b>] [[<i>--config</i>]
    [<i>--live</i>] | [ <i>--current</i>]]</dt>
  <dd class="It-tag">Allows you to display or set the domain memory parameters.
      Without flags, the current settings are displayed; with a flag, the
      appropriate limit is adjusted if supported by the hypervisor. LXC and
      QEMU/KVM support <i>--hard-limit</i>, <i>--soft-limit</i>, and
      <i>--swap-hard-limit</i>. <i>--min-guarantee</i> is supported only by ESX
      hypervisor. Each of these limits are scaled integers (see <b>NOTES</b>
      above), with a default of kibibytes (blocks of 1024 bytes) if no suffix is
      present. Libvirt rounds up to the nearest kibibyte. Some hypervisors
      require a larger granularity than KiB, and requests that are not an even
      multiple will be rounded up. For example, vSphere/ESX rounds the parameter
      up to mebibytes (1024 kibibytes).
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state. Both <i>--live</i> and
      <i>--config</i> flags may be given, but <i>--current</i> is exclusive. If
      no flag is specified, behavior is different depending on hypervisor.
    <div style="height: 1.00em;">&#x00A0;</div>
    For QEMU/KVM, the parameters are applied to the QEMU process as a whole.
      Thus, when counting them, one needs to add up guest RAM, guest video RAM,
      and some memory overhead of QEMU itself. The last piece is hard to
      determine so one needs guess and try.
    <div style="height: 1.00em;">&#x00A0;</div>
    For LXC, the displayed hard_limit value is the current memory setting from
      the XML or the results from a <b>virsh setmem</b> command.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>--hard-limit</i></dt>
  <dd class="It-tag">The maximum memory the guest can use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--soft-limit</i></dt>
  <dd class="It-tag">The memory limit to enforce during memory contention.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--swap-hard-limit</i></dt>
  <dd class="It-tag">The maximum memory plus swap the guest can use. This has to
      be more than hard-limit value provided.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--min-guarantee</i></dt>
  <dd class="It-tag">The guaranteed minimum memory allocation for the
    guest.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Specifying -1 as a value for these limits is interpreted as unlimited.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>perf</b> <i>domain</i> [<i>--enable</i>
    <b>eventSpec</b>] [ <i>--disable</i> <b>eventSpec</b>] [[<i>--config</i>]
    [<i>--live</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Get the current perf events setting or enable/disable
      specific perf events for a guest domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Perf is a performance analyzing tool in Linux, and it can instrument CPU
      performance counters, tracepoints, kprobes, and uprobes (dynamic tracing).
      Perf supports a list of measurable events, and can measure events coming
      from different sources. For instance, some event are pure kernel counters,
      in this case they are called software events, including context-switches,
      minor-faults, etc.. Now dozens of events from different sources can be
      supported by perf.
    <div style="height: 1.00em;">&#x00A0;</div>
    Currently only QEMU/KVM supports this command. The <i>--enable</i> and
      <i>--disable</i> option combined with <b>eventSpec</b> can be used to
      enabled or disable specific performance event. <b>eventSpec</b> is a
      string list of one or more events separated by commas. Valid event names
      are &quot;cmt&quot;, &quot;mbmt&quot;, &quot;mbml&quot;. CMT is a PQos
      (Platform Qos) feature to monitor the usage of cache by applications
      running on the platform. MBM (Memory Bandwidth Monitoring) provides a way
      to monitor the Total system memory bandwidth between one level of cache
      and another (mbmt) and the amount of data (bytes/s) sent through the
      memory controller on the socket (mbml).
    <div style="height: 1.00em;">&#x00A0;</div>
    The statistics can be retrieved using the <b>domstats</b> command using the
      <i>--perf</i> flag.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state. Both <i>--live</i> and
      <i>--config</i> flags may be given, but <i>--current</i> is exclusive. If
      no flag is specified, behavior is different depending on hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blkiotune</b> <i>domain</i> [<i>--weight</i>
    <b>weight</b>] [ <i>--device-weights</i> <b>device-weights</b>]
    [<i>--device-read-iops-sec</i> <b>device-read-iops-sec</b>]
    [<i>--device-write-iops-sec</i> <b>device-write-iops-sec</b>]
    [<i>--device-read-bytes-sec</i> <b>device-read-bytes-sec</b>]
    [<i>--device-write-bytes-sec</i> <b>device-write-bytes-sec</b>]
    [[<i>--config</i>] [ <i>--live</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Display or set the blkio parameters. QEMU/KVM supports
      <i>--weight</i>. <i>--weight</i> is in range [100, 1000]. After kernel
      2.6.39, the value could be in the range [10, 1000].
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>device-weights</b> is a single string listing one or more device/weight
      pairs, in the format of /path/to/device,weight,/path/to/device,weight.
      Each weight is in the range [100, 1000], [10, 1000] after kernel 2.6.39,
      or the value 0 to remove that device from per-device listings. Only the
      devices listed in the string are modified; any existing per-device weights
      for other devices remain unchanged.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>device-read-iops-sec</b> is a single string listing one or more
      device/read_iops_sec pairs, int the format of
      /path/to/device,read_iops_sec,/path/to/device,read_iops_sec. Each
      read_iops_sec is a number which type is unsigned int, value 0 to remove
      that device from per-decice listing. Only the devices listed in the string
      are modified; any existing per-device read_iops_sec for other devices
      remain unchanged.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>device-write-iops-sec</b> is a single string listing one or more
      device/write_iops_sec pairs, int the format of
      /path/to/device,write_iops_sec,/path/to/device,write_iops_sec. Each
      write_iops_sec is a number which type is unsigned int, value 0 to remove
      that device from per-decice listing. Only the devices listed in the string
      are modified; any existing per-device write_iops_sec for other devices
      remain unchanged.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>device-read-bytes-sec</b> is a single string listing one or more
      device/read_bytes_sec pairs, int the format of
      /path/to/device,read_bytes_sec,/path/to/device,read_bytes_sec. Each
      read_bytes_sec is a number which type is unsigned long long, value 0 to
      remove that device from per-decice listing. Only the devices listed in the
      string are modified; any existing per-device read_bytes_sec for other
      devices remain unchanged.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>device-write-bytes-sec</b> is a single string listing one or more
      device/write_bytes_sec pairs, int the format of
      /path/to/device,write_bytes_sec,/path/to/device,write_bytes_sec. Each
      write_bytes_sec is a number which type is unsigned long long, value 0 to
      remove that device from per-decice listing. Only the devices listed in the
      string are modified; any existing per-device write_bytes_sec for other
      devices remain unchanged.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state. Both <i>--live</i> and
      <i>--config</i> flags may be given, but <i>--current</i> is exclusive. If
      no flag is specified, behavior is different depending on hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>setvcpus</b> <i>domain</i> <i>count</i>
    [<i>--maximum</i>] [[ <i>--config</i>] [<i>--live</i>] | [<i>--current</i>]]
    [ <i>--guest</i>]</dt>
  <dd class="It-tag">Change the number of virtual CPUs active in a guest domain.
      By default, this command works on active guest domains. To change the
      settings for an inactive guest domain, use the <i>--config</i> flag.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>count</i> value may be limited by host, hypervisor, or a limit coming
      from the original description of the guest domain. For Xen, you can only
      adjust the virtual CPUs of a running domain if the domain is
      paravirtualized.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the <i>--config</i> flag is specified, the change is made to the stored
      XML configuration for the guest domain, and will only take effect when the
      guest domain is next started.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, the guest domain must be active, and the
      change takes place immediately. Both the <i>--config</i> and <i>--live</i>
      flags may be specified together if supported by the hypervisor. If this
      command is run before the guest has finished booting, the guest may fail
      to process the change.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--current</i> is specified, affect the current guest state.
    <div style="height: 1.00em;">&#x00A0;</div>
    When no flags are given, the <i>--live</i> flag is assumed and the guest
      domain must be active. In this situation it is up to the hypervisor
      whether the <i>--config</i> flag is also assumed, and therefore whether
      the XML configuration is adjusted to make the change persistent.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--guest</i> is specified, then the count of cpus is modified in the
      guest instead of the hypervisor. This flag is usable only for live domains
      and may require guest agent to be configured in the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--maximum</i> flag controls the maximum number of virtual cpus that
      can be hot-plugged the next time the domain is booted. As such, it must
      only be used with the <i>--config</i> flag, and not with the <i>--live</i>
      or the <i>--current</i> flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shutdown</b> <i>domain</i> [<i>--mode
    MODE-LIST</i>]</dt>
  <dd class="It-tag">Gracefully shuts down a domain. This coordinates with the
      domain OS to perform graceful shutdown, so there is no guarantee that it
      will succeed, and may take a variable length of time depending on what
      services must be shutdown in the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    The exact behavior of a domain when it shuts down is set by the
      <i>on_shutdown</i> parameter in the domain's XML definition.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>domain</i> is transient, then the metadata of any snapshots will be
      lost once the guest stops running, but the snapshot contents still exist,
      and a new domain with the same name and UUID can restore the snapshot
      metadata with <b>snapshot-create</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default the hypervisor will try to pick a suitable shutdown method. To
      specify an alternative method, the <i>--mode</i> parameter can specify a
      comma separated list which includes &quot;acpi&quot;, &quot;agent&quot;,
      &quot;initctl&quot;, &quot;signal&quot; and &quot;paravirt&quot;. The
      order in which drivers will try each mode is undefined, and not related to
      the order specified to virsh. For strict control over ordering, use a
      single mode at a time and repeat the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>start</b> <i>domain-name-or-uuid</i> [<i>--console</i>]
    [ <i>--paused</i>] [<i>--autodestroy</i>] [<i>--bypass-cache</i>]
    [<i>--force-boot</i>] [ <i>--pass-fds N,M,...</i>]</dt>
  <dd class="It-tag">Start a (previously defined) inactive domain, either from
      the last <b>managedsave</b> state, or via a fresh boot if no managedsave
      state is present. The domain will be paused if the <i>--paused</i> option
      is used and supported by the driver; otherwise it will be running. If
      <i>--console</i> is requested, attach to the console after creation. If
      <i>--autodestroy</i> is requested, then the guest will be automatically
      destroyed when virsh closes its connection to libvirt, or otherwise exits.
      If <i>--bypass-cache</i> is specified, and managedsave state exists, the
      restore will avoid the file system cache, although this may slow down the
      operation. If <i>--force-boot</i> is specified, then any managedsave state
      is discarded and a fresh boot occurs.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--pass-fds</i> is specified, the argument is a comma separated list of
      open file descriptors which should be pass on into the guest. The file
      descriptors will be re-numered in the guest, starting from 3. This is only
      supported with container based virtualization.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>suspend</b> <i>domain</i></dt>
  <dd class="It-tag">Suspend a running domain. It is kept in memory but won't be
      scheduled anymore.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>resume</b> <i>domain</i></dt>
  <dd class="It-tag">Moves a domain out of the suspended state. This will allow
      a previously suspended domain to now be eligible for scheduling by the
      underlying hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dompmsuspend</b> <i>domain</i> <i>target</i>
    [<i>--duration</i>]</dt>
  <dd class="It-tag">Suspend a running domain into one of these states (possible
      <i>target</i> values):
    <br/>
     mem equivalent of S3 ACPI state
    <br/>
     disk equivalent of S4 ACPI state
    <br/>
     hybrid RAM is saved to disk but not powered off
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--duration</i> argument specifies number of seconds before the domain
      is woken up after it was suspended (see also <b>dompmwakeup</b>). Default
      is 0 for unlimited suspend time. (This feature isn't currently supported
      by any hypervisor driver and 0 should be used.).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this command requires a guest agent configured and running in the
      domain's guest OS.
    <div style="height: 1.00em;">&#x00A0;</div>
    Beware that at least for QEMU, the domain's process will be terminated when
      target disk is used and a new process will be launched when libvirt is
      asked to wake up the domain. As a result of this, any runtime changes,
      such as device hotplug or memory settings, are lost unless such changes
      were made with <i>--config</i> flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dompmwakeup</b> <i>domain</i></dt>
  <dd class="It-tag">Wakeup a domain from pmsuspended state (either suspended by
      dompmsuspend or from the guest itself). Injects a wakeup into the guest
      that is in pmsuspended state, rather than waiting for the previously
      requested duration (if any) to elapse. This operation doesn't not
      necessarily fail if the domain is running.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ttyconsole</b> <i>domain</i></dt>
  <dd class="It-tag">Output the device used for the TTY console of the domain.
      If the information is not available the processes will provide an exit
      code of 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>undefine</b> <i>domain</i> [<i>--managed-save</i>]
    [<i>--snapshots-metadata</i>] [ <i>--nvram</i>] [ {<i>--storage</i>
    <b>volumes</b> | <i>--remove-all-storage</i> [<i>--delete-snapshots</i>]}
    <i>--wipe-storage</i>]</dt>
  <dd class="It-tag">Undefine a domain. If the domain is running, this converts
      it to a transient domain, without stopping it. If the domain is inactive,
      the domain configuration is removed.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--managed-save</i> flag guarantees that any managed save image (see
      the <b>managedsave</b> command) is also cleaned up. Without the flag,
      attempts to undefine a domain with a managed save image will fail.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--snapshots-metadata</i> flag guarantees that any snapshots (see the
      <b>snapshot-list</b> command) are also cleaned up when undefining an
      inactive domain. Without the flag, attempts to undefine an inactive domain
      with snapshot metadata will fail. If the domain is active, this flag is
      ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--nvram</i> flag ensures no nvram (/domain/os/nvram/) file is left
      behind. If the domain has an nvram file and the flag is omitted, the
      undefine will fail.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--storage</i> flag takes a parameter <b>volumes</b>, which is a comma
      separated list of volume target names or source paths of storage volumes
      to be removed along with the undefined domain. Volumes can be undefined
      and thus removed only on inactive domains. Volume deletion is only
      attempted after the domain is undefined; if not all of the requested
      volumes could be deleted, the error message indicates what still remains
      behind. If a volume path is not found in the domain definition, it's
      treated as if the volume was successfully deleted. Only volumes managed by
      libvirt in storage pools can be removed this way. (See <b>domblklist</b>
      for list of target names associated to a domain). Example: --storage
      vda,/path/to/storage.img
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--remove-all-storage</i> flag specifies that all of the domain's
      storage volumes should be deleted.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--delete-snapshots</i> flag specifies that any snapshots associated
      with the storage volume should be deleted as well. Requires the
      <i>--remove-all-storage</i> flag to be provided. Not all storage drivers
      support this option, presently only rbd.
    <div style="height: 1.00em;">&#x00A0;</div>
    The flag <i>--wipe-storage</i> specifies that the storage volumes should be
      wiped before removal.
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTE: For an inactive domain, the domain name or UUID must be used as the
      <i>domain</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vcpucount</b> <i>domain</i> [{<i>--maximum</i> |
    <i>--active</i>} { <i>--config</i> | <i>--live</i> | <i>--current</i>}]
    [<i>--guest</i>]</dt>
  <dd class="It-tag">Print information about the virtual cpu counts of the given
      <i>domain</i>. If no flags are specified, all possible counts are listed
      in a table; otherwise, the output is limited to just the numeric value
      requested. For historical reasons, the table lists the label
      &quot;current&quot; on the rows that can be queried in isolation via the
      <i>--active</i> flag, rather than relating to the <i>--current</i> flag.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--maximum</i> requests information on the maximum cap of vcpus that a
      domain can add via <b>setvcpus</b>, while <i>--active</i> shows the
      current usage; these two flags cannot both be specified. <i>--config</i>
      requires a persistent domain and requests information regarding the next
      time the domain will be booted, <i>--live</i> requires a running domain
      and lists current values, and <i>--current</i> queries according to the
      current state of the domain (corresponding to <i>--live</i> if running, or
      <i>--config</i> if inactive); these three flags are mutually exclusive.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--guest</i> is specified, then the count of cpus is reported from the
      perspective of the guest. This flag is usable only for live domains and
      may require guest agent to be configured in the guest.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vcpuinfo</b> <i>domain</i> [<i>--pretty</i>]</dt>
  <dd class="It-tag">Returns basic information about the domain virtual CPUs,
      like the number of vCPUs, the running time, the affinity to physical
      processors.
    <div style="height: 1.00em;">&#x00A0;</div>
    With <i>--pretty</i>, cpu affinities are shown as ranges.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vcpupin</b> <i>domain</i> [<i>vcpu</i>] [<i>cpulist</i>]
    [[ <i>--live</i>] [<i>--config</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Query or change the pinning of domain VCPUs to host
      physical CPUs. To pin a single <i>vcpu</i>, specify <i>cpulist</i>;
      otherwise, you can query one <i>vcpu</i> or omit <i>vcpu</i> to list all
      at once.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>cpulist</i> is a list of physical CPU numbers. Its syntax is a comma
      separated list and a special markup using '-' and '^' (ex. '0-4',
      '0-3,^2') can also be allowed. The '-' denotes the range and the '^'
      denotes exclusive. For pinning the <i>vcpu</i> to all physical cpus
      specify 'r' as a <i>cpulist</i>. If <i>--live</i> is specified, affect a
      running guest. If <i>--config</i> is specified, affect the next boot of a
      persistent guest. If <i>--current</i> is specified, affect the current
      guest state. Both <i>--live</i> and <i>--config</i> flags may be given if
      <i>cpulist</i> is present, but <i>--current</i> is exclusive. If no flag
      is specified, behavior is different depending on hypervisor.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The expression is sequentially evaluated, so
      &quot;0-15,^8&quot; is identical to &quot;9-14,0-7,15&quot; but not
      identical to &quot;^8,0-15&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>emulatorpin</b> <i>domain</i> [<i>cpulist</i>]
    [[<i>--live</i>] [ <i>--config</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Query or change the pinning of domain's emulator threads to
      host physical CPUs.
    <div style="height: 1.00em;">&#x00A0;</div>
    See <b>vcpupin</b> for <i>cpulist</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running guest. If <i>--config</i> is
      specified, affect the next boot of a persistent guest. If <i>--current</i>
      is specified, affect the current guest state. Both <i>--live</i> and
      <i>--config</i> flags may be given if <i>cpulist</i> is present, but
      <i>--current</i> is exclusive. If no flag is specified, behavior is
      different depending on hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>guestvcpus</b> <i>domain</i> [[<i>--enable</i>] |
    [<i>--disable</i>]] [ <i>cpulist</i>]</dt>
  <dd class="It-tag">Query or change state of vCPUs from guest's point of view
      using the guest agent. When invoked without <i>cpulist</i> the guest is
      queried for available guest vCPUs, their state and possibility to be
      offlined.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>cpulist</i> is provided then one of <i>--enable</i> or
      <i>--disable</i> must be provided too. The desired operation is then
      executed on the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    See <b>vcpupin</b> for information on <i>cpulist</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vncdisplay</b> <i>domain</i></dt>
  <dd class="It-tag">Output the IP address and port number for the VNC display.
      If the information is not available the processes will provide an exit
      code of 1.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DEVICE_COMMANDS"><a class="selflink" href="#DEVICE_COMMANDS">DEVICE
  COMMANDS</a></h1>
The following commands manipulate devices associated to domains. The
  <i>domain</i> can be specified as a short integer, a name or a full UUID. To
  better understand the values allowed as options for the command reading the
  documentation at &lt;http://libvirt.org/formatdomain.html&gt; on the format of
  the device sections to get the most accurate set of accepted values.
<dl class="Bl-tag">
  <dt class="It-tag"><b>attach-device</b> <i>domain</i> <i>FILE</i>
    [[[<i>--live</i>] [ <i>--config</i>] | [<i>--current</i>]] |
    [<i>--persistent</i>]]</dt>
  <dd class="It-tag">Attach a device to the domain, using a device definition in
      an XML file using a device definition element such as &lt;disk&gt; or
      &lt;interface&gt; as the top-level element. See the documentation at
      &lt;http://libvirt.org/formatdomain.html#elementsDevices&gt; to learn
      about libvirt XML format for a device. If <i>--config</i> is specified the
      command alters the persistent domain configuration with the device attach
      taking effect the next time libvirt starts the domain. For cdrom and
      floppy devices, this command only replaces the media within an existing
      device; consider using <b>update-device</b> for this usage. For
      passthrough host devices, see also <b>nodedev-detach</b>, needed if the
      PCI device does not use managed mode.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running domain. If <i>--config</i>
      is specified, affect the next startup of a persistent domain. If
      <i>--current</i> is specified, affect the current domain state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. When no flag is specified legacy API is used whose behavior
      depends on the hypervisor driver.
    <div style="height: 1.00em;">&#x00A0;</div>
    For compatibility purposes, <i>--persistent</i> behaves like <i>--config</i>
      for an offline domain, and like <i>--live</i> <i>--config</i> for a
      running domain.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: using of partial device definition XML files may lead to
      unexpected results as some fields may be autogenerated and thus match
      devices other than expected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>attach-disk</b> <i>domain</i> <i>source</i>
    <i>target</i> [[[ <i>--live</i>] [<i>--config</i>] | [<i>--current</i>]] |
    [<i>--persistent</i>]] [<i>--targetbus bus</i>] [<i>--driver driver</i>]
    [<i>--subdriver subdriver</i>] [<i>--iothread iothread</i>] [<i>--cache
    cache</i>] [ <i>--type type</i>] [<i>--mode mode</i>] [<i>--sourcetype
    sourcetype</i>] [ <i>--serial serial</i>] [<i>--wwn wwn</i>]
    [<i>--rawio</i>] [ <i>--address address</i>] [<i>--multifunction</i>]
    [<i>--print-xml</i>]</dt>
  <dd class="It-tag">Attach a new disk device to the domain. <i>source</i> is
      path for the files and devices. <i>target</i> controls the bus or device
      under which the disk is exposed to the guest OS. It indicates the
      &quot;logical&quot; device name; the optional <i>targetbus</i> attribute
      specifies the type of disk device to emulate; possible values are driver
      specific, with typical values being <i>ide</i>, <i>scsi</i>,
      <i>virtio</i>, <i>xen</i>, <i>usb</i>, <i>sata</i>, or <i>sd</i>, if
      omitted, the bus type is inferred from the style of the device name (e.g.
      a device named 'sda' will typically be exported using a SCSI bus).
      <i>driver</i> can be <i>file</i>, <i>tap</i> or <i>phy</i> for the Xen
      hypervisor depending on the kind of access; or <i>qemu</i> for the QEMU
      emulator. Further details to the driver can be passed using
      <i>subdriver</i>. For Xen <i>subdriver</i> can be <i>aio</i>, while for
      QEMU subdriver should match the format of the disk source, such as
      <i>raw</i> or <i>qcow2</i>. Hypervisor default will be used if
      <i>subdriver</i> is not specified. However, the default may not be
      correct, esp. for QEMU as for security reasons it is configured not to
      detect disk formats. <i>type</i> can indicate <i>lun</i>, <i>cdrom</i> or
      <i>floppy</i> as alternative to the disk default, although this use only
      replaces the media within the existing virtual cdrom or floppy device;
      consider using <b>update-device</b> for this usage instead. <i>mode</i>
      can specify the two specific mode <i>readonly</i> or <i>shareable</i>.
      <i>sourcetype</i> can indicate the type of source (block|file)
      <i>cache</i> can be one of &quot;default&quot;, &quot;none&quot;,
      &quot;writethrough&quot;, &quot;writeback&quot;, &quot;directsync&quot; or
      &quot;unsafe&quot;. <i>iothread</i> is the number within the range of
      domain IOThreads to which this disk may be attached (QEMU only).
      <i>serial</i> is the serial of disk device. <i>wwn</i> is the wwn of disk
      device. <i>rawio</i> indicates the disk needs rawio capability.
      <i>address</i> is the address of disk device in the form of
      pci:domain.bus.slot.function, scsi:controller.bus.unit,
      ide:controller.bus.unit or ccw:cssid.ssid.devno. Virtio-ccw devices must
      have their cssid set to 0xfe. <i>multifunction</i> indicates specified pci
      address is a multifunction pci device address.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--print-xml</i> is specified, then the XML of the disk that would be
      attached is printed instead.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running domain. If <i>--config</i>
      is specified, affect the next startup of a persistent domain. If
      <i>--current</i> is specified, affect the current domain state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. When no flag is specified legacy API is used whose behavior
      depends on the hypervisor driver.
    <div style="height: 1.00em;">&#x00A0;</div>
    For compatibility purposes, <i>--persistent</i> behaves like <i>--config</i>
      for an offline domain, and like <i>--live</i> <i>--config</i> for a
      running domain. Likewise, <i>--shareable</i> is an alias for <i>--mode
      shareable</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>attach-interface</b> <i>domain</i> <i>type</i>
    <i>source</i> [[[ <i>--live</i>] [<i>--config</i>] | [<i>--current</i>]] |
    [<i>--persistent</i>]] [<i>--target target</i>] [<i>--mac mac</i>]
    [<i>--script script</i>] [ <i>--model model</i>] [<i>--inbound
    average,peak,burst,floor</i>] [ <i>--outbound average,peak,burst</i>]
    [<i>--managed</i>] [ <i>--print-xml</i>]</dt>
  <dd class="It-tag">Attach a new network interface to the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>type</b> can be one of the:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"><i>network</i> to indicate connection via a
  libvirt virtual network,
<div style="height: 1.00em;">&#x00A0;</div>
<i>bridge</i> to indicate connection via a bridge device on the host,
<div style="height: 1.00em;">&#x00A0;</div>
<i>direct</i> to indicate connection directly to one of the host's network
  interfaces or bridges,
<div style="height: 1.00em;">&#x00A0;</div>
<i>hostdev</i> to indicate connection using a passthrough of PCI device on the
  host.</div>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>source</b> indicates the source of the connection. The source depends on the
  type of the interface:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"><i>network</i> name of the virtual network,
<div style="height: 1.00em;">&#x00A0;</div>
<i>bridge</i> the name of the bridge device,
<div style="height: 1.00em;">&#x00A0;</div>
<i>direct</i> the name of the host's interface or bridge,
<div style="height: 1.00em;">&#x00A0;</div>
<i>hostdev</i> the PCI address of the host's interface formatted as
  domain:bus:slot.function.</div>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>--target</b> is used to specify the tap/macvtap device to be used to connect
  the domain to the source. Names starting with 'vnet' are considered as
  auto-generated and are blanked out/regenerated each time the interface is
  attached.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--mac</b> specifies the MAC address of the network interface; if a MAC
  address is not given, a new address will be automatically generated (and
  stored in the persistent configuration if &quot;--config&quot; is given on the
  command line).
<div style="height: 1.00em;">&#x00A0;</div>
<b>--script</b> is used to specify a path to a custom script to be called while
  attaching to a bridge - this will be called instead of the default script not
  in addition to it. This is valid only for interfaces of <i>bridge</i> type and
  only for Xen domains.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--model</b> specifies the network device model to be presented to the domain.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--inbound</b> and <b>--outbound</b> control the bandwidth of the interface.
  At least one from the <i>average</i>, <i>floor</i> pair must be specified. The
  other two <i>peak</i> and <i>burst</i> are optional, so
  &quot;average,peak&quot;, &quot;average,,burst&quot;,
  &quot;average,,,floor&quot;, &quot;average&quot; and &quot;,,,floor&quot; are
  also legal. Values for <i>average</i>, <i>floor</i> and <i>peak</i> are
  expressed in kilobytes per second, while <i>burst</i> is expressed in
  kilobytes in a single burst at <i>peak</i> speed as described in the Network
  XML documentation at &lt;http://libvirt.org/formatnetwork.html#elementQoS&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--managed</b> is usable only for <i>hostdev</i> type and tells libvirt that
  the interface should be managed, which means detached and reattached from/to
  the host by libvirt.
<div style="height: 1.00em;">&#x00A0;</div>
If <b>--print-xml</b> is specified, then the XML of the interface that would be
  attached is printed instead.
<div style="height: 1.00em;">&#x00A0;</div>
If <b>--live</b> is specified, affect a running domain. If <b>--config</b> is
  specified, affect the next startup of a persistent domain. If <b>--current</b>
  is specified, affect the current domain state. Both <b>--live</b> and
  <b>--config</b> flags may be given, but <b>--current</b> is exclusive. When no
  flag is specified legacy API is used whose behavior depends on the hypervisor
  driver.
<div style="height: 1.00em;">&#x00A0;</div>
For compatibility purposes, <b>--persistent</b> behaves like <b>--config</b> for
  an offline domain, and like <b>--live</b> <b>--config</b> for a running
  domain.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Note</b>: the optional target value is the name of a device to be created as
  the back-end on the node. If not provided a device named &quot;vnetN&quot; or
  &quot;vifN&quot; will be created automatically.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>detach-device</b> <i>domain</i> <i>FILE</i>
    [[[<i>--live</i>] [ <i>--config</i>] | [<i>--current</i>]] |
    [<i>--persistent</i>]]</dt>
  <dd class="It-tag">Detach a device from the domain, takes the same kind of XML
      descriptions as command <b>attach-device</b>. For passthrough host
      devices, see also <b>nodedev-reattach</b>, needed if the device does not
      use managed mode.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The supplied XML description of the device should be as
      specific as its definition in the domain XML. The set of attributes used
      to match the device are internal to the drivers. Using a partial
      definition, or attempting to detach a device that is not present in the
      domain XML, but shares some specific attributes with one that is present,
      may lead to unexpected results.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running domain. If <i>--config</i>
      is specified, affect the next startup of a persistent domain. If
      <i>--current</i> is specified, affect the current domain state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. When no flag is specified legacy API is used whose behavior
      depends on the hypervisor driver.
    <div style="height: 1.00em;">&#x00A0;</div>
    For compatibility purposes, <i>--persistent</i> behaves like <i>--config</i>
      for an offline domain, and like <i>--live</i> <i>--config</i> for a
      running domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that older versions of virsh used <i>--config</i> as an alias for
      <i>--persistent</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>detach-disk</b> <i>domain</i> <i>target</i>
    [[[<i>--live</i>] [ <i>--config</i>] | [<i>--current</i>]] |
    [<i>--persistent</i>]]</dt>
  <dd class="It-tag">Detach a disk device from a domain. The <i>target</i> is
      the device as seen from the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running domain. If <i>--config</i>
      is specified, affect the next startup of a persistent domain. If
      <i>--current</i> is specified, affect the current domain state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. When no flag is specified legacy API is used whose behavior
      depends on the hypervisor driver.
    <div style="height: 1.00em;">&#x00A0;</div>
    For compatibility purposes, <i>--persistent</i> behaves like <i>--config</i>
      for an offline domain, and like <i>--live</i> <i>--config</i> for a
      running domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that older versions of virsh used <i>--config</i> as an alias for
      <i>--persistent</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>detach-interface</b> <i>domain</i> <i>type</i> [<i>--mac
    mac</i>] [[[ <i>--live</i>] [<i>--config</i>] | [<i>--current</i>]] |
    [<i>--persistent</i>]]</dt>
  <dd class="It-tag">Detach a network interface from a domain. <i>type</i> can
      be either <i>network</i> to indicate a physical network device or
      <i>bridge</i> to indicate a bridge to a device. It is recommended to use
      the <i>mac</i> option to distinguish between the interfaces if more than
      one are present on the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running domain. If <i>--config</i>
      is specified, affect the next startup of a persistent domain. If
      <i>--current</i> is specified, affect the current domain state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. When no flag is specified legacy API is used whose behavior
      depends on the hypervisor driver.
    <div style="height: 1.00em;">&#x00A0;</div>
    For compatibility purposes, <i>--persistent</i> behaves like <i>--config</i>
      for an offline domain, and like <i>--live</i> <i>--config</i> for a
      running domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that older versions of virsh used <i>--config</i> as an alias for
      <i>--persistent</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>update-device</b> <i>domain</i> <i>file</i>
    [<i>--force</i>] [[[ <i>--live</i>] [<i>--config</i>] | [<i>--current</i>]]
    | [ <i>--persistent</i>]]</dt>
  <dd class="It-tag">Update the characteristics of a device associated with
      <i>domain</i>, based on the device definition in an XML <i>file</i>. The
      <i>--force</i> option can be used to force device update, e.g., to eject a
      CD-ROM even if it is locked/mounted in the domain. See the documentation
      at &lt;http://libvirt.org/formatdomain.html#elementsDevices&gt; to learn
      about libvirt XML format for a device.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running domain. If <i>--config</i>
      is specified, affect the next startup of a persistent domain. If
      <i>--current</i> is specified, affect the current domain state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. Not specifying any flag is the same as specifying
      <i>--current</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    For compatibility purposes, <i>--persistent</i> behaves like <i>--config</i>
      for an offline domain, and like <i>--live</i> <i>--config</i> for a
      running domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that older versions of virsh used <i>--config</i> as an alias for
      <i>--persistent</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: using of partial device definition XML files may lead to
      unexpected results as some fields may be autogenerated and thus match
      devices other than expected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>change-media</b> <i>domain</i> <i>path</i>
    [<i>--eject</i>] [ <i>--insert</i>] [<i>--update</i>] [<i>source</i>]
    [<i>--force</i>] [[ <i>--live</i>] [<i>--config</i>] | [<i>--current</i>]]
    [<i>--print-xml</i>] [<i>--block</i>]</dt>
  <dd class="It-tag">Change media of CDROM or floppy drive. <i>path</i> can be
      the fully-qualified path or the unique target name (&lt;target
      dev='hdc'&gt;) of the disk device. <i>source</i> specifies the path of the
      media to be inserted or updated. Flag <i>--block</i> allows to set the
      backing type in case a block device is used as media for the CDROM or
      floppy drive instead of a file.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>--eject</i> indicates the media will be ejected. <i>--insert</i>
      indicates the media will be inserted. <i>source</i> must be specified. If
      the device has source (e.g. &lt;source file='media'&gt;), and
      <i>source</i> is not specified, <i>--update</i> is equal to
      <i>--eject</i>. If the device has no source, and <i>source</i> is
      specified, <i>--update</i> is equal to <i>--insert</i>. If the device has
      source, and <i>source</i> is specified, <i>--update</i> behaves like
      combination of <i>--eject</i> and <i>--insert</i>. If none of
      <i>--eject</i>, <i>--insert</i>, and <i>--update</i> is specified,
      <i>--update</i> is used by default. The <i>--force</i> option can be used
      to force media changing. If <i>--live</i> is specified, alter live
      configuration of running guest. If <i>--config</i> is specified, alter
      persistent configuration, effect observed on next boot. <i>--current</i>
      can be either or both of <i>live</i> and <i>config</i>, depends on the
      hypervisor's implementation. Both <i>--live</i> and <i>--config</i> flags
      may be given, but <i>--current</i> is exclusive. If no flag is specified,
      behavior is different depending on hypervisor. If <i>--print-xml</i> is
      specified, the XML that would be used to change media is printed instead
      of changing the media.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NODEDEV_COMMANDS"><a class="selflink" href="#NODEDEV_COMMANDS">NODEDEV
  COMMANDS</a></h1>
The following commands manipulate host devices that are intended to be passed
  through to guest domains via &lt;hostdev&gt; elements in a domain's
  &lt;devices&gt; section. A node device key is generally specified by the bus
  name followed by its address, using underscores between all components, such
  as pci_0000_00_02_1, usb_1_5_3, or net_eth1_00_27_13_6a_fe_00. The
  <b>nodedev-list</b> gives the full list of host devices that are known to
  libvirt, although this includes devices that cannot be assigned to a guest
  (for example, attempting to detach the PCI device that controls the host's
  hard disk controller where the guest's disk images live could cause the host
  system to lock up or reboot).
<div class="Pp"></div>
For more information on node device definition see:
  &lt;http://libvirt.org/formatnode.html&gt;.
<div class="Pp"></div>
Passthrough devices cannot be simultaneously used by the host and its guest
  domains, nor by multiple active guests at once. If the &lt;hostdev&gt;
  description of a PCI device includes the attribute <b>managed='yes'</b>, and
  the hypervisor driver supports it, then the device is in managed mode, and
  attempts to use that passthrough device in an active guest will automatically
  behave as if <b>nodedev-detach</b> (guest start, device hot-plug) and
  <b>nodedev-reattach</b> (guest stop, device hot-unplug) were called at the
  right points. If a PCI device is not marked as managed, then it must manually
  be detached before guests can use it, and manually reattached to be returned
  to the host. Also, if a device is manually detached, then the host does not
  regain control of the device without a matching reattach, even if the guests
  use the device in managed mode.
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-create</b> <i>FILE</i></dt>
  <dd class="It-tag">Create a device on the host node that can then be assigned
      to virtual machines. Normally, libvirt is able to automatically determine
      which host nodes are available for use, but this allows registration of
      host hardware that libvirt did not automatically detect. <i>file</i>
      contains xml for a top-level &lt;device&gt; description of a node
    device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-destroy</b> <i>device</i></dt>
  <dd class="It-tag">Destroy (stop) a device on the host. <i>device</i> can be
      either device name or wwn pair in &quot;wwnn,wwpn&quot; format (only works
      for vHBA currently). Note that this makes libvirt quit managing a host
      device, and may even make that device unusable by the rest of the physical
      host until a reboot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-detach</b> <i>nodedev</i> [<i>--driver
    backend_driver</i>]</dt>
  <dd class="It-tag">Detach <i>nodedev</i> from the host, so that it can safely
      be used by guests via &lt;hostdev&gt; passthrough. This is reversed with
      <b>nodedev-reattach</b>, and is done automatically for managed devices.
      For compatibility purposes, this command can also be spelled
      <b>nodedev-dettach</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Different backend drivers expect the device to be bound to different dummy
      devices. For example, QEMU's &quot;kvm&quot; backend driver (the default)
      expects the device to be bound to pci-stub, but its &quot;vfio&quot;
      backend driver expects the device to be bound to vfio-pci. The
      <i>--driver</i> parameter can be used to specify the desired backend
      driver.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-dumpxml</b> <i>device</i></dt>
  <dd class="It-tag">Dump a &lt;device&gt; XML representation for the given node
      device, including such information as the device name, which bus owns the
      device, the vendor and product id, and any capabilities of the device
      usable by libvirt (such as whether device reset is supported).
      <i>device</i> can be either device name or wwn pair in
      &quot;wwnn,wwpn&quot; format (only works for HBA).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-list</b> <i>cap</i> <i>--tree</i></dt>
  <dd class="It-tag">List all of the devices available on the node that are
      known by libvirt. <i>cap</i> is used to filter the list by capability
      types, the types must be separated by comma, e.g. --cap pci,scsi, valid
      capability types include 'system', 'pci', 'usb_device', 'usb', 'net',
      'scsi_host', 'scsi_target', 'scsi', 'storage', 'fc_host', 'vports',
      'scsi_generic'. If <i>--tree</i> is used, the output is formatted in a
      tree representing parents of each node. <i>cap</i> and <i>--tree</i> are
      mutually exclusive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-reattach</b> <i>nodedev</i></dt>
  <dd class="It-tag">Declare that <i>nodedev</i> is no longer in use by any
      guests, and that the host can resume normal use of the device. This is
      done automatically for PCI devices in managed mode and USB devices, but
      must be done explicitly to match any explicit <b>nodedev-detach</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nodedev-reset</b> <i>nodedev</i></dt>
  <dd class="It-tag">Trigger a device reset for <i>nodedev</i>, useful prior to
      transferring a node device between guest passthrough or the host. Libvirt
      will often do this action implicitly when required, but this command
      allows an explicit reset when needed.</dd>
</dl>
<h1 class="Sh" title="Sh" id="VIRTUAL_NETWORK_COMMANDS"><a class="selflink" href="#VIRTUAL_NETWORK_COMMANDS">VIRTUAL
  NETWORK COMMANDS</a></h1>
The following commands manipulate networks. Libvirt has the capability to define
  virtual networks which can then be used by domains and linked to actual
  network devices. For more detailed information about this feature see the
  documentation at &lt;http://libvirt.org/formatnetwork.html&gt; . Many of the
  commands for virtual networks are similar to the ones used for domains, but
  the way to name a virtual network is either by its name or UUID.
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-autostart</b> <i>network</i> [<i>--disable</i>]</dt>
  <dd class="It-tag">Configure a virtual network to be automatically started at
      boot. The <i>--disable</i> option disable autostarting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-create</b> <i>file</i></dt>
  <dd class="It-tag">Create a transient (temporary) virtual network from an XML
      <i>file</i> and instantiate (start) the network. See the documentation at
      &lt;http://libvirt.org/formatnetwork.html&gt; to get a description of the
      XML network format used by libvirt.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-define</b> <i>file</i></dt>
  <dd class="It-tag">Define an inactive persistent virtual network or modify an
      existing persistent one from the XML <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-destroy</b> <i>network</i></dt>
  <dd class="It-tag">Destroy (stop) a given transient or persistent virtual
      network specified by its name or UUID. This takes effect immediately.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-dumpxml</b> <i>network</i> [<i>--inactive</i>]</dt>
  <dd class="It-tag">Output the virtual network information as an XML dump to
      stdout. If <i>--inactive</i> is specified, then physical functions are not
      expanded into their associated virtual functions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-edit</b> <i>network</i></dt>
  <dd class="It-tag">Edit the XML configuration file for a network.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh net-dumpxml --inactive network &gt; network.xml
 vi network.xml (or make changes with your other text editor)
 virsh net-define network.xml
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-event</b> {[<i>network</i>] <i>event</i>
    [<i>--loop</i>] [ <i>--timeout</i> <i>seconds</i>] [<i>--timestamp</i>] |
    <i>--list</i>}</dt>
  <dd class="It-tag">Wait for a class of network events to occur, and print
      appropriate details of events as they happen. The events can optionally be
      filtered by <i>network</i>. Using <i>--list</i> as the only argument will
      provide a list of possible <i>event</i> values known by this client,
      although the connection might not allow registering for all these events.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this command is one-shot, and returns success once an event
      occurs; you can send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
      immediately. If <i>--timeout</i> is specified, the command gives up
      waiting for events after <i>seconds</i> have elapsed. With <i>--loop</i>,
      the command prints all events until a timeout or interrupt key.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <i>--timestamp</i> is used, a human-readable timestamp will be printed
      before the event.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-info</b> <i>network</i></dt>
  <dd class="It-tag">Returns basic information about the <i>network</i>
    object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-list</b> [<i>--inactive</i> | <i>--all</i>] {
    [<i>--table</i>] | <i>--name</i> | <i>--uuid</i> } [<i>--persistent</i>]
    [&lt;--transient&gt;] [ <i>--autostart</i>] [&lt;--no-autostart&gt;]</dt>
  <dd class="It-tag">Returns the list of active networks, if <i>--all</i> is
      specified this will also include defined but inactive networks, if
      <i>--inactive</i> is specified only the inactive ones will be listed. You
      may also want to filter the returned networks by <i>--persistent</i> to
      list the persistent ones, <i>--transient</i> to list the transient ones,
      <i>--autostart</i> to list the ones with autostart enabled, and
      <i>--no-autostart</i> to list the ones with autostart disabled.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--name</i> is specified, network names are printed instead of the
      table formatted one per line. If <i>--uuid</i> is specified network's
      UUID's are printed instead of names. Flag <i>--table</i> specifies that
      the legacy table-formatted output should be used. This is the default. All
      of these are mutually exclusive.
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTE: When talking to older servers, this command is forced to use a series
      of API calls with an inherent race, where a pool might not be listed or
      might appear more than once if it changed state between calls while the
      list was being collected. Newer servers do not have this problem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-name</b> <i>network-UUID</i></dt>
  <dd class="It-tag">Convert a network UUID to network name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-start</b> <i>network</i></dt>
  <dd class="It-tag">Start a (previously defined) inactive network.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-undefine</b> <i>network</i></dt>
  <dd class="It-tag">Undefine the configuration for a persistent network. If the
      network is active, make it transient.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-uuid</b> <i>network-name</i></dt>
  <dd class="It-tag">Convert a network name to network UUID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-update</b> <i>network</i> <i>command</i>
    <i>section</i> <i>xml</i> [<i>--parent-index</i> <i>index</i>]
    [[<i>--live</i>] [ <i>--config</i>] | [<i>--current</i>]]</dt>
  <dd class="It-tag">Update the given section of an existing network definition,
      with the changes optionally taking effect immediately, without needing to
      destroy and re-start the network.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>command</i> is one of &quot;add-first&quot;, &quot;add-last&quot;,
      &quot;add&quot; (a synonym for add-last), &quot;delete&quot;, or
      &quot;modify&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>section</i> is one of &quot;bridge&quot;, &quot;domain&quot;,
      &quot;ip&quot;, &quot;ip-dhcp-host&quot;, &quot;ip-dhcp-range&quot;,
      &quot;forward&quot;, &quot;forward-interface&quot;,
      &quot;forward-pf&quot;, &quot;portgroup&quot;, &quot;dns-host&quot;,
      &quot;dns-txt&quot;, or &quot;dns-srv&quot;, each section being named by a
      concatenation of the xml element hierarchy leading to the element being
      changed. For example, &quot;ip-dhcp-host&quot; will change a &lt;host&gt;
      element that is contained inside a &lt;dhcp&gt; element inside an
      &lt;ip&gt; element of the network.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>xml</i> is either the text of a complete xml element of the type being
      changed (e.g. &quot;&lt;host mac=&quot;00:11:22:33:44:55'
      ip='1.2.3.4'/&gt;&quot;, or the name of a file that contains a complete
      xml element. Disambiguation is done by looking at the first character of
      the provided text - if the first character is &quot;&lt;&quot;, it is xml
      text, if the first character is not &quot;&lt;&quot;, it is the name of a
      file that contains the xml text to be used.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--parent-index</i> option is used to specify which of several parent
      elements the requested element is in (0-based). For example, a dhcp
      &lt;host&gt; element could be in any one of multiple &lt;ip&gt; elements
      in the network; if a parent-index isn't provided, the &quot;most
      appropriate&quot; &lt;ip&gt; element will be selected (usually the only
      one that already has a &lt;dhcp&gt; element), but if <i>--parent-index</i>
      is given, that particular instance of &lt;ip&gt; will get the
      modification.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, affect a running network. If <i>--config</i>
      is specified, affect the next startup of a persistent network. If
      <i>--current</i> is specified, affect the current network state. Both
      <i>--live</i> and <i>--config</i> flags may be given, but <i>--current</i>
      is exclusive. Not specifying any flag is the same as specifying
      <i>--current</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>net-dhcp-leases</b> <i>network</i> [<i>mac</i>]</dt>
  <dd class="It-tag">Get a list of dhcp leases for all network interfaces
      connected to the given virtual <i>network</i> or limited output just for
      one interface if <i>mac</i> is specified.</dd>
</dl>
<h1 class="Sh" title="Sh" id="INTERFACE_COMMANDS"><a class="selflink" href="#INTERFACE_COMMANDS">INTERFACE
  COMMANDS</a></h1>
The following commands manipulate host interfaces. Often, these host interfaces
  can then be used by name within domain &lt;interface&gt; elements (such as a
  system-created bridge interface), but there is no requirement that host
  interfaces be tied to any particular guest configuration XML at all.
<div class="Pp"></div>
Many of the commands for host interfaces are similar to the ones used for
  domains, and the way to name an interface is either by its name or its MAC
  address. However, using a MAC address for an <i>iface</i> argument only works
  when that address is unique (if an interface and a bridge share the same MAC
  address, which is often the case, then using that MAC address results in an
  error due to ambiguity, and you must resort to a name instead).
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-bridge</b> <i>interface</i> <i>bridge</i>
    [<i>--no-stp</i>] [ <i>delay</i>] [<i>--no-start</i>]</dt>
  <dd class="It-tag">Create a bridge device named <i>bridge</i>, and attach the
      existing network device <i>interface</i> to the new bridge. The new bridge
      defaults to starting immediately, with STP enabled and a delay of 0; these
      settings can be altered with <i>--no-stp</i>, <i>--no-start</i>, and an
      integer number of seconds for <i>delay</i>. All IP address configuration
      of <i>interface</i> will be moved to the new bridge device.
    <div style="height: 1.00em;">&#x00A0;</div>
    See also <b>iface-unbridge</b> for undoing this operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-define</b> <i>file</i></dt>
  <dd class="It-tag">Define an inactive persistent physical host interface or
      modify an existing persistent one from the XML <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-destroy</b> <i>interface</i></dt>
  <dd class="It-tag">Destroy (stop) a given host interface, such as by running
      &quot;if-down&quot; to disable that interface from active use. This takes
      effect immediately.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-dumpxml</b> <i>interface</i>
    [<i>--inactive</i>]</dt>
  <dd class="It-tag">Output the host interface information as an XML dump to
      stdout. If <i>--inactive</i> is specified, then the output reflects the
      persistent state of the interface that will be used the next time it is
      started.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-edit</b> <i>interface</i></dt>
  <dd class="It-tag">Edit the XML configuration file for a host interface.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh iface-dumpxml iface &gt; iface.xml
 vi iface.xml (or make changes with your other text editor)
 virsh iface-define iface.xml
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-list</b> [<i>--inactive</i> | <i>--all</i>]</dt>
  <dd class="It-tag">Returns the list of active host interfaces. If <i>--all</i>
      is specified this will also include defined but inactive interfaces. If
      <i>--inactive</i> is specified only the inactive ones will be listed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-name</b> <i>interface</i></dt>
  <dd class="It-tag">Convert a host interface MAC to interface name, if the MAC
      address is unique among the host's interfaces.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>interface</i> specifies the interface MAC address.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-mac</b> <i>interface</i></dt>
  <dd class="It-tag">Convert a host interface name to MAC address.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>interface</i> specifies the interface name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-start</b> <i>interface</i></dt>
  <dd class="It-tag">Start a (previously defined) host interface, such as by
      running &quot;if-up&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-unbridge</b> <i>bridge</i>
    [<i>--no-start</i>]</dt>
  <dd class="It-tag">Tear down a bridge device named <i>bridge</i>, releasing
      its underlying interface back to normal usage, and moving all IP address
      configuration from the bridge device to the underlying device. The
      underlying interface is restarted unless <i>--no-start</i> is present;
      this flag is present for symmetry, but generally not recommended.
    <div style="height: 1.00em;">&#x00A0;</div>
    See also <b>iface-bridge</b> for creating a bridge.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-undefine</b> <i>interface</i></dt>
  <dd class="It-tag">Undefine the configuration for an inactive host
    interface.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-begin</b></dt>
  <dd class="It-tag">Create a snapshot of current host interface settings, which
      can later be committed ( <i>iface-commit</i>) or restored
      (<i>iface-rollback</i>). If a snapshot already exists, then this command
      will fail until the previous snapshot has been committed or restored.
      Undefined behavior results if any external changes are made to host
      interfaces outside of the libvirt API between the beginning of a snapshot
      and its eventual commit or rollback.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-commit</b></dt>
  <dd class="It-tag">Declare all changes since the last <i>iface-begin</i> as
      working, and delete the rollback point. If no interface snapshot has
      already been started, then this command will fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iface-rollback</b></dt>
  <dd class="It-tag">Revert all host interface settings back to the state
      recorded in the last <i>iface-begin</i>. If no interface snapshot has
      already been started, then this command will fail. Rebooting the host also
      serves as an implicit rollback point.</dd>
</dl>
<h1 class="Sh" title="Sh" id="STORAGE_POOL_COMMANDS"><a class="selflink" href="#STORAGE_POOL_COMMANDS">STORAGE
  POOL COMMANDS</a></h1>
The following commands manipulate storage pools. Libvirt has the capability to
  manage various storage solutions, including files, raw partitions, and
  domain-specific formats, used to provide the storage volumes visible as
  devices within virtual machines. For more detailed information about this
  feature, see the documentation at
  &lt;http://libvirt.org/formatstorage.html&gt; . Many of the commands for pools
  are similar to the ones used for domains.
<dl class="Bl-tag">
  <dt class="It-tag"><b>find-storage-pool-sources</b> <i>type</i>
    [<i>srcSpec</i>]</dt>
  <dd class="It-tag">Returns XML describing all possible available storage pool
      sources that could be used to create or define a storage pool of a given
      <i>type</i>. If <i>srcSpec</i> is provided, it is a file that contains XML
      to further restrict the query for pools.
    <div style="height: 1.00em;">&#x00A0;</div>
    Not all storage pools support discovery in this manner. Furthermore, for
      those that do support discovery, only specific XML elements are required
      in order to return valid data, while other elements and even attributes of
      some elements are ignored since they are not necessary to find the pool
      based on the search criteria. The following lists the supported
      <i>type</i> options and the expected minimal XML elements used to perform
      the search.
    <div style="height: 1.00em;">&#x00A0;</div>
    For a &quot;netfs&quot; or &quot;gluster&quot; pool, the minimal expected
      XML required is the &lt;host&gt; element with a &quot;name&quot; attribute
      describing the IP address or hostname to be used to find the pool. The
      &quot;port&quot; attribute will be ignored as will any other provided XML
      elements in <i>srcSpec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    For a &quot;logical&quot; pool, the contents of the <i>srcSpec</i> file are
      ignored, although if provided the file must at least exist.
    <div style="height: 1.00em;">&#x00A0;</div>
    For an &quot;iscsi&quot; pool, the minimal expect XML required is the
      &lt;host&gt; element with a &quot;name&quot; attribute describing the IP
      address or hostname to be used to find the pool (the iSCSI server
      address). Optionally, the &quot;port&quot; attribute may be provided,
      although it will default to 3260. Optionally, an &lt;initiator&gt; XML
      element with a &quot;name&quot; attribute may be provided to further
      restrict the iSCSI target search to a specific initiator for multi-iqn
      iSCSI storage pools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>find-storage-pool-sources-as</b> <i>type</i>
    [<i>host</i>] [ <i>port</i>] [<i>initiator</i>]</dt>
  <dd class="It-tag">Rather than providing <i>srcSpec</i> XML file for
      <b>find-storage-pool-sources</b> use this command option in order to have
      virsh generate the query XML file using the optional arguments. The
      command will return the same output XML as
      <b>find-storage-pool-sources</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <i>host</i> to describe a specific host to use for networked storage,
      such as netfs, gluster, and iscsi <i>type</i> pools.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <i>port</i> to further restrict which networked port to utilize for the
      connection if required by the specific storage backend, such as iscsi.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <i>initiator</i> to further restrict the iscsi <i>type</i> pool searches
      to specific target initiators.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-autostart</b> <i>pool-or-uuid</i>
    [<i>--disable</i>]</dt>
  <dd class="It-tag">Configure whether <i>pool</i> should automatically start at
      boot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-build</b> <i>pool-or-uuid</i> [<i>--overwrite</i>]
    [ <i>--no-overwrite</i>]</dt>
  <dd class="It-tag">Build a given pool.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options <i>--overwrite</i> and <i>--no-overwrite</i> can only be used for
      <b>pool-build</b> a filesystem or disk pool. For a file system pool if
      neither of them is specified, <b>pool-build</b> makes the directory. If
      <i>--no-overwrite</i> is specified, it probes to determine if a filesystem
      already exists on the target device, returning an error if exists, or
      using mkfs to format the target device if not. If <i>--overwrite</i> is
      specified, mkfs is always executed and any existing data on the target
      device is overwritten unconditionally. For a disk pool, if neither of them
      is specified or <i>--no-overwrite</i> is specified, <b>pool-build</b> will
      use 'parted --print' in order to determine if the disk already has a label
      before attempting to create one. Only if a disk does not already have one
      will a label be created. If <i>--overwrite</i> is specified or it's been
      determined that the disk doesn't already have one, 'parted mklabel' will
      be used to create a label of the format specified by the pool source
      format type or &quot;dos&quot; if not specified for the pool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-create</b> <i>file</i> [<i>--build</i>]
    [[<i>--overwrite</i>] | [ <i>--no-overwrite</i>]]</dt>
  <dd class="It-tag">Create and start a pool object from the XML <i>file</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--build</i>] [[<i>--overwrite</i>] | [<i>--no-overwrite</i>]] perform a
      <b>pool-build</b> after creation in order to remove the need for a
      follow-up command to build the pool. The <i>--overwrite</i> and
      <i>--no-overwrite</i> flags follow the same rules as <b>pool-build</b>. If
      just <i>--build</i> is provided, then <b>pool-build</b> is called with no
      flags.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-create-as</b> <i>name</i> <i>type</i>
    [<i>--print-xml</i>] [ <i>--source-host hostname</i>] [<i>--source-path
    path</i>] [ <i>--source-dev path</i>] [<i>--source-name name</i>]
    [<i>--target path</i>] [ <i>--source-format format</i>] [<i>--auth-type
    authtype</i> <i>--auth-username username</i> <i>--secret-usage usage</i>]
    [[<i>--adapter-name name</i>] | [<i>--adapter-wwnn</i>
    <i>--adapter-wwpn</i>] [ <i>--adapter-parent parent</i>]] [<i>--build</i>]
    [[ <i>--overwrite</i>] | [<i>--no-overwrite</i>]]</dt>
  <dd class="It-tag">Create and start a pool object <i>name</i> from the raw
      parameters. If <i>--print-xml</i> is specified, then print the XML of the
      pool object without creating the pool. Otherwise, the pool has the
      specified <i>type</i>. When using <b>pool-create-as</b> for a pool of
      <i>type</i> &quot;disk&quot;, the existing partitions found on the
      <i>--source-dev path</i> will be used to populate the disk pool.
      Therefore, it is suggested to use <b>pool-define-as</b> and
      <b>pool-build</b> with the <i>--overwrite</i> in order to properly
      initialize the disk pool.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--source-host hostname</i>] provides the source hostname for pools
      backed by storage from a remote server (pool types netfs, iscsi, rbd,
      sheepdog, gluster).
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--source-path path</i>] provides the source directory path for pools
      backed by directories (pool type dir).
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--source-dev path</i>] provides the source path for pools backed by
      physical devices (pool types fs, logical, disk, iscsi, zfs).
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--source-name name</i>] provides the source name for pools backed by
      storage from a named element (pool types logical, rbd, sheepdog, gluster).
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--target path</i>] is the path for the mapping of the storage pool into
      the host file system.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--source-format format</i>] provides information about the format of
      the pool (pool types fs, netfs, disk, logical).
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--auth-type authtype</i> <i>--auth-username username</i>
      <i>--secret-usage usage</i>] provides the elements required to generate
      authentication credentials for the storage pool. The <i>authtype</i> is
      either chap for iscsi <i>type</i> pools or ceph for rbd <i>type</i> pools.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--adapter-name name</i>] defines the scsi_hostN adapter name to be used
      for the scsi_host adapter type pool.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--adapter-wwnn</i> <i>--adapter-wwpn</i> [<i>--adapter-parent
      parent</i>]] defines the wwnn and wwpn to be used for the fc_host adapter
      type pool. The parent optionally provides the name of the scsi_hostN node
      device to be used for the vHBA.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--build</i>] [[<i>--overwrite</i>] | [<i>--no-overwrite</i>]] perform a
      <b>pool-build</b> after creation in order to remove the need for a
      follow-up command to build the pool. The <i>--overwrite</i> and
      <i>--no-overwrite</i> flags follow the same rules as <b>pool-build</b>. If
      just <i>--build</i> is provided, then <b>pool-build</b> is called with no
      flags.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-define</b> <i>file</i></dt>
  <dd class="It-tag">Define an inactive persistent storage pool or modify an
      existing persistent one from the XML <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-define-as</b> <i>name</i> <i>type</i>
    [<i>--print-xml</i>] [ <i>--source-host hostname</i>] [<i>--source-path
    path</i>] [ <i>--source-dev path</i>] [<i>--source-name name</i>]
    [<i>--target path</i>] [ <i>--source-format format</i>] [<i>--auth-type
    authtype</i> <i>--auth-username username</i> <i>--secret-usage usage</i>]
    [[<i>--adapter-name name</i>] | [<i>--adapter-wwnn</i>
    <i>--adapter-wwpn</i>] [ <i>--adapter-parent parent</i>]]</dt>
  <dd class="It-tag">Create, but do not start, a pool object <i>name</i> from
      the raw parameters. If <i>--print-xml</i> is specified, then print the XML
      of the pool object without defining the pool. Otherwise, the pool has the
      specified <i>type</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the same arguments as <b>pool-create-as</b>, except for the
      <i>--build</i>, <i>--overwrite</i>, and <i>--no-overwrite</i>
    options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-destroy</b> <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Destroy (stop) a given <i>pool</i> object. Libvirt will no
      longer manage the storage described by the pool object, but the raw data
      contained in the pool is not changed, and can be later recovered with
      <b>pool-create</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-delete</b> <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Destroy the resources used by a given <i>pool</i> object.
      This operation is non-recoverable. The <i>pool</i> object will still exist
      after this command, ready for the creation of new storage volumes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-dumpxml</b> [<i>--inactive</i>]
    <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Returns the XML information about the <i>pool</i> object.
      <i>--inactive</i> tells virsh to dump pool configuration that will be used
      on next start of the pool as opposed to the current pool
    configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-edit</b> <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Edit the XML configuration file for a storage pool.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh pool-dumpxml pool &gt; pool.xml
 vi pool.xml (or make changes with your other text editor)
 virsh pool-define pool.xml
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-info</b> <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Returns basic information about the <i>pool</i>
    object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-list</b> [<i>--inactive</i>] [<i>--all</i>]
    [<i>--persistent</i>] [ <i>--transient</i>] [<i>--autostart</i>]
    [<i>--no-autostart</i>] [[ <i>--details</i>] [&lt;type&gt;]</dt>
  <dd class="It-tag">List pool objects known to libvirt. By default, only active
      pools are listed; <i>--inactive</i> lists just the inactive pools, and
      <i>--all</i> lists all pools.
    <div style="height: 1.00em;">&#x00A0;</div>
    In addition, there are several sets of filtering flags. <i>--persistent</i>
      is to list the persistent pools, <i>--transient</i> is to list the
      transient pools. <i>--autostart</i> lists the autostarting pools,
      <i>--no-autostart</i> lists the pools with autostarting disabled.
    <div style="height: 1.00em;">&#x00A0;</div>
    You may also want to list pools with specified types using <i>type</i>, the
      pool types must be separated by comma, e.g. --type dir,disk. The valid
      pool types include 'dir', 'fs', 'netfs', 'logical', 'disk', 'iscsi',
      'scsi', 'mpath', 'rbd', 'sheepdog' and 'gluster'.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--details</i> option instructs virsh to additionally display pool
      persistence and capacity related information where available.
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTE: When talking to older servers, this command is forced to use a series
      of API calls with an inherent race, where a pool might not be listed or
      might appear more than once if it changed state between calls while the
      list was being collected. Newer servers do not have this problem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-name</b> <i>uuid</i></dt>
  <dd class="It-tag">Convert the <i>uuid</i> to a pool name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-refresh</b> <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Refresh the list of volumes contained in <i>pool</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-start</b> <i>pool-or-uuid</i> [<i>--build</i>]
    [[<i>--overwrite</i>] | [<i>--no-overwrite</i>]]</dt>
  <dd class="It-tag">Start the storage <i>pool</i>, which is previously defined
      but inactive.
    <div style="height: 1.00em;">&#x00A0;</div>
    [ <i>--build</i>] [[<i>--overwrite</i>] | [<i>--no-overwrite</i>]] perform a
      <b>pool-build</b> prior to <b>pool-start</b> to ensure the pool
      environment is in an expected state rather than needing to run the build
      command prior to startup. The <i>--overwrite</i> and <i>--no-overwrite</i>
      flags follow the same rules as <b>pool-build</b>. If just <i>--build</i>
      is provided, then <b>pool-build</b> is called with no flags.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: A storage pool that relies on remote resources such as an
      &quot;iscsi&quot; or a (v)HBA backed &quot;scsi&quot; pool may need to be
      refreshed multiple times in order to have all the volumes detected (see
      <b>pool-refresh</b>). This is because the corresponding volume devices may
      not be present in the host's filesystem during the initial pool startup or
      the current refresh attempt. The number of refresh retries is dependent
      upon the network connection and the time the host takes to export the
      corresponding devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-undefine</b> <i>pool-or-uuid</i></dt>
  <dd class="It-tag">Undefine the configuration for an inactive
    <i>pool</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-uuid</b> <i>pool</i></dt>
  <dd class="It-tag">Returns the UUID of the named <i>pool</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool-event</b> {[<i>pool</i>] <i>event</i>
    [<i>--loop</i>] [ <i>--timeout</i> <i>seconds</i>] [<i>--timestamp</i>] |
    <i>--list</i>}</dt>
  <dd class="It-tag">Wait for a class of storage pool events to occur, and print
      appropriate details of events as they happen. The events can optionally be
      filtered by <i>pool</i>. Using <i>--list</i> as the only argument will
      provide a list of possible <i>event</i> values known by this client,
      although the connection might not allow registering for all these events.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this command is one-shot, and returns success once an event
      occurs; you can send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
      immediately. If <i>--timeout</i> is specified, the command gives up
      waiting for events after <i>seconds</i> have elapsed. With <i>--loop</i>,
      the command prints all events until a timeout or interrupt key.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <i>--timestamp</i> is used, a human-readable timestamp will be printed
      before the event.</dd>
</dl>
<h1 class="Sh" title="Sh" id="VOLUME_COMMANDS"><a class="selflink" href="#VOLUME_COMMANDS">VOLUME
  COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-create</b> <i>pool-or-uuid</i> <i>FILE</i>
    [<i>--prealloc-metadata</i>]</dt>
  <dd class="It-tag">Create a volume from an XML &lt;file&gt;.
      <i>pool-or-uuid</i> is the name or UUID of the storage pool to create the
      volume in. <i>FILE</i> is the XML &lt;file&gt; with the volume definition.
      An easy way to create the XML &lt;file&gt; is to use the
      <b>vol-dumpxml</b> command to obtain the definition of a pre-existing
      volume. [ <i>--prealloc-metadata</i>] preallocate metadata (for qcow2
      images which don't support full allocation). This option creates a sparse
      image file with metadata, resulting in higher performance compared to
      images with no preallocation and only slightly higher initial disk space
      usage.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Example</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh vol-dumpxml --pool storagepool1 appvolume1 &gt; newvolume.xml
 vi newvolume.xml (or make changes with your other text editor)
 virsh vol-create differentstoragepool newvolume.xml
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-create-from</b> <i>pool-or-uuid</i> <i>FILE</i>
    [<i>--inputpool</i> <i>pool-or-uuid</i>] <i>vol-name-or-key-or-path</i>
    [<i>--prealloc-metadata</i>] [ <i>--reflink</i>]</dt>
  <dd class="It-tag">Create a volume, using another volume as input.
      <i>pool-or-uuid</i> is the name or UUID of the storage pool to create the
      volume in. <i>FILE</i> is the XML &lt;file&gt; with the volume definition.
      <i>--inputpool</i> <i>pool-or-uuid</i> is the name or uuid of the storage
      pool the source volume is in. <i>vol-name-or-key-or-path</i> is the name
      or key or path of the source volume. [ <i>--prealloc-metadata</i>]
      preallocate metadata (for qcow2 images which don't support full
      allocation). This option creates a sparse image file with metadata,
      resulting in higher performance compared to images with no preallocation
      and only slightly higher initial disk space usage. When <i>--reflink</i>
      is specified, perform a COW lightweight copy, where the data blocks are
      copied only when modified. If this is not possible, the copy fails.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-create-as</b> <i>pool-or-uuid</i> <i>name</i>
    <i>capacity</i> [ <i>--allocation</i> <i>size</i>] [<i>--format</i>
    <i>string</i>] [ <i>--backing-vol</i> <i>vol-name-or-key-or-path</i>]
    [<i>--backing-vol-format</i> <i>string</i>] [<i>--prealloc-metadata</i>]
    [<i>--print-xml</i>]</dt>
  <dd class="It-tag">Create a volume from a set of arguments unless
      <i>--print-xml</i> is specified, in which case just the XML of the volume
      object is printed out without any actual object creation.
      <i>pool-or-uuid</i> is the name or UUID of the storage pool to create the
      volume in. <i>name</i> is the name of the new volume. For a disk pool,
      this must match the partition name as determined from the pool's source
      device path and the next available partition. For example, a source device
      path of /dev/sdb and there are no partitions on the disk, then the name
      must be sdb1 with the next name being sdb2 and so on. <i>capacity</i> is
      the size of the volume to be created, as a scaled integer (see
      <b>NOTES</b> above), defaulting to bytes if there is no suffix.
      <i>--allocation</i> <i>size</i> is the initial size to be allocated in the
      volume, also as a scaled integer defaulting to bytes. <i>--format</i>
      <i>string</i> is used in file based storage pools to specify the volume
      file format to use; raw, bochs, qcow, qcow2, vmdk, qed. Use extended for
      disk storage pools in order to create an extended partition (other values
      are validity checked but not preserved when libvirtd is restarted or the
      pool is refreshed). <i>--backing-vol</i> <i>vol-name-or-key-or-path</i> is
      the source backing volume to be used if taking a snapshot of an existing
      volume. <i>--backing-vol-format</i> <i>string</i> is the format of the
      snapshot backing volume; raw, bochs, qcow, qcow2, qed, vmdk, host_device.
      These are, however, meant for file based storage pools. [
      <i>--prealloc-metadata</i>] preallocate metadata (for qcow2 images which
      don't support full allocation). This option creates a sparse image file
      with metadata, resulting in higher performance compared to images with no
      preallocation and only slightly higher initial disk space usage.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-clone</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-key-or-path</i> <i>name</i> [<i>--prealloc-metadata</i>]
    [<i>--reflink</i>]</dt>
  <dd class="It-tag">Clone an existing volume within the parent pool. Less
      powerful, but easier to type, version of <b>vol-create-from</b>.
      <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID of the storage pool
      that contains the source volume, and will contain the new volume.
      <i>vol-name-or-key-or-path</i> is the name or key or path of the source
      volume. <i>name</i> is the name of the new volume. [
      <i>--prealloc-metadata</i>] preallocate metadata (for qcow2 images which
      don't support full allocation). This option creates a sparse image file
      with metadata, resulting in higher performance compared to images with no
      preallocation and only slightly higher initial disk space usage. When
      <i>--reflink</i> is specified, perform a COW lightweight copy, where the
      data blocks are copied only when modified. If this is not possible, the
      copy fails.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-delete</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-key-or-path</i> [ <i>--delete-snapshots</i>]</dt>
  <dd class="It-tag">Delete a given volume. <i>--pool</i> <i>pool-or-uuid</i> is
      the name or UUID of the storage pool the volume is in.
      <i>vol-name-or-key-or-path</i> is the name or key or path of the volume to
      delete.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--delete-snapshots</i> flag specifies that any snapshots associated
      with the storage volume should be deleted as well. Not all storage drivers
      support this option, presently only rbd.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-upload</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    [<i>--offset</i> <i>bytes</i>] [<i>--length</i> <i>bytes</i>]
    <i>vol-name-or-key-or-path</i> <i>local-file</i></dt>
  <dd class="It-tag">Upload the contents of <i>local-file</i> to a storage
      volume. <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID of the
      storage pool the volume is in. <i>vol-name-or-key-or-path</i> is the name
      or key or path of the volume where the file will be uploaded.
      <i>--offset</i> is the position in the storage volume at which to start
      writing the data. The value must be 0 or larger. <i>--length</i> is an
      upper bound of the amount of data to be uploaded. A negative value is
      interpreted as an unsigned long long value to essentially include
      everything from the offset to the end of the volume. An error will occur
      if the <i>local-file</i> is greater than the specified length. See the
      description for the libvirt virStorageVolUpload API for details regarding
      possible target volume and pool changes as a result of the pool refresh
      when the upload is attempted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-download</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    [<i>--offset</i> <i>bytes</i>] [<i>--length</i> <i>bytes</i>]
    <i>vol-name-or-key-or-path</i> <i>local-file</i></dt>
  <dd class="It-tag">Download the contents of a storage volume to
      <i>local-file</i>. <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID
      of the storage pool the volume is in. <i>vol-name-or-key-or-path</i> is
      the name or key or path of the volume to download. <i>--offset</i> is the
      position in the storage volume at which to start reading the data. The
      value must be 0 or larger. <i>--length</i> is an upper bound of the amount
      of data to be downloaded. A negative value is interpreted as an unsigned
      long long value to essentially include everything from the offset to the
      end of the volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-wipe</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    [<i>--algorithm</i> <i>algorithm</i>] <i>vol-name-or-key-or-path</i></dt>
  <dd class="It-tag">Wipe a volume, ensure data previously on the volume is not
      accessible to future reads. <i>--pool</i> <i>pool-or-uuid</i> is the name
      or UUID of the storage pool the volume is in.
      <i>vol-name-or-key-or-path</i> is the name or key or path of the volume to
      wipe. It is possible to choose different wiping algorithms instead of
      re-writing volume with zeroes. This can be done via <i>--algorithm</i>
      switch.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Supported algorithms</b>
    <br/>
     zero - 1-pass all zeroes
    <br/>
     nnsa - 4-pass NNSA Policy Letter NAP-14.1-C (XVI-8) for
    <br/>
     sanitizing removable and non-removable hard disks:
    <br/>
     random x2, 0x00, verify.
    <br/>
     dod - 4-pass DoD 5220.22-M section 8-306 procedure for
    <br/>
     sanitizing removable and non-removable rigid
    <br/>
     disks: random, 0x00, 0xff, verify.
    <br/>
     bsi - 9-pass method recommended by the German Center of
    <br/>
     Security in Information Technologies
    <br/>
     (http://www.bsi.bund.de): 0xff, 0xfe, 0xfd, 0xfb,
    <br/>
     0xf7, 0xef, 0xdf, 0xbf, 0x7f.
    <br/>
     gutmann - The canonical 35-pass sequence described in
    <br/>
     Gutmann's paper.
    <br/>
     schneier - 7-pass method described by Bruce Schneier in
    <br/>
     &quot;Applied Cryptography&quot; (1996): 0x00, 0xff,
    <br/>
     random x5.
    <br/>
     pfitzner7 - Roy Pfitzner's 7-random-pass method: random x7.
    <br/>
     pfitzner33 - Roy Pfitzner's 33-random-pass method: random x33.
    <br/>
     random - 1-pass pattern: random.
    <br/>
     trim - 1-pass trimming the volume using TRIM or DISCARD
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Note</b>: The &quot;scrub&quot; binary will be used to handle the
      'nnsa', 'dod', 'bsi', 'gutmann', 'schneier', 'pfitzner7' and 'pfitzner33'
      algorithms. The availability of the algorithms may be limited by the
      version of the &quot;scrub&quot; binary installed on the host. The 'zero'
      algorithm will write zeroes to the entire volume. For some volumes, such
      as sparse or rbd volumes, this may result in completely filling the volume
      with zeroes making it appear to be completely full. As an alternative, the
      'trim' algorithm does not overwrite all the data in a volume, rather it
      expects the storage driver to be able to discard all bytes in a volume. It
      is up to the storage driver to handle how the discarding occurs. Not all
      storage drivers or volume types can support 'trim'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-dumpxml</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-key-or-path</i></dt>
  <dd class="It-tag">Output the volume information as an XML dump to stdout.
      <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID of the storage pool
      the volume is in. <i>vol-name-or-key-or-path</i> is the name or key or
      path of the volume to output the XML of.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-info</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-key-or-path</i> [ <i>--bytes</i>]</dt>
  <dd class="It-tag">Returns basic information about the given storage volume.
      <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID of the storage pool
      the volume is in. <i>vol-name-or-key-or-path</i> is the name or key or
      path of the volume to return information for. If <i>--bytes</i> is
      specified the sizes are not converted to human friendly units.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-list</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    [<i>--details</i>]</dt>
  <dd class="It-tag">Return the list of volumes in the given storage pool.
      <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID of the storage pool.
      The <i>--details</i> option instructs virsh to additionally display volume
      type and capacity related information where available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-pool</b> [<i>--uuid</i>] <i>vol-key-or-path</i></dt>
  <dd class="It-tag">Return the pool name or UUID for a given volume. By
      default, the pool name is returned. If the <i>--uuid</i> option is given,
      the pool UUID is returned instead. <i>vol-key-or-path</i> is the key or
      path of the volume to return the pool information for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-path</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-key</i></dt>
  <dd class="It-tag">Return the path for a given volume. <i>--pool</i>
      <i>pool-or-uuid</i> is the name or UUID of the storage pool the volume is
      in. <i>vol-name-or-key</i> is the name or key of the volume to return the
      path for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-name</b> <i>vol-key-or-path</i></dt>
  <dd class="It-tag">Return the name for a given volume. <i>vol-key-or-path</i>
      is the key or path of the volume to return the name for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-key</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-path</i></dt>
  <dd class="It-tag">Return the volume key for a given volume. <i>--pool</i>
      <i>pool-or-uuid</i> is the name or UUID of the storage pool the volume is
      in. <i>vol-name-or-path</i> is the name or path of the volume to return
      the volume key for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol-resize</b> [<i>--pool</i> <i>pool-or-uuid</i>]
    <i>vol-name-or-path</i> <i>pool-or-uuid</i> <i>capacity</i>
    [<i>--allocate</i>] [ <i>--delta</i>] [<i>--shrink</i>]</dt>
  <dd class="It-tag">Resize the capacity of the given volume, in bytes.
      <i>--pool</i> <i>pool-or-uuid</i> is the name or UUID of the storage pool
      the volume is in. <i>vol-name-or-key-or-path</i> is the name or key or
      path of the volume to resize. The new capacity might be sparse unless
      <i>--allocate</i> is specified. Normally, <i>capacity</i> is the new size,
      but if <i>--delta</i> is present, then it is added to the existing size.
      Attempts to shrink the volume will fail unless <i>--shrink</i> is present;
      <i>capacity</i> cannot be negative unless <i>--shrink</i> is provided, but
      a negative sign is not necessary. <i>capacity</i> is a scaled integer (see
      <b>NOTES</b> above), which defaults to bytes if there is no suffix. This
      command is only safe for storage volumes not in use by an active guest;
      see also <b>blockresize</b> for live resizing.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SECRET_COMMANDS"><a class="selflink" href="#SECRET_COMMANDS">SECRET
  COMMANDS</a></h1>
The following commands manipulate &quot;secrets&quot; (e.g. passwords,
  passphrases and encryption keys). Libvirt can store secrets independently from
  their use, and other objects (e.g. volumes or domains) can refer to the
  secrets for encryption or possibly other uses. Secrets are identified using a
  UUID. See &lt;http://libvirt.org/formatsecret.html&gt; for documentation of
  the XML format used to represent properties of secrets.
<dl class="Bl-tag">
  <dt class="It-tag"><b>secret-define</b> <i>file</i></dt>
  <dd class="It-tag">Create a secret with the properties specified in
      <i>file</i>, with no associated secret value. If <i>file</i> does not
      specify a UUID, choose one automatically. If <i>file</i> specifies a UUID
      of an existing secret, replace its properties by properties defined in
      <i>file</i>, without affecting the secret value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>secret-dumpxml</b> <i>secret</i></dt>
  <dd class="It-tag">Output properties of <i>secret</i> (specified by its UUID)
      as an XML dump to stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>secret-set-value</b> <i>secret</i> <i>base64</i></dt>
  <dd class="It-tag">Set the value associated with <i>secret</i> (specified by
      its UUID) to the value Base64-encoded value <i>base64</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>secret-get-value</b> <i>secret</i></dt>
  <dd class="It-tag">Output the value associated with <i>secret</i> (specified
      by its UUID) to stdout, encoded using Base64.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>secret-undefine</b> <i>secret</i></dt>
  <dd class="It-tag">Delete a <i>secret</i> (specified by its UUID), including
      the associated value, if any.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>secret-list</b> [<i>--ephemeral</i>]
    [<i>--no-ephemeral</i>] [ <i>--private</i>] [<i>--no-private</i>]</dt>
  <dd class="It-tag">Returns the list of secrets. You may also want to filter
      the returned secrets by <i>--ephemeral</i> to list the ephemeral ones,
      <i>--no-ephemeral</i> to list the non-ephemeral ones, <i>--private</i> to
      list the private ones, and <i>--no-private</i> to list the non-private
      ones.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SNAPSHOT_COMMANDS"><a class="selflink" href="#SNAPSHOT_COMMANDS">SNAPSHOT
  COMMANDS</a></h1>
The following commands manipulate domain snapshots. Snapshots take the disk,
  memory, and device state of a domain at a point-of-time, and save it for
  future use. They have many uses, from saving a &quot;clean&quot; copy of an OS
  image to saving a domain's state before a potentially destructive operation.
  Snapshots are identified with a unique name. See
  &lt;http://libvirt.org/formatsnapshot.html&gt; for documentation of the XML
  format used to represent properties of snapshots.
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-create</b> <i>domain</i> [<i>xmlfile</i>]
    {[<i>--redefine</i> [ <i>--current</i>]] | [<i>--no-metadata</i>]
    [<i>--halt</i>] [ <i>--disk-only</i>] [<i>--reuse-external</i>]
    [<i>--quiesce</i>] [ <i>--atomic</i>] [<i>--live</i>]}</dt>
  <dd class="It-tag">Create a snapshot for domain <i>domain</i> with the
      properties specified in <i>xmlfile</i>. Normally, the only properties
      settable for a domain snapshot are the &lt;name&gt; and
      &lt;description&gt; elements, as well as &lt;disks&gt; if
      <i>--disk-only</i> is given; the rest of the fields are ignored, and
      automatically filled in by libvirt. If <i>xmlfile</i> is completely
      omitted, then libvirt will choose a value for all fields. The new snapshot
      will become current, as listed by <b>snapshot-current</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--halt</i> is specified, the domain will be left in an inactive state
      after the snapshot is created.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--disk-only</i> is specified, the snapshot will only include disk
      state rather than the usual system checkpoint with vm state. Disk
      snapshots are faster than full system checkpoints, but reverting to a disk
      snapshot may require fsck or journal replays, since it is like the disk
      state at the point when the power cord is abruptly pulled; and mixing
      <i>--halt</i> and <i>--disk-only</i> loses any data that was not flushed
      to disk at the time.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--redefine</i> is specified, then all XML elements produced by
      <b>snapshot-dumpxml</b> are valid; this can be used to migrate snapshot
      hierarchy from one machine to another, to recreate hierarchy for the case
      of a transient domain that goes away and is later recreated with the same
      name and UUID, or to make slight alterations in the snapshot metadata
      (such as host-specific aspects of the domain XML embedded in the
      snapshot). When this flag is supplied, the <i>xmlfile</i> argument is
      mandatory, and the domain's current snapshot will not be altered unless
      the <i>--current</i> flag is also given.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--no-metadata</i> is specified, then the snapshot data is created, but
      any metadata is immediately discarded (that is, libvirt does not treat the
      snapshot as current, and cannot revert to the snapshot unless
      <i>--redefine</i> is later used to teach libvirt about the metadata
      again).
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--reuse-external</i> is specified, and the snapshot XML requests an
      external snapshot with a destination of an existing file, then the
      destination must exist and be pre-created with correct format and
      metadata. The file is then reused; otherwise, a snapshot is refused to
      avoid losing contents of the existing files.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--quiesce</i> is specified, libvirt will try to use guest agent to
      freeze and unfreeze domain's mounted file systems. However, if domain has
      no guest agent, snapshot creation will fail. Currently, this requires
      <i>--disk-only</i> to be passed as well.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--atomic</i> is specified, libvirt will guarantee that the snapshot
      either succeeds, or fails with no changes; not all hypervisors support
      this. If this flag is not specified, then some hypervisors may fail after
      partially performing the action, and <b>dumpxml</b> must be used to see
      whether any partial changes occurred.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, libvirt takes the snapshot while the guest is
      running. This increases the size of the memory image of the external
      checkpoint. This is currently supported only for external checkpoints.
    <div style="height: 1.00em;">&#x00A0;</div>
    Existence of snapshot metadata will prevent attempts to <b>undefine</b> a
      persistent domain. However, for transient domains, snapshot metadata is
      silently lost when the domain quits running (whether by command such as
      <b>destroy</b> or by internal guest action).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-create-as</b> <i>domain</i>
    {[<i>--print-xml</i>] | [ <i>--no-metadata</i>] [<i>--halt</i>]
    [<i>--reuse-external</i>]} [ <i>name</i>] [<i>description</i>]
    [<i>--disk-only</i> [ <i>--quiesce</i>]] [<i>--atomic</i>] [[<i>--live</i>]
    [ <i>--memspec</i> <b>memspec</b>]] [<i>--diskspec</i>]
    <b>diskspec</b>]...</dt>
  <dd class="It-tag">Create a snapshot for domain <i>domain</i> with the given
      &lt;name&gt; and &lt;description&gt;; if either value is omitted, libvirt
      will choose a value. If <i>--print-xml</i> is specified, then XML
      appropriate for <i>snapshot-create</i> is output, rather than actually
      creating a snapshot. Otherwise, if <i>--halt</i> is specified, the domain
      will be left in an inactive state after the snapshot is created, and if
      <i>--disk-only</i> is specified, the snapshot will not include vm state.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--memspec</i> option can be used to control whether a checkpoint is
      internal or external. The <i>--memspec</i> flag is mandatory, followed by
      a <b>memspec</b> of the form <b>[file=]name[,snapshot=type]</b>, where
      type can be <b>no</b>, <b>internal</b>, or <b>external</b>. To include a
      literal comma in <b>file=name</b>, escape it with a second comma.
      <i>--memspec</i> cannot be used together with <i>--disk-only</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--diskspec</i> option can be used to control how <i>--disk-only</i>
      and external checkpoints create external files. This option can occur
      multiple times, according to the number of &lt;disk&gt; elements in the
      domain xml. Each &lt;diskspec&gt; is in the form
      <b>disk[,snapshot=type][,driver=type][,file=name]</b>. A <i>diskspec</i>
      must be provided for disks backed by block devices as libvirt doesn't
      auto-generate file names for those. To include a literal comma in
      <b>disk</b> or in <b>file=name</b>, escape it with a second comma. A
      literal <i>--diskspec</i> must precede each <b>diskspec</b> unless all
      three of <i>domain</i>, <i>name</i>, and <i>description</i> are also
      present. For example, a diskspec of
      &quot;vda,snapshot=external,file=/path/to,,new&quot; results in the
      following XML:
    <br/>
     &lt;disk name='vda' snapshot='external'&gt;
    <br/>
     &lt;source file='/path/to,new'/&gt;
    <br/>
     &lt;/disk&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--reuse-external</i> is specified, and the domain XML or
      <i>diskspec</i> option requests an external snapshot with a destination of
      an existing file, then the destination must exist and be pre-created with
      correct format and metadata. The file is then reused; otherwise, a
      snapshot is refused to avoid losing contents of the existing files.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--quiesce</i> is specified, libvirt will try to use guest agent to
      freeze and unfreeze domain's mounted file systems. However, if domain has
      no guest agent, snapshot creation will fail. Currently, this requires
      <i>--disk-only</i> to be passed as well.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--no-metadata</i> is specified, then the snapshot data is created, but
      any metadata is immediately discarded (that is, libvirt does not treat the
      snapshot as current, and cannot revert to the snapshot unless
      <b>snapshot-create</b> is later used to teach libvirt about the metadata
      again). This flag is incompatible with <i>--print-xml</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--atomic</i> is specified, libvirt will guarantee that the snapshot
      either succeeds, or fails with no changes; not all hypervisors support
      this. If this flag is not specified, then some hypervisors may fail after
      partially performing the action, and <b>dumpxml</b> must be used to see
      whether any partial changes occurred.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--live</i> is specified, libvirt takes the snapshot while the guest is
      running. This increases the size of the memory image of the external
      checkpoint. This is currently supported only for external
    checkpoints.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-current</b> <i>domain</i> {[<i>--name</i>] |
    [<i>--security-info</i>] | [<i>snapshotname</i>]}</dt>
  <dd class="It-tag">Without <i>snapshotname</i>, this will output the snapshot
      XML for the domain's current snapshot (if any). If <i>--name</i> is
      specified, just the current snapshot name instead of the full xml.
      Otherwise, using <i>--security-info</i> will also include security
      sensitive information in the XML.
    <div style="height: 1.00em;">&#x00A0;</div>
    With <i>snapshotname</i>, this is a request to make the existing named
      snapshot become the current snapshot, without reverting the domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-edit</b> <i>domain</i> [<i>snapshotname</i>]
    [<i>--current</i>] {[<i>--rename</i>] | [<i>--clone</i>]}</dt>
  <dd class="It-tag">Edit the XML configuration file for <i>snapshotname</i> of
      a domain. If both <i>snapshotname</i> and <i>--current</i> are specified,
      also force the edited snapshot to become the current snapshot. If
      <i>snapshotname</i> is omitted, then <i>--current</i> must be supplied, to
      edit the current snapshot.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh snapshot-dumpxml dom name &gt; snapshot.xml
 vi snapshot.xml (or make changes with your other text editor)
 virsh snapshot-create dom snapshot.xml --redefine [--current]
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--rename</i> is specified, then the edits can change the snapshot
      name. If <i>--clone</i> is specified, then changing the snapshot name will
      create a clone of the snapshot metadata. If neither is specified, then the
      edits must not change the snapshot name. Note that changing a snapshot
      name must be done with care, since the contents of some snapshots, such as
      internal snapshots within a single qcow2 file, are accessible only from
      the original name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-info</b> <i>domain</i> {<i>snapshot</i> |
    <i>--current</i>}</dt>
  <dd class="It-tag">Output basic information about a named &lt;snapshot&gt;, or
      the current snapshot with <i>--current</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-list</b> <i>domain</i> [<i>--metadata</i>]
    [<i>--no-metadata</i>] [{ <i>--parent</i> | <i>--roots</i> | [{<i>--tree</i>
    | <i>--name</i>}]}] [{[<i>--from</i>] <b>snapshot</b> | <i>--current</i>}
    [<i>--descendants</i>]] [<i>--leaves</i>] [<i>--no-leaves</i>]
    [<i>--inactive</i>] [ <i>--active</i>] [<i>--disk-only</i>]
    [<i>--internal</i>] [ <i>--external</i>]</dt>
  <dd class="It-tag">List all of the available snapshots for the given domain,
      defaulting to show columns for the snapshot name, creation time, and
      domain state.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--parent</i> is specified, add a column to the output table giving the
      name of the parent of each snapshot. If <i>--roots</i> is specified, the
      list will be filtered to just snapshots that have no parents. If
      <i>--tree</i> is specified, the output will be in a tree format, listing
      just snapshot names. These three options are mutually exclusive. If
      <i>--name</i> is specified only the snapshot name is printed. This option
      is mutually exclusive with <i>--tree</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--from</i> is provided, filter the list to snapshots which are
      children of the given <b>snapshot</b>; or if <i>--current</i> is provided,
      start at the current snapshot. When used in isolation or with
      <i>--parent</i>, the list is limited to direct children unless
      <i>--descendants</i> is also present. When used with <i>--tree</i>, the
      use of <i>--descendants</i> is implied. This option is not compatible with
      <i>--roots</i>. Note that the starting point of <i>--from</i> or
      <i>--current</i> is not included in the list unless the <i>--tree</i>
      option is also present.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--leaves</i> is specified, the list will be filtered to just snapshots
      that have no children. Likewise, if <i>--no-leaves</i> is specified, the
      list will be filtered to just snapshots with children. (Note that omitting
      both options does no filtering, while providing both options will either
      produce the same list or error out depending on whether the server
      recognizes the flags). Filtering options are not compatible with
      <i>--tree</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--metadata</i> is specified, the list will be filtered to just
      snapshots that involve libvirt metadata, and thus would prevent
      <b>undefine</b> of a persistent domain, or be lost on <b>destroy</b> of a
      transient domain. Likewise, if <i>--no-metadata</i> is specified, the list
      will be filtered to just snapshots that exist without the need for libvirt
      metadata.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--inactive</i> is specified, the list will be filtered to snapshots
      that were taken when the domain was shut off. If <i>--active</i> is
      specified, the list will be filtered to snapshots that were taken when the
      domain was running, and where the snapshot includes the memory state to
      revert to that running state. If <i>--disk-only</i> is specified, the list
      will be filtered to snapshots that were taken when the domain was running,
      but where the snapshot includes only disk state.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--internal</i> is specified, the list will be filtered to snapshots
      that use internal storage of existing disk images. If <i>--external</i> is
      specified, the list will be filtered to snapshots that use external files
      for disk images or memory state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-dumpxml</b> <i>domain</i> <i>snapshot</i>
    [<i>--security-info</i>]</dt>
  <dd class="It-tag">Output the snapshot XML for the domain's snapshot named
      <i>snapshot</i>. Using <i>--security-info</i> will also include security
      sensitive information. Use <b>snapshot-current</b> to easily access the
      XML of the current snapshot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-parent</b> <i>domain</i> {<i>snapshot</i> |
    <i>--current</i>}</dt>
  <dd class="It-tag">Output the name of the parent snapshot, if any, for the
      given <i>snapshot</i>, or for the current snapshot with
    <i>--current</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-revert</b> <i>domain</i> {<i>snapshot</i> |
    <i>--current</i>} [{ <i>--running</i> | <i>--paused</i>}]
    [<i>--force</i>]</dt>
  <dd class="It-tag">Revert the given domain to the snapshot specified by
      <i>snapshot</i>, or to the current snapshot with <i>--current</i>. Be
      aware that this is a destructive action; any changes in the domain since
      the last snapshot was taken will be lost. Also note that the state of the
      domain after snapshot-revert is complete will be the state of the domain
      at the time the original snapshot was taken.
    <div style="height: 1.00em;">&#x00A0;</div>
    Normally, reverting to a snapshot leaves the domain in the state it was at
      the time the snapshot was created, except that a disk snapshot with no vm
      state leaves the domain in an inactive state. Passing either the
      <i>--running</i> or <i>--paused</i> flag will perform additional state
      changes (such as booting an inactive domain, or pausing a running domain).
      Since transient domains cannot be inactive, it is required to use one of
      these flags when reverting to a disk snapshot of a transient domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    There are two cases where a snapshot revert involves extra risk, which
      requires the use of <i>--force</i> to proceed. One is the case of a
      snapshot that lacks full domain information for reverting configuration
      (such as snapshots created prior to libvirt 0.9.5); since libvirt cannot
      prove that the current configuration matches what was in use at the time
      of the snapshot, supplying <i>--force</i> assures libvirt that the
      snapshot is compatible with the current configuration (and if it is not,
      the domain will likely fail to run). The other is the case of reverting
      from a running domain to an active state where a new hypervisor has to be
      created rather than reusing the existing hypervisor, because it implies
      drawbacks such as breaking any existing VNC or Spice connections; this
      condition happens with an active snapshot that uses a provably
      incompatible configuration, as well as with an inactive snapshot that is
      combined with the <i>--start</i> or <i>--pause</i> flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-delete</b> <i>domain</i> {<i>snapshot</i> |
    <i>--current</i>} [ <i>--metadata</i>] [{<i>--children</i> |
    <i>--children-only</i>}]</dt>
  <dd class="It-tag">Delete the snapshot for the domain named <i>snapshot</i>,
      or the current snapshot with <i>--current</i>. If this snapshot has child
      snapshots, changes from this snapshot will be merged into the children. If
      <i>--children</i> is passed, then delete this snapshot and any children of
      this snapshot. If <i>--children-only</i> is passed, then delete any
      children of this snapshot, but leave this snapshot intact. These two flags
      are mutually exclusive.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--metadata</i> is specified, then only delete the snapshot metadata
      maintained by libvirt, while leaving the snapshot contents intact for
      access by external tools; otherwise deleting a snapshot also removes the
      data contents from that point in time.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NWFILTER_COMMANDS"><a class="selflink" href="#NWFILTER_COMMANDS">NWFILTER
  COMMANDS</a></h1>
The following commands manipulate network filters. Network filters allow
  filtering of the network traffic coming from and going to virtual machines.
  Individual network traffic filters are written in XML and may contain
  references to other network filters, describe traffic filtering rules, or
  contain both. Network filters are referenced by virtual machines from within
  their interface description. A network filter may be referenced by multiple
  virtual machines' interfaces.
<dl class="Bl-tag">
  <dt class="It-tag"><b>nwfilter-define</b> <i>xmlfile</i></dt>
  <dd class="It-tag">Make a new network filter known to libvirt. If a network
      filter with the same name already exists, it will be replaced with the new
      XML. Any running virtual machine referencing this network filter will have
      its network traffic rules adapted. If for any reason the network traffic
      filtering rules cannot be instantiated by any of the running virtual
      machines, then the new XML will be rejected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nwfilter-undefine</b> <i>nwfilter-name</i></dt>
  <dd class="It-tag">Delete a network filter. The deletion will fail if any
      running virtual machine is currently using this network filter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nwfilter-list</b></dt>
  <dd class="It-tag">List all of the available network filters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nwfilter-dumpxml</b> <i>nwfilter-name</i></dt>
  <dd class="It-tag">Output the network filter XML.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nwfilter-edit</b> <i>nwfilter-name</i></dt>
  <dd class="It-tag">Edit the XML of a network filter.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is equivalent to:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 virsh nwfilter-dumpxml myfilter &gt; myfilter.xml
 vi myfilter.xml (or make changes with your other text editor)
 virsh nwfilter-define myfilter.xml
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    except that it does some error checking. The new network filter may be
      rejected due to the same reason as mentioned in <i>nwfilter-define</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The editor used can be supplied by the $VISUAL or $EDITOR environment
      variables, and defaults to &quot;vi&quot;.</dd>
</dl>
<h1 class="Sh" title="Sh" id="HYPERVISOR-SPECIFIC_COMMANDS"><a class="selflink" href="#HYPERVISOR-SPECIFIC_COMMANDS">HYPERVISOR-SPECIFIC
  COMMANDS</a></h1>
NOTE: Use of the following commands is <b>strongly</b> discouraged. They can
  cause libvirt to become confused and do the wrong thing on subsequent
  operations. Once you have used these commands, please do not report problems
  to the libvirt developers; the reports will be ignored. If you find that these
  commands are the only way to accomplish something, then it is better to
  request that the feature be added as a first-class citizen in the regular
  libvirt library.
<dl class="Bl-tag">
  <dt class="It-tag"><b>qemu-attach</b> <i>pid</i></dt>
  <dd class="It-tag">Attach an externally launched QEMU process to the libvirt
      QEMU driver. The QEMU process must have been created with a monitor
      connection using the UNIX driver. Ideally the process will also have had
      the '-name' argument specified.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
     $ qemu-kvm -cdrom ~/demo.iso \
         -monitor unix:/tmp/demo,server,nowait \
         -name foo \
         -uuid cece4f9f-dff0-575d-0e8e-01fe380f12ea  &amp;
     $ QEMUPID=$!
     $ virsh qemu-attach $QEMUPID
</pre>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Not all functions of libvirt are expected to work reliably after attaching to an
  externally launched QEMU process. There may be issues with the guest ABI
  changing upon migration and device hotplug or hotunplug may not work. The
  attached environment should be considered primarily read-only.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>qemu-monitor-command</b> <i>domain</i> { [<i>--hmp</i>]
    | [ <i>--pretty</i>] } <i>command</i>...</dt>
  <dd class="It-tag">Send an arbitrary monitor command <i>command</i> to domain
      <i>domain</i> through the qemu monitor. The results of the command will be
      printed on stdout. If <i>--hmp</i> is passed, the command is considered to
      be a human monitor command and libvirt will automatically convert it into
      QMP if needed. In that case the result will also be converted back from
      QMP. If <i>--pretty</i> is given, and the monitor uses QMP, then the
      output will be pretty-printed. If more than one argument is provided for
      <i>command</i>, they are concatenated with a space in between before
      passing the single command to the monitor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>qemu-agent-command</b> <i>domain</i> [<i>--timeout</i>
    <i>seconds</i> | <i>--async</i> | <i>--block</i>] <i>command</i>...</dt>
  <dd class="It-tag">Send an arbitrary guest agent command <i>command</i> to
      domain <i>domain</i> through qemu agent. <i>--timeout</i>, <i>--async</i>
      and <i>--block</i> options are exclusive. <i>--timeout</i> requires
      timeout seconds <i>seconds</i> and it must be positive. When
      <i>--aysnc</i> is given, the command waits for timeout whether success or
      failed. And when <i>--block</i> is given, the command waits forever with
      blocking timeout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>qemu-monitor-event</b> [<i>domain</i>] [<i>--event</i>
    <i>event-name</i>] [<i>--loop</i>] [<i>--timeout</i> <i>seconds</i>]
    [<i>--pretty</i>] [ <i>--regex</i>] [<i>--no-case</i>]
    [<i>--timestamp</i>]</dt>
  <dd class="It-tag">Wait for arbitrary QEMU monitor events to occur, and print
      out the details of events as they happen. The events can optionally be
      filtered by <i>domain</i> or <i>event-name</i>. The 'query-events' QMP
      command can be used via <i>qemu-monitor-command</i> to learn what events
      are supported. If <i>--regex</i> is used, <i>event-name</i> is a basic
      regular expression instead of a literal string. If <i>--no-case</i> is
      used, <i>event-name</i> will match case-insensitively.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this command is one-shot, and returns success once an event
      occurs; you can send SIGINT (usually via &quot;Ctrl-C&quot;) to quit
      immediately. If <i>--timeout</i> is specified, the command gives up
      waiting for events after <i>seconds</i> have elapsed. With <i>--loop</i>,
      the command prints all events until a timeout or interrupt key. If
      <i>--pretty</i> is specified, any JSON event details are pretty-printed
      for better legibility.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <i>--timestamp</i> is used, a human-readable timestamp will be printed
      before the event, and the timing information provided by QEMU will be
      omitted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lxc-enter-namespace</b> <i>domain</i>
    [<i>--noseclabel</i>] -- /path/to/binary [arg1, [arg2, ...]]</dt>
  <dd class="It-tag">Enter the namespace of <i>domain</i> and execute the
      command &quot;/path/to/binary&quot; passing the requested args. The binary
      path is relative to the container root filesystem, not the host root
      filesystem. The binary will inherit the environment variables / console
      visible to virsh. The command will be run with the same sVirt context and
      cgroups placement as processes within the container. This command only
      works when connected to the LXC hypervisor driver. This command succeeds
      only if &quot;/path/to/binary&quot; has 0 exit status.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default the new process will run with the security label of the new
      parent container. Use the <i>--noseclabel</i> option to instead have the
      process keep the same security label as &quot;virsh&quot;.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The following environment variables can be set to alter the behaviour of
  &quot;virsh&quot;
<dl class="Bl-tag">
  <dt class="It-tag">VIRSH_DEBUG=&lt;0 to 4&gt;</dt>
  <dd class="It-tag">Turn on verbose debugging of virsh commands. Valid levels
      are</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">VIRSH_DEBUG=0
    <div style="height: 1.00em;">&#x00A0;</div>
    DEBUG - Messages at ALL levels get logged</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">VIRSH_DEBUG=1
    <div style="height: 1.00em;">&#x00A0;</div>
    INFO - Logs messages at levels INFO, NOTICE, WARNING and ERROR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">VIRSH_DEBUG=2
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTICE - Logs messages at levels NOTICE, WARNING and ERROR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">VIRSH_DEBUG=3
    <div style="height: 1.00em;">&#x00A0;</div>
    WARNING - Logs messages at levels WARNING and ERROR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">VIRSH_DEBUG=4
    <div style="height: 1.00em;">&#x00A0;</div>
    ERROR - Messages at only ERROR level gets logged.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">VIRSH_LOG_FILE=&quot;LOGFILE&quot;</dt>
  <dd class="It-tag">The file to log virsh debug messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">VIRSH_DEFAULT_CONNECT_URI</dt>
  <dd class="It-tag">The hypervisor to connect to by default. Set this to a URI,
      in the same format as accepted by the <b>connect</b> option. This
      environment variable is deprecated in favour of the global
      <b>LIBVIRT_DEFAULT_URI</b> variable which serves the same purpose.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">LIBVIRT_DEFAULT_URI</dt>
  <dd class="It-tag">The hypervisor to connect to by default. Set this to a URI,
      in the same format as accepted by the <b>connect</b> option. This
      overrides the default URI set in any client config file and prevents
      libvirt from probing for drivers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">VISUAL</dt>
  <dd class="It-tag">The editor to use by the <b>edit</b> and related
    options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">EDITOR</dt>
  <dd class="It-tag">The editor to use by the <b>edit</b> and related options,
      if &quot;VISUAL&quot; is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">VIRSH_HISTSIZE</dt>
  <dd class="It-tag">The number of commands to remember in the command history.
      The default value is 500.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">LIBVIRT_DEBUG=LEVEL</dt>
  <dd class="It-tag">Turn on verbose debugging of all libvirt API calls. Valid
      levels are</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">LIBVIRT_DEBUG=1
    <div style="height: 1.00em;">&#x00A0;</div>
    Messages at level DEBUG or above</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">LIBVIRT_DEBUG=2
    <div style="height: 1.00em;">&#x00A0;</div>
    Messages at level INFO or above</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">LIBVIRT_DEBUG=3
    <div style="height: 1.00em;">&#x00A0;</div>
    Messages at level WARNING or above</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">LIBVIRT_DEBUG=4
    <div style="height: 1.00em;">&#x00A0;</div>
    Messages at level ERROR or above</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
For further information about debugging options consult
  &lt;http://libvirt.org/logging.html&gt;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report any bugs discovered to the libvirt community via the mailing list
  &lt;http://libvirt.org/contact.html&gt; or bug tracker
  &lt;http://libvirt.org/bugs.html&gt;. Alternatively report bugs to your
  software distributor / vendor.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<pre>
  Please refer to the AUTHORS file distributed with libvirt.
  Based on the xm man page by:
  Sean Dague &lt;sean at dague dot net&gt;
  Daniel Stekloff &lt;dsteklof at us dot ibm dot com&gt;
</pre>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2005, 2007-2015 Red Hat, Inc., and the authors listed in the
  libvirt AUTHORS file.
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
virsh is distributed under the terms of the GNU LGPL v2+. This is free software;
  see the source for copying conditions. There is NO warranty; not even for
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>virt-install</i>(1), <i>virt-xml-validate</i>(1), <i>virt-top</i>(1),
  <i>virt-df</i>(1), &lt;http://www.libvirt.org/&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-05-25</td>
    <td class="foot-os">libvirt-2.0.0</td>
  </tr>
</table>
</body>
</html>
