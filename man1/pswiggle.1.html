<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:34:09 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PSWIGGLE(1) GMT PSWIGGLE(1)</p>

<p style="margin-top: 1em">NAME <br>
pswiggle - Plot z = f(x,y) anomalies along tracks</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pswiggle [ table ] -Jparameters
-Rwest/east/south/north[/zmin/zmax][+r] -Zscale[units] [
|-A|[*azimuth] ] [ -B[p|s]parameters ] [ -Ccenter ] [
-G[+|-|=]fill ] [ -Ifix_az ] <br>
[ -K ] [ -O ] [ -P ] [ -S[x]lon0/lat0/length[/units] ] [
-Tpen ] [ -U[stamp] ] [ -V[level] ] [ -Wpen ] [ -Xx_offset ]
[ -Yy_offset ] [ -bibinary ] [ -dinodata ] [ -ereg&acirc;
<br>
exp ] [ -fflags ] [ -ggaps ] [ -hheaders ] [ -iflags ] [
-pflags ] [ -ttransp ] [ -:[i|o] ]</p>

<p style="margin-top: 1em">Note: No space is allowed
between the option flag and the associated arguments.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
pswiggle reads (x,y,z) triplets from files [or standard
input] and plots z as a function of distance along track.
This means that two consecutive (x,y) points define the
local <br>
distance axis, and the local z axis is then perpendicular to
the distance axis, forming a right-handed coordinate system.
The user may set a preferred positive anomaly plot <br>
direction, and if the positive normal is outside the
plus/minus 90 degree window around the preferred direction,
then 180 degrees are added to the direction. Either the
positive <br>
or the negative wiggle may be shaded. The resulting
PostScript code is written to standard output.</p>

<p style="margin-top: 1em">REQUIRED ARGUMENTS <br>
-Jparameters (more &acirc;&brvbar;) <br>
Select map projection.</p>


<p style="margin-top: 1em">-Rxmin/xmax/ymin/ymax[+r][+uunit]
(more &acirc;&brvbar;) <br>
Specify the region of interest.</p>

<p style="margin-top: 1em">For perspective view p,
optionally append /zmin/zmax. (more &acirc;&brvbar;)</p>

<p style="margin-top: 1em">-Zscale[units] <br>
Gives anomaly scale in data-units/distance-unit, where
distance-unit is the currently chosen unit specified by
PROJ_LENGTH_UNIT. Alternatively, append a distance-unit <br>
among the other choices (c|i|p).</p>

<p style="margin-top: 1em">OPTIONAL ARGUMENTS <br>
table One or more ASCII (or binary, see -bi[ncols][type])
data table file(s) holding a number of data columns. If no
tables are given then we read from standard input.</p>

<p style="margin-top: 1em">-A[azimuth] <br>
Sets the preferred positive azimuth. Positive wiggles will
&acirc;gravitate&acirc; towards that direction, i.e.,
azimuths of the normal direction to the track will be
flipped into the <br>
-90/+90 degree window centered on azimuth and that defines
the positive wiggle side. If no azimuth is given the no
preferred azimuth is enforced. Default is -A0.</p>

<p style="margin-top: 1em">-B[p|s]parameters (more
&acirc;&brvbar;) <br>
Set map boundary frame and axes attributes.</p>

<p style="margin-top: 1em">-Ccenter <br>
Subtract center from the data set before plotting [0].</p>

<p style="margin-top: 1em">-G[+|-|=]fill <br>
Set fill shade, color or pattern for positive and/or
negative wiggles [Default is no fill]. Optionally, prepend +
to fill positive areas (this is the default behavior). <br>
Prepend - to fill negative areas. Prepend = to fill both
positive and negative areas with the same fill.</p>

<p style="margin-top: 1em">-Ifix_az <br>
Set a fixed azimuth projection for wiggles [Default uses
track azimuth, but see -A]. With this option, the calculated
track-normal azimuths are overridden by fixed_az.</p>

<p style="margin-top: 1em">-Jz|Zparameters (more
&acirc;&brvbar;) <br>
Set z-axis scaling; same syntax as -Jx.</p>

<p style="margin-top: 1em">-K (more &acirc;&brvbar;) <br>
Do not finalize the PostScript plot.</p>

<p style="margin-top: 1em">-O (more &acirc;&brvbar;) <br>
Append to existing PostScript plot.</p>

<p style="margin-top: 1em">-P (more &acirc;&brvbar;) <br>
Select &acirc;Portrait&acirc; plot orientation.</p>

<p style="margin-top: 1em">-S[x]lon0/lat0/length[/units]
<br>
Draws a simple vertical scale centered on lon0/lat0. Use -Sx
to specify cartesian coordinates instead. length is in z
units, append unit name for labeling. FONT_ANNOT_PRI&acirc;
<br>
MARY is used as font.</p>

<p style="margin-top: 1em">-Tpen Draw track [Default is no
track]. Append pen attributes to use [Defaults: width =
0.25p, color = black, style = solid].</p>

<p style="margin-top: 1em">-U[[just]/dx/dy/][c|label] (more
&acirc;&brvbar;) <br>
Draw GMT time stamp logo on plot.</p>

<p style="margin-top: 1em">-V[level] (more &acirc;&brvbar;)
<br>
Select verbosity level [c].</p>

<p style="margin-top: 1em">-Wpen</p>

<p style="margin-top: 1em">-bi[ncols][t] (more
&acirc;&brvbar;) <br>
Select native binary input. [Default is 3 input
columns].</p>

<p style="margin-top: 1em">-dinodata (more &acirc;&brvbar;)
<br>
Replace input columns that equal nodata with NaN.</p>

<p style="margin-top: 1em">-e[~]&acirc;pattern&acirc; |
-e[~]/regexp/[i] (more &acirc;&brvbar;) <br>
Only accept data records that match the given pattern.</p>

<p style="margin-top: 1em">-f[i|o]colinfo (more
&acirc;&brvbar;) <br>
Specify data types of input and/or output columns.</p>


<p style="margin-top: 1em">-g[a]x|y|d|X|Y|D|[col]z[+|-]gap[u]
(more &acirc;&brvbar;) <br>
Determine data gaps and line breaks.</p>


<p style="margin-top: 1em">-h[i|o][n][+c][+d][+rremark][+rtitle]
(more &acirc;&brvbar;) <br>
Skip or produce header record(s).</p>


<p style="margin-top: 1em">-icols[+l][+sscale][+ooffset][,&acirc;&brvbar;]
(more &acirc;&brvbar;) <br>
Select input columns and transformations (0 is first
column).</p>


<p style="margin-top: 1em">-p[x|y|z]azim[/elev[/zlevel]][+wlon0/lat0[/z0]][+vx0/y0]
(more &acirc;&brvbar;) <br>
Select perspective view.</p>

<p style="margin-top: 1em">-t[transp] (more
&acirc;&brvbar;) <br>
Set PDF transparency level in percent.</p>

<p style="margin-top: 1em">-:[i|o] (more &acirc;&brvbar;)
<br>
Swap 1st and 2nd column on input and/or output.</p>

<p style="margin-top: 1em">-^ or just - <br>
Print a short message about the syntax of the command, then
exits (NOTE: on Windows just use -).</p>

<p style="margin-top: 1em">-+ or just + <br>
Print an extensive usage (help) message, including the
explanation of any module-specific option (but not the GMT
common options), then exits.</p>

<p style="margin-top: 1em">-? or no arguments <br>
Print a complete usage (help) message, including the
explanation of all options, then exits.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To plot the magnetic anomaly stored in the file track.xym
along track @ 1000 nTesla/cm (after removing a mean value of
32000 nTesla), using a 15-cm-wide Polar Stereographic map
<br>
ticked every 5 degrees in Portrait mode, with positive
anomalies in red on a blue track of width 0.25 points,
use</p>

<p style="margin-top: 1em">gmt pswiggle track.xym
-R-20/10/-80/-60 -JS0/90/15c -Z1000 -B5 -C32000 -P -Gred
-T0.25p,blue -S1000 -V &gt; track_xym.ps</p>

<p style="margin-top: 1em">and the positive anomalies will
in general point in the north direction. To instead enforce
a fixed azimuth of 45 for the positive wiggles, we add -I
and obtain</p>

<p style="margin-top: 1em">gmt pswiggle track.xym
-R-20/10/-80/-60 -JS0/90/15c -Z1000 -B5 -C32000 -P -Gred
-I45 -T0.25p,blue -S1000 -V &gt; track_xym.ps</p>

<p style="margin-top: 1em">BUGS <br>
Sometimes the (x,y) coordinates are not printed with enough
significant digits, so the local perpendicular to the track
swings around a lot. To see if this is the problem, you <br>
should do this:</p>

<p style="margin-top: 1em">awk &rsquo;{ if (NR &gt; 1)
print atan2(y-$1, x-$2); y=$1; x=$2; }&rsquo; yourdata.xyz |
more</p>

<p style="margin-top: 1em">(note that output is in radians;
on some machines you need &acirc;nawk&acirc; to do this).
Then if these numbers jump around a lot, you may do
this:</p>

<p style="margin-top: 1em">awk &rsquo;{ print NR, $0
}&rsquo; yourdata.xyz | filter1d -Fb5 -N4/0
--FORMAT_FLOAT_OUT=%.12g &gt; smoothed.xyz</p>

<p style="margin-top: 1em">which performs a 5-point boxcar
filter, and plot this data set instead.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gmt, gmtcolors, filter1d, psbasemap, splitxyz</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2017, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and
F. Wobbe</p>

<p style="margin-top: 1em">5.4.2 Jun 24, 2017
PSWIGGLE(1)</p>
<hr>
</body>
</html>
