<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>atomic-reactor(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">atomic-reactor(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">atomic-reactor(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<br/>
 <b>atomic-reactor</b> [-h] [-q | -v | -V]
  {build,create-build-image,inside-build} ...
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<br/>
 {build,create-build-image,inside-build}
<br/>
 commands
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 -h, --help show this help message and exit
<br/>
 -q, --quiet
<br/>
 -v, --verbose
<br/>
 -V, --version show program's version number and exit
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<b>atomic-reactor [OPTIONS] build</b>
<div class="Pp"></div>
<br/>
 This command enables you to build images. Currently, you can build images
<br/>
 from git repo, local path or a json file with full build specification.
<br/>
 There are several methods for performing the build: inside a build
<br/>
 container using docker from host, inside a build container using new
<br/>
 instance of docker, or within current environment.
<br/>
 -h, --help show this help message and exit
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<b>atomic-reactor [OPTIONS] build git</b>
<div class="Pp"></div>
<br/>
 -h, --help show this help message and exit
<br/>
 --image IMAGE name under which the image will be accessible
<br/>
 --uri URI URI of the git repo
<br/>
 --df-path SOURCE__DOCKERFILE_PATH
<br/>
 path to Dockerfile within git repo (default is ./)
<br/>
 --source-registry REGISTRY
<br/>
 registry to pull base image from
<br/>
 --source-registry-insecure
<br/>
 allow connecting to source registry over plain http
<br/>
 --target-registries [REGISTRY [REGISTRY ...]]
<br/>
 list of registries to push image to
<br/>
 --target-registries-insecure
<br/>
 allow connecting to target registries over plain http
<br/>
 --dont-pull-base-image
<br/>
 don't pull or update base image specified in
<br/>
 dockerfile
<br/>
 --build-image BUILD_IMAGE
<br/>
 name of build image to use (build image type has to
<br/>
 match method)
<br/>
 --load-plugin [PLUGIN_FILE [PLUGIN_FILE ...]]
<br/>
 list of files where plugins live
<br/>
 --method {hostdocker,privileged,here}
<br/>
 choose method for building image: 'hostdocker' mounts
<br/>
 socket inside container, 'privileged' spawns
<br/>
 privileged container and runs separate docker instance
<br/>
 inside and finally 'here' executesbuild in current
<br/>
 environment
<br/>
 --commit SOURCE__PROVIDER_PARAMS__GIT_COMMIT
<br/>
 checkout this commit (default is master)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>atomic-reactor [OPTIONS] build json</b>
<div class="Pp"></div>
<br/>
 -h, --help show this help message and exit
<br/>
 --build-image BUILD_IMAGE
<br/>
 name of build image to use (build image type has to
<br/>
 match method)
<br/>
 --load-plugin [PLUGIN_FILE [PLUGIN_FILE ...]]
<br/>
 list of files where plugins live
<br/>
 --method {hostdocker,privileged,here}
<br/>
 choose method for building image: 'hostdocker' mounts
<br/>
 socket inside container, 'privileged' spawns
<br/>
 privileged container and runs separate docker instance
<br/>
 inside and finally 'here' executesbuild in current
<br/>
 environment
<br/>
 --substitute [SUBSTITUTE [SUBSTITUTE ...]]
<br/>
 provide substitutions for json in form &quot;foo.bar=spam&quot;
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>atomic-reactor [OPTIONS] build path</b>
<div class="Pp"></div>
<br/>
 -h, --help show this help message and exit
<br/>
 --image IMAGE name under which the image will be accessible
<br/>
 --uri URI URI of the directory with source (e.g.
<br/>
 &quot;file:///foo/bar&quot;) or path (e.g. &quot;/foo/bar&quot;); path can
<br/>
 be relative
<br/>
 --df-path SOURCE__DOCKERFILE_PATH
<br/>
 path to Dockerfile within given directory (default is
<br/>
 ./)
<br/>
 --source-registry REGISTRY
<br/>
 registry to pull base image from
<br/>
 --source-registry-insecure
<br/>
 allow connecting to source registry over plain http
<br/>
 --target-registries [REGISTRY [REGISTRY ...]]
<br/>
 list of registries to push image to
<br/>
 --target-registries-insecure
<br/>
 allow connecting to target registries over plain http
<br/>
 --dont-pull-base-image
<br/>
 don't pull or update base image specified in
<br/>
 dockerfile
<br/>
 --build-image BUILD_IMAGE
<br/>
 name of build image to use (build image type has to
<br/>
 match method)
<br/>
 --load-plugin [PLUGIN_FILE [PLUGIN_FILE ...]]
<br/>
 list of files where plugins live
<br/>
 --method {hostdocker,privileged,here}
<br/>
 choose method for building image: 'hostdocker' mounts
<br/>
 socket inside container, 'privileged' spawns
<br/>
 privileged container and runs separate docker instance
<br/>
 inside and finally 'here' executesbuild in current
<br/>
 environment
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>atomic-reactor [OPTIONS] create-build-image</b>
<div class="Pp"></div>
<br/>
 Create build image; Atomic Reactor installs itself inside and is capable
<br/>
 of building images within this image.
<br/>
 -h, --help show this help message and exit
<br/>
 --reactor-latest put latest Atomic Reactor inside (from public git)
<br/>
 --reactor-remote-git REACTOR_REMOTE_GIT
<br/>
 URL to git repo with Atomic Reactor (has to contain
<br/>
 setup.py)
<br/>
 --reactor-local-path REACTOR_LOCAL_PATH
<br/>
 path to directory with Atomic Reactor (has to contain
<br/>
 setup.py)
<br/>
 --reactor-tarball-path REACTOR_TARBALL_PATH
<br/>
 path to distribution tarball with Atomic Reactor
<br/>
 --use-cache use cache to build image (may be faster, but not up to
<br/>
 date)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>atomic-reactor [OPTIONS] inside-build</b>
<div class="Pp"></div>
<br/>
 We do expect we are inside container, therefore we'll read build
<br/>
 configuration from json at '/run/share/build.json'and when the build is
<br/>
 done, results are written in that dir so Atomic Reactor from host may read
<br/>
 those.
<br/>
 -h, --help show this help message and exit
<br/>
 --input INPUT input plugin name (determined automatically unless
<br/>
 given)
<br/>
 --input-arg INPUT_ARG
<br/>
 argument for input plugin (in form of 'key=value'),
<br/>
 see input plugins to know what arguments they accept
<br/>
 (can be specified multiple times)
<br/>
 --dont-pull-base-image
<br/>
 don't pull or update base image specified in
<br/>
 dockerfile
<br/>
 --substitute SUBSTITUTE
<br/>
 substitute values in build json (key=value, or
<br/>
 plugin_type.plugin_name.key=value)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<br/>
 Jiri Popelka &lt;jpopelka@redhat.com&gt;, Martin Milata
  &lt;mmilata@redhat.com&gt;, Slavek Kabrda &lt;slavek@redhat.com&gt;, Tim Waugh
  &lt;twaug@redhat.com&gt;, Tomas Tomecek &lt;ttomecek@redhat.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-07-02</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
