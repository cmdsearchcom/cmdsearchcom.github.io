<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:11:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FUSIONDIRECTORY-SETUP(1) FusionDirectory Documentation
FUSIONDIRECTORY-SETUP(1)</p>

<p style="margin-top: 1em">NAME <br>
fusiondirectory-setup - FusionDirectory configuration
management tool</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This script is designed to perform multiple checks on your
FusionDirectory/LDAP architecture, and fix usual
misconfiguration. Some extra features allow you to install
<br>
FusionDirectory&rsquo;s plugins, and change destinations
directories.</p>

<p style="margin-top: 1em">Options <br>
--update-cache <br>
This option update the
/var/cache/fusiondirectory/class.cache file. Which contain
PHP classes used in FusionDirectory, and their location.</p>

<p style="margin-top: 1em">--update-locales <br>
This option update internalization, by generating a new .mo
locales file for each language, with every .po files it
found. Needs msgcat and msgfmt to be installed.</p>

<p style="margin-top: 1em">--check-directories <br>
This option perform a check on all FusionDirectory&rsquo;s
files or directories.</p>

<p style="margin-top: 1em">--check-config <br>
This option perform a check on FusionDirectory&rsquo;s
config file.</p>

<p style="margin-top: 1em">--check-ldap <br>
This option check your LDAP tree. Looking for admin account,
and groups or people branch. If one of those don&rsquo;t
exists, the script will ask you what to do.</p>

<p style="margin-top: 1em">--check-ids <br>
This option check your LDAP tree for duplicated uidNumber or
gidNumber among users and groups.</p>

<p style="margin-top: 1em">--migrate-users <br>
This option add FusionDirectory attributes to the people
branch.</p>

<p style="margin-top: 1em">--migrate-printers <br>
This option replace gosaPrinter objectClass by new fdPrinter
objectClass.</p>

<p style="margin-top: 1em">--migrate-dns <br>
This option moves DNS zones from systems branch to DNS
branch, which is necessary for FusionDirectory 1.0.10 and
above.</p>

<p style="margin-top: 1em">--migrate-dhcp <br>
This option moves DHCP configurations from systems branch to
DHCP branch, which is necessary for FusionDirectory 1.0.17
and above.</p>

<p style="margin-top: 1em">--migrate-acls <br>
This option will migrated old GOsa style acl from 1.0.7 into
FusionDirectory acl roles in 1.0.8</p>

<p style="margin-top: 1em">--delete-gosa-locks <br>
This option will delete old GOsa style lock tokens from
1.0.15 or older</p>

<p style="margin-top: 1em">--install-plugins <br>
This option will install the plugin from a tar.gz of the
plugin. This option is intended for people wanting to
install from the sources.</p>

<p style="margin-top: 1em">--encrypt-passwords <br>
This option will encrypt the password inside your
fusiondirectory.conf file, it need the headers module to be
activated in your apache to work.</p>

<p style="margin-top: 1em">--show-version <br>
This option will parse the file variables_common.inc of
FusionDirectory to find out which version of FusionDirectory
is installed.</p>

<p style="margin-top: 1em">--list_vars <br>
This option will list the variables you can change to
install FusionDirectory on another set of directories. This
option is intended for people wanting to install from the
<br>
sources.</p>

<p style="margin-top: 1em">--write-vars <br>
This option will write back the variables.inc file with the
updated variables and is only useful with --set-VAR=variable
and for people installing from sources.</p>

<p style="margin-top: 1em">--set-VAR=variable <br>
This option will change the variable for the FusionDirectory
installation. it is only useful with --install-directories
and for people installing from sources.</p>

<p style="margin-top: 1em">--list-deprecated <br>
This option will list the deprecated attributes and
objectclasses still in your schemas and no longer used by
FusionDirectory.</p>

<p style="margin-top: 1em">--check-deprecated <br>
This option will list the dn of LDAP entries using
deprecated attributes or objectclasses and no longer used by
FusionDirectory.</p>

<p style="margin-top: 1em">--ldif-deprecated <br>
This option will print an LDIF to allow you to remove
deprecated attributes from you ldap server. Be careful and
check before applying.</p>

<p style="margin-top: 1em">--show-config <br>
This option will print a dump of the FusionDirectory
configuration LDAP node.</p>

<p style="margin-top: 1em">--set-config-VAR=value <br>
This option sets the value of a configuration field in the
LDAP. The value needs to be in the correct LDAP format. You
cannot set multivalued field with this. The var name <br>
can be provided with or without the fd prefix.</p>

<p style="margin-top: 1em">--yes <br>
This flag will answer &quot;yes&quot; to every yes/no
question asked by the script</p>

<p style="margin-top: 1em">EXAMPLE <br>
benoit@catbert$ fusiondirectory-setup --update-cache
--update-locales</p>

<p style="margin-top: 1em">Update FusionDirectory class
cache and update localization</p>

<p style="margin-top: 1em">benoit@catbert$
fusiondirectory-setup --list-vars <br>
List possible vars to give --set <br>
locale_cache_dir [locale] <br>
config_file [fusiondirectory.conf] <br>
fd_cache [/var/cache/fusiondirectory] <br>
fd_smarty_dir [/usr/share/php/smarty3] <br>
fd_spool_dir [/var/spool/fusiondirectory] <br>
fai_log_dir [fai] <br>
tmp_dir [tmp] <br>
secrets_file [fusiondirectory.secrets] <br>
template_dir [template] <br>
locale_dir [locale] <br>
class_cache [class.cache] <br>
fd_config_dir [/etc/fusiondirectory] <br>
fd_home [/var/www/fusiondirectory]</p>

<p style="margin-top: 1em">benoit@catbert$
fusiondirectory-setup --set-class_cache=class.cache
--write-vars</p>

<p style="margin-top: 1em">update the class.cache name and
write back the variables.inc file</p>

<p style="margin-top: 1em">BUGS <br>
Please report any bugs, or post any suggestions, to the
fusiondirectory mailing list fusiondirectory-users or to
<br>

&lt;https://forge.fusiondirectory.org/projects/fdirectory/issues/new&gt;</p>

<p style="margin-top: 1em">AUTHORS <br>
Benjamin Carpentier</p>

<p style="margin-top: 1em">Come Bernigaud</p>

<p style="margin-top: 1em">LICENCE AND COPYRIGHT <br>
This code is part of FusionDirectory
(http://www.fusiondirectory.org/)</p>

<p style="margin-top: 1em">Copyright (C) 2011-2016
FusionDirectory</p>

<p style="margin-top: 1em">This program is distributed in
the hope that it will be useful, but WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR <br>
PURPOSE. See the GNU General Public License for more
details.</p>

<p style="margin-top: 1em">FusionDirectory 1.0.19
2017-01-19 FUSIONDIRECTORY-SETUP(1)</p>
<hr>
</body>
</html>
