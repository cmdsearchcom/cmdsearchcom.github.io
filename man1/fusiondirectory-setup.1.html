<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FUSIONDIRECTORY-SETUP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FUSIONDIRECTORY-SETUP(1)</td>
    <td class="head-vol">FusionDirectory Documentation</td>
    <td class="head-rtitle">FUSIONDIRECTORY-SETUP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fusiondirectory-setup - FusionDirectory configuration management tool
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This script is designed to perform multiple checks on your FusionDirectory/LDAP
  architecture, and fix usual misconfiguration. Some extra features allow you to
  install FusionDirectory's plugins, and change destinations directories.
<h2 class="Ss" title="Ss" id="Options"><a class="selflink" href="#Options">Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">--update-cache</dt>
  <dd class="It-tag">This option update the
      /var/cache/fusiondirectory/class.cache file. Which contain PHP classes
      used in FusionDirectory, and their location.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--update-locales</dt>
  <dd class="It-tag">This option update internalization, by generating a new .mo
      locales file for each language, with every .po files it found. Needs
      <i>msgcat</i> and <i>msgfmt</i> to be installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--check-directories</dt>
  <dd class="It-tag">This option perform a check on all FusionDirectory's files
      or directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--check-config</dt>
  <dd class="It-tag">This option perform a check on FusionDirectory's config
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--check-ldap</dt>
  <dd class="It-tag">This option check your LDAP tree. Looking for admin
      account, and groups or people branch. If one of those don't exists, the
      script will ask you what to do.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--check-ids</dt>
  <dd class="It-tag">This option check your LDAP tree for duplicated uidNumber
      or gidNumber among users and groups.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--migrate-users</dt>
  <dd class="It-tag">This option add FusionDirectory attributes to the people
      branch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--migrate-printers</dt>
  <dd class="It-tag">This option replace gosaPrinter objectClass by new
      fdPrinter objectClass.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--migrate-dns</dt>
  <dd class="It-tag">This option moves DNS zones from systems branch to DNS
      branch, which is necessary for FusionDirectory 1.0.10 and above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--migrate-dhcp</dt>
  <dd class="It-tag">This option moves DHCP configurations from systems branch
      to DHCP branch, which is necessary for FusionDirectory 1.0.17 and
    above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--migrate-acls</dt>
  <dd class="It-tag">This option will migrated old GOsa style acl from 1.0.7
      into FusionDirectory acl roles in 1.0.8</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--delete-gosa-locks</dt>
  <dd class="It-tag">This option will delete old GOsa style lock tokens from
      1.0.15 or older</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--install-plugins</dt>
  <dd class="It-tag">This option will install the plugin from a tar.gz of the
      plugin. This option is intended for people wanting to install from the
      sources.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--encrypt-passwords</dt>
  <dd class="It-tag">This option will encrypt the password inside your
      fusiondirectory.conf file, it need the headers module to be activated in
      your apache to work.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--show-version</dt>
  <dd class="It-tag">This option will parse the file variables_common.inc of
      FusionDirectory to find out which version of FusionDirectory is
    installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--list_vars</dt>
  <dd class="It-tag">This option will list the variables you can change to
      install FusionDirectory on another set of directories. This option is
      intended for people wanting to install from the sources.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--write-vars</dt>
  <dd class="It-tag">This option will write back the variables.inc file with the
      updated variables and is only useful with --set-VAR=variable and for
      people installing from sources.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--set-VAR=variable</dt>
  <dd class="It-tag">This option will change the variable for the
      FusionDirectory installation. it is only useful with --install-directories
      and for people installing from sources.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--list-deprecated</dt>
  <dd class="It-tag">This option will list the deprecated attributes and
      objectclasses still in your schemas and no longer used by
    FusionDirectory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--check-deprecated</dt>
  <dd class="It-tag">This option will list the dn of LDAP entries using
      deprecated attributes or objectclasses and no longer used by
      FusionDirectory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--ldif-deprecated</dt>
  <dd class="It-tag">This option will print an LDIF to allow you to remove
      deprecated attributes from you ldap server. Be careful and check before
      applying.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--show-config</dt>
  <dd class="It-tag">This option will print a dump of the FusionDirectory
      configuration LDAP node.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--set-config-VAR=value</dt>
  <dd class="It-tag">This option sets the value of a configuration field in the
      LDAP. The value needs to be in the correct LDAP format. You cannot set
      multivalued field with this. The var name can be provided with or without
      the fd prefix.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--yes</dt>
  <dd class="It-tag">This flag will answer &quot;yes&quot; to every yes/no
      question asked by the script</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>
 benoit@catbert$ fusiondirectory-setup --update-cache --update-locales
 Update FusionDirectory class cache and update localization
 benoit@catbert$ fusiondirectory-setup --list-vars
 List possible vars to give --set
locale_cache_dir        [locale]
config_file             [fusiondirectory.conf]
fd_cache                [/var/cache/fusiondirectory]
fd_smarty_dir           [/usr/share/php/smarty3]
fd_spool_dir            [/var/spool/fusiondirectory]
fai_log_dir             [fai]
tmp_dir                 [tmp]
secrets_file            [fusiondirectory.secrets]
template_dir            [template]
locale_dir              [locale]
class_cache             [class.cache]
fd_config_dir           [/etc/fusiondirectory]
fd_home [/var/www/fusiondirectory]
 benoit@catbert$ fusiondirectory-setup --set-class_cache=class.cache --write-vars
 update the class.cache name and write back the variables.inc file
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report any bugs, or post any suggestions, to the fusiondirectory mailing
  list fusiondirectory-users or to
  &lt;https://forge.fusiondirectory.org/projects/fdirectory/issues/new&gt;
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Benjamin Carpentier
<div class="Pp"></div>
Come Bernigaud
<h1 class="Sh" title="Sh" id="LICENCE_AND_COPYRIGHT"><a class="selflink" href="#LICENCE_AND_COPYRIGHT">LICENCE
  AND COPYRIGHT</a></h1>
This code is part of FusionDirectory (http://www.fusiondirectory.org/)
<dl class="Bl-tag">
  <dt class="It-tag">Copyright (C) 2011-2016 FusionDirectory</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
This program is distributed in the hope that it will be useful, but WITHOUT ANY
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
  A PARTICULAR PURPOSE. See the GNU General Public License for more
  details.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-01-19</td>
    <td class="foot-os">FusionDirectory 1.0.19</td>
  </tr>
</table>
</body>
</html>
