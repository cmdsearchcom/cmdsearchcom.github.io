<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>m.cogo(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">m.cogo(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">m.cogo(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>m.cogo</b> - A simple utility for converting bearing and distance
  measurements to coordinates and vice versa.
<div>&#x00A0;</div>
It assumes a cartesian coordinate system
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
miscellaneous, distance
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>m.cogo</b>
<div>&#x00A0;</div>
<b>m.cogo --help</b>
<div>&#x00A0;</div>
<b>m.cogo</b> [-<b>lrc</b>] [<b>input</b>=<i>name</i>]
  [<b>output</b>=<i>name</i>] [ <b>coordinates</b>=<i>east,north</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Lines are labelled</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Convert from coordinates to bearing and distance</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Repeat the starting coordinate at the end to close a loop</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input file
    <div>&#x00A0;</div>
    Default: <i>-</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output file
    <div>&#x00A0;</div>
    Default: <i>-</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>coordinates</b>=<i>east,north</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Starting coordinate pair
    <div>&#x00A0;</div>
    Default: <i>0.0,0.0</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>m.cogo</i> converts data points between bearing and distance and X,Y
  coordinates. Only simple bearing/distance or coordinate pairs are handled. It
  assumes a cartesian coordinate system.
<div class="Pp"></div>
Input can be entered via standard input (default) or from the file
  <b>input=</b><i>name</i>. Specifying the input as &quot;-&quot; also specifies
  standard input, and is useful for using the program in a pipeline. Output will
  be to standard output unless a file name other than &quot;-&quot; is
  specified. The input file must closely adhere to the following format, where
  up to a 10 character label is allowed but not required (see <b>-l</b> flag).
<div class="Pp"></div>
<b>Example COGO input:</b>
<div>&#x00A0;</div>
<pre>
   P23 N 23:14:12 W 340
   P24 S 04:18:56 E 230
   ...
</pre>
<div class="Pp"></div>
The first column may contain a label and you must use the <b>-l</b> flag so the
  program knows. This is followed by a space, and then either the character
  &#x2019;N&#x2019; or &#x2019;S&#x2019; to indicate whether the bearing is
  relative to the north or south directions. After another space, the angle
  begins in degrees, minutes, and seconds in &quot;DDD:MM:SS.SSSS&quot; format.
  Generally, the angle can be of the form <i>digits + separator + digits +
  separator + digits [+ &#x2019;.&#x2019; + digits]</i>. A space follows the
  angle, and is then followed by either the &#x2019;E&#x2019; or
  &#x2019;W&#x2019; characters. A space separates the bearing from the distance
  (which should be in appropriate linear units).
<div class="Pp"></div>
<b>Output of the above input:</b>
<div>&#x00A0;</div>
<pre>
   -134.140211 312.420236 P23
   -116.832837 83.072345 P24
   ...
</pre>
<div class="Pp"></div>
Unless specified with the <b>coord</b> option, calculations begin from (0,0).
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
For those unfamiliar with the notation for bearings: Picture yourself in the
  center of a circle. The first hemispere notation tell you whether you should
  face north or south. Then you read the angle and either turn that many degrees
  to the east or west, depending on the second hemisphere notation. Finally, you
  move &lt;distance&gt; units in that direction to get to the next station.
<div class="Pp"></div>
<i>m.cogo</i> can be run either non-interactively or interactively. The program
  will be run non-interactively if the user specifies any parameter or flag. Use
  &quot;m.cogo -&quot;, to run the program in a pipeline. Without any flags or
  parameters, <i>m.cogo</i> will prompt for each value using the familiar GRASS
  parser interface.
<div class="Pp"></div>
This program is very simplistic, and will not handle deviations from the input
  format explained above. Currently, the program doesn&#x2019;t do anything
  particularly useful with the output. However, it is envisioned that this
  program will be extended to provide the capability to generate vector and/or
  sites layers.
<div class="Pp"></div>
Lines may be closed by using the <b>-c</b> flag or snapped with <i>v.clean</i>,
  lines may be converted to boundaries with <i>v.type</i>, and closed boundaries
  may be converted to areas with <i>v.centroids</i>.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<pre>
   m.cogo -l in=cogo.dat
</pre>
Where the cogo.dat input file looks like:
<div>&#x00A0;</div>
<pre>
# Sample COGO input file -- This defines an area.
# &lt;label&gt; &lt;bearing&gt; &lt;distance&gt;
P001 S 88:44:56 W 6.7195
P002 N 33:34:15 W 2.25
P003 N 23:23:50 W 31.4024
P004 N 05:04:45 W 25.6981
P005 N 18:07:25 E 22.2439
P006 N 27:49:50 E 75.7317
P007 N 22:56:50 E 87.4482
P008 N 37:45:15 E 37.7835
P009 N 46:04:30 E 11.5854
P010 N 90:00:00 E 8.8201
P011 N 90:00:00 E 164.1128
P012 S 48:41:12 E 10.1311
P013 S 00:25:50 W 255.7652
P014 N 88:03:13 W 98.8567
P015 S 88:44:56 W 146.2713
P016 S 88:44:56 W 18.7164
</pre>
<div class="Pp"></div>
Round trip:
<div>&#x00A0;</div>
<pre>
   m.cogo -l input=cogo.dat | m.cogo -rl in=&quot;-&quot;
</pre>
<div class="Pp"></div>
Import as a vector points map:
<div>&#x00A0;</div>
<pre>
   m.cogo -l input=cogo.dat | v.in.ascii output=cogo_points x=1 y=2 separator=space
</pre>
<div class="Pp"></div>
Shell script to import as a vector line map:
<div>&#x00A0;</div>
<pre>
   m.cogo -l input=cogo.dat | tac | awk &#x2019;
       BEGIN { FS=&quot; &quot; ; R=0 }
       $1~/\d*\.\d*/ { printf(&quot; %.8f %.8f\n&quot;, $1, $2) ; ++R }
       END { printf(&quot;L %d\n&quot;, R) }&#x2019; | tac | \
       v.in.ascii -n format=standard out=cogo_line
</pre>
<div class="Pp"></div>
Convert that lines map into an area:
<div>&#x00A0;</div>
<pre>
   # Add the -c flag to the above example to close the loop:
   m.cogo -l -c input=cogo.dat | ...
       ...
   v.type input=cogo_line output=cogo_boundary from_type=line to_type=boundary
   v.centroids input=cogo_boundary output=cogo_area
</pre>
If necessary, snap the boundary closed with the <i>v.clean</i> module. Use
  tool=snap and thresh=0.0001, or some small value.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>v.centroids,</i> <i>v.clean,</i> <i>wxGUI vector digitizer,</i>
  <i>v.in.ascii,</i> <i>v.type</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Eric G. Miller
<div class="Pp"></div>
<i>Last changed: $Date: 2014-12-09 19:39:37 +0100 (Tue, 09 Dec 2014) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: m.cogo source code (history)
<div class="Pp"></div>
Main index | Misc index | Topics index | Keywords index | Graphical index | Full
  index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
