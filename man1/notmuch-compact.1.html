<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NOTMUCH-COMPACT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NOTMUCH-COMPACT(1)</td>
    <td class="head-vol">notmuch</td>
    <td class="head-rtitle">NOTMUCH-COMPACT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
notmuch-compact - compact the notmuch database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>notmuch</b> <b>compact</b> [--quiet] [--backup=&lt;<i>directory</i>&gt;]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>compact</b> command can be used to compact the notmuch database. This can
  both reduce the space required by the database and improve lookup performance.
<div style="height: 1.00em;">&#x00A0;</div>
The compacted database is built in a temporary directory and is later moved into
  the place of the origin database. The original uncompacted database is
  discarded, unless the <b>--backup=</b>&lt;directory&gt; option is used.
<div style="height: 1.00em;">&#x00A0;</div>
Note that the database write lock will be held during the compaction process
  (which may be quite long) to protect data integrity.
<div style="height: 1.00em;">&#x00A0;</div>
Supported options for <b>compact</b> include
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--backup=</b>&lt;directory&gt;</b></dt>
  <dd class="It-tag">Save the current database to the given directory before
      replacing it with the compacted database. The backup directory must not
      exist and it must reside on the same mounted filesystem as the current
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--quiet</b></b></dt>
  <dd class="It-tag">Do not report database compaction progress to stdout.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The following environment variables can be used to control the behavior of
  notmuch.
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>NOTMUCH_CONFIG</b></dt>
  <dd class="It-tag">Specifies the location of the notmuch configuration file.
      Notmuch will use ${HOME}/.notmuch-config if this variable is not set.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>notmuch(1)</b>, <b>notmuch-count(1)</b>, <b>notmuch-dump(1)</b>,
  <b>notmuch-hooks(5)</b>, <b>notmuch-insert(1)</b>, <b>notmuch-new(1)</b>,
  <b>notmuch-reply(1)</b>, <b>notmuch-restore(1)</b>, <b>notmuch-search(1)</b>,
  <b>notmuch-search-terms(7)</b>, <b>notmuch-show(1)</b>, <b>notmuch-tag(1)</b>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Carl Worth and many others
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2009-2017, Carl Worth and many others</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 1, 2017</td>
    <td class="foot-os">0.24.2</td>
  </tr>
</table>
</body>
</html>
