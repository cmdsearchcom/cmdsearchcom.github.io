<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KAK_HIGHLIGHTERS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KAK_HIGHLIGHTERS(1)</td>
    <td class="head-vol">highlighters</td>
    <td class="head-rtitle">KAK_HIGHLIGHTERS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
highlighters - a
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Manipulation of the displayed text is done through highlighters, which can be
  added or removed with the following commands:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl &lt;highlighter_name&gt; &lt;highlighter_parameters&gt; ...
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
and
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
rmhl &lt;highlighter_id&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>highlighter_id</b> is a name generated by the highlighter specified with
  <b>highlighter_name</b>, possibly dependent on the parameters. Use command
  completion in a prompt on the <b>rmhl</b> command to see the existing
  highlighters ids.
<h1 class="Sh" title="Sh" id="GENERAL_HIGHLIGHTERS"><a class="selflink" href="#GENERAL_HIGHLIGHTERS">GENERAL
  HIGHLIGHTERS</a></h1>
<b>regex</b> &lt;ex&gt; &lt;capture_id&gt;:&lt;face&gt; ...
<div style="margin-left: 4.00ex;">highlight a regex, takes the regex as first
  parameter, followed by any number of face parameters. For example:</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    addhl regex //(\hTODO:)?[^\n] 0:cyan 1:yellow,red
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
will highlight C++ style comments in cyan, with an eventual 'TODO:'
in yellow on red background
</pre>
</div>
<div class="Pp"></div>
<b>dynregex</b>
<div style="margin-left: 4.00ex;">Similar to regex, but expand (like a command
  parameter would) the given expression before building a regex from the
  result</div>
<div class="Pp"></div>
<b>flag_lines</b> &lt;flag&gt; &lt;option_name&gt;
<div style="margin-left: 4.00ex;">add a column in front of text, and display the
  given flag in it for every line contained in the int-list option named
  &lt;option_name&gt;</div>
<div class="Pp"></div>
<b>show_matching</b>
<div style="margin-left: 4.00ex;">highlight matching char of the character under
  the selections cursor using MatchingChar face</div>
<div class="Pp"></div>
<b>number_lines</b> [options]
<div style="margin-left: 4.00ex;">show line numbers, with the following
  <b>options</b>:
<div class="Pp"></div>
<b>-relative</b>
<div style="margin-left: 4.00ex;">show line numbers relative to the main cursor
  line</div>
<div class="Pp"></div>
<b>-hlcursor</b>
<div style="margin-left: 4.00ex;">highlight the cursor line with a separate
  face</div>
<div class="Pp"></div>
<b>-separator</b> &lt;separator text&gt;
<div style="margin-left: 4.00ex;">specify a string to separate the line numbers
  column with the rest of the buffer (default is <i>|</i>)</div>
</div>
<div class="Pp"></div>
<b>ranges</b> &lt;option_name&gt;
<div style="margin-left: 4.00ex;">use the data in the range-faces option of the
  given name to highlight the buffer.</div>
<div class="Pp"></div>
<b>fill</b> &lt;face&gt;
<div style="margin-left: 4.00ex;">fill using the given <b>face</b>, mostly
  useful with regions highlighters</div>
<h1 class="Sh" title="Sh" id="HIGHLIGHTING_GROUPS"><a class="selflink" href="#HIGHLIGHTING_GROUPS">HIGHLIGHTING
  GROUPS</a></h1>
The group highlighter is a container for other highlighters. You can add a group
  to the current window using
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl group &lt;name&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The <b>-group</b> switch of the <b>addhl</b> command provides a mean to add
  highlighters inside this group:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl -group &lt;name&gt; &lt;type&gt; &lt;params&gt;...
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Groups can contain other groups, the <b>-group</b> switch can be used to define
  a path as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl -group &lt;name&gt; group &lt;subname&gt;
addhl -group &lt;name&gt;/&lt;subname&gt; &lt;type&gt; &lt;params&gt;...
</pre>
</div>
<h1 class="Sh" title="Sh" id="REGIONS_HIGHLIGHTERS"><a class="selflink" href="#REGIONS_HIGHLIGHTERS">REGIONS
  HIGHLIGHTERS</a></h1>
A special highlighter provides a way to segment the buffer into regions, which
  are to be highlighted differently.
<div class="Pp"></div>
<b>name</b>
<div style="margin-left: 4.00ex;">user defined, used to identify the
  region</div>
<div class="Pp"></div>
<b>opening</b>
<div style="margin-left: 4.00ex;">regex that defines the region start text</div>
<div class="Pp"></div>
<b>closing</b>
<div style="margin-left: 4.00ex;">regex that defines the region end text</div>
<div class="Pp"></div>
<b>recurse</b>
<div style="margin-left: 4.00ex;">regex that defines the text that matches
  recursively an end token into the region</div>
<div style="height: 1.00em;">&#x00A0;</div>
The <b>recurse</b> option is useful for regions that can be nested, for example
  the following construct:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
%sh{ ... }
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
accepts nested braces scopes ( <i>{ ... }</i>) so the following string is valid:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
%sh{ ... { ... } ... }
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This region can be defined with:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
shell_expand %sh\{ \} \{
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Regions are used in the regions highlighter which can take any number of
  regions.
<div style="height: 1.00em;">&#x00A0;</div>
The following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl regions &lt;name&gt; &lt;region_name1&gt; &lt;opening1&gt; &lt;closing1&gt; &lt;recurse1&gt;
                                &lt;region_name2&gt; &lt;opening2&gt; &lt;closing2&gt; &lt;recurse2&gt;...
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
defines multiple regions in which other highlighters can be added as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl -group &lt;name&gt;/&lt;region_name&gt; ...
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Regions are matched using the left-most rule: the left-most region opening
  starts a new region. When a region closes, the closest next opening start
  another region.
<div style="height: 1.00em;">&#x00A0;</div>
That matches the rule governing most programming language parsing.
<div style="height: 1.00em;">&#x00A0;</div>
Regions also supports a <b>-default &lt;default_region&gt;</b> switch to define
  the default region, when no other region matches the current buffer range.
<div style="height: 1.00em;">&#x00A0;</div>
Most programming languages can then be properly highlighted using a regions
  highlighter as root:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl regions -default code &lt;lang&gt; \
        string &lt;str_opening&gt; &lt;str_closing&gt; &lt;str_recurse&gt; \
        comment &lt;comment_opening&gt; &lt;comment_closing&gt; &lt;comment_recurse&gt;
<div class="Pp"></div>
addhl -group &lt;lang&gt;/code ...
addhl -group &lt;lang&gt;/string ...
addhl -group &lt;lang&gt;/comment ...
</pre>
</div>
<h1 class="Sh" title="Sh" id="SHARED_HIGHLIGHTERS"><a class="selflink" href="#SHARED_HIGHLIGHTERS">SHARED
  HIGHLIGHTERS</a></h1>
Highlighters are often defined for a specific filetype, and it makes then sense
  to share the highlighters between all the windows on the same filetypes.
<div style="height: 1.00em;">&#x00A0;</div>
A shared highlighter can be defined with the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl -group /&lt;group_name&gt; ...
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
When the group switch values starts with a <i>/</i>, it references a group in
  the shared highlighters, rather than the window highlighters.
<div style="height: 1.00em;">&#x00A0;</div>
The common case would be to create a named shared group, and then fill it with
  highlighters:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl -group / group &lt;name&gt;
addhl -group /name regex ...
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
It can then be referenced in a window using the ref highlighter.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
addhl ref &lt;name&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The ref can reference any named highlighter in the shared namespace.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
