<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>certmonger(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">certmonger(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">certmonger(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
getcert
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
getcert request [options]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Tells <i>certmonger</i> to use an existing key pair (or to generate one if one
  is not already found in the specified location), to generate a signing request
  using the key pair, and to submit them for signing to a CA.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="KEY_AND_CERTIFICATE_STORAGE_OPTIONS"><a class="selflink" href="#KEY_AND_CERTIFICATE_STORAGE_OPTIONS">KEY
  AND CERTIFICATE STORAGE OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> DIR</dt>
  <dd class="It-tag">Use an NSS database in the specified directory for storing
      this certificate and key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b> NAME</dt>
  <dd class="It-tag">Use the key with this nickname to generate the signing
      request. If no such key is found, generate one. Give the enrolled
      certificate this nickname, too. Only valid with <b>-d</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> TOKEN</dt>
  <dd class="It-tag">If the NSS database has more than one token available, use
      the token with this name for storing and accessing the certificate and
      key. This argument only rarely needs to be specified. Only valid with
      <b>-d</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> FILE</dt>
  <dd class="It-tag">Store the issued certificate in this file. For safety's
      sake, do not use the same file specified with the <b>-k</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b> FILE</dt>
  <dd class="It-tag">Use the key stored in this file to generate the signing
      request. If no such file is found, generate a new key pair and store them
      in the file. Only valid with <b>-f</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="KEY_ENCRYPTION_OPTIONS"><a class="selflink" href="#KEY_ENCRYPTION_OPTIONS">KEY
  ENCRYPTION OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> FILE</dt>
  <dd class="It-tag">Encrypt private key files or databases using the PIN stored
      in the named file as the passphrase.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b> PIN</dt>
  <dd class="It-tag">Encrypt private key files or databases using the specified
      PIN as the passphrase. Because command-line arguments to running processes
      are trivially discoverable, use of this option is not recommended except
      for testing.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="KEY_GENERATION_OPTIONS"><a class="selflink" href="#KEY_GENERATION_OPTIONS">KEY
  GENERATION OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b> TYPE</dt>
  <dd class="It-tag">In case a new key pair needs to be generated, this option
      specifies the type of the keys to be generated. If not specified, a
      reasonable default (currently <i>RSA</i>) will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b> BITS</dt>
  <dd class="It-tag">In case a new key pair needs to be generated, this option
      specifies the size of the key. If not specified, a reasonable default
      (currently 2048 bits) will be used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="TRACKING_OPTIONS"><a class="selflink" href="#TRACKING_OPTIONS">TRACKING
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Attempt to obtain a new certificate from the CA when the
      expiration date of a certificate nears. This is the default setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b></dt>
  <dd class="It-tag">Don't attempt to obtain a new certificate from the CA when
      the expiration date of a certificate nears. If this option is specified,
      an expired certificate will simply stay expired.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b> NAME</dt>
  <dd class="It-tag">Assign the specified nickname to this task. If this option
      is not specified, a name will be assigned automatically.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENROLLMENT_OPTIONS"><a class="selflink" href="#ENROLLMENT_OPTIONS">ENROLLMENT
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> NAME</dt>
  <dd class="It-tag">Enroll with the specified CA rather than a possible
      default. The name of the CA should correspond to one listed by <i>getcert
      list-cas</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b> NAME</dt>
  <dd class="It-tag">Request a certificate using the named profile, template, or
      certtype, from the specified CA.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b> NAME</dt>
  <dd class="It-tag">Request a certificate using the named issuer from the
      specified CA.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SIGNING_REQUEST_OPTIONS"><a class="selflink" href="#SIGNING_REQUEST_OPTIONS">SIGNING
  REQUEST OPTIONS</a></h1>
If none of <b>-N</b>, <b>-U</b>, <b>-K</b>, <b>-E</b>, and <b>-D</b> are
  specified, a default group of settings will be used to request an SSL server
  certificate for the current host, with the <i>host</i> Kerberos service as an
  additional name.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b> NAME</dt>
  <dd class="It-tag">Set the subject name to include in the signing request. The
      default used is CN= <i>hostname</i>, where <i>hostname</i> is the local
      hostname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b> keyUsage</dt>
  <dd class="It-tag">Add an extensionRequest for the specified keyUsage to the
      signing request. The keyUsage value is expected to be one of these names:
    <div style="height: 1.00em;">&#x00A0;</div>
    digitalSignature
    <div style="height: 1.00em;">&#x00A0;</div>
    nonRepudiation
    <div style="height: 1.00em;">&#x00A0;</div>
    keyEncipherment
    <div style="height: 1.00em;">&#x00A0;</div>
    dataEncipherment
    <div style="height: 1.00em;">&#x00A0;</div>
    keyAgreement
    <div style="height: 1.00em;">&#x00A0;</div>
    keyCertSign
    <div style="height: 1.00em;">&#x00A0;</div>
    cRLSign
    <div style="height: 1.00em;">&#x00A0;</div>
    encipherOnly
    <div style="height: 1.00em;">&#x00A0;</div>
    decipherOnly</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b> EKU</dt>
  <dd class="It-tag">Add an extensionRequest for the specified extendedKeyUsage
      to the signing request. The EKU value is expected to be an object
      identifier (OID), but some specific names are also recognized. These are
      some names and their associated OID values:
    <div style="height: 1.00em;">&#x00A0;</div>
    id-kp-serverAuth 1.3.6.1.5.5.7.3.1
    <div style="height: 1.00em;">&#x00A0;</div>
    id-kp-clientAuth 1.3.6.1.5.5.7.3.2
    <div style="height: 1.00em;">&#x00A0;</div>
    id-kp-codeSigning 1.3.6.1.5.5.7.3.3
    <div style="height: 1.00em;">&#x00A0;</div>
    id-kp-emailProtection 1.3.6.1.5.5.7.3.4
    <div style="height: 1.00em;">&#x00A0;</div>
    id-kp-timeStamping 1.3.6.1.5.5.7.3.8
    <div style="height: 1.00em;">&#x00A0;</div>
    id-kp-OCSPSigning 1.3.6.1.5.5.7.3.9
    <div style="height: 1.00em;">&#x00A0;</div>
    id-pkinit-KPClientAuth 1.3.6.1.5.2.3.4
    <div style="height: 1.00em;">&#x00A0;</div>
    id-pkinit-KPKdc 1.3.6.1.5.2.3.5
    <div style="height: 1.00em;">&#x00A0;</div>
    id-ms-kp-sc-logon 1.3.6.1.4.1.311.20.2.2</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b> NAME</dt>
  <dd class="It-tag">Add an extensionRequest for a subjectAltName, with the
      specified Kerberos principal name as its value, to the signing
    request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b> EMAIL</dt>
  <dd class="It-tag">Add an extensionRequest for a subjectAltName, with the
      specified email address as its value, to the signing request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b> DNSNAME</dt>
  <dd class="It-tag">Add an extensionRequest for a subjectAltName, with the
      specified DNS name as its value, to the signing request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b> ADDRESS</dt>
  <dd class="It-tag">Add an extensionRequest for a subjectAltName, with the
      specified IP address as its value, to the signing request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> FILE</dt>
  <dd class="It-tag">Add an optional ChallengePassword value, read from the
      file, to the signing request. A ChallengePassword is often required when
      the CA is accessed using SCEP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b> PIN</dt>
  <dd class="It-tag">Add the argument value to the signing request as a
      ChallengePassword attribute. A ChallengePassword is often required when
      the CA is accessed using SCEP.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OTHER_OPTIONS"><a class="selflink" href="#OTHER_OPTIONS">OTHER
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b> COMMAND</dt>
  <dd class="It-tag">When ever the certificate or the CA's certificates are
      saved to the specified locations, run the specified command as the client
      user before saving the certificates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b> COMMAND</dt>
  <dd class="It-tag">When ever the certificate or the CA's certificates are
      saved to the specified locations, run the specified command as the client
      user after saving the certificates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b> DIR</dt>
  <dd class="It-tag">When ever the certificate is saved to the specified
      location, if root certificates for the CA are available, save them to the
      specified NSS database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b> FILE</dt>
  <dd class="It-tag">When ever the certificate is saved to the specified
      location, if root certificates for the CA are available, and when the
      local copies of the CA's root certificates are updated, save them to the
      specified file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">Wait for the certificate to be issued and saved, or for the
      attempt to obtain one to fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Be verbose about errors. Normally, the details of an error
      received from the daemon will be suppressed if the client can make a
      diagnostic suggestion.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Locations specified for key and certificate storage need to be accessible to the
  <i>certmonger</i> daemon process. When run as a system daemon on a system
  which uses a mandatory access control mechanism such as SELinux, the system
  policy must ensure that the daemon is allowed to access the locations where
  certificates and keys that it will manage will be stored (these locations are
  typically labeled as <i>cert_t</i> or an equivalent). More SELinux-specific
  information can be found in the <i>selinux.txt</i> documentation file for this
  package.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please file tickets for any that you find at
  https://fedorahosted.org/certmonger/
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>certmonger</b>(8) <b>getcert</b>(1) <b>getcert-add-ca</b>(1)
  <b>getcert-add-scep-ca</b>(1) <b>getcert-list-cas</b>(1)
  <b>getcert-list</b>(1) <b>getcert-modify-ca</b>(1)
  <b>getcert-refresh-ca</b>(1) <b>getcert-refresh</b>(1)
  <b>getcert-remove-ca</b>(1) <b>getcert-resubmit</b>(1)
  <b>getcert-start-tracking</b>(1) <b>getcert-status</b>(1)
  <b>getcert-stop-tracking</b>(1) <b>certmonger-certmaster-submit</b>(8)
  <b>certmonger-dogtag-ipa-renew-agent-submit</b>(8)
  <b>certmonger-dogtag-submit</b>(8) <b>certmonger-ipa-submit</b>(8)
  <b>certmonger-local-submit</b>(8) <b>certmonger-scep-submit</b>(8)
  <b>certmonger_selinux</b>(8)</div>
<table class="foot">
  <tr>
    <td class="foot-date">9 February 2015</td>
    <td class="foot-os">certmonger Manual</td>
  </tr>
</table>
</body>
</html>
