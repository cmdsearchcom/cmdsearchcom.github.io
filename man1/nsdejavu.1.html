<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NSDEJAVU(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NSDEJAVU(1)</td>
    <td class="head-vol">DjView-4</td>
    <td class="head-rtitle">NSDEJAVU(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
nsdejavu - DjVu browser plugin
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>/usr/lib/x86_64-linux-gnu/mozilla/plugins/nsdejavu.so</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The shared library <b>nsdejavu.so</b> uses the Netscape browser plugin
  <small>API</small> to display DjVu images in in a number of popular web
  browsers. Different web browsers provide various level of support for Netscape
  plugins. Please check section &quot;Browser Compatibility&quot; for
  instructions on how to enable the DjVu browser plugin.
<div style="height: 1.00em;">&#x00A0;</div>
The DjVuLibre browser plugin works by invoking a standalone viewer with the
  special command line option <b>-netscape</b>. The plugin first searches a
  program named <b>djview</b>. If this program cannot be found, it searches for
  <b>djview4</b> and finally <b>djview3.</b> It is always possible to override
  this search strategy by setting the environment variable <b>NPX_DJVIEW</b> to
  the full path of the desired executable.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="MIME_TYPES_AND_EXTENSIONS"><a class="selflink" href="#MIME_TYPES_AND_EXTENSIONS">MIME
  TYPES AND EXTENSIONS</a></h1>
Typing the <small>URL</small> of a recognized DjVu document in your web browser
  should automatically invoke the DjVu browser plugin. Each browser uses
  different methods to determine that a particular <small>URL</small> is in fact
  a DjVu document. Web server normally provide a <small>MIME</small> type to web
  browsers. The official <small>MIME</small> type for DjVu documents is
  <b>image/vnd.djvu</b>. For compatibility with ancient versions of the DjVu
  viewer, it is common to use instead the experimental <small>MIME</small> type
  <b>image/x-djvu</b> or <b>image/x.djvu</b>. Web servers should be configured
  to send the proper <small>MIME</small> type for DjVu documents. Most web
  browsers also recognize files ending with <b>.djvu</b> or <b>.djv</b> as DjVu
  files.
<div style="height: 1.00em;">&#x00A0;</div>
An easy way to check if an http server is giving an appropriate content-type is
  to invoke the following command with a <small>URL</small> corresponding to an
  actual DjVu file on the server.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>curl -u </b><i>URL</i><b> | grep Content-Type</b></dd>
</dl>
<div class="Pp"></div>
The result should be one of the following, preferably the first.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>Content-Type: image/vnd.djvu</b>
    <div>&#x00A0;</div>
    <b>Content-Type: image/x.djvu</b>
    <div>&#x00A0;</div>
    <b>Content-Type: image/x-djvu</b></dd>
</dl>
<div class="Pp"></div>
Any other <small>MIME</small> type indicates a server misconfiguration.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CGI-STYLE_FLAGS"><a class="selflink" href="#CGI-STYLE_FLAGS">CGI-STYLE
  FLAGS</a></h1>
The behavior of the DjVu browser plugin can be specified by augmenting the
  <small>URL</small> using a syntax similar to that used by the
  <small>CGI</small> programs. This syntax is described by the following
  template:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>http://.../file.djvu?djvuopts&amp;</b><i>keyword=value</i><b>&amp;</b><i>keyword=value</i><b>&amp;</b><i>...</i></dd>
</dl>
<div class="Pp"></div>
The DjVu browser plugin only recognizes keywords that appear after the word
  <b>djvuopts</b>. The keywords recognized by each viewer are listed in the
  corresponding man page. Unrecognized keywords are ignored. The most common
  keywords are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>page=</b><i>pagename</i></dt>
  <dd class="It-tag">Specify which page is displayed by name or by ordinal
      number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zoom=</b><i>zoomfactor</i></dt>
  <dd class="It-tag">Set the zoom factor. Legal values for <i>zoomfactor</i>
      are:
    <div>&#x00A0;</div>
    <table class="tbl">
      <colgroup>
        <col style="width: 7.00ex;"/>
        <col style="width: 44.00ex;"/>
      </colgroup>
      <tr>
        <td>number</td>
        <td>Magnification factor in range 10% to 999%.</td>
      </tr>
      <tr>
        <td>one2one</td>
        <td>Select the &quot;one-to-one&quot; mode.</td>
      </tr>
      <tr>
        <td>width</td>
        <td>Select the &quot;fit width&quot; mode.</td>
      </tr>
      <tr>
        <td>page</td>
        <td>Select the &quot;fit page&quot; mode.</td>
      </tr>
      <tr>
        <td>stretch</td>
        <td>Stretch the image to the plugin window size.</td>
      </tr>
    </table>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BROWSER_COMPATIBILITY"><a class="selflink" href="#BROWSER_COMPATIBILITY">BROWSER
  COMPATIBILITY</a></h1>
The DjVu browser plugin has been tested with several popular web browsers:
  Netscape 4 and 6; Gecko based browsers such as Mozilla, Galeon and Firefox;
  KHTML based browsers such as Konqueror; and Opera. Please read the browser
  documentation to find out where the plugin library should be installed.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EMBEDDING_DJVU_IMAGES_IN_HTML_PAGES"><a class="selflink" href="#EMBEDDING_DJVU_IMAGES_IN_HTML_PAGES">EMBEDDING
  DJVU IMAGES IN HTML PAGES</a></h1>
You can integrate DjVu content on an <small>HTML</small> web page with either
  the <small>&lt;embed&gt;</small> or the <small>&lt;object&gt;</small> tag.
  This method will work even if your web server does not support the DjVu
  <small>MIME</small> type. The <small>CGI</small> style flags can be directly
  used as attributes of the embedding tag. The following example shows the W3C
  standard syntax with the <small>OBJECT</small> tag:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>&lt;object data=&quot;myfile.djvu&quot;
      type=&quot;image/vnd.djvu&quot;</b>
    <div>&#x00A0;</div>
    <b>&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;
      width=&quot;100%&quot; height=&quot;100%&quot; &gt;</b>
    <div>&#x00A0;</div>
    <b>&#x2002;&#x2002;&#x2002; &lt;param name=&quot;page&quot;
      value=&quot;iii&quot;&gt;</b>
    <div>&#x00A0;</div>
    <b>&#x2002;&#x2002;&#x2002; &lt;param name=&quot;zoom&quot;
      value=&quot;stretch&quot;&gt;</b>
    <div>&#x00A0;</div>
    <b>&#x2002;&#x2002;&#x2002; This browser cannot render djvu data.</b>
    <div>&#x00A0;</div>
    <b>&lt;/object&gt;</b></dd>
</dl>
<div class="Pp"></div>
And this is the customary syntax with the <small>EMBED</small> tag:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>&lt;embed src=&quot;myfile.djvu&quot;
      type=&quot;image/vnd.djvu&quot;</b>
    <div>&#x00A0;</div>
    <b>&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;
      width=&quot;100%&quot; height=&quot;100%&quot;</b>
    <div>&#x00A0;</div>
    <b>&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;&#x2002;
      page=&quot;iii&quot; zoom=&quot;stretch&quot;&gt;&lt;/embed&gt;</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="INTERFACING_THE_DJVIEW_PLUGIN_WITH_JAVASCRIPT"><a class="selflink" href="#INTERFACING_THE_DJVIEW_PLUGIN_WITH_JAVASCRIPT">INTERFACING
  THE DJVIEW PLUGIN WITH JAVASCRIPT</a></h1>
Recent versions of the <b>djview4</b> plugin can be controlled from the
  JavaScript interpreter of browsers implementing the Mozilla NPRuntime API. To
  access the plugin object, include the attribute
  <b>id=&quot;</b><i>pluginname</i><b>&quot;</b> into the <b>&lt;object&gt;</b>
  or <b>&lt;embed&gt;</b> tag and use the JavaScript function
  <b>getElementById(&quot;</b><i>pluginname</i><b>&quot;).</b>
<div class="Pp"></div>
The plugin object implements two methods to retrieve and set the value of the
  options usually recognized as CGI-style flags. It also can evaluate a
  specified JavaScript expression whenever something changes in the status of
  the djview interface.
<dl class="Bl-tag">
  <dt class="It-tag"><i>pluginobject</i><b>.setdjvuopt(&quot;</b><i>key</i><b>&quot;,</b><i>value</i><b>)</b></dt>
  <dd class="It-tag">Set the value of the djvu option <i>key</i> to the
      character string <i>value</i>. This achieves the same effect as specifying
      option <i>key</i>=<i>value</i> among the CGI-style flags. For instance,
      values of the key <b>page</b> can be page IDs, page titles, page numbers,
      or page names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pluginobject</i><b>.getdjvuopt(&quot;</b><i>key</i><b>&quot;)</b></dt>
  <dd class="It-tag">Return the value of the djvu option <i>key</i> as a string.
      The returned value is always a character string, even when the return is
      logically a number. Boolean values are returned as strings <b>yes</b> or
      <b>no.</b> Besides the usual CGI-style flags, this function recognizes the
      additional key <b>pages</b> and returns the total number of pages in the
      DjVu document. An empty string is returned when the key is not
    recognized.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pluginobject</i><b>.onchange=&quot;</b><i>code</i><b>&quot;;</b></dt>
  <dd class="It-tag">Ensure that string <i>code</i> is evaluated in the context
      of the plugin object whenever something changes in the djview graphical
      user interface. For instance, this evaluation happens when progressive
      refinements are painted, and when the user manipulates the image
      interactively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pluginobject</i><b>.version</b></dt>
  <dd class="It-tag">Return a string describing the plugin version. This
      property can be used to test whether the djview plugin is scriptable in
      this browser.</dd>
</dl>
<div class="Pp"></div>
Note that the scriptability feature may not be accessible until the djview
  plugin is fully loaded. Therefore it is advisable to check
  <i>pluginobject</i><b>.version</b> from the JavaScript <b>onload</b> before
  calling any other method.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CREDITS"><a class="selflink" href="#CREDITS">CREDITS</a></h1>
This program was written by Andrei Erofeev &lt;andrew_erofeev@yahoo.com&gt; and
  was then improved by Bill Riemers &lt;docbill@sourceforge.net&gt; and
  L&#x00E9;on Bottou &lt;leonb@users.sourceforge.net&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>djvu</b>(1), <b>ddjvu</b>(1), <b>djview4</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">1/4/2007</td>
    <td class="foot-os">DjView-4</td>
  </tr>
</table>
</body>
</html>
