<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GLITE-LB-PURGE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GLITE-LB-PURGE(1)</td>
    <td class="head-vol">Logging&amp;Bookkeeping</td>
    <td class="head-rtitle">GLITE-LB-PURGE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
glite-lb-purge - utility for removing inactive jobs from the L&amp;B database
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>glite-lb-purge</b> [<i>options</i>]
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>glite-lb-purge</b> is utility for removing inactive jobs from the L&amp;B
  database. By default, it removes jobs that reached CLEARED, ABORTED and
  CANCELLED state and also OTHER and DONE jobs that are inactive for specific
  (rather long) time. It is a command line frontend to server internal purge. It
  is used by administrators of bkserver and it is not supposed to be used at the
  user level.
<div style="height: 1.00em;">&#x00A0;</div>
<b>glite-lb-purge</b> may be run periodically in order to avoid database
  overflow, however the periodic purges are done by server itself, so check the
  configuration of the server first.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-m, --server <i>bkserver</i></dt>
  <dd class="It-tag">L&amp;B server machine name. If not specified, the
      environment variable EDG_WL_QUERY_SERVER is beeing checked.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-a, --aborted NNN[smhd]</dt>
  <dd class="It-tag">Purge ABORTED jobs older than NNN
      seconds/minutes/hours/days (only one number and one letter allowed). If
      the time is not specified, the default timeout is determined by the
      server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c, --cleared NNN[smhd]</dt>
  <dd class="It-tag">Purge CLEARED jobs older than given time.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n, --cancelled NNN[smhd]</dt>
  <dd class="It-tag">Purge CANCELLED jobs older than given time.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-e, --done NNN[smhd]</dt>
  <dd class="It-tag">Purge DONE jobs older than given time.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o, --other NNN[smhd]</dt>
  <dd class="It-tag">Purge OTHER (i.e. job in other state than ABORTED, CLEARED
      or CANCELLED) jobs older than given time.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r, --dry-run</dt>
  <dd class="It-tag">Do not really purge.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-j, --jobs <i>filename</i></dt>
  <dd class="It-tag">Input file with jobIds of jobs to purge.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l, --return-list</dt>
  <dd class="It-tag">Return list of jobid matching the purge/dump criteria.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s, --server-dump</dt>
  <dd class="It-tag">Dump jobs at the server into a file (see bkserverd).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i, --client-dump</dt>
  <dd class="It-tag">Receive stream of dumped jobs (NOT implemented yet!).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h, --help</dt>
  <dd class="It-tag">Display help.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v, --version</dt>
  <dd class="It-tag">Display version.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d, --debug</dt>
  <dd class="It-tag">Print diagnostics on the <i>stderr</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-x, --proxy</dt>
  <dd class="It-tag">Purge L&amp;B proxy.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-X, --sock <i>path</i></dt>
  <dd class="It-tag">Purge L&amp;B proxy using given socket path.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t, --target-runtime NNN[smhd]</dt>
  <dd class="It-tag">Throttle purge to the estimated target runtime.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-b, --background N</dt>
  <dd class="It-tag">Purge on the background. Default 1 when throttled purging.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
No configuration files needed.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>EDG_WL_QUERY_SERVER</b></dt>
  <dd class="It-tag">If $<b>EDG_WL_QUERY_SERVER</b> is set, its value is used as
      the bkserver address.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report all bugs to CESNET gLite L&amp;B issue tracker available at
  <i>https://github.com/CESNET/glite-lb/issues</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>glite-lb-bkindex</b>(8), <b>glite-lb-bkserverd</b>(8),
  <b>glite-lb-interlogd</b>(8), <b>glite-lb-logd</b>(8),
  <b>glite-lb-logevent</b>(1), <b>glite-lb-dump</b>(1), <b>glite-lb-load</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
EU EGEE, JRA1.</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 2008</td>
    <td class="foot-os">EGEE Project</td>
  </tr>
</table>
</body>
</html>
