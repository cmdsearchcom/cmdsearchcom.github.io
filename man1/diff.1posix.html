<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:04:05 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DIFF(1POSIX) POSIX Programmer&rsquo;s Manual
DIFF(1POSIX)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
diff &acirc; compare two files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
diff [&acirc;c|&acirc;e|&acirc;f|&acirc;u|&acirc;C
n|&acirc;U n] [&acirc;br] file1 file2</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The diff utility shall compare the contents of file1 and
file2 and write to standard output a list of changes
necessary to convert file1 into file2. This list should be
minimal. <br>
No output shall be produced if the files are identical.</p>

<p style="margin-top: 1em">OPTIONS <br>
The diff utility shall conform to the Base Definitions
volume of POSIX.1&acirc;2008, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-top: 1em">The following options shall be
supported:</p>

<p style="margin-top: 1em">&acirc;b Cause any amount of
white space at the end of a line to be treated as a single
&lt;newline&gt; (that is, the white-space characters
preceding the &lt;newline&gt; are ignored) and <br>
other strings of white-space characters, not including
&lt;newline&gt; characters, to compare equal.</p>

<p style="margin-top: 1em">&acirc;c Produce output in a
form that provides three lines of copied context.</p>

<p style="margin-top: 1em">&acirc;C n Produce output in a
form that provides n lines of copied context (where n shall
be interpreted as a positive decimal integer).</p>

<p style="margin-top: 1em">&acirc;e Produce output in a
form suitable as input for the ed utility, which can then be
used to convert file1 into file2.</p>

<p style="margin-top: 1em">&acirc;f Produce output in an
alternative form, similar in format to &acirc;e, but not
intended to be suitable as input for the ed utility, and in
the opposite order.</p>

<p style="margin-top: 1em">&acirc;r Apply diff recursively
to files and directories of the same name when file1 and
file2 are both directories.</p>

<p style="margin-top: 1em">The diff utility shall detect
infinite loops; that is, entering a previously visited
directory that is an ancestor of the last file encountered.
When it detects an <br>
infinite loop, diff shall write a diagnostic message to
standard error and shall either recover its position in the
hierarchy or terminate.</p>

<p style="margin-top: 1em">&acirc;u Produce output in a
form that provides three lines of unified context.</p>

<p style="margin-top: 1em">&acirc;U n Produce output in a
form that provides n lines of unified context (where n shall
be interpreted as a non-negative decimal integer).</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operands shall be supported:</p>

<p style="margin-top: 1em">file1, file2 <br>
A pathname of a file to be compared. If either the file1 or
file2 operand is &rsquo;&acirc;&rsquo;, the standard input
shall be used in its place.</p>

<p style="margin-top: 1em">If both file1 and file2 are
directories, diff shall not compare block special files,
character special files, or FIFO special files to any files
and shall not compare regular <br>
files to directories. Further details are as specified in
Diff Directory Comparison Format. The behavior of diff on
other file types is implementation-defined when found in
<br>
directories.</p>

<p style="margin-top: 1em">If only one of file1 and file2
is a directory, diff shall be applied to the non-directory
file and the file contained in the directory file with a
filename that is the same as <br>
the last component of the non-directory file.</p>

<p style="margin-top: 1em">STDIN <br>
The standard input shall be used only if one of the file1 or
file2 operands references standard input. See the INPUT
FILES section.</p>

<p style="margin-top: 1em">INPUT FILES <br>
The input files may be of any type.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of diff:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of POSIX.1&acirc;2008,
Section 8.2, Internationaliza&acirc; <br>
tion Variables for the precedence of internationalization
variables used to determine the values of locale
categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE Determine the locale
for the interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments <br>
and input files).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error and informative messages written to standard
<br>
output.</p>

<p style="margin-top: 1em">LC_TIME Determine the locale for
affecting the format of file timestamps written with the
&acirc;C and &acirc;c options.</p>

<p style="margin-top: 1em">NLSPATH Determine the location
of message catalogs for the processing of LC_MESSAGES.</p>

<p style="margin-top: 1em">TZ Determine the timezone used
for calculating file timestamps written with a context
format. If TZ is unset or null, an unspecified default
timezone shall be used.</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
Diff Directory Comparison Format <br>
If both file1 and file2 are directories, the following
output formats shall be used.</p>

<p style="margin-top: 1em">In the POSIX locale, each file
that is present in only one directory shall be reported
using the following format:</p>

<p style="margin-top: 1em">&quot;Only in %s: %s0,
&lt;directory pathname&gt;, &lt;filename&gt;</p>

<p style="margin-top: 1em">In the POSIX locale,
subdirectories that are common to the two directories may be
reported with the following format:</p>

<p style="margin-top: 1em">&quot;Common subdirectories: %s
and %s0, &lt;directory1 pathname&gt;, <br>
&lt;directory2 pathname&gt;</p>

<p style="margin-top: 1em">For each file common to the two
directories, if the two files are not to be compared: if the
two files have the same device ID and file serial number, or
are both block special <br>
files that refer to the same device, or are both character
special files that refer to the same device, in the POSIX
locale the output format is unspecified. Otherwise, in the
<br>
POSIX locale an unspecified format shall be used that
contains the pathnames of the two files.</p>

<p style="margin-top: 1em">For each file common to the two
directories, if the files are compared and are identical, no
output shall be written. If the two files differ, the
following format is written:</p>

<p style="margin-top: 1em">&quot;diff %s %s %s0,
&lt;diff_options&gt;, &lt;filename1&gt;,
&lt;filename2&gt;</p>

<p style="margin-top: 1em">where &lt;diff_options&gt; are
the options as specified on the command line.</p>

<p style="margin-top: 1em">All directory pathnames listed
in this section shall be relative to the original command
line arguments. All other names of files listed in this
section shall be filenames (path&acirc; <br>
name components).</p>

<p style="margin-top: 1em">Diff Binary Output Format <br>
In the POSIX locale, if one or both of the files being
compared are not text files, it is implementation-defined
whether diff uses the binary file output format or the other
for&acirc; <br>
mats as specified below. The binary file output format shall
contain the pathnames of two files being compared and the
string &quot;differ&quot;.</p>

<p style="margin-top: 1em">If both files being compared are
text files, depending on the options specified, one of the
following formats shall be used to write the
differences.</p>

<p style="margin-top: 1em">Diff Default Output Format <br>
The default (without &acirc;e, &acirc;f, &acirc;c, &acirc;C,
&acirc;u, or &acirc;U options) diff utility output shall
contain lines of these forms:</p>

<p style="margin-top: 1em">&quot;%da%d0, &lt;num1&gt;,
&lt;num2&gt;</p>

<p style="margin-top: 1em">&quot;%da%d,%d0, &lt;num1&gt;,
&lt;num2&gt;, &lt;num3&gt;</p>

<p style="margin-top: 1em">&quot;%dd%d0, &lt;num1&gt;,
&lt;num2&gt;</p>

<p style="margin-top: 1em">&quot;%d,%dd%d0, &lt;num1&gt;,
&lt;num2&gt;, &lt;num3&gt;</p>

<p style="margin-top: 1em">&quot;%dc%d0, &lt;num1&gt;,
&lt;num2&gt;</p>

<p style="margin-top: 1em">&quot;%d,%dc%d0, &lt;num1&gt;,
&lt;num2&gt;, &lt;num3&gt;</p>

<p style="margin-top: 1em">&quot;%dc%d,%d0, &lt;num1&gt;,
&lt;num2&gt;, &lt;num3&gt;</p>

<p style="margin-top: 1em">&quot;%d,%dc%d,%d0,
&lt;num1&gt;, &lt;num2&gt;, &lt;num3&gt;, &lt;num4&gt;</p>

<p style="margin-top: 1em">These lines resemble ed
subcommands to convert file1 into file2. The line numbers
before the action letters shall pertain to file1; those
after shall pertain to file2. Thus, by <br>
exchanging a for d and reading the line in reverse order,
one can also determine how to convert file2 into file1. As
in ed, identical pairs (where num1= num2) are abbreviated as
<br>
a single number.</p>

<p style="margin-top: 1em">Following each of these lines,
diff shall write to standard output all lines affected in
the first file using the format:</p>

<p style="margin-top: 1em">&quot;&lt; %s&quot;,
&lt;line&gt;</p>

<p style="margin-top: 1em">and all lines affected in the
second file using the format:</p>

<p style="margin-top: 1em">&quot;&gt; %s&quot;,
&lt;line&gt;</p>

<p style="margin-top: 1em">If there are lines affected in
both file1 and file2 (as with the c subcommand), the changes
are separated with a line consisting of three &lt;hyphen&gt;
characters:</p>


<p style="margin-top: 1em">&quot;&acirc;&acirc;&acirc;0</p>

<p style="margin-top: 1em">Diff &acirc;e Output Format <br>
With the &acirc;e option, a script shall be produced that
shall, when provided as input to ed, along with an appended
w (write) command, convert file1 into file2. Only the a
(append), <br>
c (change), d (delete), i (insert), and s (substitute)
commands of ed shall be used in this script. Text lines,
except those consisting of the single character
&lt;period&gt; (&rsquo;.&rsquo;), <br>
shall be output as they appear in the file.</p>

<p style="margin-top: 1em">Diff &acirc;f Output Format <br>
With the &acirc;f option, an alternative format of script
shall be produced. It is similar to that produced by
&acirc;e, with the following differences:</p>

<p style="margin-top: 1em">1. It is expressed in reverse
sequence; the output of &acirc;e orders changes from the end
of the file to the beginning; the &acirc;f from beginning to
end.</p>

<p style="margin-top: 1em">2. The command form
&lt;lines&gt; &lt;command-letter&gt; used by &acirc;e is
reversed. For example, 10c with &acirc;e would be c10 with
&acirc;f.</p>

<p style="margin-top: 1em">3. The form used for ranges of
line numbers is &lt;space&gt;-separated, rather than
&lt;comma&gt;-separated.</p>

<p style="margin-top: 1em">Diff &acirc;c or &acirc;C Output
Format <br>
With the &acirc;c or &acirc;C option, the output format
shall consist of affected lines along with surrounding lines
of context. The affected lines shall show which ones need to
be deleted <br>
or changed in file1, and those added from file2. With the
&acirc;c option, three lines of context, if available, shall
be written before and after the affected lines. With the
&acirc;C <br>
option, the user can specify how many lines of context are
written. The exact format follows.</p>

<p style="margin-top: 1em">The name and last modification
time of each file shall be output in the following
format:</p>

<p style="margin-top: 1em">&quot;*** %s %s0, file1,
&lt;file1 timestamp&gt; <br>
&quot;&acirc;&acirc;&acirc; %s %s0, file2, &lt;file2
timestamp&gt;</p>

<p style="margin-top: 1em">Each &lt;file&gt; field shall be
the pathname of the corresponding file being compared. The
pathname written for standard input is unspecified.</p>

<p style="margin-top: 1em">In the POSIX locale, each
&lt;timestamp&gt; field shall be equivalent to the output
from the following command:</p>

<p style="margin-top: 1em">date &quot;+%a %b %e %T
%Y&quot;</p>

<p style="margin-top: 1em">without the trailing
&lt;newline&gt;, executed at the time of last modification
of the corresponding file (or the current time, if the file
is standard input).</p>

<p style="margin-top: 1em">Then, the following output
formats shall be applied for every set of changes.</p>

<p style="margin-top: 1em">First, a line shall be written
in the following format:</p>

<p style="margin-top: 1em">&quot;***************0</p>

<p style="margin-top: 1em">Next, the range of lines in
file1 shall be written in the following format if the range
contains two or more lines:</p>

<p style="margin-top: 1em">&quot;*** %d,%d ****0,
&lt;beginning line number&gt;, &lt;ending line
number&gt;</p>

<p style="margin-top: 1em">and the following format
otherwise:</p>

<p style="margin-top: 1em">&quot;*** %d ****0, &lt;ending
line number&gt;</p>

<p style="margin-top: 1em">The ending line number of an
empty range shall be the number of the preceding line, or 0
if the range is at the start of the file.</p>

<p style="margin-top: 1em">Next, the affected lines along
with lines of context (unaffected lines) shall be written.
Unaffected lines shall be written in the following
format:</p>

<p style="margin-top: 1em">&quot; %s&quot;,
&lt;unaffected_line&gt;</p>

<p style="margin-top: 1em">Deleted lines shall be written
as:</p>

<p style="margin-top: 1em">&quot;&acirc; %s&quot;,
&lt;deleted_line&gt;</p>

<p style="margin-top: 1em">Changed lines shall be written
as:</p>

<p style="margin-top: 1em">&quot;! %s&quot;,
&lt;changed_line&gt;</p>

<p style="margin-top: 1em">Next, the range of lines in
file2 shall be written in the following format if the range
contains two or more lines:</p>

<p style="margin-top: 1em">&quot;&acirc;&acirc;&acirc;
%d,%d &acirc;&acirc;&acirc;&acirc;0, &lt;beginning line
number&gt;, &lt;ending line number&gt;</p>

<p style="margin-top: 1em">and the following format
otherwise:</p>

<p style="margin-top: 1em">&quot;&acirc;&acirc;&acirc; %d
&acirc;&acirc;&acirc;&acirc;0, &lt;ending line
number&gt;</p>

<p style="margin-top: 1em">Then, lines of context and
changed lines shall be written as described in the previous
formats. Lines added from file2 shall be written in the
following format:</p>

<p style="margin-top: 1em">&quot;+ %s&quot;,
&lt;added_line&gt;</p>

<p style="margin-top: 1em">Diff &acirc;u or &acirc;U Output
Format <br>
The &acirc;u or &acirc;U options behave like the &acirc;c or
&acirc;C options, except that the context lines are not
repeated; instead, the context, deleted, and added lines are
shown together, inter&acirc; <br>
leaved. The exact format follows.</p>

<p style="margin-top: 1em">The name and last modification
time of each file shall be output in the following
format:</p>

<p style="margin-top: 1em">&quot;--- %s%s%s %s0, file1,
&lt;file1 timestamp&gt;, &lt;file1 frac&gt;, &lt;file1
zone&gt; <br>
&quot;+++ %s%s%s %s0, file2, &lt;file2 timestamp&gt;,
&lt;file2 frac&gt;, &lt;file2 zone&gt;</p>

<p style="margin-top: 1em">Each &lt;file&gt; field shall be
the pathname of the corresponding file being compared, or
the single character &rsquo;&acirc;&rsquo; if standard input
is being compared. However, if the pathname con&acirc; <br>
tains a &lt;tab&gt; or a &lt;newline&gt;, or if it does not
consist entirely of characters taken from the portable
character set, the behavior is implementation-defined.</p>

<p style="margin-top: 1em">Each &lt;timestamp&gt; field
shall be equivalent to the output from the following
command:</p>

<p style="margin-top: 1em">date &rsquo;+%Y-%m-%d
%H:%M:%S&rsquo;</p>

<p style="margin-top: 1em">without the trailing
&lt;newline&gt;, executed at the time of last modification
of the corresponding file (or the current time, if the file
is standard input).</p>

<p style="margin-top: 1em">Each &lt;frac&gt; field shall be
either empty, or a decimal point followed by at least one
decimal digit, indicating the fractional-seconds part (if
any) of the file timestamp. The <br>
number of fractional digits shall be at least the number
needed to represent the file&rsquo;s timestamp without loss
of information.</p>

<p style="margin-top: 1em">Each &lt;zone&gt; field shall be
of the form &quot;shhmm&quot;, where &quot;shh&quot; is a
signed two-digit decimal number in the range &acirc;24
through +25, and &quot;mm&quot; is an unsigned two-digit
decimal number in <br>
the range 00 through 59. It represents the timezone of the
timestamp as the number of hours (hh) and minutes (mm) east
(+) or west (&acirc;) of UTC for the timestamp. If the hours
<br>
and minutes are both zero, the sign shall be
&rsquo;+&rsquo;. However, if the timezone is not an integral
number of minutes away from UTC, the &lt;zone&gt; field is
implementation-defined.</p>

<p style="margin-top: 1em">Then, the following output
formats shall be applied for every set of changes.</p>

<p style="margin-top: 1em">First, the range of lines in
each file shall be written in the following format:</p>

<p style="margin-top: 1em">&quot;@@ -%s +%s @@&quot;,
&lt;file1 range&gt;, &lt;file2 range&gt;</p>

<p style="margin-top: 1em">Each &lt;range&gt; field shall
be of the form:</p>

<p style="margin-top: 1em">&quot;%1d&quot;, &lt;beginning
line number&gt;</p>

<p style="margin-top: 1em">if the range contains exactly
one line, and:</p>

<p style="margin-top: 1em">&quot;%1d,%1d&quot;,
&lt;beginning line number&gt;, &lt;number of lines&gt;</p>

<p style="margin-top: 1em">otherwise. If a range is empty,
its beginning line number shall be the number of the line
just before the range, or 0 if the empty range starts the
file.</p>

<p style="margin-top: 1em">Next, the affected lines along
with lines of context shall be written. Each non-empty
unaffected line shall be written in the following
format:</p>

<p style="margin-top: 1em">&quot; %s&quot;,
&lt;unaffected_line&gt;</p>

<p style="margin-top: 1em">where the contents of the
unaffected line shall be taken from file1. It is
implementation-defined whether an empty unaffected line is
written as an empty line or a line contain&acirc; <br>
ing a single &lt;space&gt; character. This line also
represents the same line of file2, even though file2&rsquo;s
line may contain different contents due to the &acirc;b.
Deleted lines shall be <br>
written as:</p>

<p style="margin-top: 1em">&quot;-%s&quot;,
&lt;deleted_line&gt;</p>

<p style="margin-top: 1em">Added lines shall be written
as:</p>

<p style="margin-top: 1em">&quot;+%s&quot;,
&lt;added_line&gt;</p>

<p style="margin-top: 1em">The order of lines written shall
be the same as that of the corresponding file. A deleted
line shall never be written immediately after an added
line.</p>

<p style="margin-top: 1em">If &acirc;U n is specified, the
output shall contain no more than n consecutive unaffected
lines; and if the output contains an affected line and this
line is adjacent to up to n con&acirc; <br>
secutive unaffected lines in the corresponding file, the
output shall contain these unaffected lines. &acirc;u shall
act like &acirc;U3.</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used only for diagnostic
messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
None.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 No differences were found.</p>

<p style="margin-top: 1em">1 Differences were found.</p>

<p style="margin-top: 1em">&gt;1 An error occurred.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
Default.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
If lines at the end of a file are changed and other lines
are added, diff output may show this as a delete and add, as
a change, or as a change and add; diff is not expected to
<br>
know which happened and users should not care about the
difference in output as long as it clearly shows the
differences between the files.</p>

<p style="margin-top: 1em">EXAMPLES <br>
If dir1 is a directory containing a directory named x, dir2
is a directory containing a directory named x, dir1/x and
dir2/x both contain files named date.out, and dir2/x
con&acirc; <br>
tains a file named y, the command:</p>

<p style="margin-top: 1em">diff &acirc;r dir1 dir2</p>

<p style="margin-top: 1em">could produce output similar
to:</p>

<p style="margin-top: 1em">Common subdirectories: dir1/x
and dir2/x <br>
Only in dir2/x: y <br>
diff &acirc;r dir1/x/date.out dir2/x/date.out <br>
1c1 <br>
&lt; Mon Jul 2 13:12:16 PDT 1990 <br>
&acirc;&acirc;&acirc; <br>
&gt; Tue Jun 19 21:41:39 PDT 1990</p>

<p style="margin-top: 1em">RATIONALE <br>
The &acirc;h option was omitted because it was
insufficiently specified and does not add to applications
portability.</p>

<p style="margin-top: 1em">Historical implementations
employ algorithms that do not always produce a minimum list
of differences; the current language about making every
effort is the best this volume of <br>
POSIX.1&acirc;2008 can do, as there is no metric that could
be employed to judge the quality of implementations against
any and all file contents. The statement &lsquo;&lsquo;This
list should be <br>
minimal&rsquo;&rsquo; clearly implies that implementations
are not expected to provide the following output when
comparing two 100-line files that differ in only one
character on a single <br>
line:</p>

<p style="margin-top: 1em">1,100c1,100 <br>
all 100 lines from file1 preceded with &quot;&lt; &quot;
<br>
&acirc;&acirc;&acirc; <br>
all 100 lines from file2 preceded with &quot;&gt; &quot;</p>

<p style="margin-top: 1em">The &lsquo;&lsquo;Only
in&rsquo;&rsquo; messages required when the &acirc;r option
is specified are not used by most historical implementations
if the &acirc;e option is also specified. It is required
here because <br>
it provides useful information that must be provided to
update a target directory hierarchy to match a source
hierarchy. The &lsquo;&lsquo;Common
subdirectories&rsquo;&rsquo; messages are written by <br>
System V and 4.3 BSD when the &acirc;r option is specified.
They are allowed here but are not required because they are
reporting on something that is the same, not reporting a
differ&acirc; <br>
ence, and are not needed to update a target hierarchy.</p>

<p style="margin-top: 1em">The &acirc;c option, which
writes output in a format using lines of context, has been
included. The format is useful for a variety of reasons,
among them being much improved readabil&acirc; <br>
ity and the ability to understand difference changes when
the target file has line numbers that differ from another
similar, but slightly different, copy. The patch utility is
<br>
most valuable when working with difference listings using a
context format. The BSD version of &acirc;c takes an
optional argument specifying the amount of context. Rather
than over&acirc; <br>
loading &acirc;c and breaking the Utility Syntax Guidelines
for diff, the standard developers decided to add a separate
option for specifying a context diff with a specified amount
of <br>
context (&acirc;C). Also, the format for context diffs was
extended slightly in 4.3 BSD to allow multiple changes that
are within context lines from each other to be merged
together. <br>
The output format contains an additional four
&lt;asterisk&gt; characters after the range of affected
lines in the first filename. This was to provide a flag for
old programs (like old <br>
versions of patch) that only understand the old context
format. The version of context described here does not
require that multiple changes within context lines be
merged, but <br>
it does not prohibit it either. The extension is
upwards-compatible, so any vendors that wish to retain the
old version of diff can do so by adding the extra four
&lt;asterisk&gt; <br>
characters (that is, utilities that currently use diff and
understand the new merged format will also understand the
old unmerged format, but not vice versa).</p>

<p style="margin-top: 1em">The &acirc;u and &acirc;U
options of GNU diff have been included. Their output format,
designed by Wayne Davison, takes up less space than &acirc;c
and &acirc;C format, and in many cases is easier to <br>
read. The format&rsquo;s timestamps do not vary by locale,
so LC_TIME does not affect it. The format&rsquo;s line
numbers are rendered with the %1d format, not %d, because
the file format <br>
notation rules would allow extra &lt;blank&gt; characters to
appear around the numbers.</p>

<p style="margin-top: 1em">The substitute command was added
as an additional format for the &acirc;e option. This was
added to provide implementations with a way to fix the
classic &lsquo;&lsquo;dot alone on a line&rsquo;&rsquo; bug
<br>
present in many versions of diff. Since many implementations
have fixed this bug, the standard developers decided not to
standardize broken behavior, but rather to provide the <br>
necessary tool for fixing the bug. One way to fix this bug
is to output two periods whenever a lone period is needed,
then terminate the append command with a period, and then
<br>
use the substitute command to convert the two periods into
one period.</p>

<p style="margin-top: 1em">The BSD-derived &acirc;r option
was added to provide a mechanism for using diff to compare
two file system trees. This behavior is useful, is standard
practice on all BSD-derived sys&acirc; <br>
tems, and is not easily reproducible with the find
utility.</p>

<p style="margin-top: 1em">The requirement that diff not
compare files in some circumstances, even though they have
the same name, is based on the actual output of historical
implementations. The speci&acirc; <br>
fied behavior precludes the problems arising from running
into FIFOs and other files that would cause diff to hang
waiting for input with no indication to the user that diff
was <br>
hung. An earlier version of this standard specified the
output format more precisely, but in practice this
requirement was widely ignored and the benefit of
standardization <br>
seemed small, so it is now unspecified. In most common
usage, diff &acirc;r should indicate differences in the file
hierarchies, not the difference of contents of devices
pointed to by <br>
the hierarchies.</p>

<p style="margin-top: 1em">Many early implementations of
diff require seekable files. Since the System Interfaces
volume of POSIX.1&acirc;2008 supports named pipes, the
standard developers decided that such a <br>
restriction was unreasonable. Note also that the allowed
filename &acirc; almost always refers to a pipe.</p>

<p style="margin-top: 1em">No directory search order is
specified for diff. The historical ordering is, in fact, not
optimal, in that it prints out all of the differences at the
current level, including <br>
the statements about all common subdirectories before
recursing into those subdirectories.</p>

<p style="margin-top: 1em">The message:</p>

<p style="margin-top: 1em">&quot;diff %s %s %s0,
&lt;diff_options&gt;, &lt;filename1&gt;,
&lt;filename2&gt;</p>

<p style="margin-top: 1em">does not vary by locale because
it is the representation of a command, not an English
sentence.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
cmp, comm, ed, find</p>

<p style="margin-top: 1em">The Base Definitions volume of
POSIX.1&acirc;2008, Chapter 8, Environment Variables,
Section 12.2, Utility Syntax Guidelines</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2013 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 7,
Copyright (C) 2013 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. (This is <br>
POSIX.1-2008 with the 2013 Technical Corrigendum 1 applied.)
In the event of any discrepancy between this version and the
original IEEE and The Open Group Standard, the original <br>
IEEE and The Open Group Standard is the referee document.
The original Standard can be obtained online at
http://www.unix.org/online.html .</p>

<p style="margin-top: 1em">Any typographical or formatting
errors that appear in this page are most likely to have been
introduced during the conversion of the source files to man
page format. To report <br>
such errors, see
https://www.kernel.org/doc/man-pages/reporting_bugs.html
.</p>

<p style="margin-top: 1em">IEEE/The Open Group 2013
DIFF(1POSIX)</p>
<hr>
</body>
</html>
