<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:07:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>EQN(1) General Commands Manual EQN(1)</p>

<p style="margin-top: 1em">NAME <br>
eqn - format equations for troff or MathML</p>

<p style="margin-top: 1em">SYNOPSIS <br>
eqn [-rvCNR] [-d xy] [-T name] [-M dir] [-f F] [-s n] [-p n]
[-m n] [files...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This manual page describes the GNU version of eqn, which is
part of the groff document formatting system. eqn compiles
descriptions of equations embedded within troff input <br>
files into commands that are understood by troff. Normally,
it should be invoked using the -e option of groff. The
syntax is quite compatible with Unix eqn. The output of GNU
<br>
eqn cannot be processed with Unix troff; it must be
processed with GNU troff. If no files are given on the
command line, the standard input is read. A filename of -
causes the <br>
standard input to be read.</p>

<p style="margin-top: 1em">eqn searches for the file eqnrc
in the directories given with the -M option first, then in
/etc/groff/site-tmac, /etc/groff/site-tmac, and finally in
the standard macro directory <br>
/usr/share/groff/1.22.2/tmac. If it exists, eqn processes it
before the other input files. The -R option prevents
this.</p>

<p style="margin-top: 1em">GNU eqn does not provide the
functionality of neqn: it does not support low-resolution,
typewriter-like devices (although it may work adequately for
very simple input).</p>

<p style="margin-top: 1em">OPTIONS <br>
It is possible to have whitespace between a command line
option and its parameter.</p>

<p style="margin-top: 1em">-dxy Specify delimiters x and y
for the left and right end, respectively, of in-line
equations. Any delim statements in the source file overrides
this.</p>

<p style="margin-top: 1em">-C Recognize .EQ and .EN even
when followed by a character other than space or newline.
Also, the statement &lsquo;delim on&rsquo; is not handled
specially.</p>

<p style="margin-top: 1em">-N Don&rsquo;t allow newlines
within delimiters. This option allows eqn to recover better
from missing closing delimiters.</p>

<p style="margin-top: 1em">-v Print the version number.</p>

<p style="margin-top: 1em">-r Only one size reduction.</p>

<p style="margin-top: 1em">-mn The minimum point-size is n.
eqn does not reduce the size of subscripts or superscripts
to a smaller size than n.</p>

<p style="margin-top: 1em">-Tname The output is for device
name. Normally, the only effect of this is to define a macro
name with a value of 1; eqnrc uses this to provide
definitions appropriate for the <br>
output device. However, if the specified device is
&acirc;MathML&acirc;, the output is MathML markup rather
than troff commands, and eqnrc is not loaded at all. The
default output <br>
device is ps.</p>

<p style="margin-top: 1em">-Mdir Search dir for eqnrc
before the default directories.</p>

<p style="margin-top: 1em">-R Don&rsquo;t load eqnrc.</p>

<p style="margin-top: 1em">-fF This is equivalent to a
gfont F command.</p>

<p style="margin-top: 1em">-sn This is equivalent to a
gsize n command. This option is deprecated. eqn normally
sets equations at whatever the current point size is when
the equation is encountered.</p>

<p style="margin-top: 1em">-pn This says that subscripts
and superscripts should be n points smaller than the
surrounding text. This option is deprecated. Normally eqn
sets subscripts and superscripts <br>
at 70% of the size of the surrounding text.</p>

<p style="margin-top: 1em">USAGE <br>
Only the differences between GNU eqn and Unix eqn are
described here.</p>

<p style="margin-top: 1em">GNU eqn emits Presentation
MathML output when invoked with the -T MathML option.</p>

<p style="margin-top: 1em">GNU eqn sets the input token
&quot;...&quot; as three periods or low dots, rather than
the three centered dots of classic eqn. To get three
centered dots, write cdots or cdot cdot cdot.</p>

<p style="margin-top: 1em">Most of the new features of the
GNU eqn input language are based on TeX. There are some
references to the differences between TeX and GNU eqn below;
these may safely be ignored <br>
if you do not know TeX.</p>

<p style="margin-top: 1em">Controlling delimiters <br>
If not in compatibility mode, eqn recognizes</p>

<p style="margin-top: 1em">delim on</p>

<p style="margin-top: 1em">to restore the delimiters which
have been previously disabled with a call to &lsquo;delim
off&rsquo;. If delimiters haven&rsquo;t been specified, the
call has no effect.</p>

<p style="margin-top: 1em">Automatic spacing <br>
eqn gives each component of an equation a type, and adjusts
the spacing between components using that type. Possible
types are:</p>

<p style="margin-top: 1em">ordinary an ordinary character
such as &lsquo;1&rsquo; or &lsquo;x&rsquo;;</p>

<p style="margin-top: 1em">operator a large operator such
as &lsquo;&Icirc;&pound;&rsquo;;</p>

<p style="margin-top: 1em">binary a binary operator such as
&lsquo;+&rsquo;;</p>

<p style="margin-top: 1em">relation a relation such as
&lsquo;=&rsquo;;</p>

<p style="margin-top: 1em">opening a opening bracket such
as &lsquo;(&rsquo;;</p>

<p style="margin-top: 1em">closing a closing bracket such
as &lsquo;)&rsquo;;</p>

<p style="margin-top: 1em">punctuation a punctuation
character such as &lsquo;,&rsquo;;</p>

<p style="margin-top: 1em">inner a subformula contained
within brackets;</p>

<p style="margin-top: 1em">suppress spacing that suppresses
automatic spacing adjustment.</p>

<p style="margin-top: 1em">Components of an equation get a
type in one of two ways.</p>

<p style="margin-top: 1em">type t e <br>
This yields an equation component that contains e but that
has type t, where t is one of the types mentioned above. For
example, times is defined as</p>

<p style="margin-top: 1em">type &quot;binary&quot;
&times;</p>

<p style="margin-top: 1em">The name of the type
doesn&rsquo;t have to be quoted, but quoting protects from
macro expansion.</p>

<p style="margin-top: 1em">chartype t text <br>
Unquoted groups of characters are split up into individual
characters, and the type of each character is looked up;
this changes the type that is stored for each charac&acirc;
<br>
ter; it says that the characters in text from now on have
type t. For example,</p>

<p style="margin-top: 1em">chartype &quot;punctuation&quot;
.,;:</p>

<p style="margin-top: 1em">would make the characters
&lsquo;.,;:&rsquo; have type punctuation whenever they
subsequently appeared in an equation. The type t can also be
letter or digit; in these cases chartype <br>
changes the font type of the characters. See the Fonts
subsection.</p>

<p style="margin-top: 1em">New primitives <br>
big e Enlarges the expression it modifies; intended to have
semantics like CSS &lsquo;large&rsquo;. In troff output, the
point size is increased by 5; in MathML output, the
expression uses</p>

<p style="margin-top: 1em">&lt;mstyle
mathsize=&rsquo;big&rsquo;&gt;</p>

<p style="margin-top: 1em">e1 smallover e2 <br>
This is similar to over; smallover reduces the size of e1
and e2; it also puts less vertical space between e1 or e2
and the fraction bar. The over primitive corresponds <br>
to the TeX ie in display styles; smallover corresponds to
.</p>

<p style="margin-top: 1em">vcenter e <br>
This vertically centers e about the math axis. The math axis
is the vertical position about which characters such as
&lsquo;+&rsquo; and &lsquo;&acirc;&rsquo; are centered; also
it is the vertical <br>
position used for the bar of fractions. For example, sum is
defined as</p>

<p style="margin-top: 1em">{ type &quot;operator&quot;
vcenter size +5 &Sigma; }</p>

<p style="margin-top: 1em">(Note that vcenter is silently
ignored when generating MathML.)</p>

<p style="margin-top: 1em">e1 accent e2 <br>
This sets e2 as an accent over e1. e2 is assumed to be at
the correct height for a lowercase letter; e2 is moved down
according to whether e1 is taller or shorter than a <br>
lowercase letter. For example, hat is defined as</p>

<p style="margin-top: 1em">accent { &quot;^&quot; }</p>

<p style="margin-top: 1em">dotdot, dot, tilde, vec, and
dyad are also defined using the accent primitive.</p>

<p style="margin-top: 1em">e1 uaccent e2 <br>
This sets e2 as an accent under e1. e2 is assumed to be at
the correct height for a character without a descender; e2
is moved down if e1 has a descender. utilde is pre- <br>
defined using uaccent as a tilde accent below the
baseline.</p>

<p style="margin-top: 1em">split &quot;text&quot; <br>
This has the same effect as simply</p>

<p style="margin-top: 1em">text</p>

<p style="margin-top: 1em">but text is not subject to macro
expansion because it is quoted; text is split up and the
spacing between individual characters is adjusted.</p>

<p style="margin-top: 1em">nosplit text <br>
This has the same effect as</p>

<p style="margin-top: 1em">&quot;text&quot;</p>

<p style="margin-top: 1em">but because text is not quoted
it is subject to macro expansion; text is not split up and
the spacing between individual characters is not
adjusted.</p>

<p style="margin-top: 1em">e opprime <br>
This is a variant of prime that acts as an operator on e. It
produces a different result from prime in a case such as A
opprime sub 1: with opprime the 1 is tucked under <br>
the prime as a subscript to the A (as is conventional in
mathematical typesetting), whereas with prime the 1 is a
subscript to the prime character. The precedence of <br>
opprime is the same as that of bar and under, which is
higher than that of everything except accent and uaccent. In
unquoted text a &rsquo; that is not the first character is
<br>
treated like opprime.</p>

<p style="margin-top: 1em">special text e <br>
This constructs a new object from e using a troff(1) macro
named text. When the macro is called, the string 0s contains
the output for e, and the number registers 0w, 0h, <br>
0d, 0skern, and 0skew contain the width, height, depth,
subscript kern, and skew of e. (The subscript kern of an
object says how much a subscript on that object should be
<br>
tucked in; the skew of an object says how far to the right
of the center of the object an accent over the object should
be placed.) The macro must modify 0s so that it <br>
outputs the desired result with its origin at the current
point, and increase the current horizontal position by the
width of the object. The number registers must also <br>
be modified so that they correspond to the result.</p>

<p style="margin-top: 1em">For example, suppose you wanted
a construct that &lsquo;cancels&rsquo; an expression by
drawing a diagonal line through it.</p>

<p style="margin-top: 1em">.EQ <br>
define cancel &rsquo;special Ca&rsquo; <br>
.EN <br>
.de Ca <br>
. ds 0s \*(0s n(0du&rsquo; n(0hu&rsquo; <br>
..</p>

<p style="margin-top: 1em">Then you could cancel an
expression e with cancel { e }</p>

<p style="margin-top: 1em">Here&rsquo;s a more complicated
construct that draws a box round an expression:</p>

<p style="margin-top: 1em">.EQ <br>
define box &rsquo;special Bx&rsquo; <br>
.EN <br>
.de Bx <br>
. ds 0s \*(0s n(0du+1n &rsquo; n(0wu+2n&rsquo; <br>
. nr 0w +2n <br>
. nr 0d +1n <br>
. nr 0h +1n <br>
..</p>

<p style="margin-top: 1em">space n <br>
A positive value of the integer n (in hundredths of an em)
sets the vertical spacing before the equation, a negative
value sets the spacing after the equation, replacing <br>
the default values. This primitive provides an interface to
groff&rsquo;s escape (but with opposite sign).</p>

<p style="margin-top: 1em">This keyword has no effect if
the equation is part of a pic picture.</p>

<p style="margin-top: 1em">Extended primitives <br>
col n { ... } <br>
ccol n { ... } <br>
lcol n { ... } <br>
rcol n { ... } <br>
pile n { ... } <br>
cpile n { ... } <br>
lpile n { ... } <br>
rpile n { ... } <br>
The integer value n (in hundredths of an em) increases the
vertical spacing between rows, using groff&rsquo;s escape
(the value has no effect in MathML mode). Negative
val&acirc; <br>
ues are possible but have no effect. If there is more than a
single value given in a matrix, the biggest one is used.</p>

<p style="margin-top: 1em">Customization <br>
When eqn is generating troff markup, the appearance of
equations is controlled by a large number of parameters.
They have no effect when generating MathML mode, which
pushes <br>
typesetting and fine motions downstream to a MathML
rendering engine. These parameters can be set using the set
command.</p>

<p style="margin-top: 1em">set p n <br>
This sets parameter p to value n; n is an integer. For
example,</p>

<p style="margin-top: 1em">set x_height 45</p>

<p style="margin-top: 1em">says that eqn should assume an x
height of 0.45 ems.</p>

<p style="margin-top: 1em">Possible parameters are as
follows. Values are in units of hundredths of an em unless
otherwise stated. These descriptions are intended to be
expository rather than de&acirc; <br>
finitive.</p>

<p style="margin-top: 1em">minimum_size <br>
eqn doesn&rsquo;t set anything at a smaller point-size than
this. The value is in points.</p>

<p style="margin-top: 1em">fat_offset <br>
The fat primitive emboldens an equation by overprinting two
copies of the equation horizontally offset by this amount.
This parameter is not used in MathML mode; <br>
instead, fat text uses</p>

<p style="margin-top: 1em">&lt;mstyle
mathvariant=&rsquo;double-struck&rsquo;&gt;</p>

<p style="margin-top: 1em">over_hang <br>
A fraction bar is longer by twice this amount than the
maximum of the widths of the numerator and denominator; in
other words, it overhangs the numerator and denom&acirc;
<br>
inator by at least this amount.</p>

<p style="margin-top: 1em">accent_width <br>
When bar or under is applied to a single character, the line
is this long. Normally, bar or under produces a line whose
length is the width of the object to which <br>
it applies; in the case of a single character, this tends to
produce a line that looks too long.</p>

<p style="margin-top: 1em">delimiter_factor <br>
Extensible delimiters produced with the left and right
primitives have a combined height and depth of at least this
many thousandths of twice the maximum amount by <br>
which the sub-equation that the delimiters enclose extends
away from the axis.</p>

<p style="margin-top: 1em">delimiter_shortfall <br>
Extensible delimiters produced with the left and right
primitives have a combined height and depth not less than
the difference of twice the maximum amount by which <br>
the sub-equation that the delimiters enclose extends away
from the axis and this amount.</p>

<p style="margin-top: 1em">null_delimiter_space <br>
This much horizontal space is inserted on each side of a
fraction.</p>

<p style="margin-top: 1em">script_space <br>
The width of subscripts and superscripts is increased by
this amount.</p>

<p style="margin-top: 1em">thin_space <br>
This amount of space is automatically inserted after
punctuation characters.</p>

<p style="margin-top: 1em">medium_space <br>
This amount of space is automatically inserted on either
side of binary operators.</p>

<p style="margin-top: 1em">thick_space <br>
This amount of space is automatically inserted on either
side of relations.</p>

<p style="margin-top: 1em">x_height <br>
The height of lowercase letters without ascenders such as
&lsquo;x&rsquo;.</p>

<p style="margin-top: 1em">axis_height <br>
The height above the baseline of the center of characters
such as &lsquo;+&rsquo; and &lsquo;&acirc;&rsquo;. It is
important that this value is correct for the font you are
using.</p>

<p style="margin-top: 1em">default_rule_thickness <br>
This should set to the thickness of the _ character, or the
thickness of horizontal lines produced with the
sequence.</p>

<p style="margin-top: 1em">num1 The over command shifts up
the numerator by at least this amount.</p>

<p style="margin-top: 1em">num2 The smallover command
shifts up the numerator by at least this amount.</p>

<p style="margin-top: 1em">denom1 The over command shifts
down the denominator by at least this amount.</p>

<p style="margin-top: 1em">denom2 The smallover command
shifts down the denominator by at least this amount.</p>

<p style="margin-top: 1em">sup1 Normally superscripts are
shifted up by at least this amount.</p>

<p style="margin-top: 1em">sup2 Superscripts within
superscripts or upper limits or numerators of smallover
fractions are shifted up by at least this amount. This is
usually less than sup1.</p>

<p style="margin-top: 1em">sup3 Superscripts within
denominators or square roots or subscripts or lower limits
are shifted up by at least this amount. This is usually less
than sup2.</p>

<p style="margin-top: 1em">sub1 Subscripts are normally
shifted down by at least this amount.</p>

<p style="margin-top: 1em">sub2 When there is both a
subscript and a superscript, the subscript is shifted down
by at least this amount.</p>

<p style="margin-top: 1em">sup_drop <br>
The baseline of a superscript is no more than this much
amount below the top of the object on which the superscript
is set.</p>

<p style="margin-top: 1em">sub_drop <br>
The baseline of a subscript is at least this much below the
bottom of the object on which the subscript is set.</p>

<p style="margin-top: 1em">big_op_spacing1 <br>
The baseline of an upper limit is at least this much above
the top of the object on which the limit is set.</p>

<p style="margin-top: 1em">big_op_spacing2 <br>
The baseline of a lower limit is at least this much below
the bottom of the object on which the limit is set.</p>

<p style="margin-top: 1em">big_op_spacing3 <br>
The bottom of an upper limit is at least this much above the
top of the object on which the limit is set.</p>

<p style="margin-top: 1em">big_op_spacing4 <br>
The top of a lower limit is at least this much below the
bottom of the object on which the limit is set.</p>

<p style="margin-top: 1em">big_op_spacing5 <br>
This much vertical space is added above and below
limits.</p>

<p style="margin-top: 1em">baseline_sep <br>
The baselines of the rows in a pile or matrix are normally
this far apart. In most cases this should be equal to the
sum of num1 and denom1.</p>

<p style="margin-top: 1em">shift_down <br>
The midpoint between the top baseline and the bottom
baseline in a matrix or pile is shifted down by this much
from the axis. In most cases this should be equal to <br>
axis_height.</p>

<p style="margin-top: 1em">column_sep <br>
This much space is added between columns in a matrix.</p>

<p style="margin-top: 1em">matrix_side_sep <br>
This much space is added at each side of a matrix.</p>

<p style="margin-top: 1em">draw_lines <br>
If this is non-zero, lines are drawn using the sequence,
rather than with the escape sequence and the _
character.</p>

<p style="margin-top: 1em">body_height <br>
The amount by which the height of the equation exceeds this
is added as extra space before the line containing the
equation (using . The default value is 85.</p>

<p style="margin-top: 1em">body_depth <br>
The amount by which the depth of the equation exceeds this
is added as extra space after the line containing the
equation (using . The default value is 35.</p>

<p style="margin-top: 1em">nroff If this is non-zero, then
ndefine behaves like define and tdefine is ignored,
otherwise tdefine behaves like define and ndefine is
ignored. The default value is 0 <br>
(This is typically changed to 1 by the eqnrc file for the
ascii, latin1, utf8, and cp1047 devices.)</p>

<p style="margin-top: 1em">A more precise description of
the role of many of these parameters can be found in
Appendix H of The TeXbook.</p>

<p style="margin-top: 1em">Macros <br>
Macros can take arguments. In a macro body, $n where n is
between 1 and 9, is replaced by the n-th argument if the
macro is called with arguments; if there are fewer than <br>
n arguments, it is replaced by nothing. A word containing a
left parenthesis where the part of the word before the left
parenthesis has been defined using the define command is
<br>
recognized as a macro call with arguments; characters
following the left parenthesis up to a matching right
parenthesis are treated as comma-separated arguments; commas
inside <br>
nested parentheses do not terminate an argument.</p>

<p style="margin-top: 1em">sdefine name X anything X <br>
This is like the define command, but name is not recognized
if called with arguments.</p>

<p style="margin-top: 1em">include &quot;file&quot; <br>
copy &quot;file&quot; <br>
Include the contents of file (include and copy are
synonyms). Lines of file beginning with .EQ or .EN are
ignored.</p>

<p style="margin-top: 1em">ifdef name X anything X <br>
If name has been defined by define (or has been
automatically defined because name is the output device)
process anything; otherwise ignore anything. X can be any
charac&acirc; <br>
ter not appearing in anything.</p>

<p style="margin-top: 1em">undef name <br>
Remove definition of name, making it undefined.</p>

<p style="margin-top: 1em">Besides the macros mentioned
above, the following definitions are available: Alpha, Beta,
..., Omega (this is the same as ALPHA, BETA, ..., OMEGA),
ldots (three dots on the base <br>
line), and dollar.</p>

<p style="margin-top: 1em">Fonts <br>
eqn normally uses at least two fonts to set an equation: an
italic font for letters, and a roman font for everything
else. The existing gfont command changes the font that is
<br>
used as the italic font. By default this is I. The font that
is used as the roman font can be changed using the new
grfont command.</p>

<p style="margin-top: 1em">grfont f <br>
Set the roman font to f.</p>

<p style="margin-top: 1em">The italic primitive uses the
current italic font set by gfont; the roman primitive uses
the current roman font set by grfont. There is also a new
gbfont command, which changes <br>
the font used by the bold primitive. If you only use the
roman, italic and bold primitives to changes fonts within an
equation, you can change all the fonts used by your
equa&acirc; <br>
tions just by using gfont, grfont and gbfont commands.</p>

<p style="margin-top: 1em">You can control which characters
are treated as letters (and therefore set in italics) by
using the chartype command described above. A type of letter
causes a character to be <br>
set in italic type. A type of digit causes a character to be
set in roman type.</p>

<p style="margin-top: 1em">FILES <br>
/usr/share/groff/1.22.2/tmac/eqnrc Initialization file.</p>

<p style="margin-top: 1em">MATHML MODE LIMITATIONS <br>
MathML is designed on the assumption that it cannot know the
exact physical characteristics of the media and devices on
which it will be rendered. It does not support fine
con&acirc; <br>
trol of motions and sizes to the same degree troff does.
Thus:</p>

<p style="margin-top: 1em">* eqn parameters have no effect
on the generated MathML.</p>

<p style="margin-top: 1em">* The special, up, down, fwd,
and back operations cannot be implemented, and yield a
MathML &lsquo;&lt;merror&gt;&rsquo; message instead.</p>

<p style="margin-top: 1em">* The vcenter keyword is
silently ignored, as centering on the math axis is the
MathML default.</p>

<p style="margin-top: 1em">* Characters that eqn over troff
sets extra large &acirc; notably the integral sign &acirc;
may appear too small and need to have their
&lsquo;&lt;mstyle&gt;&rsquo; wrappers adjusted by hand.</p>

<p style="margin-top: 1em">As in its troff mode, eqn in
MathML mode leaves the .EQ and .EN delimiters in place for
displayed equations, but emits no explicit delimiters around
inline equations. They can, <br>
however, be recognized as strings that begin with
&lsquo;&lt;math&gt;&rsquo; and end with
&lsquo;&lt;/math&gt;&rsquo; and do not cross line
boundaries.</p>

<p style="margin-top: 1em">See the BUGS section for
translation limits specific to eqn.</p>

<p style="margin-top: 1em">BUGS <br>
Inline equations are set at the point size that is current
at the beginning of the input line.</p>

<p style="margin-top: 1em">In MathML mode, the mark and
lineup features don&rsquo;t work. These could, in theory, be
implemented with &lsquo;&lt;maligngroup&gt;&rsquo;
elements.</p>

<p style="margin-top: 1em">In MathML mode, each digit of a
numeric literal gets a separate
&lsquo;&lt;mn&gt;&lt;/mn&gt;&rsquo; pair, and decimal points
are tagged with &lsquo;&lt;mo&gt;&lt;/mo&gt;&rsquo;. This is
allowed by the specification, but inef&acirc; <br>
ficient.</p>

<p style="margin-top: 1em">SEE ALSO <br>
groff(1), troff(1), pic(1), groff_font(5), The TeXbook</p>

<p style="margin-top: 1em">Groff Version 1.22.2 7 February
2013 EQN(1)</p>
<hr>
</body>
</html>
