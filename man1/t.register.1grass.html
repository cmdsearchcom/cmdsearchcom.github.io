<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:40:51 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>t.register(1grass) Grass User&rsquo;s Manual
t.register(1grass)</p>

<p style="margin-top: 1em">NAME <br>
t.register - Registers raster, vector and raster3d maps in a
space time datasets.</p>

<p style="margin-top: 1em">KEYWORDS <br>
temporal, map management, register, time</p>

<p style="margin-top: 1em">SYNOPSIS <br>
t.register <br>
t.register --help <br>
t.register [-i] [input=name] [maps=name[,name,...]]
[type=name] [file=name] [start=string] [end=string]
[unit=string] [increment=string] [separator=character] <br>
[--overwrite] [--help] [--verbose] [--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-i <br>
Create an interval (start and end time) in case an increment
and the start time are provided</p>

<p style="margin-top: 1em">--overwrite <br>
Allow output files to overwrite existing files</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
input=name <br>
Name of the input space time dataset</p>

<p style="margin-top: 1em">maps=name[,name,...] <br>
Name of the input maps</p>

<p style="margin-top: 1em">type=name <br>
Type of the input map <br>
Options: raster, vector, raster_3d <br>
Default: raster</p>

<p style="margin-top: 1em">file=name <br>
Input file with map names, one per line <br>
Additionally the start time and the end time can be
specified per line</p>

<p style="margin-top: 1em">start=string <br>
Valid start date and time of the first map <br>
Format absolute time: &quot;yyyy-mm-dd HH:MM:SS +HHMM&quot;,
relative time is of type integer).</p>

<p style="margin-top: 1em">end=string <br>
Valid end date and time of all map <br>
Format absolute time: &quot;yyyy-mm-dd HH:MM:SS +HHMM&quot;,
relative time is of type integer).</p>

<p style="margin-top: 1em">unit=string <br>
Time stamp unit <br>
Unit must be set in case of relative time stamps <br>
Options: years, months, days, hours, minutes, seconds</p>

<p style="margin-top: 1em">increment=string <br>
Time increment, works only in conjunction with start option
<br>
Time increment between maps for valid time interval creation
(format absolute: NNN seconds, minutes, hours, days, weeks,
months, years; format relative is integer: 5)</p>

<p style="margin-top: 1em">separator=character <br>
Field separator character of the input file <br>
Special characters: pipe, comma, space, tab, newline <br>
Default: pipe</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The module t.register is designed to register raster, 3D
raster and vector maps in the temporal database and in
specific space time datasets. This module must be used to
assign <br>
time stamps to raster, 3D raster and vector maps. The
existing timestamp modules r.timestamp, r3.timestamp and
v.timestamp do not register the maps in the temporal
database of <br>
GRASS. However, timestamps that have been created with these
modules can be read and used by t.register. This works only
for maps that are not already registered in the temporal
<br>
database.</p>

<p style="margin-top: 1em">This module supports absolute
and relative time. The absolute temporal type refers to a
fixed date while the relative temporal type refers to data
without fixed time stamps <br>
(e.g., sequential maps used to calculate multi-decadal
averages).</p>

<p style="margin-top: 1em">Maps can be registered by
command line argument (a list of comma separated map names)
or using an input file. The start time, the end time and a
temporal increment can be pro&acirc; <br>
vided by command line or in the input file. End time and
increment are mutual exclusive. The user can register single
maps or a list of maps at once. Maps can be registered in
<br>
several space time datasets using the same timestamp.</p>

<p style="margin-top: 1em">The increment option and the -i
flag (to create time intervals) work only in conjunction
with the start option. If an input file with time stamps is
used, then the increment <br>
option and the -i flag are not supported.</p>

<p style="margin-top: 1em">Start time and end time with
absolute time must be provided using the format yyyy-mm-dd
HH:MM:SS +HHMM. It is supported to specify only the date
yyyy-mm-dd. In case of relative <br>
time the temporal unit (years, months, days, hours, minutes
or seconds) must be provided. The relative start time, end
time and the increment are integers.</p>

<p style="margin-top: 1em">NOTES <br>
The timestamps of registered maps will be stored in the
temporal database and in the metadata of the grass maps in
the spatial database. This assures that timestamps can
always <br>
be accessed with (r|r3|v).timestamp and the temporal
modules. Timestamps should only be modified with t.register
because the (r|r3|v).timestamp modules have no access to the
tem&acirc; <br>
poral database.</p>

<p style="margin-top: 1em">INPUT FILE FORMAT <br>
The input file consists of a list of map names, optionally
along with time stamps. Each map name is to be stored in a
row in this file.</p>

<p style="margin-top: 1em">There are several options to
register maps, increment option and the -i flag are
supported:</p>

<p style="margin-top: 1em">Specification of map names: <br>
terra_lst_day20020113 <br>
terra_lst_day20020114 <br>
terra_lst_day20020115 <br>
terra_lst_day20020116 <br>
terra_lst_day20020117</p>

<p style="margin-top: 1em">Specification of map names and
the absolute start time (date) of the time instances, not
support for increment option and the -i flag: <br>
terra_lst_day20020113|2002-01-13 <br>
terra_lst_day20020114|2002-01-14 <br>
terra_lst_day20020115|2002-01-15 <br>
terra_lst_day20020116|2002-01-16 <br>
terra_lst_day20020117|2002-01-17</p>

<p style="margin-top: 1em">Specification of map names and
the absolute time stamp (datetime), not support for
increment option and the -i flag: <br>
terra_lst_day20020113|2002-01-13 10:30 <br>
terra_lst_day20020114|2002-01-14 10:30 <br>
terra_lst_day20020115|2002-01-15 10:30 <br>
terra_lst_day20020116|2002-01-16 10:30 <br>
terra_lst_day20020117|2002-01-17 10:30</p>

<p style="margin-top: 1em">Specification of the map name
and the absolute time interval with start, not support for
increment option and the -i flag: and end time: <br>
prec_1|2001-01-01|2001-04-01 <br>
prec_2|2001-04-01|2001-07-01 <br>
prec_3|2001-07-01|2001-10-01 <br>
prec_4|2001-10-01|2002-01-01 <br>
prec_5|2002-01-01|2002-04-01 <br>
prec_6|2002-04-01|2002-07-01</p>

<p style="margin-top: 1em">EXAMPLE <br>
North Carolina dataset <br>
Using a text file <br>
Register maps in a absolute space time dataset, creating a
time interval <br>
# first: prepare a text file with a list of input maps (see
above) <br>
# second: register maps <br>
t.register -i type=raster input=precipitation_monthly
file=list_of_input_maps.txt start=2009-01-01
increment=&quot;1 months&quot;</p>

<p style="margin-top: 1em">Using g.list to generate the
input <br>
Register maps in a absolute space time dataset, creating a
time interval <br>
t.register -i type=raster input=precipitation_monthly
maps=&lsquo;g.list raster pattern=&quot;*precip*&quot;
sep=comma&lsquo; start=2009-01-01 increment=&quot;1
months&quot;</p>

<p style="margin-top: 1em">Synthetic maps <br>
In this example we create 6 raster maps that will be
registered in a single space time raster dataset named
precip_abs using a monthly temporal granularity. The -i flag
generates <br>
interval time. The generated timestamps will be inspected
using r.timestamp and t.rast.list. We will register an
additional map with a timestamp that was set with
r.timestamp. <br>
r.mapcalc expression=&quot;prec_1 = 100&quot; <br>
r.mapcalc expression=&quot;prec_2 = 200&quot; <br>
r.mapcalc expression=&quot;prec_3 = 300&quot; <br>
r.mapcalc expression=&quot;prec_4 = 400&quot; <br>
r.mapcalc expression=&quot;prec_5 = 500&quot; <br>
r.mapcalc expression=&quot;prec_6 = 600&quot; <br>
t.create type=strds temporaltype=absolute output=precip_abs
title=&quot;Example&quot; descr=&quot;Example&quot; <br>
t.register -i type=raster input=precip_abs
maps=prec_1,prec_2,prec_3,prec_4,prec_5,prec_6
start=&quot;2001-01-01&quot; increment=&quot;1 months&quot;
<br>
r.timestamp prec_1 <br>
1 Jan 2001 00:00:00 / 1 Feb 2001 00:00:00 <br>
r.timestamp prec_2 <br>
1 Feb 2001 00:00:00 / 1 Mar 2001 00:00:00 <br>
t.rast.list input=precip_abs <br>
name|mapset|start_time|end_time <br>
prec_1|PERMANENT|2001-01-01 00:00:00|2001-02-01 00:00:00
<br>
prec_2|PERMANENT|2001-02-01 00:00:00|2001-03-01 00:00:00
<br>
prec_3|PERMANENT|2001-03-01 00:00:00|2001-04-01 00:00:00
<br>
prec_4|PERMANENT|2001-04-01 00:00:00|2001-05-01 00:00:00
<br>
prec_5|PERMANENT|2001-05-01 00:00:00|2001-06-01 00:00:00
<br>
prec_6|PERMANENT|2001-06-01 00:00:00|2001-07-01 00:00:00
<br>
r.mapcalc expression=&quot;prec_7 = 700&quot; <br>
r.timestamp map=prec_7 date=&quot;1 jul 2001 / 1 aug
2001&quot; <br>
t.register type=raster input=precip_abs maps=prec_7 <br>
t.rast.list input=precip_abs <br>
name|mapset|start_time|end_time <br>
prec_1|PERMANENT|2001-01-01 00:00:00|2001-02-01 00:00:00
<br>
prec_2|PERMANENT|2001-02-01 00:00:00|2001-03-01 00:00:00
<br>
prec_3|PERMANENT|2001-03-01 00:00:00|2001-04-01 00:00:00
<br>
prec_4|PERMANENT|2001-04-01 00:00:00|2001-05-01 00:00:00
<br>
prec_5|PERMANENT|2001-05-01 00:00:00|2001-06-01 00:00:00
<br>
prec_6|PERMANENT|2001-06-01 00:00:00|2001-07-01 00:00:00
<br>
prec_7|PERMANENT|2001-07-01 00:00:00|2001-08-01 00:00:00</p>

<p style="margin-top: 1em">Importing and registering
ECA&amp;D climatic data <br>
The European Climate Assessment &amp; Dataset (ECA&amp;D)
project offers the E-OBS dataset which is a daily gridded
observational dataset for precipitation, temperature and sea
level <br>
pressure in Europe based on ECA&amp;D information. Download
and decompress mean temperature data from: here by accepting
their Terms of use. <br>
# import E-OBS V12 into a lat-long location (alternatively,
use r.external) <br>
r.in.gdal -oe input=tg_0.25deg_reg_1950-1964_v12.0.nc
output=temperature_mean offset=0 <br>
r.in.gdal -oe input=tg_0.25deg_reg_1965-1979_v12.0.nc
output=temperature_mean offset=5479 --o <br>
r.in.gdal -oe input=tg_0.25deg_reg_1980-1994_v12.0.nc
output=temperature_mean offset=10957 --o <br>
r.in.gdal -oe input=tg_0.25deg_reg_1995-2015_v12.0.nc
output=temperature_mean offset=16436 --o <br>
# create STRDS <br>
t.create type=strds output=temperature_mean_1950_2015_daily
temporaltype=absolute semantictype=mean title=&quot;European
mean temperature 1950-2015&quot; description=&quot;The
European daily mean temperature from ECAD&quot; <br>
# create text file with all temperature_mean rasters, one
per line, <br>
# a) using a shell script <br>
for i in &lsquo;seq 1 23922&lsquo; ; do <br>
echo temperature_mean.$i &gt;&gt; map_list.txt <br>
done <br>
# b) using a Python script <br>
file = open(&quot;map_list.txt&quot;, &quot;w&quot;) <br>
for i in range(23922): <br>
file.write(&quot;temperature_mean.%i0 % (i + 1)) <br>
file.close() <br>
# register daily maps using the file created above <br>
t.register -i type=raster
input=temperature_mean_1950_2015_daily file=map_list.txt
start=1950-01-01 increment=&quot;1 days&quot;</p>

<p style="margin-top: 1em">SEE ALSO <br>
t.create, t.info</p>

<p style="margin-top: 1em">Maps registration examples in
Temporal data processing Wiki</p>

<p style="margin-top: 1em">AUTHOR <br>
S&Atilde;&para;ren Gebbert, Th&Atilde;&frac14;nen Institute
of Climate-Smart Agriculture</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-05-25
18:50:20 +0200 (Wed, 25 May 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: t.register source code (history)</p>

<p style="margin-top: 1em">Main index | Temporal index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0
t.register(1grass)</p>
<hr>
</body>
</html>
