<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>t.register(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">t.register(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">t.register(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>t.register</b> - Registers raster, vector and raster3d maps in a space
  time datasets.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
temporal, map management, register, time
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>t.register</b>
<div>&#x00A0;</div>
<b>t.register --help</b>
<div>&#x00A0;</div>
<b>t.register</b> [-<b>i</b>] [<b>input</b>=<i>name</i>]
  [<b>maps</b>=<i>name</i>[, <i>name</i>,...]] [<b>type</b>=<i>name</i>]
  [<b>file</b>= <i>name</i>] [<b>start</b>=<i>string</i>]
  [<b>end</b>=<i>string</i>] [ <b>unit</b>=<i>string</i>]
  [<b>increment</b>=<i>string</i>] [ <b>separator</b>=<i>character</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Create an interval (start and end time) in case an increment and the start
      time are provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of the input space time dataset</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maps</b>=<i>name[,</i><i>name</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of the input maps</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Type of the input map
    <div>&#x00A0;</div>
    Options: <i>raster, vector, raster_3d</i>
    <div>&#x00A0;</div>
    Default: <i>raster</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>file</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input file with map names, one per line
    <div>&#x00A0;</div>
    Additionally the start time and the end time can be specified per line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>start</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Valid start date and time of the first map
    <div>&#x00A0;</div>
    Format absolute time: &quot;yyyy-mm-dd HH:MM:SS +HHMM&quot;, relative time
      is of type integer).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>end</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Valid end date and time of all map
    <div>&#x00A0;</div>
    Format absolute time: &quot;yyyy-mm-dd HH:MM:SS +HHMM&quot;, relative time
      is of type integer).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unit</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Time stamp unit
    <div>&#x00A0;</div>
    Unit must be set in case of relative time stamps
    <div>&#x00A0;</div>
    Options: <i>years, months, days, hours, minutes, seconds</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>increment</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Time increment, works only in conjunction with start option
    <div>&#x00A0;</div>
    Time increment between maps for valid time interval creation (format
      absolute: NNN seconds, minutes, hours, days, weeks, months, years; format
      relative is integer: 5)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b>=<i>character</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Field separator character of the input file
    <div>&#x00A0;</div>
    Special characters: pipe, comma, space, tab, newline
    <div>&#x00A0;</div>
    Default: <i>pipe</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The module <i>t.register</i> is designed to register raster, 3D raster and
  vector maps in the temporal database and in specific space time datasets. This
  module must be used to assign time stamps to raster, 3D raster and vector
  maps. The existing timestamp modules r.timestamp, r3.timestamp and v.timestamp
  do not register the maps in the temporal database of GRASS. However,
  timestamps that have been created with these modules can be read and used by
  <i>t.register</i>. This works only for maps that are not already registered in
  the temporal database.
<div class="Pp"></div>
This module supports absolute and relative time. The absolute temporal type
  refers to a fixed date while the relative temporal type refers to data without
  fixed time stamps (e.g., sequential maps used to calculate multi-decadal
  averages).
<div class="Pp"></div>
Maps can be registered by command line argument (a list of comma separated map
  names) or using an input file. The start time, the end time and a temporal
  increment can be provided by command line or in the input file. End time and
  increment are mutual exclusive. The user can register single maps or a list of
  maps at once. Maps can be registered in several space time datasets using the
  same timestamp.
<div class="Pp"></div>
The <i>increment</i> option and the <b>-i</b> flag (to create time intervals)
  work only in conjunction with the <b>start</b> option. If an input file with
  time stamps is used, then the <i>increment</i> option and the <b>-i</b> flag
  are not supported.
<div class="Pp"></div>
Start time and end time with absolute time must be provided using the format
  <b>yyyy-mm-dd HH:MM:SS +HHMM</b>. It is supported to specify only the date
  <b>yyyy-mm-dd</b>. In case of relative time the temporal unit (years, months,
  days, hours, minutes or seconds) must be provided. The relative start time,
  end time and the increment are integers.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The timestamps of registered maps will be stored in the temporal database and in
  the metadata of the grass maps in the spatial database. This assures that
  timestamps can always be accessed with <i>(r|r3|v).timestamp</i> and the
  temporal modules. Timestamps should only be modified with <i>t.register</i>
  because the <i>(r|r3|v).timestamp</i> modules have no access to the temporal
  database.
<h1 class="Sh" title="Sh" id="INPUT_FILE_FORMAT"><a class="selflink" href="#INPUT_FILE_FORMAT">INPUT
  FILE FORMAT</a></h1>
The input file consists of a list of map names, optionally along with time
  stamps. Each map name is to be stored in a row in this file.
<div class="Pp"></div>
There are several options to register maps, <i>increment</i> option and the
  <b>-i</b> flag are supported:
<div class="Pp"></div>
Specification of map names:
<div>&#x00A0;</div>
<pre>
terra_lst_day20020113
terra_lst_day20020114
terra_lst_day20020115
terra_lst_day20020116
terra_lst_day20020117
</pre>
<div class="Pp"></div>
Specification of map names and the absolute start time (date) of the time
  instances, not support for <i>increment</i> option and the <b>-i</b> flag:
<div>&#x00A0;</div>
<pre>
terra_lst_day20020113|2002-01-13
terra_lst_day20020114|2002-01-14
terra_lst_day20020115|2002-01-15
terra_lst_day20020116|2002-01-16
terra_lst_day20020117|2002-01-17
</pre>
<div class="Pp"></div>
Specification of map names and the absolute time stamp (datetime), not support
  for <i>increment</i> option and the <b>-i</b> flag:
<div>&#x00A0;</div>
<pre>
terra_lst_day20020113|2002-01-13 10:30
terra_lst_day20020114|2002-01-14 10:30
terra_lst_day20020115|2002-01-15 10:30
terra_lst_day20020116|2002-01-16 10:30
terra_lst_day20020117|2002-01-17 10:30
</pre>
<div class="Pp"></div>
Specification of the map name and the absolute time interval with start, not
  support for <i>increment</i> option and the <b>-i</b> flag: and end time:
<div>&#x00A0;</div>
<pre>
prec_1|2001-01-01|2001-04-01
prec_2|2001-04-01|2001-07-01
prec_3|2001-07-01|2001-10-01
prec_4|2001-10-01|2002-01-01
prec_5|2002-01-01|2002-04-01
prec_6|2002-04-01|2002-07-01
</pre>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
<h2 class="Ss" title="Ss" id="North_Carolina_dataset"><a class="selflink" href="#North_Carolina_dataset">North
  Carolina dataset</a></h2>
<h2 class="Ss" title="Ss" id="Using_a_text_file"><a class="selflink" href="#Using_a_text_file">Using
  a text file</a></h2>
Register maps in a absolute space time dataset, creating a time interval
<div>&#x00A0;</div>
<pre>
# first:  prepare a text file with a list of input maps (see above)
# second: register maps
t.register -i type=raster input=precipitation_monthly \
    file=list_of_input_maps.txt start=2009-01-01 \
    increment=&quot;1 months&quot;
</pre>
<h2 class="Ss" title="Ss" id="Using_g.list_to_generate_the_input"><a class="selflink" href="#Using_g.list_to_generate_the_input">Using
  <i>g.list</i> to generate the input</a></h2>
Register maps in a absolute space time dataset, creating a time interval
<div>&#x00A0;</div>
<pre>
t.register -i type=raster input=precipitation_monthly \
    maps=`g.list raster pattern=&quot;*precip*&quot; sep=comma` start=2009-01-01 \
    increment=&quot;1 months&quot;
</pre>
<h2 class="Ss" title="Ss" id="Synthetic_maps"><a class="selflink" href="#Synthetic_maps">Synthetic
  maps</a></h2>
In this example we create 6 raster maps that will be registered in a single
  space time raster dataset named precip_abs using a monthly temporal
  granularity. The <b>-i</b> flag generates interval time. The generated
  timestamps will be inspected using <i>r.timestamp</i> and <i>t.rast.list</i>.
  We will register an additional map with a timestamp that was set with
  <i>r.timestamp</i>.
<div>&#x00A0;</div>
<pre>
r.mapcalc expression=&quot;prec_1 = 100&quot;
r.mapcalc expression=&quot;prec_2 = 200&quot;
r.mapcalc expression=&quot;prec_3 = 300&quot;
r.mapcalc expression=&quot;prec_4 = 400&quot;
r.mapcalc expression=&quot;prec_5 = 500&quot;
r.mapcalc expression=&quot;prec_6 = 600&quot;
t.create type=strds temporaltype=absolute \
    output=precip_abs title=&quot;Example&quot; \
    descr=&quot;Example&quot;
t.register -i type=raster input=precip_abs \
    maps=prec_1,prec_2,prec_3,prec_4,prec_5,prec_6 \
    start=&quot;2001-01-01&quot; increment=&quot;1 months&quot;
r.timestamp prec_1
1 Jan 2001 00:00:00 / 1 Feb 2001 00:00:00
r.timestamp prec_2
1 Feb 2001 00:00:00 / 1 Mar 2001 00:00:00
t.rast.list input=precip_abs
name|mapset|start_time|end_time
prec_1|PERMANENT|2001-01-01 00:00:00|2001-02-01 00:00:00
prec_2|PERMANENT|2001-02-01 00:00:00|2001-03-01 00:00:00
prec_3|PERMANENT|2001-03-01 00:00:00|2001-04-01 00:00:00
prec_4|PERMANENT|2001-04-01 00:00:00|2001-05-01 00:00:00
prec_5|PERMANENT|2001-05-01 00:00:00|2001-06-01 00:00:00
prec_6|PERMANENT|2001-06-01 00:00:00|2001-07-01 00:00:00
r.mapcalc expression=&quot;prec_7 = 700&quot;
r.timestamp map=prec_7 date=&quot;1 jul 2001 / 1 aug 2001&quot;
t.register type=raster input=precip_abs maps=prec_7
t.rast.list input=precip_abs
name|mapset|start_time|end_time
prec_1|PERMANENT|2001-01-01 00:00:00|2001-02-01 00:00:00
prec_2|PERMANENT|2001-02-01 00:00:00|2001-03-01 00:00:00
prec_3|PERMANENT|2001-03-01 00:00:00|2001-04-01 00:00:00
prec_4|PERMANENT|2001-04-01 00:00:00|2001-05-01 00:00:00
prec_5|PERMANENT|2001-05-01 00:00:00|2001-06-01 00:00:00
prec_6|PERMANENT|2001-06-01 00:00:00|2001-07-01 00:00:00
prec_7|PERMANENT|2001-07-01 00:00:00|2001-08-01 00:00:00
</pre>
<h2 class="Ss" title="Ss" id="Importing_and_registering_ECA&amp;D_climatic_data"><a class="selflink" href="#Importing_and_registering_ECA&amp;D_climatic_data">Importing
  and registering ECA&amp;D climatic data</a></h2>
The European Climate Assessment &amp; Dataset (ECA&amp;D) project offers the
  E-OBS dataset which is a daily gridded observational dataset for
  precipitation, temperature and sea level pressure in Europe based on ECA&amp;D
  information. Download and decompress mean temperature data from: here by
  accepting their Terms of use.
<div>&#x00A0;</div>
<pre>
# import E-OBS V12 into a lat-long location (alternatively, use r.external)
r.in.gdal -oe input=tg_0.25deg_reg_1950-1964_v12.0.nc \
  output=temperature_mean offset=0
r.in.gdal -oe input=tg_0.25deg_reg_1965-1979_v12.0.nc \
  output=temperature_mean offset=5479 --o
r.in.gdal -oe input=tg_0.25deg_reg_1980-1994_v12.0.nc \
  output=temperature_mean offset=10957 --o
r.in.gdal -oe input=tg_0.25deg_reg_1995-2015_v12.0.nc \
  output=temperature_mean offset=16436 --o
# create STRDS
t.create type=strds output=temperature_mean_1950_2015_daily \
  temporaltype=absolute semantictype=mean \
  title=&quot;European mean temperature 1950-2015&quot; \
  description=&quot;The European daily mean temperature from ECAD&quot;
# create text file with all temperature_mean rasters, one per line,
# a) using a shell script
for i in `seq 1 23922` ; do
    echo temperature_mean.$i &gt;&gt; map_list.txt
done
# b) using a Python script
file = open(&quot;map_list.txt&quot;, &quot;w&quot;)
for i in range(23922):
    file.write(&quot;temperature_mean.%i\n&quot; % (i + 1))
file.close()
# register daily maps using the file created above
t.register -i type=raster input=temperature_mean_1950_2015_daily \
              file=map_list.txt start=1950-01-01 increment=&quot;1 days&quot;
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>t.create,</i> <i>t.info</i> <i></i>
<div class="Pp"></div>
Maps registration examples in Temporal data processing Wiki
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
S&#x00F6;ren Gebbert, Th&#x00FC;nen Institute of Climate-Smart Agriculture
<div class="Pp"></div>
<i>Last changed: $Date: 2016-05-25 18:50:20 +0200 (Wed, 25 May 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: t.register source code (history)
<div class="Pp"></div>
Main index | Temporal index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
