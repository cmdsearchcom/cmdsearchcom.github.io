<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>klcc(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">klcc(1)</td>
    <td class="head-vol">H. Peter Anvin</td>
    <td class="head-rtitle">klcc(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
klcc - compile a program against klibc
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>klcc</b> [ <i>gcc options</i>] [ <b>-o</b> <i>outfile</i>] <i>infile...</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>klcc</b> is a wrapper around <b>gcc</b>(1) and <b>ld</b>(1) which compiles
  and links a program against the <b>klibc</b> tiny C library. It supports most
  <b>gcc</b> options.
<div class="Pp"></div>
Unlike <b>gcc</b>, <b>klcc</b> compiles with optimization on by default.
  Furthermore, the optimization level used depends on whether or not <b>-g</b>
  is specified, since <b>klcc</b> frequently uses options in the normal case
  which makes debugging impossible. Therefore, compile without <b>-g</b>,
  <b>-O</b>, <b>-f</b> or <b>-m</b> option to use the default optimization
  level; this will generally result in the smallest binaries. You may want to
  use <b>-s</b> when linking, however. Use <b>-O0</b> to compile without any
  optimization whatsoever; this may not work depending on the version of
  <b>gcc</b> used.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nostdinc</b></dt>
  <dd class="It-tag">allows to turn off klibc include files.</dd>
</dl>
<div class="Pp"></div>
Use the <b>-shared</b> or <b>-static</b> option to compile for and link against
  shared or static klibc. Note that shared klibc only supports running against
  the exact same klibc binary as the binary was linked with.
<div class="Pp"></div>
In addition to standard <b>gcc</b> options, <b>klcc</b> supports options of the
  form <b>-print-klibc-</b><i>option</i>, which prints the corresponding klibc
  configuration option.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by H. Peter Anvin &lt;hpa@zytor.com&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2005 H. Peter Anvin - All Rights Reserved
<div class="Pp"></div>
Permission is hereby granted, free of charge, to any person obtaining a copy of
  this software and associated documentation files (the &quot;Software&quot;),
  to deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
<div class="Pp"></div>
The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
<div class="Pp"></div>
THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
  EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES
  OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
  DEALINGS IN THE SOFTWARE.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gcc</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">1 March 2005</td>
    <td class="foot-os">klibc</td>
  </tr>
</table>
</body>
</html>
