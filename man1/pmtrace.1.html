<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PMTRACE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PMTRACE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PMTRACE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>pmtrace</b> - command line performance instrumentation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pmtrace</b> [ <b>-q</b>] [ <b>-c</b> <i>value</i> | <b>-e</b> <i>command</i>
  | <b>-v</b> <i>value</i>] [ <b>-h</b> <i>host</i>] [ <b>-S</b> <i>state</i>]
  <i>tag</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pmtrace</b> provides a simple command line interface to the trace Performance
  Metrics Domain Agent (PMDA) and the associated <i>pcp_trace</i> library.
<div class="Pp"></div>
The default <b>pmtrace</b> behavior is to provide point trace data to the trace
  PMDA, using the <i>tag</i> argument as the identifying name associated with
  each trace point. The <i>tag</i> then becomes an instance identifier within
  the set of trace.point metrics.
<div class="Pp"></div>
The <b>-e</b> option allows an arbitrary <i>command</i> to be executed. This
  <i>command</i> will be measured as a transaction since it has well defined
  start and end points. The information is made available through the
  trace.transact metrics.
<div class="Pp"></div>
Trace data can be sent to the trace PMDA running on <i>host</i>, rather than the
  localhost, using the <b>-h</b> option. This overrides use of the environment
  variable <b>PCP_TRACE_HOST</b>.
<div class="Pp"></div>
The <b>-q</b> option suppresses messages from a successful trace, so that
  <b>pmtrace</b> runs quietly.
<div class="Pp"></div>
The <b>-c</b> option allows an arbitrary counter <i>value</i> to be exported
  through the trace.count metrics, while the <b>-v</b> option allows an
  arbitrary floating point <i>value</i> to be exported through the trace.observe
  metrics
<div class="Pp"></div>
The <b>-S</b> option enables internal debugging and tracing. The value of
  <i>state</i> is a bit-wise combination of debug flags as defined in
  <b>pmtracestate</b>(3), and may be specified using the decimal or hexadecimal
  syntax prescribed by <b>strtol</b>(3).
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
Since <b>pmtrace</b> uses the <i>libpcp_trace</i> library routines, the
  environment variables <b>PCP_TRACE_HOST</b>, <b>PCP_TRACE_PORT</b>, and
  <b>PCP_TRACE_TIMEOUT</b> are all honored. Refer to <b>pmdatrace</b>(3) for a
  detailed description of the semantics of each.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_DEMOS_DIR/trace/pmtrace.c</b></dt>
  <dd class="It-tag">source code for <b>pmtrace</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="PCP_ENVIRONMENT"><a class="selflink" href="#PCP_ENVIRONMENT">PCP
  ENVIRONMENT</a></h1>
Environment variables with the prefix <b>PCP_</b> are used to parameterize the
  file and directory names used by PCP. On each installation, the file
  <i>/etc/pcp.conf</i> contains the local values for these variables. The
  <b>$PCP_CONF</b> variable may be used to specify an alternative configuration
  file, as described in <b>pcp.conf</b>(5).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pmcd</b>(1), <b>pmdatrace</b>(1), <b>pmprobe</b>(1), <b>PMAPI</b>(3), and
  <b>pmdatrace</b>(3).
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
All are generated on standard error and are intended to be self-explanatory.
<div class="Pp"></div>
The <b>pmtrace</b> exit status is always zero except when the <b>-e</b> option
  is in use, in which case the exit status of <i>command</i> is returned.</div>
<table class="foot">
  <tr>
    <td class="foot-date">PCP</td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
