<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:44:12 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>xml2dcm(1) OFFIS DCMTK xml2dcm(1)</p>

<p style="margin-top: 1em">NAME <br>
xml2dcm - Convert XML document to DICOM file or data set</p>

<p style="margin-top: 1em">SYNOPSIS <br>
xml2dcm [options] xmlfile-in dcmfile-out</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The xml2dcm utility converts the contents of an XML
(Extensible Markup Language) document to DICOM file or data
set. The XML document is expected to validate against the
DTD <br>
(Document Type Definition) which is described in file
dcm2xml.dtd. An appropriate XML file can be created using
the dcm2xml tool (option +Wb recommended to include binary
data).</p>

<p style="margin-top: 1em">PARAMETERS <br>
xmlfile-in XML input filename to be converted (stdin:
&quot;-&quot;)</p>

<p style="margin-top: 1em">dcmfile-out DICOM output
filename</p>

<p style="margin-top: 1em">OPTIONS <br>
general options <br>
-h --help <br>
print this help text and exit</p>

<p style="margin-top: 1em">--version <br>
print version information and exit</p>

<p style="margin-top: 1em">--arguments <br>
print expanded command line arguments</p>

<p style="margin-top: 1em">-q --quiet <br>
quiet mode, print no warnings and errors</p>

<p style="margin-top: 1em">-v --verbose <br>
verbose mode, print processing details</p>

<p style="margin-top: 1em">-d --debug <br>
debug mode, print debug information</p>

<p style="margin-top: 1em">-ll --log-level [l]evel: string
constant <br>
(fatal, error, warn, info, debug, trace) <br>
use level l for the logger</p>

<p style="margin-top: 1em">-lc --log-config [f]ilename:
string <br>
use config file f for the logger</p>

<p style="margin-top: 1em">input options <br>
input file format:</p>

<p style="margin-top: 1em">+f --read-meta-info <br>
read meta information if present (default)</p>

<p style="margin-top: 1em">-f --ignore-meta-info <br>
ignore file meta information</p>

<p style="margin-top: 1em">processing options <br>
validation:</p>

<p style="margin-top: 1em">+Vd --validate-document <br>
validate XML document against DTD</p>

<p style="margin-top: 1em">+Vn --check-namespace <br>
check XML namespace in document root</p>

<p style="margin-top: 1em">unique identifiers:</p>

<p style="margin-top: 1em">+Ug --generate-new-uids <br>
generate new Study/Series/SOP Instance UID</p>

<p style="margin-top: 1em">-Uo --dont-overwrite-uids <br>
do not overwrite existing UIDs (default)</p>

<p style="margin-top: 1em">+Uo --overwrite-uids <br>
overwrite existing UIDs</p>

<p style="margin-top: 1em">output options <br>
output file format:</p>

<p style="margin-top: 1em">+F --write-file <br>
write file format (default)</p>

<p style="margin-top: 1em">-F --write-dataset <br>
write data set without file meta information</p>

<p style="margin-top: 1em">+Fu --update-meta-info <br>
update particular file meta information</p>

<p style="margin-top: 1em">output transfer syntax:</p>

<p style="margin-top: 1em">+t= --write-xfer-same <br>
write with same TS as input (default)</p>

<p style="margin-top: 1em">+te --write-xfer-little <br>
write with explicit VR little endian TS</p>

<p style="margin-top: 1em">+tb --write-xfer-big <br>
write with explicit VR big endian TS</p>

<p style="margin-top: 1em">+ti --write-xfer-implicit <br>
write with implicit VR little endian TS</p>

<p style="margin-top: 1em">+td --write-xfer-deflated <br>
write with deflated explicit VR little endian TS</p>

<p style="margin-top: 1em">post-1993 value
representations:</p>

<p style="margin-top: 1em">+u --enable-new-vr <br>
enable support for new VRs (UN/UT) (default)</p>

<p style="margin-top: 1em">-u --disable-new-vr <br>
disable support for new VRs, convert to OB</p>

<p style="margin-top: 1em">group length encoding:</p>

<p style="margin-top: 1em">+g= --group-length-recalc <br>
recalculate group lengths if present (default)</p>

<p style="margin-top: 1em">+g --group-length-create <br>
always write with group length elements</p>

<p style="margin-top: 1em">-g --group-length-remove <br>
always write without group length elements</p>

<p style="margin-top: 1em">length encoding in sequences and
items:</p>

<p style="margin-top: 1em">+e --length-explicit <br>
write with explicit lengths (default)</p>

<p style="margin-top: 1em">-e --length-undefined <br>
write with undefined lengths</p>

<p style="margin-top: 1em">data set trailing padding (not
with --write-dataset):</p>

<p style="margin-top: 1em">-p= --padding-retain <br>
do not change padding (default if not --write-dataset)</p>

<p style="margin-top: 1em">-p --padding-off <br>
no padding (implicit if --write-dataset)</p>

<p style="margin-top: 1em">+p --padding-create [f]ile-pad
[i]tem-pad: integer <br>
align file on multiple of f bytes and items on <br>
multiple of i bytes</p>

<p style="margin-top: 1em">deflate compression level (only
with --write-xfer-deflated):</p>

<p style="margin-top: 1em">+cl --compression-level [l]evel:
integer (default: 6) <br>
0=uncompressed, 1=fastest, 9=best compression</p>

<p style="margin-top: 1em">NOTES <br>
The basic structure of the XML input expected looks like the
following:</p>

<p style="margin-top: 1em">&lt;?xml version=&quot;1.0&quot;
encoding=&quot;ISO-8859-1&quot;?&gt; <br>
&lt;!DOCTYPE file-format SYSTEM &quot;dcm2xml.dtd&quot;&gt;
<br>
&lt;file-format
xmlns=&quot;http://dicom.offis.de/dcmtk&quot;&gt; <br>
&lt;meta-header xfer=&quot;1.2.840.10008.1.2.1&quot;
name=&quot;Little Endian Explicit&quot;&gt; <br>
&lt;element tag=&quot;0002,0000&quot; vr=&quot;UL&quot;
vm=&quot;1&quot; len=&quot;4&quot; <br>
name=&quot;MetaElementGroupLength&quot;&gt; <br>
166 <br>
&lt;/element&gt; <br>
... <br>
&lt;element tag=&quot;0002,0013&quot; vr=&quot;SH&quot;
vm=&quot;1&quot; len=&quot;16&quot; <br>
name=&quot;ImplementationVersionName&quot;&gt; <br>
OFFIS_DCMTK_353 <br>
&lt;/element&gt; <br>
&lt;/meta-header&gt; <br>
&lt;data-set xfer=&quot;1.2.840.10008.1.2&quot;
name=&quot;Little Endian Implicit&quot;&gt; <br>
&lt;element tag=&quot;0008,0005&quot; vr=&quot;CS&quot;
vm=&quot;1&quot; len=&quot;10&quot; <br>
name=&quot;SpecificCharacterSet&quot;&gt; <br>
ISO_IR 100 <br>
&lt;/element&gt; <br>
... <br>
&lt;sequence tag=&quot;0028,3010&quot; vr=&quot;SQ&quot;
card=&quot;2&quot; name=&quot;VOILUTSequence&quot;&gt; <br>
&lt;item card=&quot;3&quot;&gt; <br>
&lt;element tag=&quot;0028,3002&quot; vr=&quot;xs&quot;
vm=&quot;3&quot; len=&quot;6&quot; <br>
name=&quot;LUTDescriptor&quot;&gt; <br>
256 8 <br>
&lt;/element&gt; <br>
... <br>
&lt;/item&gt; <br>
... <br>
&lt;/sequence&gt; <br>
... <br>
&lt;element tag=&quot;7fe0,0010&quot; vr=&quot;OW&quot;
vm=&quot;1&quot; len=&quot;262144&quot; <br>
name=&quot;PixelData&quot; loaded=&quot;no&quot;
binary=&quot;hidden&quot;&gt; <br>
&lt;/element&gt; <br>
&lt;/data-set&gt; <br>
&lt;/file-format&gt;</p>

<p style="margin-top: 1em">The &rsquo;file-format&rsquo;
and &rsquo;meta-header&rsquo; tags may be absent for DICOM
data sets.</p>

<p style="margin-top: 1em">Character Encoding <br>
The DICOM character encoding is determined automatically
from the element with tag &rsquo;0008,0005&rsquo; (Specific
Character Set) - if present. The following character sets
are currently <br>
supported (requires libxml to include iconv support, see
--version output):</p>

<p style="margin-top: 1em">ASCII (ISO_IR 6) (UTF-8) <br>
UTF-8 &quot;ISO_IR 192&quot; (UTF-8) <br>
ISO Latin 1 &quot;ISO_IR 100&quot; (ISO-8859-1) <br>
ISO Latin 2 &quot;ISO_IR 101&quot; (ISO-8859-2) <br>
ISO Latin 3 &quot;ISO_IR 109&quot; (ISO-8859-3) <br>
ISO Latin 4 &quot;ISO_IR 110&quot; (ISO-8859-4) <br>
ISO Latin 5 &quot;ISO_IR 148&quot; (ISO-8859-9) <br>
Cyrillic &quot;ISO_IR 144&quot; (ISO-8859-5) <br>
Arabic &quot;ISO_IR 127&quot; (ISO-8859-6) <br>
Greek &quot;ISO_IR 126&quot; (ISO-8859-7) <br>
Hebrew &quot;ISO_IR 138&quot; (ISO-8859-8)</p>

<p style="margin-top: 1em">Multiple character sets are not
supported (only the first value of the &rsquo;Specific
Character Set&rsquo; is used for the character encoding in
case of value multiplicity).</p>

<p style="margin-top: 1em">See dcm2xml documentation for
more details on the XML structure.</p>

<p style="margin-top: 1em">Binary Data <br>
Binary data can be encoded either as a sequence of hex
numbers separated by a backslash &rsquo;&acute; or in Base64
format (binary=&rsquo;base64&rsquo;). In addition, binary
data can also be read from <br>
file (binary=&rsquo;file&rsquo;). In this case, the filename
has to be specified as the element value, e.g.</p>

<p style="margin-top: 1em">&lt;element
tag=&quot;7fe0,0010&quot; vr=&quot;OW&quot; ...
binary=&quot;file&quot;&gt;subdir/pixeldata.raw&lt;/element&gt;</p>

<p style="margin-top: 1em">Please note that the contents of
the file will be read as is. OW data is expected to be
little endian ordered and will be swapped if necessary. No
checks will be made to ensure <br>
that the amount of data is reasonable in terms of other
attributes such as Rows or Columns.</p>

<p style="margin-top: 1em">Compression <br>
If libxml is compiled with zlib support, the input file
(xmlfile-in) can also be compressed with ZIP, which usually
results in much smaller files. See output of option
--version <br>
in order to check whether zlib support is available.</p>

<p style="margin-top: 1em">Limitations <br>
Different versions of libxml might have different limits for
the maximum length of an XML element value. Therefore, it
should be avoided to use very long element values (e.g. for
<br>
pixel data).</p>

<p style="margin-top: 1em">Please note that xml2dcm
currently does not fully support DICOMDIR files.
Specifically, the value of the various offset data elements
is not updated automatically by this tool.</p>

<p style="margin-top: 1em">LOGGING <br>
The level of logging output of the various command line
tools and underlying libraries can be specified by the user.
By default, only errors and warnings are written to the <br>
standard error stream. Using option --verbose also
informational messages like processing details are reported.
Option --debug can be used to get more details on the
internal <br>
activity, e.g. for debugging purposes. Other logging levels
can be selected using option --log-level. In --quiet mode
only fatal errors are reported. In such very severe error
<br>
events, the application will usually terminate. For more
details on the different logging levels, see documentation
of module &rsquo;oflog&rsquo;.</p>

<p style="margin-top: 1em">In case the logging output
should be written to file (optionally with logfile
rotation), to syslog (Unix) or the event log (Windows)
option --log-config can be used. This <br>
configuration file also allows for directing only certain
messages to a particular output stream and for filtering
certain messages based on the module or application where
they <br>
are generated. An example configuration file is provided in
&lt;etcdir&gt;/logger.cfg.</p>

<p style="margin-top: 1em">COMMAND LINE <br>
All command line tools use the following notation for
parameters: square brackets enclose optional values (0-1),
three trailing dots indicate that multiple values are
allowed <br>
(1-n), a combination of both means 0 to n values.</p>

<p style="margin-top: 1em">Command line options are
distinguished from parameters by a leading &rsquo;+&rsquo;
or &rsquo;-&rsquo; sign, respectively. Usually, order and
position of command line options are arbitrary (i.e. they
<br>
can appear anywhere). However, if options are mutually
exclusive the rightmost appearance is used. This behavior
conforms to the standard evaluation rules of common Unix
shells.</p>

<p style="margin-top: 1em">In addition, one or more command
files can be specified using an &rsquo;@&rsquo; sign as a
prefix to the filename (e.g. @command.txt). Such a command
argument is replaced by the content of <br>
the corresponding text file (multiple whitespaces are
treated as a single separator unless they appear between two
quotation marks) prior to any further evaluation. Please
note <br>
that a command file cannot contain another command file.
This simple but effective approach allows one to summarize
common combinations of options/parameters and avoids longish
<br>
and confusing command lines (an example is provided in file
&lt;datadir&gt;/dumppat.txt).</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The xml2dcm utility will attempt to load DICOM data
dictionaries specified in the DCMDICTPATH environment
variable. By default, i.e. if the DCMDICTPATH environment
variable is <br>
not set, the file &lt;datadir&gt;/dicom.dic will be loaded
unless the dictionary is built into the application (default
for Windows).</p>

<p style="margin-top: 1em">The default behavior should be
preferred and the DCMDICTPATH environment variable only used
when alternative data dictionaries are required. The
DCMDICTPATH environment variable <br>
has the same format as the Unix shell PATH variable in that
a colon (&rsquo;:&rsquo;) separates entries. On Windows
systems, a semicolon (&rsquo;;&rsquo;) is used as a
separator. The data dictionary <br>
code will attempt to load each file specified in the
DCMDICTPATH environment variable. It is an error if no data
dictionary can be loaded.</p>

<p style="margin-top: 1em">FILES <br>
&lt;datadir&gt;/dcm2xml.dtd - Document Type Definition (DTD)
file</p>

<p style="margin-top: 1em">SEE ALSO <br>
dcm2xml(1)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2003-2014 by OFFIS e.V., Escherweg 2, 26121
Oldenburg, Germany.</p>

<p style="margin-top: 1em">Version 3.6.1 Tue Feb 16 2016
xml2dcm(1)</p>
<hr>
</body>
</html>
