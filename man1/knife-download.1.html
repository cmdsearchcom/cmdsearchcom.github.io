<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KNIFE-DOWNLOAD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KNIFE-DOWNLOAD(1)</td>
    <td class="head-vol">knife download</td>
    <td class="head-rtitle">KNIFE-DOWNLOAD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
knife-download - The man page for the knife download subcommand.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>knife download</b> subcommand is used to download roles, cookbooks,
  environments, nodes, and data bags from the Chef server to the current working
  directory. It can be used to back up data on the Chef server, inspect the
  state of one or more files, or to extract out-of-process changes users may
  have made to files on the Chef server, such as if a user made a change that
  bypassed version source control. This subcommand is often used in conjunction
  with <b>knife diff</b>, which can be used to see exactly what changes will be
  downloaded, and then <b>knife upload</b>, which does the opposite of <b>knife
  download</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This subcommand has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download [PATTERN...] (options)
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This subcommand has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c CONFIG_FILE</b>, <b>--config
    CONFIG_FILE</b></b></dt>
  <dd class="It-tag">The configuration file to use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--chef-repo-path PATH</b></b></dt>
  <dd class="It-tag">The path to the chef-repo. This setting will override the
      default path to the chef-repo. Default: same as specified by
      <b>chef_repo_path</b> in config.rb.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--chef-zero-port PORT</b></b></dt>
  <dd class="It-tag">The port on which chef-zero will listen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]color</b></b></dt>
  <dd class="It-tag">Use to view colored output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--concurrency</b></b></dt>
  <dd class="It-tag">The number of allowed concurrent connections. Default:
      <b>10</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--cookbook-version VERSION</b></b></dt>
  <dd class="It-tag">The version of a cookbook to be downloaded.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b>, <b>--disable-editing</b></b></dt>
  <dd class="It-tag">Use to prevent the $EDITOR from being opened and to accept
      data as-is.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--defaults</b></b></dt>
  <dd class="It-tag">Use to have knife use the default value instead of asking a
      user to provide one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]diff</b></b></dt>
  <dd class="It-tag">Use to download only new and modified files. Set to
      <b>false</b> to download all files. Default: <b>--diff</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e EDITOR</b>, <b>--editor EDITOR</b></b></dt>
  <dd class="It-tag">The $EDITOR that is used for all interactive commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-E ENVIRONMENT</b>, <b>--environment
    ENVIRONMENT</b></b></dt>
  <dd class="It-tag">The name of the environment. When this option is added to a
      command, the command will run only against the named environment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-F FORMAT</b>, <b>--format FORMAT</b></b></dt>
  <dd class="It-tag">The output format: <b>summary</b> (default), <b>text</b>,
      <b>json</b>, <b>yaml</b>, and <b>pp</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]force</b></b></dt>
  <dd class="It-tag">Use <b>--force</b> to download files even when the file on
      the hard drive is identical to the object on the server (role, cookbook,
      etc.). By default, files are compared to see if they have equivalent
      content, and local files are only overwritten if they are different.
      Default: <b>--no-force</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>, <b>--help</b></b></dt>
  <dd class="It-tag">Shows help for the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k KEY</b>, <b>--key KEY</b></b></dt>
  <dd class="It-tag">The private key that knife will use to sign requests made
      by the API client to the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-n</b>, <b>--dry-run</b></b></dt>
  <dd class="It-tag">Use to take no action and only print out results. Default:
      <b>false</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--print-after</b></b></dt>
  <dd class="It-tag">Use to show data after a destructive operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]purge</b></b></dt>
  <dd class="It-tag">Use <b>--purge</b> to delete local files and directories
      that do not exist on the Chef server. By default, if a role, cookbook,
      etc. does not exist on the Chef server, the local file for said role will
      be left alone and NOT deleted. Default: <b>--no-purge</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]recurse</b></b></dt>
  <dd class="It-tag">Use <b>--no-recurse</b> to disable downloading a directory
      recursively. Default: <b>--recurse</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--repo-mode MODE</b></b></dt>
  <dd class="It-tag">The layout of the local chef-repo. Possible values:
      <b>static</b>, <b>everything</b>, or <b>hosted_everything</b>. Use
      <b>static</b> for just roles, environments, cookbooks, and data bags. By
      default, <b>everything</b> and <b>hosted_everything</b> are dynamically
      selected depending on the server type. Default: <b>everything</b> /
      <b>hosted_everything</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-s URL</b>, <b>--server-url URL</b></b></dt>
  <dd class="It-tag">The URL for the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-u USER</b>, <b>--user USER</b></b></dt>
  <dd class="It-tag">The user name used by knife to sign requests made by the
      API client to the Chef server. Authentication will fail if the user name
      does not match the private key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-v</b>, <b>--version</b></b></dt>
  <dd class="It-tag">The version of the chef-client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-V</b>, <b>--verbose</b></b></dt>
  <dd class="It-tag">Set for more verbose outputs. Use <b>-VV</b> for maximum
      verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-y</b>, <b>--yes</b></b></dt>
  <dd class="It-tag">Use to respond to all confirmation prompts with
      &quot;Yes&quot;. knife will not ask for confirmation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-z</b>, <b>--local-mode</b></b></dt>
  <dd class="It-tag">Use to run the chef-client in local mode. This allows all
      commands that work against the Chef server to also work against the local
      chef-repo.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To download the entire chef-repo from the Chef server, browse to the top level
  of the chef-repo and enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download /
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To download the <b>cookbooks/</b> directory from the Chef server, browse to the
  top level of the chef-repo and enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download cookbooks
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
or from anywhere in the chef-repo, enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download /cookbooks
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To download the <b>environments/</b> directory from the Chef server, browse to
  the top level of the chef-repo and enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download environments
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
or from anywhere in the chef-repo, enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download /environments
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To download an environment named &quot;production&quot; from the Chef server,
  browse to the top level of the chef-repo and enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download environments/production.json
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
or from the <b>environments/</b> directory, enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download production.json
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To download the <b>roles/</b> directory from the Chef server, browse to the top
  level of the chef-repo and enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download roles
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
or from anywhere in the chef-repo, enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife download /roles
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To download all cookbooks that start with &quot;apache&quot; and belong to the
  &quot;webserver&quot; role, browse to the top level of the chef-repo and
  enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$  knife download cookbooks/apache\* roles/webserver.json
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Chef</div>
<table class="foot">
  <tr>
    <td class="foot-date">Chef 12.0</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
