<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:10:21 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>floppymeter(1) General Commands Manual
floppymeter(1)</p>

<p style="margin-top: 1em">Name <br>
floppymeter - measure raw capacity and exact rotation speed
of floppy drive</p>

<p style="margin-top: 1em">Note <br>
This manpage has been automatically generated from
fdutils&rsquo;s texinfo documentation. However, this process
is only approximative, and some items, such as
cross-references, foot&acirc; <br>
notes and indices are lost in this translation process.
Indeed, these items have no appropriate representation in
the manpage format. Moreover, only the items specific to
each <br>
command have been translated, and the general information
about fdutils has been dropped in the manpage version. Thus
I strongly advise you to use the original texinfo doc.</p>

<p style="margin-top: 1em">* To generate a printable copy
from the texinfo doc, run the following commands:</p>

<p style="margin-top: 1em">./configure; make dvi; dvips
fdutils.dvi</p>

<p style="margin-top: 1em">* To generate a HTML copy,
run:</p>

<p style="margin-top: 1em">./configure; make html</p>

<p style="margin-top: 1em">A pre-made HTML can be found at:
&lsquo;http://www.tux.org/pub/knaff/fdutils&rsquo;</p>

<p style="margin-top: 1em">* To generate an info copy
(browsable using emacs&rsquo; info mode), run:</p>

<p style="margin-top: 1em">./configure; make info</p>

<p style="margin-top: 1em">The texinfo doc looks most
pretty when printed or as HTML. Indeed, in the info version
certain examples are difficult to read due to the quoting
conventions used in info.</p>

<p style="margin-top: 1em">Description <br>
floppymeter [-f] [-w warmup-delay] [-W window] <br>
[-c cycles] [-h] drive</p>

<p style="margin-top: 1em">The floppymeter program measures
characteristic parameters of a floppy drive and floppy
controller, such as the rotation speed of the drive, the
data transfer rate of the con&acirc; <br>
troller, and the resulting raw capacity of a disk track. To
use this program, insert a disposable floppy in the drive,
and type floppymeter --density, where density describes <br>
the density of the disk used for the test. (Should be one of
dd, hd or ed). CAUTION: the data on the disk will be erased.
This program should be used to verify whether the drive <br>
and controller are out of tolerance if you experience
problems with some high capacity formats. It only needs to
be run once per drive: although a disk is needed to perform
the <br>
measurements, the measured data only depend on the drive and
the controller, and not on the disk.</p>

<p style="margin-top: 1em">To measure the raw capacity of
the disk track, the floppymeter program formats the first
track of the drive in a special way that allows it to read
the raw data (gaps and head&acirc; <br>
ers) of the disk. Thus, all data previously stored on that
disk is lost.</p>

<p style="margin-top: 1em">The rotation speed is measured
by timing the return time of a readid command. In order to
gain more precision, the command is issued many times in a
row. During this phase, the <br>
number of rotations since the start of the test, the average
time per rotation since the start, and a sliding average of
the times of the last 30 rotations is printed, and <br>
updated continuously.</p>

<p style="margin-top: 1em">The data transfer rate is
deduced from the two parameters above.</p>

<p style="margin-top: 1em">At the end of the program, all
parameters (raw capacity, duration of one rotation, and data
transfer rate) are printed again, as well as their relative
deviation to the standard <br>
value. Finally, it suggests a capacity deviation description
line, which can be directly pasted into the drive definition
file (See section Drive descriptions.).</p>

<p style="margin-top: 1em">Usually, the data transfer rate
should not deviate more than 150 ppm from the expected
value, and the rotation speed of the drive should not
deviate more than 3000 ppm from the <br>
expected value. If these deviations are bigger, you may get
problems with certain high capacity formats.</p>

<p style="margin-top: 1em">If the raw capacity of the drive
is too small, some high capacity formats may become
unformattable on this drive/controller combo.</p>

<p style="margin-top: 1em">If on the other hand, the raw
capacity of the drive is too big, you may get problems when
writing to a disk formatted by this drive on another drive
with a smaller raw capacity. <br>
In order to avoid this, increase superformats gap parameter
(-G).</p>

<p style="margin-top: 1em">-h Prints a short help</p>

<p style="margin-top: 1em">--dd Tells the program that we
use a Double Density disk.</p>

<p style="margin-top: 1em">--hd Tells the program that we
use a High Density disk.</p>

<p style="margin-top: 1em">--ed Tells the program that we
use an Extra Density disk.</p>

<p style="margin-top: 1em">-f Runs the measurement non
interactively. With this option, the program doesn&rsquo;t
ask for confirmation, and doesn&rsquo;t display the
continuously updated values during the rota&acirc; <br>
tion speed measurement.</p>

<p style="margin-top: 1em">-W Window <br>
This value describes how many rotations are used for the
computation of the sliding average. Default is 30.</p>

<p style="margin-top: 1em">-c cycles <br>
Describes the number of rotations clocked during the
rotations speed determination test. Default is 1000.</p>

<p style="margin-top: 1em">Bugs <br>
This program is quite new, and may have bugs. Here are a few
suggested tests to check its sanity:</p>

<p style="margin-top: 1em">* The deviation of the data
transfer rate solely depends on the controller. It should
not be different between two drives connected to the same
controller. However, the <br>
drive rotation speed may be different for different
drives.</p>

<p style="margin-top: 1em">* All data transfer rates (for
double, high and extra density) are derived from a same
master frequency. Thus the deviation of the data transfer
rate should be independent <br>
of the density used.</p>

<p style="margin-top: 1em">See Also <br>
Fdutils&rsquo; texinfo doc</p>

<p style="margin-top: 1em">fdutils-5.5 03Mar05
floppymeter(1)</p>
<hr>
</body>
</html>
