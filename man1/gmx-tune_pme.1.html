<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GMX-TUNE_PME(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GMX-TUNE_PME(1)</td>
    <td class="head-vol">GROMACS</td>
    <td class="head-rtitle">GMX-TUNE_PME(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gmx-tune_pme - Time mdrun as a function of PME ranks to optimize settings
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmx tune_pme [ <b>-s</b> <i>[&lt;.tpr&gt;]</i>] [<b>-cpi</b> <i>[&lt;.cpt&gt;]</i>] [<b>-table</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-tablep</b> <i>[&lt;.xvg&gt;]</i>] [<b>-tableb</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-rerun</b> <i>[&lt;.xtc/.trr/...&gt;]</i>] [<b>-ei</b> <i>[&lt;.edi&gt;]</i>] [<b>-p</b> <i>[&lt;.out&gt;]</i>]
             [ <b>-err</b> <i>[&lt;.log&gt;]</i>] [<b>-so</b> <i>[&lt;.tpr&gt;]</i>] [<b>-o</b> <i>[&lt;.trr/.cpt/...&gt;]</i>]
             [ <b>-x</b> <i>[&lt;.xtc/.tng&gt;]</i>] [<b>-cpo</b> <i>[&lt;.cpt&gt;]</i>]
             [ <b>-c</b> <i>[&lt;.gro/.g96/...&gt;]</i>] [<b>-e</b> <i>[&lt;.edr&gt;]</i>] [<b>-g</b> <i>[&lt;.log&gt;]</i>]
             [ <b>-dhdl</b> <i>[&lt;.xvg&gt;]</i>] [<b>-field</b> <i>[&lt;.xvg&gt;]</i>] [<b>-tpi</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-tpid</b> <i>[&lt;.xvg&gt;]</i>] [<b>-eo</b> <i>[&lt;.xvg&gt;]</i>] [<b>-devout</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-runav</b> <i>[&lt;.xvg&gt;]</i>] [<b>-px</b> <i>[&lt;.xvg&gt;]</i>] [<b>-pf</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-ro</b> <i>[&lt;.xvg&gt;]</i>] [<b>-ra</b> <i>[&lt;.log&gt;]</i>] [<b>-rs</b> <i>[&lt;.log&gt;]</i>]
             [ <b>-rt</b> <i>[&lt;.log&gt;]</i>] [<b>-mtx</b> <i>[&lt;.mtx&gt;]</i>] [<b>-swap</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-bo</b> <i>[&lt;.trr/.cpt/...&gt;]</i>] [<b>-bx</b> <i>[&lt;.xtc&gt;]</i>] [<b>-bcpo</b> <i>[&lt;.cpt&gt;]</i>]
             [ <b>-bc</b> <i>[&lt;.gro/.g96/...&gt;]</i>] [<b>-be</b> <i>[&lt;.edr&gt;]</i>] [<b>-bg</b> <i>[&lt;.log&gt;]</i>]
             [ <b>-beo</b> <i>[&lt;.xvg&gt;]</i>] [<b>-bdhdl</b> <i>[&lt;.xvg&gt;]</i>] [<b>-bfield</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-btpi</b> <i>[&lt;.xvg&gt;]</i>] [<b>-btpid</b> <i>[&lt;.xvg&gt;]</i>] [<b>-bdevout</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-brunav</b> <i>[&lt;.xvg&gt;]</i>] [<b>-bpx</b> <i>[&lt;.xvg&gt;]</i>] [<b>-bpf</b> <i>[&lt;.xvg&gt;]</i>]
             [ <b>-bro</b> <i>[&lt;.xvg&gt;]</i>] [<b>-bra</b> <i>[&lt;.log&gt;]</i>] [<b>-brs</b> <i>[&lt;.log&gt;]</i>]
             [ <b>-brt</b> <i>[&lt;.log&gt;]</i>] [<b>-bmtx</b> <i>[&lt;.mtx&gt;]</i>] [<b>-bdn</b> <i>[&lt;.ndx&gt;]</i>]
             [ <b>-bswap</b> <i>[&lt;.xvg&gt;]</i>] [<b>-xvg</b> <i>&lt;enum&gt;</i>] [<b>-mdrun</b> <i>&lt;string&gt;</i>]
             [ <b>-np</b> <i>&lt;int&gt;</i>] [<b>-npstring</b> <i>&lt;enum&gt;</i>] [<b>-ntmpi</b> <i>&lt;int&gt;</i>] [<b>-r</b> <i>&lt;int&gt;</i>]
             [ <b>-max</b> <i>&lt;real&gt;</i>] [<b>-min</b> <i>&lt;real&gt;</i>] [<b>-npme</b> <i>&lt;enum&gt;</i>] [<b>-fix</b> <i>&lt;int&gt;</i>]
             [ <b>-rmax</b> <i>&lt;real&gt;</i>] [<b>-rmin</b> <i>&lt;real&gt;</i>] [<b>-[no]scalevdw</b>]
             [ <b>-ntpr</b> <i>&lt;int&gt;</i>] [<b>-steps</b> <i>&lt;int&gt;</i>] [<b>-resetstep</b> <i>&lt;int&gt;</i>]
             [ <b>-nsteps</b> <i>&lt;int&gt;</i>] [<b>-[no]launch</b>] [<b>-[no]bench</b>] [<b>-[no]check</b>]
             [ <b>-gpu_id</b> <i>&lt;string&gt;</i>] [<b>-[no]append</b>] [<b>-[no]cpnum</b>]
             [ <b>-deffnm</b> <i>&lt;string&gt;</i>]
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
For a given number <b>-np</b> or <b>-ntmpi</b> of ranks, <b>gmx tune_pme</b>
  systematically times gmx mdrun with various numbers of PME-only ranks and
  determines which setting is fastest. It will also test whether performance can
  be enhanced by shifting load from the reciprocal to the real space part of the
  Ewald sum. Simply pass your .tpr file to <b>gmx tune_pme</b> together with
  other options for gmx mdrun as needed.
<div style="height: 1.00em;">&#x00A0;</div>
<b>gmx tune_pme</b> needs to call gmx mdrun and so requires that you specify how
  to call mdrun with the argument to the <b>-mdrun</b> parameter. Depending how
  you have built GROMACS, values such as 'gmx mdrun', 'gmx_d mdrun', or
  'mdrun_mpi' might be needed.
<div style="height: 1.00em;">&#x00A0;</div>
The program that runs MPI programs can be set in the environment variable MPIRUN
  (defaults to 'mpirun'). Note that for certain MPI frameworks, you need to
  provide a machine- or hostfile. This can also be passed via the MPIRUN
  variable, e.g.
<div style="height: 1.00em;">&#x00A0;</div>
<b>export MPIRUN=&quot;/usr/local/mpirun -machinefile hosts&quot;</b> Note that
  in such cases it is normally necessary to compile and/or run <b>gmx
  tune_pme</b> without MPI support, so that it can call the MPIRUN program.
<div style="height: 1.00em;">&#x00A0;</div>
Before doing the actual benchmark runs, <b>gmx tune_pme</b> will do a quick
  check whether gmx mdrun works as expected with the provided parallel settings
  if the <b>-check</b> option is activated (the default). Please call <b>gmx
  tune_pme</b> with the normal options you would pass to gmx mdrun and add
  <b>-np</b> for the number of ranks to perform the tests on, or <b>-ntmpi</b>
  for the number of threads. You can also add <b>-r</b> to repeat each test
  several times to get better statistics.
<div style="height: 1.00em;">&#x00A0;</div>
<b>gmx tune_pme</b> can test various real space / reciprocal space workloads for
  you. With <b>-ntpr</b> you control how many extra .tpr files will be written
  with enlarged cutoffs and smaller Fourier grids respectively. Typically, the
  first test (number 0) will be with the settings from the input .tpr file; the
  last test (number <b>ntpr</b>) will have the Coulomb cutoff specified by
  <b>-rmax</b> with a somewhat smaller PME grid at the same time. In this last
  test, the Fourier spacing is multiplied with <b>rmax</b>/rcoulomb. The
  remaining .tpr files will have equally-spaced Coulomb radii (and Fourier
  spacings) between these extremes. <b>Note</b> that you can set <b>-ntpr</b> to
  1 if you just seek the optimal number of PME-only ranks; in that case your
  input .tpr file will remain unchanged.
<div style="height: 1.00em;">&#x00A0;</div>
For the benchmark runs, the default of 1000 time steps should suffice for most
  MD systems. The dynamic load balancing needs about 100 time steps to adapt to
  local load imbalances, therefore the time step counters are by default reset
  after 100 steps. For large systems (&gt;1M atoms), as well as for a higher
  accuracy of the measurements, you should set <b>-resetstep</b> to a higher
  value. From the 'DD' load imbalance entries in the md.log output file you can
  tell after how many steps the load is sufficiently balanced. Example call:
<div style="height: 1.00em;">&#x00A0;</div>
<b>gmx tune_pme -np 64 -s protein.tpr -launch</b>
<div style="height: 1.00em;">&#x00A0;</div>
After calling gmx mdrun several times, detailed performance information is
  available in the output file <b>perf.out</b>. <b>Note</b> that during the
  benchmarks, a couple of temporary files are written (options <b>-b*</b>),
  these will be automatically deleted after each test.
<div style="height: 1.00em;">&#x00A0;</div>
If you want the simulation to be started automatically with the optimized
  parameters, use the command line option <b>-launch</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Basic support for GPU-enabled <b>mdrun</b> exists. Give a string containing the
  IDs of the GPUs that you wish to use in the optimization in the <b>-gpu_id</b>
  command-line argument. Unlike <b>mdrun -gpu_id</b>, this does not imply a
  mapping but merely the eligible set. <b>g_tune_pme</b> will construct calls to
  mdrun that use this set appropriately, assuming that PP ranks with low indices
  should map to GPUs with low indices, and increasing both monotonically over
  the respective sets.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Options to specify input files:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-s</b> [&lt;.tpr&gt;] (topol.tpr)</b></dt>
  <dd class="It-tag">Portable xdr run input file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-cpi</b> [&lt;.cpt&gt;] (state.cpt)
    (Optional)</b></dt>
  <dd class="It-tag">Checkpoint file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-table</b> [&lt;.xvg&gt;] (table.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-tablep</b> [&lt;.xvg&gt;] (tablep.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-tableb</b> [&lt;.xvg&gt;] (table.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-rerun</b> [&lt;.xtc/.trr/...&gt;] (rerun.xtc)
    (Optional)</b></dt>
  <dd class="It-tag">Trajectory: xtc trr cpt gro g96 pdb tng</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-ei</b> [&lt;.edi&gt;] (sam.edi) (Optional)</b></dt>
  <dd class="It-tag">ED sampling input</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Options to specify output files:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-p</b> [&lt;.out&gt;] (perf.out)</b></dt>
  <dd class="It-tag">Generic output file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-err</b> [&lt;.log&gt;] (bencherr.log)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-so</b> [&lt;.tpr&gt;] (tuned.tpr)</b></dt>
  <dd class="It-tag">Portable xdr run input file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-o</b> [&lt;.trr/.cpt/...&gt;] (traj.trr)</b></dt>
  <dd class="It-tag">Full precision trajectory: trr cpt tng</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x</b> [&lt;.xtc/.tng&gt;] (traj_comp.xtc)
    (Optional)</b></dt>
  <dd class="It-tag">Compressed trajectory (tng format or portable xdr
    format)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-cpo</b> [&lt;.cpt&gt;] (state.cpt)
    (Optional)</b></dt>
  <dd class="It-tag">Checkpoint file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c</b> [&lt;.gro/.g96/...&gt;] (confout.gro)</b></dt>
  <dd class="It-tag">Structure file: gro g96 pdb brk ent esp</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b> [&lt;.edr&gt;] (ener.edr)</b></dt>
  <dd class="It-tag">Energy file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-g</b> [&lt;.log&gt;] (md.log)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-dhdl</b> [&lt;.xvg&gt;] (dhdl.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-field</b> [&lt;.xvg&gt;] (field.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-tpi</b> [&lt;.xvg&gt;] (tpi.xvg) (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-tpid</b> [&lt;.xvg&gt;] (tpidist.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-eo</b> [&lt;.xvg&gt;] (edsam.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-devout</b> [&lt;.xvg&gt;] (deviatie.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-runav</b> [&lt;.xvg&gt;] (runaver.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-px</b> [&lt;.xvg&gt;] (pullx.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-pf</b> [&lt;.xvg&gt;] (pullf.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-ro</b> [&lt;.xvg&gt;] (rotation.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-ra</b> [&lt;.log&gt;] (rotangles.log)
    (Optional)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-rs</b> [&lt;.log&gt;] (rotslabs.log)
    (Optional)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-rt</b> [&lt;.log&gt;] (rottorque.log)
    (Optional)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-mtx</b> [&lt;.mtx&gt;] (nm.mtx) (Optional)</b></dt>
  <dd class="It-tag">Hessian matrix</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-swap</b> [&lt;.xvg&gt;] (swapions.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bo</b> [&lt;.trr/.cpt/...&gt;] (bench.trr)</b></dt>
  <dd class="It-tag">Full precision trajectory: trr cpt tng</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bx</b> [&lt;.xtc&gt;] (bench.xtc)</b></dt>
  <dd class="It-tag">Compressed trajectory (portable xdr format): xtc</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bcpo</b> [&lt;.cpt&gt;] (bench.cpt)</b></dt>
  <dd class="It-tag">Checkpoint file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bc</b> [&lt;.gro/.g96/...&gt;] (bench.gro)</b></dt>
  <dd class="It-tag">Structure file: gro g96 pdb brk ent esp</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-be</b> [&lt;.edr&gt;] (bench.edr)</b></dt>
  <dd class="It-tag">Energy file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bg</b> [&lt;.log&gt;] (bench.log)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-beo</b> [&lt;.xvg&gt;] (benchedo.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bdhdl</b> [&lt;.xvg&gt;] (benchdhdl.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bfield</b> [&lt;.xvg&gt;] (benchfld.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-btpi</b> [&lt;.xvg&gt;] (benchtpi.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-btpid</b> [&lt;.xvg&gt;] (benchtpid.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bdevout</b> [&lt;.xvg&gt;] (benchdev.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-brunav</b> [&lt;.xvg&gt;] (benchrnav.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bpx</b> [&lt;.xvg&gt;] (benchpx.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bpf</b> [&lt;.xvg&gt;] (benchpf.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bro</b> [&lt;.xvg&gt;] (benchrot.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bra</b> [&lt;.log&gt;] (benchrota.log)
    (Optional)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-brs</b> [&lt;.log&gt;] (benchrots.log)
    (Optional)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-brt</b> [&lt;.log&gt;] (benchrott.log)
    (Optional)</b></dt>
  <dd class="It-tag">Log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bmtx</b> [&lt;.mtx&gt;] (benchn.mtx)
    (Optional)</b></dt>
  <dd class="It-tag">Hessian matrix</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bdn</b> [&lt;.ndx&gt;] (bench.ndx)
    (Optional)</b></dt>
  <dd class="It-tag">Index file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-bswap</b> [&lt;.xvg&gt;] (benchswp.xvg)
    (Optional)</b></dt>
  <dd class="It-tag">xvgr/xmgr file</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Other options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-xvg</b> &lt;enum&gt; (xmgrace)</b></dt>
  <dd class="It-tag">xvg plot formatting: xmgrace, xmgr, none</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-mdrun</b> &lt;string&gt;</b></dt>
  <dd class="It-tag">Command line to run a simulation, e.g. 'gmx mdrun' or
      'mdrun_mpi'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-np</b> &lt;int&gt; (1)</b></dt>
  <dd class="It-tag">Number of ranks to run the tests on (must be &gt; 2 for
      separate PME ranks)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-npstring</b> &lt;enum&gt; (np)</b></dt>
  <dd class="It-tag">Name of the <b>$MPIRUN</b> option that specifies the number
      of ranks to use ('np', or 'n'; use 'none' if there is no such option): np,
      n, none</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-ntmpi</b> &lt;int&gt; (1)</b></dt>
  <dd class="It-tag">Number of MPI-threads to run the tests on (turns MPI &amp;
      mpirun off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-r</b> &lt;int&gt; (2)</b></dt>
  <dd class="It-tag">Repeat each test this often</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-max</b> &lt;real&gt; (0.5)</b></dt>
  <dd class="It-tag">Max fraction of PME ranks to test with</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-min</b> &lt;real&gt; (0.25)</b></dt>
  <dd class="It-tag">Min fraction of PME ranks to test with</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-npme</b> &lt;enum&gt; (auto)</b></dt>
  <dd class="It-tag">Within -min and -max, benchmark all possible values for
      <b>-npme</b>, or just a reasonable subset. Auto neglects -min and -max and
      chooses reasonable values around a guess for npme derived from the .tpr:
      auto, all, subset</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-fix</b> &lt;int&gt; (-2)</b></dt>
  <dd class="It-tag">If &gt;= -1, do not vary the number of PME-only ranks,
      instead use this fixed value and only vary rcoulomb and the PME grid
      spacing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-rmax</b> &lt;real&gt; (0)</b></dt>
  <dd class="It-tag">If &gt;0, maximal rcoulomb for -ntpr&gt;1 (rcoulomb
      upscaling results in fourier grid downscaling)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-rmin</b> &lt;real&gt; (0)</b></dt>
  <dd class="It-tag">If &gt;0, minimal rcoulomb for -ntpr&gt;1</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-[no]scalevdw</b> (yes)</b></dt>
  <dd class="It-tag">Scale rvdw along with rcoulomb</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-ntpr</b> &lt;int&gt; (0)</b></dt>
  <dd class="It-tag">Number of .tpr files to benchmark. Create this many files
      with different rcoulomb scaling factors depending on -rmin and -rmax. If
      &lt; 1, automatically choose the number of .tpr files to test</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-steps</b> &lt;int&gt; (1000)</b></dt>
  <dd class="It-tag">Take timings for this many steps in the benchmark runs</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-resetstep</b> &lt;int&gt; (1500)</b></dt>
  <dd class="It-tag">Let dlb equilibrate this many steps before timings are
      taken (reset cycle counters after this many steps)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-nsteps</b> &lt;int&gt; (-1)</b></dt>
  <dd class="It-tag">If non-negative, perform this many steps in the real run
      (overwrites nsteps from .tpr, add .cpt steps)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-[no]launch</b> (no)</b></dt>
  <dd class="It-tag">Launch the real simulation after optimization</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-[no]bench</b> (yes)</b></dt>
  <dd class="It-tag">Run the benchmarks or just create the input .tpr
    files?</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-[no]check</b> (yes)</b></dt>
  <dd class="It-tag">Before the benchmark runs, check whether mdrun works in
      parallel</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-gpu_id</b> &lt;string&gt;</b></dt>
  <dd class="It-tag">List of GPU device id-s that are eligible for use (unlike
      mdrun, does not imply any mapping)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-[no]append</b> (yes)</b></dt>
  <dd class="It-tag">Append to previous output files when continuing from
      checkpoint instead of adding the simulation part number to all file names
      (for launch only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-[no]cpnum</b> (no)</b></dt>
  <dd class="It-tag">Keep and number checkpoint files (launch only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-deffnm</b> &lt;string&gt;</b></dt>
  <dd class="It-tag">Set the default filenames (launch only)</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gmx(1)</b>
<div style="height: 1.00em;">&#x00A0;</div>
More information about GROMACS is available at &lt;
  <i>http://www.gromacs.org/</i>&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2017, GROMACS development team</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 13, 2017</td>
    <td class="foot-os">2016.3</td>
  </tr>
</table>
</body>
</html>
