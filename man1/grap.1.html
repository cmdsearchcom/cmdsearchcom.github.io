<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GRAP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GRAP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">GRAP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">grap</b> &#x2014; <span class="Nd" title="Nd">Kernighan
  and Bentley's language for typesetting graphs</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">grap</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-d</b>
      <var class="Ar" title="Ar">defines_file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-D</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-l</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-M</b>
      <var class="Ar" title="Ar">include path</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-R</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-r</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-v</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-u</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-C</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-c</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-h</b></span>]
      [<span class="Op"><var class="Ar" title="Ar">filename
      ...</var></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b class="Nm" title="Nm">grap</b> is an implementation of Kernighan and
  Bentley's language for typesetting graphs, as described in ``Grap-A Language
  for Typesetting Graphs, Tutorial and User Manual,'' by Jon L. Bentley and
  Brian W. Kernighan, revised May 1991, which is the primary source for
  information on how to use <b class="Nm" title="Nm">grap</b>. As of this
  writing, it is available electronically at
  <code class="Li">http://www.kohala.com/start/troff/cstr114.ps</code>.
  Additional documentation and examples, packaged with
  <b class="Nm" title="Nm">grap</b>, may have been installed locally as well. If
  available, paths to them can be displayed using
  <b class="Nm" title="Nm">grap</b> <b class="Fl" title="Fl">-h</b> or
  <b class="Nm" title="Nm">grap</b> <b class="Fl" title="Fl">-v</b> (or
  <b class="Nm" title="Nm">grap</b> <b class="Fl" title="Fl">--help</b> /
  <b class="Nm" title="Nm">grap</b> <b class="Fl" title="Fl">--version</b>)
<div class="Pp"></div>
This version is a black box implementation of <b class="Nm" title="Nm">grap</b>,
  and some inconsistencies are to be expected. The remainder of this manual page
  will briefly outline the <b class="Nm" title="Nm">grap</b> language as
  implemented here.
<div class="Pp"></div>
<b class="Nm" title="Nm">grap</b> is a <a class="Xr" title="Xr">pic(1)</a>
  pre-processor. It takes commands embedded in a
  <a class="Xr" title="Xr">troff(1)</a> source file which are surrounded by
  <b class="Ic" title="Ic">.G1</b> and <b class="Ic" title="Ic">.G2</b> macros,
  and rewrites them into <a class="Xr" title="Xr">pic</a> commands to display
  the graph. Other lines are copied. Output is always to the standard output,
  which is usually redirected. Input is from the given
  <var class="Ar" title="Ar">filename</var><span class="No">s</span>, which are
  read in order. A <var class="Ar" title="Ar">filename</var> of
  <b class="Fl" title="Fl">-</b> is the standard input. If no
  <var class="Ar" title="Ar">filename</var><span class="No">s</span> are given,
  input is read from the standard input.
<div class="Pp"></div>
Because <b class="Nm" title="Nm">grap</b> is a <a class="Xr" title="Xr">pic</a>
  preprocessor, and GNU <a class="Xr" title="Xr">pic</a> will output TeX, it is
  possible to use <b class="Nm" title="Nm">grap</b> with TeX.
<div class="Pp"></div>
The <b class="Fl" title="Fl">-d</b> option specifies a file of macro definitions
  to be read at startup, and defaults to /usr/share/grap/grap.defines . The
  <b class="Fl" title="Fl">-D</b> option inhibits the reading of any initial
  macros file (the <b class="Fl" title="Fl">-l</b> flag is a synonym for
  <b class="Fl" title="Fl">-D</b>, though I do not remember why). The defines
  file can also be given using the
  <code class="Ev" title="Ev">GRAP_DEFINES</code> environment variable. (See
  below).
<div class="Pp"></div>
<b class="Fl" title="Fl">-v</b> prints the version information on the standard
  output and exits. <b class="Fl" title="Fl">--version</b> is a synonym for
  <b class="Fl" title="Fl">-v</b>.
<div class="Pp"></div>
<b class="Fl" title="Fl">-u</b> makes labels unaligned by default. This version
  of <b class="Nm" title="Nm">grap</b> uses new features of GNU
  <a class="Xr" title="Xr">pic</a> to align the left and right labels with the
  axes, that is that the left and right labels run at right angles to the text
  of the paper. This may be useful in porting old
  <b class="Nm" title="Nm">grap</b> programs. <b class="Fl" title="Fl">-c</b>
  makes plot strings unclipped by default. Some versions of
  <b class="Nm" title="Nm">grap</b> allow users to place a string anywhere in
  the coordinate space, rather than only in the frame. By default this version
  of <b class="Nm" title="Nm">grap</b> does not plot any string centered outside
  the frame. <b class="Fl" title="Fl">-c</b> allows strings to be placed
  anywhere. See also the <b class="Ic" title="Ic">clipped</b> and
  <b class="Ic" title="Ic">unclipped</b> string modifiers described in the
  <b class="Ic" title="Ic">plot</b> statement.
<div class="Pp"></div>
<b class="Fl" title="Fl">-M</b> is followed by a colon-separated list of
  directories used to search for relative pathnames included via
  <b class="Ic" title="Ic">copy</b>. The path is also used to locate the defines
  file, so if the <b class="Fl" title="Fl">-d</b> changes the defines file name
  to a relative name, it will be searched for in the path given by
  <b class="Fl" title="Fl">-M</b>. The search path always includes the current
  directory, and by default that directory is searched last.
<div class="Pp"></div>
All numbers used internally by <b class="Nm" title="Nm">grap</b> are double
  precision floating point values. Sometimes using floating point numbers has
  unintended consequences. To help avoid these problems,
  <b class="Nm" title="Nm">grap</b> can use two thresholds for comparison of
  floating point numbers, set by <b class="Fl" title="Fl">-R</b> or
  <b class="Fl" title="Fl">-r</b>. The <b class="Fl" title="Fl">-R</b> flag sets
  coarse comparison mode, which is suitable for most applications. If you are
  plotting small values &#x2013; less than 1e-6 or so &#x2013; consider using
  <b class="Fl" title="Fl">-r</b> which uses very fine comparisons between
  numbers. You may also want to rescale your plotted values to be larger in
  magnitude. The coarse comarisons are used by default.
<div class="Pp"></div>
To be precise, the value by which two numbers must differ for
  <b class="Nm" title="Nm">grap</b> to consider them not equal is called the
  comparison limit and the smallest non-zero number is called the minimum value.
  The values a given version of <b class="Nm" title="Nm">grap</b> uses for these
  are included in the output of <b class="Fl" title="Fl">-v</b> or
  <b class="Fl" title="Fl">-h</b>.
<div class="Pp"></div>
All <b class="Nm" title="Nm">grap</b> commands are included between
  <b class="Ic" title="Ic">.G1</b> and <b class="Ic" title="Ic">.G2</b> macros,
  which are consumed by <b class="Nm" title="Nm">grap</b>. The output contains
  <a class="Xr" title="Xr">pic</a> between <b class="Ic" title="Ic">.PS</b> and
  <b class="Ic" title="Ic">.PE</b> macros. Any arguments to the
  <b class="Ic" title="Ic">.G1</b> macro in the input are arguments to the
  <b class="Ic" title="Ic">.PS</b> macro in the output, so graphs can be scaled
  just like <a class="Xr" title="Xr">pic</a> diagrams. If
  <b class="Fl" title="Fl">-C</b> is given, any macro beginning with .G1 or .G2
  is treated as a .G1 or .G2 macro, for compatibility with old versions of
  troff. Using <b class="Fl" title="Fl">-C</b> also forces pure troff syntax on
  embedded font change commands when strings have the
  <b class="Ic" title="Ic">size</b> attribute, and all strings to be
  <b class="Ic" title="Ic">unclipped</b>.
<div class="Pp"></div>
The <b class="Fl" title="Fl">-h</b> flag prints a brief help message and exits.
  <b class="Fl" title="Fl">--help</b> is a synonym for
  <b class="Fl" title="Fl">-h</b>.
<div class="Pp"></div>
It is possible for someone to cause <b class="Nm" title="Nm">grap</b> to fail by
  passing a bad format string and data to the
  <b class="Ic" title="Ic">sprintf</b> command. If
  <b class="Nm" title="Nm">grap</b> is integrated as part of the printing
  system, this could conceivably provided a path to breaching security on the
  machine. If you choose to use <b class="Nm" title="Nm">grap</b> as part of a
  printing system run by the super-user, you should disable
  <b class="Ic" title="Ic">sprintf</b> commands. This can be done by calling
  <b class="Nm" title="Nm">grap</b> with the <b class="Fl" title="Fl">-S</b>
  flag, setting the <code class="Ev" title="Ev">GRAP_SAFER</code> environment
  variable, or compiling with the GRAP_SAFER preprocessor symbol defined. (The
  GNU configure script included with <b class="Nm" title="Nm">grap</b> will
  define that preprocessor symbol if the
  <b class="Fl" title="Fl">--with-grap-safe</b> option is given.)
<div class="Pp"></div>
The <b class="Nm" title="Nm">grap</b> commands are sketched below. Refer to
  Kernighan and Bentley's paper for the details.
<div class="Pp"></div>
New versions of <a class="Xr" title="Xr">groff(1)</a> will invoke
  <b class="Nm" title="Nm">grap</b> if <b class="Fl" title="Fl">-G</b> is given.
<h2 class="Ss" title="Ss" id="Commands"><a class="selflink" href="#Commands">Commands</a></h2>
Commands are separated from one another by newlines or semicolons (;).
<div class="Pp"></div>
<b class="Ic" title="Ic">frame</b>
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">ht</b>
  <var class="Ar" title="Ar">height</var>&#x00A0;<span class="No">|</span>&#x00A0;<b class="Cm" title="Cm">wid</b>&#x00A0;<var class="Ar" title="Ar">width</var></span>]
  [<span class="Op">[<span class="Op">(<b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b><span class="No">|</span><b class="Cm" title="Cm">left</b><span class="No">|</span>
  <b class="Cm" title="Cm">right</b>)
  <var class="Ar" title="Ar">line_description</var></span>] ...</span>]
<div style="height: 1.00em;">&#x00A0;</div>
<b class="Ic" title="Ic">frame</b>
  [<span class="Op"><b class="Cm" title="Cm">ht</b>
  <var class="Ar" title="Ar">height</var>&#x00A0;<span class="No">|</span>&#x00A0;<b class="Cm" title="Cm">wid</b>&#x00A0;<var class="Ar" title="Ar">width</var></span>]
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  [<span class="Op">[<span class="Op">(<b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b><span class="No">|</span><b class="Cm" title="Cm">left</b><span class="No">|</span>
  <b class="Cm" title="Cm">right</b>)
  <var class="Ar" title="Ar">line_description</var></span>] ...</span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This describes how the axes for the
  graph are drawn. A <var class="Ar" title="Ar">line_description</var> is a
  <a class="Xr" title="Xr">pic</a> line description, e.g.,
  <code class="Li">dashed</code> <code class="Li">0.5</code>, or the literal
  <code class="Li">solid</code>. It may also include a
  <b class="Ic" title="Ic">color</b> keyword followed by the color to draw the
  string in double quotes. Any color understood by the underlying groff system
  can be used. Color can only be used under GNU pic, and is not available in
  compatibility mode. Similarly, for pic implementations that understand
  <b class="Ic" title="Ic">thickness</b>, that attribute may be used with a real
  valued parameter. <b class="Ic" title="Ic">Thickness</b> is not available in
  compatibility mode.
<div class="Pp"></div>
If the first <var class="Ar" title="Ar">line_description</var> is given, the
  frame is drawn with that style. The default is <code class="Li">solid</code>.
  The height and width of the frame can also be specified in inches. The default
  line style can be over-ridden for sides of the frame by specifying additional
  parameters to <b class="Ic" title="Ic">frame</b>.
<div class="Pp"></div>
If no plotting commands have been given before the
  <b class="Ic" title="Ic">frame</b> command is issued, the frame will be output
  at that point in the plotting stream relative to embedded
  <a class="Xr" title="Xr">troff</a> or <a class="Xr" title="Xr">pic</a>
  commands. Otherwise the frame is output before the first plotted object (even
  invisible ones).
<div class="Pp"></div>
<b class="Ic" title="Ic">ht</b> and <b class="Ic" title="Ic">wid</b> are in
  inches by default, but can be any <a class="Xr" title="Xr">groff</a> unit. If
  omitted, the dimensions are 2 inches high by 3 inches wide.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">coord</b>
  [<span class="Op"><var class="Ar" title="Ar">name</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">x</b>
  <var class="Ar" title="Ar">expr</var>,
  <var class="Ar" title="Ar">expr</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">y</b>
  <var class="Ar" title="Ar">expr</var>,
  <var class="Ar" title="Ar">expr</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">log x</b> <span class="No">|</span>
  <b class="Cm" title="Cm">log y</b> <span class="No">|</span>
  <b class="Cm" title="Cm">log log</b></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">coord</b> command specifies a new coordinate system
  or sets limits on the default system. It defines the largest and smallest
  values that can be plotted, and therefore the scale of the data in the frame.
  The limits for the x and y coordinate systems can be given separately. If a
  <var class="Ar" title="Ar">name</var> is given, that coordinate system is
  defined, if not the default system is modified.
<div class="Pp"></div>
A coordinate system created by one <b class="Ic" title="Ic">coord</b> command
  may be modified by subsequent <b class="Ic" title="Ic">coord</b> commands. A
  <b class="Nm" title="Nm">grap</b> program may declare a coordinate space using
  <b class="Ic" title="Ic">coord</b>, <b class="Ic" title="Ic">copy</b> a file
  of data through a macro that plots the data and finds its maxima and minima,
  and then define the size of the coordinate system with a second
  <b class="Ic" title="Ic">coord</b> statement.
<div class="Pp"></div>
This command also determines if a scale is plotted logarithmically.
  <b class="Cm" title="Cm">log log</b> means the same thing as
  <b class="Cm" title="Cm">log x log y</b>.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">draw</b>
  [<span class="Op"><var class="Ar" title="Ar">line_name</var></span>]
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  [<span class="Op"><var class="Ar" title="Ar">plot_string</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">draw</b> command defines the style with which a given
  line will be plotted. If <var class="Ar" title="Ar">line_name</var> is given,
  the style is associated with that name, otherwise the default style is set.
  <var class="Ar" title="Ar">line_description</var> is a
  <a class="Xr" title="Xr">pic</a> line description, and the optional
  <var class="Ar" title="Ar">plot_string</var> is a string to be centered at
  each point. The default line description is <code class="Li">invis</code>, and
  the default plotting string is a centered bullet, so by default each point is
  a filled circle, and they are unconnected. If points are being connected, each
  <b class="Ic" title="Ic">draw</b> command ends any current line and begins a
  new one.
<div class="Pp"></div>
When defining a line style, that is the first <b class="Ic" title="Ic">draw</b>
  command for a given line name, specifying no plot string means that there are
  to be no plot strings. Omitting the plot string on subsequent
  <b class="Ic" title="Ic">draw</b> commands addressing the same named line
  means not to change the plot string. If a line has been defined with a plot
  string, and the format is changed by a subsequent
  <b class="Ic" title="Ic">draw</b> statement, the plot string can be removed by
  specifying &quot;&quot; in the <b class="Ic" title="Ic">draw</b> statement.
<div class="Pp"></div>
The plot string can have its format changed through several string_modifiers.
  String_modifiers are described in the description of the
  <b class="Ic" title="Ic">plot</b> command.
<div class="Pp"></div>
The standard defines file includes several macros useful as plot strings,
  including <b class="Ic" title="Ic">bullet</b>,
  <b class="Ic" title="Ic">square</b>, and <b class="Ic" title="Ic">delta</b>.
<div class="Pp"></div>
<b class="Ic" title="Ic">new</b> is a synonym for
  <b class="Ic" title="Ic">draw</b>.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">next</b>
  [<span class="Op"><var class="Ar" title="Ar">line_name</var></span>]
  <b class="Cm" title="Cm">at</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinates_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">next</b> command plots the given point using the line
  style given by <var class="Ar" title="Ar">line_name</var>, or the default if
  none is given. If <var class="Ar" title="Ar">line_name</var> is given, it
  should have been defined by an earlier <b class="Ic" title="Ic">draw</b>
  command, if not a new line style with that name is created, initialized the
  same way as the default style. The two expressions give the point's x and y
  values, relative to the optional coordinate system. That system should have
  been defined by an earlier <b class="Ic" title="Ic">coord</b> command, if not,
  grap will exit. If the optional
  <var class="Ar" title="Ar">line_description</var> is given, it overrides the
  style's default line description. You cannot over-ride the plotting string. To
  use a different plotting string use the <b class="Ic" title="Ic">plot</b>
  command.
<div class="Pp"></div>
The coordinates may optionally be enclosed in parentheses:
  (<var class="Ar" title="Ar">expr</var>,
  <var class="Ar" title="Ar">expr</var>)</div>
<div class="Pp"></div>
<var class="Ar" title="Ar">quoted_string</var>
  [<span class="Op"><var class="Ar" title="Ar">string_modifiers</var></span>]
  [<span class="Op">, <var class="Ar" title="Ar">quoted_string</var>
  [<span class="Op"><var class="Ar" title="Ar">string_modifiers</var></span>]</span>]
  ... <b class="Cm" title="Cm">at</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinates_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
<div class="Pp"></div>
<b class="Ic" title="Ic">plot</b> <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">format_string</var></span>]
  <b class="Cm" title="Cm">at</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinates_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">These commands both plot a string
  at the given point. In the first case the literal strings are stacked above
  each other. The string_modifiers include the <a class="Xr" title="Xr">pic</a>
  justification modifiers (<b class="Ic" title="Ic">ljust</b>,
  <b class="Ic" title="Ic">rjust</b>, <b class="Ic" title="Ic">above</b>, and
  <b class="Ic" title="Ic">below</b><span class="No">),</span> and absolute and
  relative <code class="Li">size</code> modifiers. See the
  <a class="Xr" title="Xr">pic</a> documentation for the description of the
  justification modifiers. <b class="Nm" title="Nm">grap</b> also supports the
  <b class="Ic" title="Ic">aligned</b> and
  <b class="Ic" title="Ic">unaligned</b> modifiers which are briefly noted in
  the description of the <b class="Ic" title="Ic">label</b> command.
<div class="Pp"></div>
The standard defines file includes several macros useful as plot strings,
  including <b class="Ic" title="Ic">bullet</b>,
  <b class="Ic" title="Ic">square</b>, and <b class="Ic" title="Ic">delta</b>.
<div class="Pp"></div>
Strings placed by either format of the <b class="Ic" title="Ic">plot</b> command
  are restricted to being within the frame. This can be overridden by using the
  <b class="Ic" title="Ic">unclipped</b> attribute, which allows a string to be
  plotted in or out of the frame. The <b class="Fl" title="Fl">-c</b> and
  <b class="Fl" title="Fl">-C</b> flags set
  <b class="Ic" title="Ic">unclipped</b> on all strings, and to prevent a string
  from being plotted outside the frame when those flags are active, the
  <b class="Ic" title="Ic">clipped</b> attribute can be used to retore clipping
  behavior. Though <b class="Ic" title="Ic">clipped</b> or
  <b class="Ic" title="Ic">unclipped</b> can be applied to any string, it only
  has meaning for <b class="Ic" title="Ic">plot</b> statements.
<div class="Pp"></div>
<code class="Li">size</code> <var class="Ar" title="Ar">expr</var> sets the
  string size to <var class="Ar" title="Ar">expr</var> points. If
  <var class="Ar" title="Ar">expr</var> is preceded by a + or -, the size is
  increased or decreased by that many points.
<div class="Pp"></div>
If <b class="Ic" title="Ic">color</b> and a color name in double quotes appears,
  the string will be rendered in that color under a version of GNU troff that
  supports color. Color is not available in compatibility mode.
<div class="Pp"></div>
In the second version, the <var class="Ar" title="Ar">expr</var> is converted to
  a string and placed on the graph.
  <var class="Ar" title="Ar">format_string</var> is a
  <a class="Xr" title="Xr">printf(3)</a> format string. Only formatting escapes
  for printing floating point numbers make sense. The format string is only
  respected if the <b class="Ic" title="Ic">sprintf</b> command is also active.
  See the description of <b class="Ic" title="Ic">sprintf</b> for the various
  ways to disable it. <b class="Ic" title="Ic">Plot</b> and
  <b class="Ic" title="Ic">sprintf</b> respond differently when
  <b class="Nm" title="Nm">grap</b> is running safely.
  <b class="Ic" title="Ic">Sprintf</b> ignores any arguments, passing the format
  string through without substitution. <b class="Ic" title="Ic">plot</b> ignores
  the format string completely, plotting <var class="Ar" title="Ar">expr</var>
  using the &#x201C;%g&#x201D; format.
<div class="Pp"></div>
Points are specified the same way as for <b class="Ic" title="Ic">next</b>
  commands, with the same consequences for undefined coordinate systems.
<div class="Pp"></div>
The second form of this command is because the first form can be used with a
  <b class="Nm" title="Nm">grap</b> <b class="Ic" title="Ic">sprintf</b>
  expression (See
  <a class="Sx" title="Sx" href="#Expressions">Expressions</a>).</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">ticks</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)[<span class="Op">
  (<b class="Cm" title="Cm">in</b><span class="No">|</span><b class="Cm" title="Cm">out</b>)
  [<span class="Op"><var class="Ar" title="Ar">expr</var></span>]</span>]
  [<span class="Op"><b class="Cm" title="Cm">on|</b><b class="Cm" title="Cm">auto</b>
  <var class="Ar" title="Ar">coord_name</var></span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">ticks</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)
  (<b class="Cm" title="Cm">in</b><span class="No">|</span><b class="Cm" title="Cm">out</b>)
  [<span class="Op"><var class="Ar" title="Ar">expr</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">up</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">down</b> <var class="Ar" title="Ar">expr</var>
  <span class="No">|</span> <b class="Cm" title="Cm">left</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">right</b>
  <var class="Ar" title="Ar">expr</var></span>] <b class="Cm" title="Cm">at</b>
  [<span class="Op"><var class="Ar" title="Ar">coord_name</var></span>]
  <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">format_string</var></span>]
  [<span class="Op">[<span class="Op">, <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">format_string</var></span>]</span>]
  <span class="No">...</span></span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">ticks</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)
  (<b class="Cm" title="Cm">in</b><span class="No">|</span><b class="Cm" title="Cm">out</b>)
  [<span class="Op"><var class="Ar" title="Ar">expr</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">up</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">down</b> <var class="Ar" title="Ar">expr</var>
  <span class="No">|</span> <b class="Cm" title="Cm">left</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">right</b>
  <var class="Ar" title="Ar">expr</var></span>]
  <b class="Cm" title="Cm">from</b> [<span class="Op">coord_name</span>]
  <var class="Ar" title="Ar">start_expr</var> <b class="Cm" title="Cm">to</b>
  <var class="Ar" title="Ar">end_expr</var>
  [<span class="Op"><b class="Cm" title="Cm">by</b>
  [<span class="Op"><span class="No">+|-|*|/</span></span>]
  <var class="Ar" title="Ar">by_expr</var></span>]
  [<span class="Op">format_string</span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">ticks</b>
  [<span class="Op"><b class="Cm" title="Cm">left</b>
  <span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>]</span>
  <b class="Cm" title="Cm">off</b>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This command controls the placement
  of ticks on the frame. By default, ticks are automatically generated on the
  left and bottom sides of the frame.
<div class="Pp"></div>
The first version of this command turns on the automatic tick generation for a
  given side. The <b class="Cm" title="Cm">in</b> or
  <b class="Cm" title="Cm">out</b> parameter controls the direction and length
  of the ticks. If a <var class="Ar" title="Ar">coord_name</var> is specified,
  the ticks are automatically generated using that coordinate system. If no
  system is specified, the default coordinate system is used. As with
  <b class="Ic" title="Ic">next</b> and <b class="Ic" title="Ic">plot</b>, the
  coordinate system must be declared before the
  <b class="Ic" title="Ic">ticks</b> statement that references it. This syntax
  for requesting automatically generated ticks is an extension, and will not
  port to older <b class="Nm" title="Nm">grap</b> implementations.
<div class="Pp"></div>
The second version of the <b class="Ic" title="Ic">ticks</b> command overrides
  the automatic placement of the ticks by specifying a list of coordinates at
  which to place the ticks. If the ticks are not defined with respect to the
  default coordinate system, the <var class="Ar" title="Ar">coord_name</var>
  parameter must be given. For each tick a
  <a class="Xr" title="Xr">printf(3)</a> style format string can be given. The
  <var class="Ar" title="Ar">format_string</var> defaults to &#x201C;%g&#x201D;.
  The format string can also take string modifiers as described in the
  <b class="Ic" title="Ic">plot</b> command. To place ticks with no labels,
  specify <var class="Ar" title="Ar">format_string</var> as &#x201C;&#x201D;.
<div class="Pp"></div>
If <b class="Ic" title="Ic">sprintf</b> is disabled,
  <b class="Ic" title="Ic">ticks</b> behaves as
  <b class="Ic" title="Ic">plot</b> with respect to the format string.
<div class="Pp"></div>
The labels on the ticks may be shifted by specifying a direction and the
  distance in inches to offset the label. That is the optional direction and
  expression immediately preceding the <b class="Cm" title="Cm">at</b>.
<div class="Pp"></div>
The third format of the <b class="Ic" title="Ic">ticks</b> command over-rides
  the default tick generation with a set of ticks ar regular intervals. The
  syntax is reminiscent of programming language for loops. Ticks are placed
  starting at <var class="Ar" title="Ar">start_expr</var> ending at
  <var class="Ar" title="Ar">end_expr</var> one unit apart. If the
  <b class="Cm" title="Cm">by</b> clause is specified, ticks are
  <var class="Ar" title="Ar">by_expr</var> units apart. If an operator appears
  before <var class="Ar" title="Ar">by_expr</var> each tick is operated on by
  that operator instead of +. For example
<div class="Pp"></div>
<div class="Bd" style="margin-left: 10.00ex;">
<pre class="Li">
ticks left out from 2 to 32 by *2
</pre>
</div>
<div class="Pp"></div>
will put ticks at 2, 4, 8, 16, and 32. If
  <var class="Ar" title="Ar">format_string</var> is specified, all ticks are
  formatted using it.
<div class="Pp"></div>
The parameters preceding the <b class="Cm" title="Cm">from</b> act as described
  above.
<div class="Pp"></div>
The <b class="Cm" title="Cm">at</b> and <b class="Cm" title="Cm">for</b> forms
  of tick command may both be issued on the same side of a frame. For example:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 10.00ex;">
<pre class="Li">
ticks left out from 2 to 32 by *2 
ticks left in 3, 5, 7
</pre>
</div>
<div class="Pp"></div>
will put ticks on the left side of the frame pointing out at 2, 4, 8, 16, and 32
  and in at 3, 5, and 7.
<div class="Pp"></div>
The final form of <b class="Ic" title="Ic">ticks</b> turns off ticks on a given
  side. If no side is given the ticks for all sides are cancelled.
<div class="Pp"></div>
<b class="Ic" title="Ic">tick</b> is a synonym for
  <b class="Ic" title="Ic">ticks</b>.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">grid</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)
  [<span class="Op"><code class="Li">ticks off</code></span>]
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">up</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">down</b> <var class="Ar" title="Ar">expr</var>
  <span class="No">|</span> <b class="Cm" title="Cm">left</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">right</b>
  <var class="Ar" title="Ar">expr</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">on|</b><b class="Cm" title="Cm">auto</b>
  [<span class="Op"><var class="Ar" title="Ar">coord_name</var></span>]</span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">grid</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)
  [<span class="Op"><code class="Li">ticks off</code></span>]
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">up</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">down</b> <var class="Ar" title="Ar">expr</var>
  <span class="No">|</span> <b class="Cm" title="Cm">left</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">right</b>
  <var class="Ar" title="Ar">expr</var></span>] <b class="Cm" title="Cm">at</b>
  [<span class="Op"><var class="Ar" title="Ar">coord_name</var></span>]
  <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">format_string</var></span>]
  [<span class="Op">[<span class="Op">, <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">format_string</var></span>]</span>]
  <span class="No">...</span></span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">grid</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)
  [<span class="Op"><code class="Li">ticks off</code></span>]
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">up</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">down</b> <var class="Ar" title="Ar">expr</var>
  <span class="No">|</span> <b class="Cm" title="Cm">left</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">right</b>
  <var class="Ar" title="Ar">expr</var></span>]
  <b class="Cm" title="Cm">from</b> [<span class="Op">coord_name</span>]
  <var class="Ar" title="Ar">start_expr</var> <b class="Cm" title="Cm">to</b>
  <var class="Ar" title="Ar">end_expr</var>
  [<span class="Op"><b class="Cm" title="Cm">by</b>
  [<span class="Op"><span class="No">+|-|*|/</span></span>]
  <var class="Ar" title="Ar">by_expr</var></span>]
  [<span class="Op">format_string</span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">grid</b> command is similar to the
  <b class="Ic" title="Ic">ticks</b> command except that
  <b class="Ic" title="Ic">grid</b> specifies the placement of lines in the
  frame. The syntax is similar to <b class="Ic" title="Ic">ticks</b> as well.
<div class="Pp"></div>
By specifying <code class="Li">ticks off</code> in the command, no ticks are
  drawn on that side of the frame. If ticks appear on a side by default, or have
  been declared by an earlier <b class="Ic" title="Ic">ticks</b> command,
  <b class="Ic" title="Ic">grid</b> does not cancel them unless
  <code class="Li">ticks off</code> is specified.
<div class="Pp"></div>
Instead of a direction for ticks, <b class="Ic" title="Ic">grid</b> allows the
  user to pick a line description for the grid lines. The usual
  <a class="Xr" title="Xr">pic</a> line descriptions are allowed.
<div class="Pp"></div>
Grids are labelled by default. To omit labels, specify the format string as
  &#x201C;&#x201D;.
<div class="Pp"></div>
If <b class="Ic" title="Ic">sprintf</b> is disabled,
  <b class="Ic" title="Ic">grid</b> behaves as <b class="Ic" title="Ic">plot</b>
  with respect to the format string.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">label</b>
  (<b class="Cm" title="Cm">left</b><span class="No">|</span><b class="Cm" title="Cm">right</b><span class="No">|</span><b class="Cm" title="Cm">top</b><span class="No">|</span><b class="Cm" title="Cm">bottom</b>)
  <var class="Ar" title="Ar">quoted_string</var>
  [<span class="Op"><var class="Ar" title="Ar">string_modifiers</var></span>]
  [<span class="Op">, <var class="Ar" title="Ar">quoted_string</var>
  [<span class="Op"><var class="Ar" title="Ar">string_modifiers</var></span>]</span>]
  ... [<span class="Op"><b class="Cm" title="Cm">up</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">down</b> <var class="Ar" title="Ar">expr</var>
  <span class="No">|</span> <b class="Cm" title="Cm">left</b>
  <var class="Ar" title="Ar">expr</var> <span class="No">|</span>
  <b class="Cm" title="Cm">right</b>
  <var class="Ar" title="Ar">expr</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">label</b> command places a label on the given axis.
  It is possible to specify several labels, which will be stacked over each
  other as in <a class="Xr" title="Xr">pic</a>. The final argument, if present,
  specifies how many inches the label is shifted from the axis.
<div class="Pp"></div>
By default the labels on the left and right labels run parallel to the frame.
  You can cancel this by specifying <code class="Li">unaligned</code> as a
  <var class="Ar" title="Ar">string_modifier</var>.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">circle</b> <b class="Cm" title="Cm">at</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinate_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><b class="Cm" title="Cm">radius</b>
  <var class="Ar" title="Ar">expr</var></span>]
  [<span class="Op"><var class="Ar" title="Ar">linedesc</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This draws an circle at the point
  indicated. By default, the circle is small, 0.025 inches. This can be
  over-ridden by specifying a radius. The coordinates of the point are relative
  to the named coordinate system, or the default system if none is specified.
<div class="Pp"></div>
This command has been extended to take a line description, e.g.,
  <code class="Li">dotted</code>. It also accepts the filling extensions
  described below in the <b class="Ic" title="Ic">bar</b> command. It will also
  accept a <b class="Ic" title="Ic">color</b> keyword that gives the color of
  the outline of the circle in double quotes and a
  <b class="Ic" title="Ic">fillcolor</b> command that sets the color to fill the
  circle with similarly. Colors are only available when compatibility mode is
  off, and using a version of GNU pic that supports color.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">line</b>
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  <b class="Cm" title="Cm">from</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinate_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
  <b class="Cm" title="Cm">to</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinate_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">arrow</b>
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
  <b class="Cm" title="Cm">from</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinate_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
  <b class="Cm" title="Cm">to</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinate_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This draws a line or arrow from the
  first point to the second using the given style. The default line style is
  <code class="Li">solid</code>. The
  <var class="Ar" title="Ar">line_description</var> can be given either before
  the <b class="Cm" title="Cm">from</b> or after the
  <b class="Cm" title="Cm">to</b> clause. If both are given the second is used.
  It is possible to specify one point in one coordinate system and one in
  another, note that if both points are in a named coordinate system (even if
  they are in the same named coordinate system), both points must have
  <var class="Ar" title="Ar">coordinate_name</var> given.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">copy</b>
  [<span class="Op">&#x201C;<var class="Ar" title="Ar">filename</var>&#x201D;</span>]
  [<span class="Op"><b class="Cm" title="Cm">until</b>
  &#x201C;<var class="Ar" title="Ar">string</var>&#x201D;</span>]
  [<span class="Op"><b class="Cm" title="Cm">thru</b>
  <var class="Ar" title="Ar">macro</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">copy</b> command imports data from another file into
  the current graph. The form with only a filename given is a simple file
  inclusion; the included file is simply read into the input stream and can
  contain arbitrary <b class="Nm" title="Nm">grap</b> commands. The more common
  case is that it is a number list; see
  <a class="Sx" title="Sx" href="#Number_Lists">Number Lists</a> below.
<div class="Pp"></div>
The second form takes lines from the file, splits them into words delimited by
  one or more spaces, and calls the given macro with those words as parameters.
  The macro may either be defined here, or be a macro defined earlier. See
  <a class="Sx" title="Sx" href="#Macros">Macros</a> for more information on
  macros.
<div class="Pp"></div>
The <var class="Ar" title="Ar">filename</var> may be omitted if the
  <b class="Cm" title="Cm">until</b> clause is present. If so the current file
  is treated as the input file until <var class="Ar" title="Ar">string</var> is
  encountered at the beginning of the line.
<div class="Pp"></div>
<b class="Ic" title="Ic">copy</b> is one of the workhorses of
  <b class="Nm" title="Nm">grap</b>. Check out the paper and
  <i class="Pa" title="Pa">/usr/share/doc/grap/examples</i> for more details.
  Confirm the location of the examples directory using the
  <b class="Fl" title="Fl">-v</b> flag.</div>
<b class="Ic" title="Ic">print</b>
  (<var class="Ar" title="Ar">expr|string</var>)
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Prints its argument to the standard
  error.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">sh</b> <var class="Ar" title="Ar">block</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This passes
  <var class="Ar" title="Ar">block</var> to <a class="Xr" title="Xr">sh(1)</a>.
  Unlike K&amp;B <b class="Nm" title="Nm">grap</b> no macro or variable
  expansion is done. I believe that this is also true for GNU
  <a class="Xr" title="Xr">pic</a> version 1.10. See the
  <a class="Sx" title="Sx" href="#Macros">Macros</a> section for information on
  defining blocks.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">pic</b> <var class="Ar" title="Ar">pic_statement</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This issues the given
  <a class="Xr" title="Xr">pic</a> statements in the enclosing
  <b class="Ic" title="Ic">.PS</b> and <b class="Ic" title="Ic">.PE</b> at the
  point where the command is issued.
<div class="Pp"></div>
Statements that begin with a period are considered to be
  <a class="Xr" title="Xr">troff(statements)</a> and are output in the enclosing
  <b class="Ic" title="Ic">.PS</b> and <b class="Ic" title="Ic">.PE</b> at the
  point where the command appears.
<div class="Pp"></div>
For the purposes of relative placement of <a class="Xr" title="Xr">pic</a> or
  <a class="Xr" title="Xr">troff</a> commands, the frame is output immediately
  before the first plotted object, or the <b class="Ic" title="Ic">frame</b>
  statement, if any. If the user specifies <a class="Xr" title="Xr">pic</a> or
  <a class="Xr" title="Xr">troff</a> commands and neither any plotable object
  nor a <b class="Ic" title="Ic">frame</b> command, the commands will not be
  output.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">graph</b> <var class="Ar" title="Ar">Name
  pic_commands</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This command is used to position
  graphs with respect to each other. The current graph is given the
  <a class="Xr" title="Xr">pic</a> name <var class="Ar" title="Ar">Name</var>
  (names used by <a class="Xr" title="Xr">pic</a> begin with capital letters).
  Any <a class="Xr" title="Xr">pic</a> commands following the graph are used to
  position the next graph. The frame of the graph is available for use with
  <a class="Xr" title="Xr">pic</a> name <code class="Li">Frame.</code> The
  following places a second graph below the first:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 10.00ex;">
<pre class="Li">
graph Linear 
[ graph description ] 
graph Exponential with .Frame.n at \ 
	Linear.Frame.s - (0, .05) 
[ graph description ]
</pre>
</div>
</div>
<div class="Pp"></div>
<var class="Ar" title="Ar">name = expr</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This assigns
  <var class="Ar" title="Ar">expr</var> to the variable
  <var class="Ar" title="Ar">name</var>. <b class="Nm" title="Nm">grap</b> has
  only numeric (double) variables.
<div class="Pp"></div>
Assignment creates a variable if it does not exist. Variables persist across
  graphs. Assignments can cascade; <code class="Li">a = b = 35</code> assigns 35
  to <code class="Li">a</code> and <code class="Li">b</code>.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">bar</b>
  (<b class="Cm" title="Cm">up</b><span class="No">|</span><b class="Cm" title="Cm">right</b>)
  [<span class="Op"><var class="Ar" title="Ar">coordinates_name</var></span>]
  <var class="Ar" title="Ar">offset</var> <b class="Cm" title="Cm">ht</b>
  <var class="Ar" title="Ar">height</var>
  [<span class="Op"><b class="Cm" title="Cm">wid</b>
  <var class="Ar" title="Ar">width</var></span>]
  [<span class="Op"><b class="Cm" title="Cm">base</b>
  <var class="Ar" title="Ar">base_offset</var></span>]
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
<div class="Pp"></div>
<b class="Ic" title="Ic">bar</b>
  [<span class="Op"><var class="Ar" title="Ar">coordinates_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>,
  [<span class="Op"><var class="Ar" title="Ar">coordinates_name</var></span>]
  <var class="Ar" title="Ar">expr</var>, <var class="Ar" title="Ar">expr</var>,
  [<span class="Op"><var class="Ar" title="Ar">line_description</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The
  <b class="Ic" title="Ic">bar</b> command facilitates drawing bar graphs. The
  first form of the command describes the bar somewhat generally and has
  <b class="Nm" title="Nm">grap</b> place it. The bar may extend up or to the
  right, is centered on <var class="Ar" title="Ar">offset</var> and extends up
  or right <var class="Ar" title="Ar">height</var> units (in the given
  coordinate system). For example
<div class="Pp"></div>
<div class="Bd" style="margin-left: 10.00ex;">
<pre class="Li">
bar up 3 ht 2
</pre>
</div>
<div class="Pp"></div>
draws a 2 unit high bar sitting on the x axis, centered on x=3. By default bars
  are 1 unit wide, but this can be changed with the
  <b class="Ic" title="Ic">wid</b> keyword. By default bars sit on the base
  axis, i.e., bars directed up will extend from y=0. That may be overridden by
  the <b class="Ic" title="Ic">base</b> keyword. (The bar described above has
  corners (2.5, 0) and (3.5, 2).)
<div class="Pp"></div>
The line description has been extended to include a
  <b class="Ic" title="Ic">fill</b> <var class="Ar" title="Ar">expr</var>
  keyword that specifies the shading inside the bar. Bars may be drawn in any
  line style. They support the <b class="Ic" title="Ic">color</b> and
  <b class="Ic" title="Ic">fillcolor</b> keywords described under
  <b class="Ic" title="Ic">circle</b>.
<div class="Pp"></div>
The second form of the command draws a box with the two points as corners. This
  can be used to draw boxes highlighting certain data as well as bar graphs.
  Note that filled bars will cover data drawn under them.</div>
<h2 class="Ss" title="Ss" id="Control_Flow"><a class="selflink" href="#Control_Flow">Control
  Flow</a></h2>
<b class="Ic" title="Ic">if</b> <var class="Ar" title="Ar">expr</var>
  <b class="Ic" title="Ic">then</b> <var class="Ar" title="Ar">block</var>
  [<span class="Op"><b class="Ic" title="Ic">else</b>
  <var class="Ar" title="Ar">block</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">The <b class="Ic" title="Ic">if</b>
  statement provides simple conditional execution. If
  <var class="Ar" title="Ar">expr</var> is non-zero, the
  <var class="Ar" title="Ar">block</var> after the
  <b class="Ic" title="Ic">then</b> statement is executed. If not the
  <var class="Ar" title="Ar">block</var> after the
  <b class="Ic" title="Ic">else</b> is executed, if present. See
  <a class="Sx" title="Sx" href="#Macros">Macros</a> for the definition of
  blocks. Early versions of this implementation of
  <b class="Nm" title="Nm">grap</b> treated the blocks as macros that were
  defined and expanded in place. This led to unnecessary confusion because
  explicit separators were sometimes called for. Now,
  <b class="Nm" title="Nm">grap</b> inserts a separator (;) after the last
  character in <var class="Ar" title="Ar">block</var>, so constructs like
<div class="Pp"></div>
<div class="Bd" style="margin-left: 0.00ex;">
<pre class="Li">
if (x == 3) { y = y + 1 } 
x = x + 1 

</pre>
</div>
behave as expected. A separator is also appended to the end of a
  <b class="Ic" title="Ic">for</b> block.</div>
<div class="Pp"></div>
<b class="Ic" title="Ic">for</b> <var class="Ar" title="Ar">name</var>
  <b class="Ic" title="Ic">from</b> <var class="Ar" title="Ar">from_expr</var>
  <b class="Ic" title="Ic">to</b> <var class="Ar" title="Ar">to_expr</var>
  [<span class="Op"><b class="Ic" title="Ic">by</b>
  [<span class="Op"><span class="No">+|-|*|/</span></span>]
  <var class="Ar" title="Ar">by_expr</var></span>]
  <b class="Ic" title="Ic">do</b> <var class="Ar" title="Ar">block</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">This command executes
  <var class="Ar" title="Ar">block</var> iteratively. The variable
  <var class="Ar" title="Ar">name</var> is set to
  <var class="Ar" title="Ar">from_expr</var> and incremented by
  <var class="Ar" title="Ar">by_expr</var> until it exceeds
  <var class="Ar" title="Ar">to_expr</var>. The iteration has the semantics
  defined in the <b class="Ic" title="Ic">ticks</b> command. The definition of
  <var class="Ar" title="Ar">block</var> is discussed in
  <a class="Sx" title="Sx" href="#Macros">Macros</a>. See also the note about
  implicit separators in the description of the <b class="Ic" title="Ic">if</b>
  command.
<div class="Pp"></div>
An <b class="Ic" title="Ic">=</b> can be used in place of
  <b class="Ic" title="Ic">from</b>.</div>
<h2 class="Ss" title="Ss" id="Expressions"><a class="selflink" href="#Expressions">Expressions</a></h2>
<b class="Nm" title="Nm">grap</b> supports most standard arithmetic operators: +
  - / * ^. The carat (^) is exponentiation. In an
  <b class="Ic" title="Ic">if</b> statement <b class="Nm" title="Nm">grap</b>
  also supports the C logical operators ==, !=, &amp;&amp;, || and unary !. Also
  in an <b class="Ic" title="Ic">if</b>, == and != are overloaded for the
  comparison of quoted strings. Parentheses are used for grouping.
<div class="Pp"></div>
Assignment is not allowed in an expression in any context, except for simple
  cascading of assignments. <code class="Li">a = b = 35</code> works as
  expected; <code class="Li">a = 3.5 * (b = 10)</code> does not execute.
<div class="Pp"></div>
<b class="Nm" title="Nm">grap</b> supports the following functions that take one
  argument: <b class="Ic" title="Ic">log</b>, <b class="Ic" title="Ic">exp</b>,
  <b class="Ic" title="Ic">int</b>, <b class="Ic" title="Ic">sin</b>,
  <b class="Ic" title="Ic">cos</b>, <b class="Ic" title="Ic">sqrt</b>,
  <b class="Ic" title="Ic">rand</b>, <b class="Ic" title="Ic">floor</b>,
  <b class="Ic" title="Ic">ceil</b>. The logarithms are base 10 and the
  trigonometric functions are in radians. <b class="Ic" title="Ic">eexp</b>
  returns Euler's number to the given power and <b class="Ic" title="Ic">ln</b>
  returns the natural logarithm. The natural log, exponentiation functions and
  floor and ceil are extensions and are probably not available in other
  <b class="Nm" title="Nm">grap</b> implementations.
<div class="Pp"></div>
<b class="Ic" title="Ic">rand</b> returns a random number uniformly distributed
  on [0,1). The following two-argument functions are supported:
  <b class="Ic" title="Ic">atan2</b>, <b class="Ic" title="Ic">min</b>,
  <b class="Ic" title="Ic">max</b>. <b class="Ic" title="Ic">atan2</b> works
  just like <a class="Xr" title="Xr">atan2(3)</a>. The random number generator
  can be seeded by calling <b class="Ic" title="Ic">srand</b> with a single
  parameter (converted internally to an integer). Because its return value is of
  no use, you must use <b class="Ic" title="Ic">srand</b> as a separate
  statement, it is not part of a valid expression.
  <b class="Ic" title="Ic">srand</b> is not portable.
<div class="Pp"></div>
The <b class="Ic" title="Ic">getpid</b> function takes no arguments and returns
  the process id. This may be used to seed the random number generator, but do
  not expect cryptographically random values to result.
<div class="Pp"></div>
Other than string comparison, no expressions can use strings. One string valued
  function exists: <b class="Ic" title="Ic">sprintf</b>
  (<var class="Ar" title="Ar">format</var>,
  [<span class="Op"><var class="Ar" title="Ar">expr</var>
  [<span class="Op"><var class="Ar" title="Ar">, expr</var></span>]</span>] ).
  It operates like <a class="Xr" title="Xr">sprintf(3)</a>, except returning the
  value. It can be used anywhere a quoted string is used. If
  <b class="Nm" title="Nm">grap</b> is run with <b class="Fl" title="Fl">-S</b>,
  the environment variable <code class="Ev" title="Ev">GRAP_SAFER</code> is
  defined, or <b class="Nm" title="Nm">grap</b> has been compiled for safer
  operation, the <b class="Ic" title="Ic">sprintf</b> command will return the
  format string. This mode of operation is only intended to be used only if
  <b class="Nm" title="Nm">grap</b> is being used as part of a super-user
  enabled print system.
<div class="Pp"></div>
<b class="Nm" title="Nm">grap</b> version 1.44 and beyond support two functions
  for date and time manipulation, <b class="Ic" title="Ic">strptime</b> and
  <b class="Ic" title="Ic">strptime</b>. <b class="Ic" title="Ic">strptime</b>
  parses a time using the <a class="Xr" title="Xr">strptime(3)</a> function. It
  takes two parameters, both strings, the format and a string to parse using
  that format and returns a number that can be sorted directly - the number of
  seconds since the UNIX epoch. <b class="Ic" title="Ic">strftime</b> does the
  reverse. It takes a string and a number and formats the number into a date. In
  both functions, the format is the first parameter. The formats are defined in
  the documentation for <a class="Xr" title="Xr">strftime(3)</a>.
<h2 class="Ss" title="Ss" id="Macros"><a class="selflink" href="#Macros">Macros</a></h2>
<b class="Nm" title="Nm">grap</b> has a simple but powerful macro facility.
  Macros are defined using the <b class="Ic" title="Ic">define</b> command :
<div class="Pp"></div>
<b class="Ic" title="Ic">define</b> <var class="Ar" title="Ar">name block</var>
<div>&#x00A0;</div>
<b class="Ic" title="Ic">undefine</b> <var class="Ar" title="Ar">name</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Every occurrence of
  <var class="Ar" title="Ar">name</var> in the program text is replaced by the
  contents of <var class="Ar" title="Ar">block</var>.
  <var class="Ar" title="Ar">block</var> is defined by a series of statements in
  nested { }'s, or a series of statements surrounded by the same letter. An
  example of the latter is
<div class="Pp"></div>
<div class="Bd" style="margin-left: 10.00ex;">
<pre class="Li">
define foo  X coord x 1,3 X
</pre>
</div>
Each time <code class="Li">foo</code> appears in the text, it will be replaced
  by <code class="Li">coord x 1,3</code>. Macros are literal, and can contain
  newlines. If a macro does not span multiple lines, it should end in a
  semicolon to avoid parsing errors.
<div class="Pp"></div>
Macros can take parameters, too. If a macro call is followed by a parenthesized,
  comma-separated list the values starting with $1 will be replaced in the macro
  with the elements of the list. A $ not followed by a digit is left unchanged.
  This parsing is very rudimentary; no nesting or parentheses or escaping of
  commas is allowed. Also, there is no way to say argument 1 followed by a digit
  (${1}0 in sh(1)).
<div class="Pp"></div>
The following will draw a line with slope 1.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 10.00ex;">
<pre class="Li">
define foo { next at $1, $2 } 
for i from 1 to 5 { foo(i,i) }
</pre>
</div>
Macros persist across graphs. The file
  <i class="Pa" title="Pa">/usr/share/grap/grap.defines</i> contains simple
  macros for plotting common characters. The
  <b class="Ic" title="Ic">undefine</b> command deletes a macro.
<div class="Pp"></div>
See the directory <i class="Pa" title="Pa">/usr/share/doc/grap/examples</i> for
  more examples of macros. Confirm the location of the examples directory using
  the <b class="Fl" title="Fl">-v</b> flag.</div>
<h2 class="Ss" title="Ss" id="Number_Lists"><a class="selflink" href="#Number_Lists">Number
  Lists</a></h2>
A whitespace-separated list of numbers is treated specially. The list is taken
  to be points to be plotted using the default line style on the default
  coordinate system. If more than two numbers are given, the extra numbers are
  taken to be additional y values to plot at the first x value. Number lists in
  DWB <b class="Nm" title="Nm">grap</b> can be comma-separated, and this
  <b class="Nm" title="Nm">grap</b> supports that as well. More precisely,
  numbers in number lists can be separated by either whitespace, commas, or
  both.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
1 2 3 
4 5 6
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Will plot points using the default line style at (1,2), (1,3),(4,5) and (4,6). A
  simple way to plot a set of numbers in a file named
  <i class="Pa" title="Pa">./data</i> is:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
.G1 
copy &quot;./data&quot; 
.G2
</pre>
</div>
<h2 class="Ss" title="Ss" id="Pic_Macros"><a class="selflink" href="#Pic_Macros">Pic
  Macros</a></h2>
<b class="Nm" title="Nm">grap</b> defines pic macros that can be used in
  embedded pic code to place elements in the graph. The macros are
  <b class="Ic" title="Ic">x_gg</b>, <b class="Ic" title="Ic">y_gg</b>, and
  <b class="Ic" title="Ic">xy_gg</b>. These macros define pic distances that
  correspond to the given argument. They can be used to size boxes or to plot
  pic constructs on the graph. To place a given construct on the graph, you
  should add Frame.Origin to it. Other coordinate spaces can be used by
  replacing <b class="Ic" title="Ic">gg</b> with the name of the coordinate
  space. A coordinate space named <b class="Ic" title="Ic">gg</b> cannot be
  reliably accessed by these macros.
<div class="Pp"></div>
The macros are emitted immediately before the frame is drawn.
<div class="Pp"></div>
DWB <b class="Nm" title="Nm">grap</b> may use these as part of its
  implementation. This <b class="Nm" title="Nm">grap</b> provides them only for
  compatibility. Note that these are very simple macros, and may not do what you
  expect under complex conditions.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
If the environment variable <code class="Ev" title="Ev">GRAP_DEFINES</code> is
  defined, <b class="Nm" title="Nm">grap</b> will look for its defines file
  there. If that value is a relative path name the path specified in the
  <b class="Fl" title="Fl">-M</b> option will be searched for it.
  <code class="Ev" title="Ev">GRAP_DEFINES</code> overrides the compiled in
  location of the defines file, but may be overridden by the
  <b class="Fl" title="Fl">-d</b> or <b class="Fl" title="Fl">-D</b> flags.
<div class="Pp"></div>
If <code class="Ev" title="Ev">GRAP_SAFER</code> is set,
  <b class="Ic" title="Ic">sprintf</b> is disabled to prevent forcing
  <b class="Nm" title="Nm">grap</b> to core dump or smash the stack.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i class="Pa" title="Pa">/usr/share/grap/grap.defines</i>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">atan2(3)</a>, <a class="Xr" title="Xr">groff(1)</a>,
  <a class="Xr" title="Xr">pic(1)</a>, <a class="Xr" title="Xr">printf(3)</a>,
  <a class="Xr" title="Xr">sh(1)</a>, <a class="Xr" title="Xr">sprintf(3)</a>,
  <a class="Xr" title="Xr">troff(1)</a>
<div class="Pp"></div>
If documentation and examples have been installed,
  <b class="Nm" title="Nm">grap</b> <b class="Fl" title="Fl">--version</b> or
  <b class="Nm" title="Nm">grap</b> <b class="Fl" title="Fl">--help</b> will
  display the locations.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
There are several small incompatibilities with K&amp;R
  <b class="Nm" title="Nm">grap</b>. They include the
  <b class="Ic" title="Ic">sh</b> command not expanding variables and macros,
  and a more strict adherence to parameter order in the internal commands.
<div class="Pp"></div>
Although much improved, the error reporting code can still be confused. Notably,
  an error in a macro is not detected until the macro is used, and it produces
  unusual output in the error message.
<div class="Pp"></div>
Iterating many times over a macro with no newlines can run
  <b class="Nm" title="Nm">grap</b> out of memory.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This implementation was done by <span class="An" title="An">Ted Faber</span>
  &#x27E8;faber@lunabase.org&#x27E9;. <span class="An" title="An">Bruce
  Lilly</span> &#x27E8;blilly@erols.com&#x27E9; contributed many bug fixes,
  including a considerable revamp of the error reporting code. If you can
  actually find an error in your <b class="Nm" title="Nm">grap</b> code, you can
  probably thank him. <b class="Nm" title="Nm">grap</b> was designed and
  specified by <span class="An" title="An">Brian Kernighan</span> and
  <span class="An" title="An">Jon Bentley</span>.</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 11, 2006</td>
    <td class="foot-os">Linux 4.12.14-300.fc26.x86_64</td>
  </tr>
</table>
</body>
</html>
