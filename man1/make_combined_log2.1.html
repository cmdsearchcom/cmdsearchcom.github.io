<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>make_combined_log.pl(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">make_combined_log.pl(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">make_combined_log.pl(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
make_combined_log.pl - make combined logfile from SQL database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>make_combined_log.pl </b><i>&lt;days&gt;</i><b> </b><i>&lt;virtual
  host&gt;</i> <b></b>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This perl script extracts the httpd access data from a MySQL database and
  formats it properly for parsing by 3rd-party log analysis tools.
<div style="height: 1.00em;">&#x00A0;</div>
The script is intended to be run out by cron. Its commandline arguments tell it
  how many days' worth of access records to extract, and which virtual_host you
  are interested in (because many people log several virthosts to one MySQL db.)
  This permits you to run it daily, weekly, every 9 days -- whatever you decide.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTE"><a class="selflink" href="#NOTE">NOTE</a></h1>
By &quot;days&quot; I mean &quot;chunks of 24 hours prior to the moment this
  script is run.&quot; So if you run it at 4:34 p.m. on the 12th, it will go
  back through 4:34 p.m. on the 11th.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="KNOWN_ISSUES"><a class="selflink" href="#KNOWN_ISSUES">KNOWN
  ISSUES</a></h1>
Because GET and POST are not discriminated in the MySQL log, we'll just assume
  that all requests are GETs. This should have negligible effect on any analysis
  software. This could be remedied IF you stored the full HTTP request in your
  database instead of just the URI, but that's going to cost you a LOT of space
  really quickly...
<div style="height: 1.00em;">&#x00A0;</div>
Because this is somewhat of a quick hack it doesn't do the most robust error
  checking in the world. Run it by hand to confirm your usage before putting it
  in crontab.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Edward Rudd &lt;eddie@omegaware.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="MAN_PAGE_CREATED_BY"><a class="selflink" href="#MAN_PAGE_CREATED_BY">MAN
  PAGE CREATED BY</a></h1>
Michael A. Toth &lt;lirul.lists@gmail.com&gt; - based on comments of script
<h1 class="Sh" title="Sh" id="COMMENTS"><a class="selflink" href="#COMMENTS">COMMENTS</a></h1>
This man page was written using <b>xml2man (1)</b> by the same author.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">User</td>
    <td class="foot-os">Manuals</td>
  </tr>
</table>
</body>
</html>
