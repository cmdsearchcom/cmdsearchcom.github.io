<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:23:40 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MAKEDAT(1) Double Precision, Inc. MAKEDAT(1)</p>

<p style="margin-top: 1em">NAME <br>
makedat - create GDBM/DB files for maildrop</p>

<p style="margin-top: 1em">SYNOPSIS <br>
makedat {-src=textfile} {-tmp=tmpfile} {-file=gdbmfile}
[-cidr]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The gdbm family of functions in maildrop provides access to
GDBM/DB databases - simple database files. The gdbm family
of functions provide a way of quickly storing and looking
<br>
up key/data pairs.</p>

<p style="margin-top: 1em">You can use any program to
create GDBM/DB database files. makedat is a quick utility to
create GDBM or DB files from plain text files.</p>

<p style="margin-top: 1em">The system administrator selects
whether maildrop uses GDBM or DB database files and whether
makedat creates GDBM or DB database files as well.</p>

<p style="margin-top: 1em">The makedat command may not be
available to you. GDBM/DB support in maildrop is optional,
and the system administrator may choose not to install
GDBM/DB support and the makedat <br>
command.</p>

<p style="margin-top: 1em">To see whether GDBM or DB
support is being used, run the command &quot;maildrop
-v&quot;.</p>

<p style="margin-top: 1em">The textfile argument to makedat
is a plain text file containing key/value pairs. Each line
in the text file contains a key value, followed by a tab and
a data value. The data <br>
value may be omitted, which defaults to &quot;1&quot;. For
example, the following three lines:</p>

<p style="margin-top: 1em">example.com</p>

<p style="margin-top: 1em">domain.com&lt;tab&gt;ok</p>


<p style="margin-top: 1em">foo.domain.com&lt;tab&gt;bad</p>

<p style="margin-top: 1em">Three key/value pairs are
created: example.com, value &quot;1&quot;; domain.com, value
&quot;ok&quot;, and &quot;foo.domain.com&quot;, value
&quot;bad&quot;.</p>

<p style="margin-top: 1em">Empty lines in textfile, and
lines starting with the # character, are ignored.</p>

<p style="margin-top: 1em">textfile can be &quot;-&quot;,
in which case standard input is used.</p>

<p style="margin-top: 1em">gdbmfile is the GDBM/DB file to
create. If this file exists, its existing contents are
replaced.</p>

<p style="margin-top: 1em">tmpfile is a name of a temporary
file in the same directory as gdbmfile. tmpfile is used by
makedat to create the GDBM file, then tmpfile is renamed to
gdbmfile.</p>

<p style="margin-top: 1em">This approach foregoes any need
for locking in order to be able to dynamically update
GDBM/DB files used by maildrop&rsquo;s gdbm functions.
However, makedat does not use any locks on <br>
tmpfile, so multiple instances of makedat using the same
tmpfile are prohibited.</p>

<p style="margin-top: 1em">The -cidr flag specifies that
the key is an IP netblock in CIDR notation. This flag
requires the Net::CIDR Perl module to be installed
separately. Download Net::CIDR from <br>
http://www.cpan.org.</p>

<p style="margin-top: 1em">BUGS <br>
There are historical reasons why database functions in
maildrop are called gdbm functions. The initial
implementation used GDBM functions exclusively. The ability
to use the DB <br>
library instead of the GDBM library has been added
later.</p>

<p style="margin-top: 1em">EXAMPLE <br>
makedat blacklist /etc/mail/blacklist.tmp
/etc/mail/blacklist.dat</p>

<p style="margin-top: 1em">Takes blacklist, and creates
/etc/mail/blacklist.dat, using /etc/mail/blacklist.tmp as a
temporary file.</p>

<p style="margin-top: 1em">SEE ALSO <br>
maildrop(1)[1], maildropgdbm(5)[2].</p>

<p style="margin-top: 1em">AUTHOR <br>
Sam Varshavchik <br>
Author</p>

<p style="margin-top: 1em">NOTES <br>
1. maildrop(1) <br>
http://www.courier-mta.org/maildrop/maildrop.html</p>

<p style="margin-top: 1em">2. maildropgdbm(5) <br>
http://www.courier-mta.org/maildrop/maildropgdbm.html</p>

<p style="margin-top: 1em">Courier Mail Server 06/20/2015
MAKEDAT(1)</p>
<hr>
</body>
</html>
