<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:28:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OPENSHIFT ADMIN(1) June 2016 OPENSHIFT ADMIN(1)</p>

<p style="margin-top: 1em">NAME <br>
openshift admin registry - Install the integrated Docker
registry</p>

<p style="margin-top: 1em">SYNOPSIS <br>
openshift admin registry [OPTIONS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Install or configure an integrated Docker registry</p>

<p style="margin-top: 1em">This command sets up a Docker
registry integrated with your cluster to provide
notifications when images are pushed. With no arguments, the
command will check for the existing <br>
registry service called &rsquo;docker-registry&rsquo; and
try to create it. If you want to test whether the registry
has been created add the --dry-run flag and the command will
exit with 1 <br>
if the registry does not exist.</p>

<p style="margin-top: 1em">To run a highly available
registry, you should be using a remote storage mechanism
like an object store (several are supported by the Docker
registry). The default Docker reg&acirc; <br>
istry image is configured to accept configuration as
environment variables - refer to the configuration file in
that image for more on setting up alternative storage. Once
you&rsquo;ve <br>
made those changes, you can pass --replicas=2 or higher to
ensure you have failover protection. The default registry
setup uses a local volume and the data will be lost if you
<br>
delete the running pod.</p>

<p style="margin-top: 1em">If multiple ports are specified
using the option --ports, the first specified port will be
chosen for use as the REGISTRY HTTP ADDR and will be passed
to Docker registry.</p>

<p style="margin-top: 1em">NOTE: This command is intended
to simplify the tasks of setting up a Docker registry in a
new installation. Some configuration beyond this command is
still required to make your <br>
registry persist data.</p>

<p style="margin-top: 1em">OPTIONS <br>
--create=false <br>
deprecated; this is now the default behavior</p>

<p style="margin-top: 1em">--daemonset=false <br>
If true, use a daemonset instead of a deployment config.</p>

<p style="margin-top: 1em">--dry-run=false <br>
If true, show the result of the operation without performing
it.</p>

<p style="margin-top: 1em">--enforce-quota=false <br>
If true, the registry will refuse to write blobs if they
exceed quota limits</p>


<p style="margin-top: 1em">--images=&quot;openshift/origin-${component}:${version}&quot;
<br>
The image to base this registry on - ${component} will be
replaced with --type</p>


<p style="margin-top: 1em">--labels=&quot;docker-registry=default&quot;
<br>
A set of labels to uniquely identify the registry and its
components.</p>

<p style="margin-top: 1em">--latest-images=false <br>
If true, attempt to use the latest image for the registry
instead of the latest release.</p>

<p style="margin-top: 1em">--mount-host=&quot;&quot; <br>
If set, the registry volume will be created as a host-mount
at this path.</p>

<p style="margin-top: 1em">-o, --output=&quot;&quot; <br>
Output results as yaml or json instead of executing, or use
name for succint output (resource/name).</p>

<p style="margin-top: 1em">--output-version=&quot;&quot;
<br>
The preferred API versions of the output objects</p>

<p style="margin-top: 1em">--ports=&quot;5000&quot; <br>
A comma delimited list of ports or port pairs to expose on
the registry pod. The default is set for 5000.</p>

<p style="margin-top: 1em">--replicas=1 <br>
The replication factor of the registry; commonly 2 when high
availability is desired.</p>

<p style="margin-top: 1em">--selector=&quot;&quot; <br>
Selector used to filter nodes on deployment. Used to run
registries on a specific set of nodes.</p>


<p style="margin-top: 1em">--service-account=&quot;registry&quot;
<br>
Name of the service account to use to run the registry
pod.</p>

<p style="margin-top: 1em">--tls-certificate=&quot;&quot;
<br>
An optional path to a PEM encoded certificate (which may
contain the private key) for serving over TLS</p>

<p style="margin-top: 1em">--tls-key=&quot;&quot; <br>
An optional path to a PEM encoded private key for serving
over TLS</p>


<p style="margin-top: 1em">--type=&quot;docker-registry&quot;
<br>
The registry image to use - if you specify --images this
flag may be ignored.</p>

<p style="margin-top: 1em">--volume=&quot;/registry&quot;
<br>
The volume path to use for registry storage; defaults to
/registry which is the default for
origin-docker-registry.</p>

<p style="margin-top: 1em">OPTIONS INHERITED FROM PARENT
COMMANDS <br>
--api-version=&quot;&quot; <br>
DEPRECATED: The API version to use when talking to the
server</p>

<p style="margin-top: 1em">--as=&quot;&quot; <br>
Username to impersonate for the operation</p>


<p style="margin-top: 1em">--azure-container-registry-config=&quot;&quot;
<br>
Path to the file container Azure container registry
configuration information.</p>


<p style="margin-top: 1em">--certificate-authority=&quot;&quot;
<br>
Path to a cert. file for the certificate authority</p>


<p style="margin-top: 1em">--client-certificate=&quot;&quot;
<br>
Path to a client certificate file for TLS</p>

<p style="margin-top: 1em">--client-key=&quot;&quot; <br>
Path to a client key file for TLS</p>

<p style="margin-top: 1em">--cluster=&quot;&quot; <br>
The name of the kubeconfig cluster to use</p>

<p style="margin-top: 1em">--config=&quot;&quot; <br>
Path to the config file to use for CLI requests.</p>

<p style="margin-top: 1em">--context=&quot;&quot; <br>
The name of the kubeconfig context to use</p>

<p style="margin-top: 1em">--google-json-key=&quot;&quot;
<br>
The Google Cloud Platform Service Account JSON Key to use
for authentication.</p>


<p style="margin-top: 1em">--insecure-skip-tls-verify=false
<br>
If true, the server&rsquo;s certificate will not be checked
for validity. This will make your HTTPS connections
insecure</p>

<p style="margin-top: 1em">--log-flush-frequency=0 <br>
Maximum number of seconds between log flushes</p>

<p style="margin-top: 1em">--match-server-version=false
<br>
Require server version to match client version</p>

<p style="margin-top: 1em">-n, --namespace=&quot;&quot;
<br>
If present, the namespace scope for this CLI request</p>

<p style="margin-top: 1em">--request-timeout=&quot;0&quot;
<br>
The length of time to wait before giving up on a single
server request. Non-zero values should contain a
corresponding time unit (e.g. 1s, 2m, 3h). A value of zero
means <br>
don&rsquo;t timeout requests.</p>

<p style="margin-top: 1em">--server=&quot;&quot; <br>
The address and port of the Kubernetes API server</p>

<p style="margin-top: 1em">--token=&quot;&quot; <br>
Bearer token for authentication to the API server</p>

<p style="margin-top: 1em">--user=&quot;&quot; <br>
The name of the kubeconfig user to use</p>

<p style="margin-top: 1em">EXAMPLE <br>
# Check if default Docker registry
(&quot;docker-registry&quot;) has been created <br>
openshift admin registry --dry-run</p>

<p style="margin-top: 1em"># See what the registry will
look like if created <br>
openshift admin registry -o yaml</p>

<p style="margin-top: 1em"># Create a registry with two
replicas if it does not exist <br>
openshift admin registry --replicas=2</p>

<p style="margin-top: 1em"># Use a different registry image
<br>
openshift admin registry
--images=myrepo/docker-registry:mytag</p>

<p style="margin-top: 1em"># Enforce quota and limits on
images <br>
openshift admin registry --enforce-quota</p>

<p style="margin-top: 1em">SEE ALSO <br>
openshift-admin(1),</p>

<p style="margin-top: 1em">HISTORY <br>
June 2016, Ported from the Kubernetes man-doc generator</p>

<p style="margin-top: 1em">Openshift Openshift CLI User
Manuals OPENSHIFT ADMIN(1)</p>
<hr>
</body>
</html>
