<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:27:27 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NOTMUCH-DUMP(1) notmuch NOTMUCH-DUMP(1)</p>

<p style="margin-top: 1em">NAME <br>
notmuch-dump - creates a plain-text dump of the tags of each
message</p>

<p style="margin-top: 1em">SYNOPSIS <br>
notmuch dump [--gzip] [--format=(batch-tag|sup)]
[--output=&lt;file&gt;] [--] [&lt;search-term&gt; ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Dump tags for messages matching the given search terms.</p>

<p style="margin-top: 1em">Output is to the given filename,
if any, or to stdout.</p>

<p style="margin-top: 1em">These tags are the only data in
the notmuch database that can&rsquo;t be recreated from the
messages themselves. The output of notmuch dump is therefore
the only critical thing to <br>
backup (and much more friendly to incremental backup than
the native database files.)</p>

<p style="margin-top: 1em">See notmuch-search-terms(7) for
details of the supported syntax for &lt;search-terms&gt;.
With no search terms, a dump of all messages in the database
will be generated. A &quot;--&quot; argu&acirc; <br>
ment instructs notmuch that the remaining arguments are
search terms.</p>

<p style="margin-top: 1em">Supported options for dump
include</p>

<p style="margin-top: 1em">--gzip Compress the output in a
format compatible with gzip(1).</p>

<p style="margin-top: 1em">--format=(sup|batch-tag) <br>
Notmuch restore supports two plain text dump formats, both
with one message-id per line, followed by a list of
tags.</p>

<p style="margin-top: 1em">batch-tag <br>
The default batch-tag dump format is intended to more robust
against malformed message-ids and tags containing whitespace
or non-ascii(7) characters. Each line has <br>
the form <br>
+&lt;encoded-tag&gt; +&lt;encoded-tag&gt; ... --
id:&lt;quoted-message-id&gt;</p>

<p style="margin-top: 1em">Tags are hex-encoded by
replacing every byte not matching the regex
[A-Za-z0-9@=.,_+-] with %nn where nn is the two digit hex
encoding. The message ID is a valid <br>
Xapian query, quoted using Xapian boolean term quoting
rules: if the ID contains whitespace or a close paren or
starts with a double quote, it must be enclosed in <br>
double quotes and double quotes inside the ID must be
doubled. The astute reader will notice this is a special
case of the batch input format for notmuch-tag(1); <br>
note that the single message-id query is mandatory for
notmuch-restore(1).</p>

<p style="margin-top: 1em">sup <br>
The sup dump file format is specifically chosen to be
compatible with the format of files produced by sup-dump. So
if you&rsquo;ve previously been using sup for mail, <br>
then the notmuch restore command provides you a way to
import all of your tags (or labels as sup calls them). Each
line has the following form <br>
&lt;message-id&gt; ( &lt;tag&gt; ... )</p>

<p style="margin-top: 1em">with zero or more tags are
separated by spaces. Note that (malformed) message-ids may
contain arbitrary non-null characters. Note also that tags
with spaces will <br>
not be correctly restored with this format.</p>


<p style="margin-top: 1em">--include=(config|properties|tags)</p>

<p style="margin-top: 1em">Control what kind of metadata is
included in the output. <br>
config <br>
Output configuration data stored in the database. Each line
starts with &quot;#@ &quot;, followed by a space separated
key-value pair. Both key and value are hex encoded if <br>
needed.</p>

<p style="margin-top: 1em">properties <br>
Output per-message (key,value) metadata. Each line starts
with &quot;#= &quot;, followed by a message id, and a space
separated list of key=value pairs. pair. Ids, keys and <br>
values are hex encoded if needed.</p>

<p style="margin-top: 1em">tags <br>
Output per-message boolean metadata, namely tags. See format
above for description of the output.</p>

<p style="margin-top: 1em">The default is to include all
available types of data. The option can be specified
multiple times to select some subset. As of version 3 of the
dump format, there is a <br>
header line of the following form</p>

<p style="margin-top: 1em">#notmuch-dump
&lt;format&gt;:&lt;version&gt; &lt;included&gt;</p>

<p style="margin-top: 1em">where &lt;included&gt; is a
comma separated list of the above options.</p>

<p style="margin-top: 1em">--output=&lt;filename&gt; <br>
Write output to given file instead of stdout.</p>

<p style="margin-top: 1em">SEE ALSO <br>
notmuch(1), notmuch-config(1), notmuch-count(1),
notmuch-hooks(5), notmuch-insert(1), notmuch-new(1),
notmuch-reply(1), notmuch-restore(1), notmuch-search(1),
not&acirc; <br>
much-search-terms(7), notmuch-show(1), notmuch-tag(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Carl Worth and many others</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2009-2017, Carl Worth and many others</p>

<p style="margin-top: 1em">0.24.2 Jun 01, 2017
NOTMUCH-DUMP(1)</p>
<hr>
</body>
</html>
