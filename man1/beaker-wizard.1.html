<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:54:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BEAKER-WIZARD(1) Beaker BEAKER-WIZARD(1)</p>

<p style="margin-top: 1em">NAME <br>
beaker-wizard - Tool to ease the creation of a new Beaker
task</p>

<p style="margin-top: 1em">SYNOPSIS <br>
beaker-wizard [options] &lt;testname&gt; &lt;bug&gt;</p>

<p style="margin-top: 1em">The testname argument should be
specified as:</p>


<p style="margin-top: 1em">[[[NAMESPACE/]PACKAGE/]TYPE/][PATH/]NAME</p>

<p style="margin-top: 1em">which can be shortened as you
need:</p>

<p style="margin-top: 1em">TESTNAME <br>
TYPE/TESTNAME <br>
TYPE/PATH/TESTNAME <br>
PACKAGE/TYPE/NAME <br>
PACKAGE/TYPE/PATH/NAME <br>
NAMESPACE/PACKAGE/TYPE/NAME <br>
NAMESPACE/PACKAGE/TYPE/PATH/NAME <br>
beaker-wizard Makefile</p>

<p style="margin-top: 1em">This form will run the Wizard in
the Makefile edit mode which allows you to quickly and
simply update metadata of an already existing test while
trying to keep the rest of the <br>
Makefile untouched.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Beaker Wizard is a tool which can transform that
&quot;create all the necessary files with correct names,
values, and paths&quot; boring phase of every test creation
into one-line joy. For <br>
power users there is a lot of inspiration in the man page.
For quick start just cd to your test package directory and
simply run beaker-wizard.</p>

<p style="margin-top: 1em">The beaker-wizard was designed
to be flexible: it is intended not only for beginning Beaker
users who will welcome questions with hints but also for
experienced test writers who <br>
can make use of the extensive command-line options to push
their new-test-creating productivity to the limits.</p>

<p style="margin-top: 1em">For basic usage help, see
Options below or run beaker-wizard -h. For advanced features
and expert usage examples, read on.</p>

<p style="margin-top: 1em">Highlights <br>
&Acirc;&middot; provide reasonable defaults wherever
possible</p>

<p style="margin-top: 1em">&Acirc;&middot; flexible
confirmation (--every, --common, --yes)</p>

<p style="margin-top: 1em">&Acirc;&middot; predefined
skeletons (beaker, beakerlib, simple, multihost, library,
parametrized, empty)</p>

<p style="margin-top: 1em">&Acirc;&middot; saved user
preferences (defaults, user skeletons, licenses)</p>

<p style="margin-top: 1em">&Acirc;&middot; Bugzilla
integration (fetch bug info, reproducers, suggest name,
description)</p>

<p style="margin-top: 1em">&Acirc;&middot; Makefile edit
mode (quick adding of bugs, limiting archs or
releases...)</p>

<p style="margin-top: 1em">&Acirc;&middot; automated adding
created files to the git repository</p>

<p style="margin-top: 1em">Skeletons <br>
Another interesting feature is that you can save your own
skeletons into the preferences file, so that you can
automatically populate the new test scripts with your
favourite <br>
structure.</p>

<p style="margin-top: 1em">All of the test related metadata
gathered by the Wizard can be expanded inside the skeletons
using XML tags. For example: use &lt;package/&gt; for
expanding into the test package name <br>
or &lt;test/&gt; for the full test name.</p>

<p style="margin-top: 1em">The following metadata variables
are available:</p>

<p style="margin-top: 1em">&Acirc;&middot; test namespace
package type path testname description</p>

<p style="margin-top: 1em">&Acirc;&middot; bugs reproducers
requires architectures releases version time</p>

<p style="margin-top: 1em">&Acirc;&middot; priority license
confidential destructive</p>

<p style="margin-top: 1em">&Acirc;&middot; skeleton author
email</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help <br>
show this help message and exit</p>

<p style="margin-top: 1em">-V, --version <br>
display version info and quit</p>

<p style="margin-top: 1em">Basic metadata:</p>

<p style="margin-top: 1em">-d DESCRIPTION <br>
short description</p>

<p style="margin-top: 1em">-a ARCHS <br>
architectures [All]</p>

<p style="margin-top: 1em">-r RELEASES <br>
releases [All]</p>

<p style="margin-top: 1em">-o PACKAGES <br>
run for packages [wizard]</p>

<p style="margin-top: 1em">-q PACKAGES <br>
required packages [wizard]</p>

<p style="margin-top: 1em">-t TIME <br>
test time [5m]</p>

<p style="margin-top: 1em">Extra metadata:</p>

<p style="margin-top: 1em">-z VERSION <br>
test version [1.0]</p>

<p style="margin-top: 1em">-p PRIORITY <br>
priority [Normal]</p>

<p style="margin-top: 1em">-l LICENSE <br>
license [GPLv2+]</p>

<p style="margin-top: 1em">-i INTERNAL <br>
confidential [No]</p>

<p style="margin-top: 1em">-u UGLY <br>
destructive [No]</p>

<p style="margin-top: 1em">Author info:</p>

<p style="margin-top: 1em">-n NAME <br>
your name [Petr Splichal]</p>

<p style="margin-top: 1em">-m MAIL <br>
your email address [psplicha@redhat.com
&lt;psplicha@redhat.com&gt;]</p>

<p style="margin-top: 1em">Test creation specifics:</p>

<p style="margin-top: 1em">-s SKELETON <br>
skeleton to use [beakerlib]</p>

<p style="margin-top: 1em">-j PREFIX <br>
join the bug prefix to the testname [Yes]</p>

<p style="margin-top: 1em">-f, --force <br>
force without review and overwrite existing files</p>

<p style="margin-top: 1em">-w, --write <br>
write preferences to ~/.beaker_client/wizard</p>

<p style="margin-top: 1em">-b, --bugzilla <br>
contact bugzilla to get bug details</p>

<p style="margin-top: 1em">-g, --git <br>
add created files to the git repository</p>

<p style="margin-top: 1em">Confirmation and verbosity:</p>

<p style="margin-top: 1em">-v, --verbose <br>
display detailed info about every action</p>

<p style="margin-top: 1em">-e, --every <br>
prompt for each and every available option</p>

<p style="margin-top: 1em">-c, --common <br>
confirm only commonly used options [Default]</p>

<p style="margin-top: 1em">-y, --yes <br>
yes, I&rsquo;m sure, no questions, just do it!</p>

<p style="margin-top: 1em">EXAMPLES <br>
Some brief examples:</p>

<p style="margin-top: 1em">beaker-wizard
overload-performance 379791 <br>
regression test with specified bug and name <br>
-&gt;
/CoreOS/perl/Regression/bz379791-overload-performance</p>

<p style="margin-top: 1em">beaker-wizard buffer-overflow
2008-1071 -a i386 <br>
security test with specified CVE and name, i386 arch only
<br>
-&gt;
/CoreOS/perl/Security/CVE-2008-1071-buffer-overflow</p>

<p style="margin-top: 1em">beaker-wizard Sanity/options -y
-a? <br>
sanity test with given name, ask just for architecture <br>
-&gt; /CoreOS/perl/Sanity/options</p>

<p style="margin-top: 1em">beaker-wizard
Sanity/server/smoke <br>
add an optional path under test type directory <br>
-&gt; /CoreOS/perl/Sanity/server/smoke</p>

<p style="margin-top: 1em">beaker-wizard -by 1234 <br>
contact bugzilla for details, no questions, just review <br>
-&gt;
/CoreOS/installer/Regression/bz1234-Swap-partition-Installer</p>

<p style="margin-top: 1em">beaker-wizard -byf 2007-0455
<br>
security test, no questions, no review, overwrite existing
files <br>
-&gt;
/CoreOS/gd/Security/CVE-2007-0455-gd-buffer-overrun</p>

<p style="margin-top: 1em">All of the previous examples
assume you&rsquo;re in the package tests directory (e.g. cd
git/tests/perl). All the necessary directories and files are
created under this location.</p>

<p style="margin-top: 1em">Bugzilla integration <br>
The following example creates a regression test for bug
#227655. Option -b is used to contact Bugzilla to
automatically fetch bug details and -y to skip unnecessary
questions.</p>

<p style="margin-top: 1em"># beaker-wizard -by 227655 <br>
Contacting bugzilla... <br>
Fetching details for bz227655 <br>
Examining attachments for possible reproducers <br>
Adding test.pl (simple test using Net::Config) <br>
Adding libnet.cfg (libnet.cfg test config file)</p>

<p style="margin-top: 1em">Ready to create the test, please
review <br>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>


<p style="margin-top: 1em">/CoreOS/perl/Regression/bz227655-libnet-cfg-in-wrong-directory</p>

<p style="margin-top: 1em">Namespace : CoreOS <br>
Package : perl <br>
Test type : Regression <br>
Relative path : None <br>
Test name : bz227655-libnet-cfg-in-wrong-directory <br>
Description : Test for bz227655 (libnet.cfg in wrong
directory)</p>

<p style="margin-top: 1em">Bug or CVE numbers : bz227655
<br>
Reproducers to fetch : test.pl, libnet.cfg <br>
Required packages : None <br>
Architectures : All <br>
Releases : All <br>
Version : 1.0 <br>
Time : 5m</p>

<p style="margin-top: 1em">Priority : Normal <br>
License : GPLv2+ <br>
Confidential : No <br>
Destructive : No</p>

<p style="margin-top: 1em">Skeleton : beakerlib <br>
Author : Petr Splichal <br>
Email : psplicha@redhat.com</p>

<p style="margin-top: 1em">[Everything OK?] <br>
Directory Regression/bz227655-libnet-cfg-in-wrong-directory
created <br>
File
Regression/bz227655-libnet-cfg-in-wrong-directory/PURPOSE
written <br>
File
Regression/bz227655-libnet-cfg-in-wrong-directory/runtest.sh
written <br>
File
Regression/bz227655-libnet-cfg-in-wrong-directory/Makefile
written <br>
Attachment test.pl downloaded <br>
Attachment libnet.cfg downloaded</p>

<p style="margin-top: 1em">Command line <br>
The extensive command line syntax can come in handy for
example when creating a bunch of sanity tests for a
component. Let&rsquo;s create a test skeleton for each of
wget&rsquo;s feature <br>
areas:</p>

<p style="margin-top: 1em"># cd git/tests/wget <br>
# for test in download recursion rules authentication; do
<br>
&gt; beaker-wizard -yf $test -t 10m -q httpd,vsftpd &gt; -d
&quot;Sanity test for $test options&quot; <br>
&gt; done</p>

<p style="margin-top: 1em">...</p>


<p style="margin-top: 1em">/CoreOS/wget/Sanity/authentication</p>

<p style="margin-top: 1em">Namespace : CoreOS <br>
Package : wget <br>
Test type : Sanity <br>
Relative path : None <br>
Test name : authentication <br>
Description : Sanity test for authentication options</p>

<p style="margin-top: 1em">Bug or CVE numbers : None <br>
Reproducers to fetch : None <br>
Required packages : httpd, vsftpd <br>
Architectures : All <br>
Releases : All <br>
Version : 1.0 <br>
Time : 10m</p>

<p style="margin-top: 1em">Priority : Normal <br>
License : GPLv2+ <br>
Confidential : No <br>
Destructive : No</p>

<p style="margin-top: 1em">Skeleton : beakerlib <br>
Author : Petr Splichal <br>
Email : psplicha@redhat.com</p>

<p style="margin-top: 1em">Directory Sanity/authentication
created <br>
File Sanity/authentication/PURPOSE written <br>
File Sanity/authentication/runtest.sh written <br>
File Sanity/authentication/Makefile written</p>

<p style="margin-top: 1em"># tree <br>
. <br>
&lsquo;-- Sanity <br>
|-- authentication <br>
| |-- Makefile <br>
| |-- PURPOSE <br>
| &lsquo;-- runtest.sh <br>
|-- download <br>
| |-- Makefile <br>
| |-- PURPOSE <br>
| &lsquo;-- runtest.sh <br>
|-- recursion <br>
| |-- Makefile <br>
| |-- PURPOSE <br>
| &lsquo;-- runtest.sh <br>
&lsquo;-- rules <br>
|-- Makefile <br>
|-- PURPOSE <br>
&lsquo;-- runtest.sh</p>

<p style="margin-top: 1em">NOTES <br>
If you provide an option with a &quot;?&quot; you will be
given a list of available options and a prompt to type your
choice in.</p>

<p style="margin-top: 1em">For working Bugzilla integration
you need python-bugzilla package installed on your system.
If you are trying to access a bug with restricted access,
log in to Bugzilla first <br>
with the following command:</p>

<p style="margin-top: 1em">bugzilla login</p>

<p style="margin-top: 1em">You will be asked for email and
password and after successfully logging in a
~/.bugzillacookies file will be created which then will be
used in all subsequent Bugzilla queries. <br>
Logout can be performed with rm ~/.bugzillacookies ;-)</p>

<p style="margin-top: 1em">FILES <br>
All commonly used preferences can be saved into
~/.beaker_client/wizard. Use &quot;write&quot; command to
save current settings when reviewing gathered test data or
edit the file with you <br>
favourite editor.</p>

<p style="margin-top: 1em">All options in the config file
are self-explanatory. For confirm level choose one of:
nothing, common or everything.</p>

<p style="margin-top: 1em">LIBRARY TASKS <br>
The &quot;library&quot; skeleton can be used to create a
&quot;library task&quot;. It allows you to bundle together
common functionality which may be required across multiple
tasks. To learn more, <br>
see the BeakerLib documentation for library tasks
&lt;https://fedorahosted.org/beakerlib/wiki/libraries&gt;.</p>

<p style="margin-top: 1em">BUGS <br>
If you encounter an issue or have an idea for enhancement,
please file a new bug
&lt;https://bugzilla.redhat.com/enter_bug.cgi?product=Beaker&amp;component=com&acirc;
<br>

mand+line&amp;short_desc=beaker-wizard:+&amp;status_whiteboard=BeakerWizard&amp;assigned_to=psplicha@redhat.com&gt;.
See also open bugs
&lt;https://bugzilla.redhat.com/buglist.cgi?prod&acirc; <br>

uct=Beaker&amp;bug_status=__open__&amp;short_desc=beaker-wizard&amp;short_desc_type=allwordssubstr&gt;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
&Acirc;&middot; Beaker documentation
&lt;http://beaker-project.org/help.html&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; BeakerLib
&lt;https://fedorahosted.org/beakerlib&gt;</p>

<p style="margin-top: 1em">AUTHOR <br>
Petr Splichal &lt;psplicha@redhat.com&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2013, Red Hat, Inc</p>

<p style="margin-top: 1em">24.3 May 30, 2017
BEAKER-WIZARD(1)</p>
<hr>
</body>
</html>
