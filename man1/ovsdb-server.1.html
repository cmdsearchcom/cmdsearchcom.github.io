<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ovsdb-server(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ovsdb-server(1)</td>
    <td class="head-vol">Open vSwitch Manual</td>
    <td class="head-rtitle">ovsdb-server(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ovsdb-server - Open vSwitch database server
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ovsdb-server</b> [ <i>database</i>]... [ <b>--remote=</b><i>remote</i>]... [
  <b>--run=</b><i>command</i>]
<dl class="Bl-tag">
  <dt class="It-tag">Daemon options:</dt>
  <dd class="It-tag">[<b>--pidfile</b>[<b>=</b><i>pidfile</i>]] [
      <b>--overwrite-pidfile</b>] [ <b>--detach</b>] [ <b>--no-chdir</b>] [
      <b>--no-self-confinement</b>]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Service options:</dt>
  <dd class="It-tag">[<b>--service</b>] [ <b>--service-monitor</b>]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Logging options:</dt>
  <dd class="It-tag">[<b>-v</b>[<i>module</i>[<b>:</b><i>destination</i>[<b>:</b><i>level</i>]]]]...
    <div>&#x00A0;</div>
    [
      <b>--verbose[=</b><i>module</i>[<b>:</b><i>destination</i>[<b>:</b><i>level</i>]]]]...
    <div>&#x00A0;</div>
    [ <b>--log-file</b>[<b>=</b><i>file</i>]]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Syncing options:</dt>
  <dd class="It-tag">[<b>--sync-from=</b><i>server</i>]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Public key infrastructure options:</dt>
  <dd class="It-tag">[<b>--private-key=</b><i>privkey.pem</i>]
    <div>&#x00A0;</div>
    [ <b>--certificate=</b><i>cert.pem</i>]
    <div>&#x00A0;</div>
    [ <b>--ca-cert=</b><i>cacert.pem</i>]
    <div>&#x00A0;</div>
    [ <b>--bootstrap-ca-cert=</b><i>cacert.pem</i>]
    <div>&#x00A0;</div>
    [ <b>--peer-ca-cert=</b><i>peer-cacert.pem</i>]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">SSL connection options:</dt>
  <dd class="It-tag">[<b>--ssl-protocols=</b><i>protocols</i>]
    <div>&#x00A0;</div>
    [ <b>--ssl-ciphers=</b><i>ciphers</i>]
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Runtime management options:</dt>
  <dd class="It-tag"><b>--unixctl=</b><i>socket</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Common options:</dt>
  <dd class="It-tag">[<b>-h</b> | <b>--help</b>] [ <b>-V</b> | <b>--version</b>]
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>ovsdb-server</b> program provides RPC interfaces to one or more Open
  vSwitch databases (OVSDBs). It supports JSON-RPC client connections over
  active or passive TCP/IP or Unix domain sockets.
<div class="Pp"></div>
Each OVSDB file may be specified on the command line as <i>database</i>. If none
  is specified, the default is <b>/etc/openvswitch/conf.db</b>. The database
  files must already have been created and initialized using, for example,
  <b>ovsdb-tool create</b>.
<h1 class="Sh" title="Sh" id="ACTIVE_and_BACKUP"><a class="selflink" href="#ACTIVE_and_BACKUP">ACTIVE
  and BACKUP</a></h1>
<b>ovsdb-server</b> runs either as a backup server, or as an active server. When
  <b>ovsdb-server</b> is running as a backup server, all transactions that can
  modify the database content, including the lock commands are rejected. Active
  server, on the other hand, accepts all ovsdb server transactions. When
  <b>ovsdb-server</b> role changes, all existing client connection are reset,
  requiring clients to reconnect to the server.
<div class="Pp"></div>
By default, <b>ovsdb-server</b> runs as an active server, except when the
  <b>--sync-from=</b> <i>server</i> command line option is specified and without
  the <b>--no-sync option</b>. During runtime, <b>ovsdb-server</b> role can be
  switch by using appctl commands.
<div class="Pp"></div>
<b>ovsdb-server/connect-active-ovsdb-server</b> switches <b>ovsdb-server</b>
  into a backup server, Conversely,
  <b>ovsdb-server/disconnect-active-ovsdb-server</b> switches server into an
  active one.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--remote=</b><i>remote</i></dt>
  <dd class="It-tag">Adds <i>remote</i> as a connection method used by
      <b>ovsdb-server</b>. <i>remote</i> must take one of the following
    forms:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>pssl:</b><i>port</i>[<b>:</b><i>ip</i>]</dt>
  <dd class="It-tag">Listen on the given SSL <i>port</i> for a connection. By
      default, connections are not bound to a particular local IP address and it
      listens only on IPv4 (but not IPv6) addresses, but specifying <i>ip</i>
      limits connections to those from the given <i>ip</i>, either IPv4 or IPv6
      address. If <i>ip</i> is an IPv6 address, then wrap <i>ip</i> with square
      brackets, e.g.: <b>pssl:6640:[::1]</b>. The <b>--private-key</b>,
      <b>--certificate</b>, and <b>--ca-cert</b> options are mandatory when this
      form is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ptcp:</b><i>port</i>[<b>:</b><i>ip</i>]</dt>
  <dd class="It-tag">Listen on the given TCP <i>port</i> for a connection. By
      default, connections are not bound to a particular local IP address and it
      listens only on IPv4 (but not IPv6) addresses, but <i>ip</i> may be
      specified to listen only for connections to the given <i>ip</i>, either
      IPv4 or IPv6 address. If <i>ip</i> is an IPv6 address, then wrap <i>ip</i>
      with square brackets, e.g.: <b>ptcp:6640:[::1]</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>punix:</b><i>file</i></dt>
  <dd class="It-tag">On POSIX, listen on the Unix domain server socket named
      <i>file</i> for a connection.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows, listen on a local named pipe. A file is created
      in the path <i>file</i> to mimic the behavior of a Unix domain
    socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ssl:</b><i>ip</i><b>:</b><i>port</i></dt>
  <dd class="It-tag">The specified SSL <i>port</i> on the host at the given
      <i>ip</i>, which must be expressed as an IP address (not a DNS name) in
      IPv4 or IPv6 address format. If <i>ip</i> is an IPv6 address, then wrap
      <i>ip</i> with square brackets, e.g.: <b>ssl:[::1]:6640</b>. The
      <b>--private-key</b>, <b>--certificate</b>, and <b>--ca-cert</b> options
      are mandatory when this form is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tcp:</b><i>ip</i><b>:</b><i>port</i></dt>
  <dd class="It-tag">Connect to the given TCP <i>port</i> on <i>ip</i>, where
      <i>ip</i> can be IPv4 or IPv6 address. If <i>ip</i> is an IPv6 address,
      then wrap <i>ip</i> with square brackets, e.g.:
    <b>tcp:[::1]:6640</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unix:</b><i>file</i></dt>
  <dd class="It-tag">On POSIX, connect to the Unix domain server socket named
      <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows, connect to a local named pipe that is
      represented by a file created in the path <i>file</i> to mimic the
      behavior of a Unix domain socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>db:</b><i>db</i><b>,</b><i>table</i><b>,</b><i>column</i></dt>
  <dd class="It-tag">Reads additional connection methods from <i>column</i> in
      all of the rows in <i>table</i> within <i>db</i>. As the contents of
      <i>column</i> changes, <b>ovsdb-server</b> also adds and drops connection
      methods accordingly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <i>column</i>'s type is string or set of strings, then
      the connection methods are taken directly from the column. The connection
      methods in the column must have one of the forms described above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <i>column</i>'s type is UUID or set of UUIDs and
      references a table, then each UUID is looked up in the referenced table to
      obtain a row. The following columns in the row, if present and of the
      correct type, configure a connection method. Any additional columns are
      ignored.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>target</b> (string)</dt>
  <dd class="It-tag">Connection method, in one of the forms described above.
      This column is mandatory: if it is missing or empty then no connection
      method can be configured.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>max_backoff</b> (integer)</dt>
  <dd class="It-tag">Maximum number of milliseconds to wait between connection
      attempts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>inactivity_probe</b> (integer)</dt>
  <dd class="It-tag">Maximum number of milliseconds of idle time on connection
      to client before sending an inactivity probe message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>read_only</b> (boolean)</dt>
  <dd class="It-tag">If true, only read-only transactions are allowed on this
      connection.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error for <i>column</i> to have another type.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">To connect or listen on multiple connection methods, use
      multiple <b>--remote</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--run=</b><i>command</i>]</dt>
  <dd class="It-tag">Ordinarily <b>ovsdb-server</b> runs forever, or until it is
      told to exit (see <b>RUNTIME MANAGEMENT COMMANDS</b> below). With this
      option, <b>ovsdb-server</b> instead starts a shell subprocess running
      <i>command</i>. When the subprocess terminates, <b>ovsdb-server</b> also
      exits gracefully. If the subprocess exits normally with exit code 0, then
      <b>ovsdb-server</b> exits with exit code 0 also; otherwise, it exits with
      exit code 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option can be useful where a database server is needed
      only to run a single command, e.g.: <b>ovsdb-server --remote=punix:socket
      --run='ovsdb-client dump unix:socket Open_vSwitch'</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is not supported on Windows platform.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Daemon_Options"><a class="selflink" href="#Daemon_Options">Daemon
  Options</a></h2>
The following options are valid on POSIX based platforms.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pidfile</b>[<b>=</b><i>pidfile</i>]</dt>
  <dd class="It-tag">Causes a file (by default, <b>ovsdb-server.pid</b>) to be
      created indicating the PID of the running process. If the <i>pidfile</i>
      argument is not specified, or if it does not begin with <b>/</b>, then it
      is created in <b>/var/run/openvswitch</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <b>--pidfile</b> is not specified, no pidfile is
      created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite-pidfile</b></dt>
  <dd class="It-tag">By default, when <b>--pidfile</b> is specified and the
      specified pidfile already exists and is locked by a running process,
      <b>ovsdb-server</b> refuses to start. Specify <b>--overwrite-pidfile</b>
      to cause it to instead overwrite the pidfile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When <b>--pidfile</b> is not specified, this option has no
      effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--detach</b></dt>
  <dd class="It-tag">Runs <b>ovsdb-server</b> as a background process. The
      process forks, and in the child it starts a new session, closes the
      standard file descriptors (which has the side effect of disabling logging
      to the console), and changes its current directory to the root (unless
      <b>--no-chdir</b> is specified). After the child completes its
      initialization, the parent exits. <b>ovsdb-server</b> detaches only after
      it starts listening on all configured remotes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--monitor</b></dt>
  <dd class="It-tag">Creates an additional process to monitor the
      <b>ovsdb-server</b> daemon. If the daemon dies due to a signal that
      indicates a programming error ( <b>SIGABRT</b>, <b>SIGALRM</b>,
      <b>SIGBUS</b>, <b>SIGFPE</b>, <b>SIGILL</b>, <b>SIGPIPE</b>,
      <b>SIGSEGV</b>, <b>SIGXCPU</b>, or <b>SIGXFSZ</b>) then the monitor
      process starts a new copy of it. If the daemon dies or exits for another
      reason, the monitor process exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is normally used with <b>--detach</b>, but it
      also functions without it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-chdir</b></dt>
  <dd class="It-tag">By default, when <b>--detach</b> is specified,
      <b>ovsdb-server</b> changes its current working directory to the root
      directory after it detaches. Otherwise, invoking <b>ovsdb-server</b> from
      a carelessly chosen directory would prevent the administrator from
      unmounting the file system that holds that directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Specifying <b>--no-chdir</b> suppresses this behavior,
      preventing <b>ovsdb-server</b> from changing its current working
      directory. This may be useful for collecting core files, since it is
      common behavior to write core dumps into the current working directory and
      the root directory is not a good directory to use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option has no effect when <b>--detach</b> is not
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-self-confinement</b></dt>
  <dd class="It-tag">By default daemon will try to self-confine itself to work
      with files under well-know, at build-time whitelisted directories. It is
      better to stick with this default behavior and not to use this flag unless
      some other Access Control is used to confine daemon. Note that in contrast
      to other access control implementations that are typically enforced from
      kernel-space (e.g. DAC or MAC), self-confinement is imposed from the
      user-space daemon itself and hence should not be considered as a full
      confinement strategy, but instead should be viewed as an additional layer
      of security.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--user</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to run as a different user
      specified in &quot;user:group&quot;, thus dropping most of the root
      privileges. Short forms &quot;user&quot; and &quot;:group&quot; are also
      allowed, with current user or group are assumed respectively. Only daemons
      started by the root user accepts this argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Linux, daemons will be granted CAP_IPC_LOCK and
      CAP_NET_BIND_SERVICES before dropping root privileges. Daemons that
      interact with a datapath, such as <b>ovs-vswitchd</b>, will be granted two
      additional capabilities, namely CAP_NET_ADMIN and CAP_NET_RAW. The
      capability change will apply even if new user is &quot;root&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows, this option is not currently supported. For
      security reasons, specifying this option will cause the daemon process not
      to start.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Service_Options"><a class="selflink" href="#Service_Options">Service
  Options</a></h2>
The following options are valid only on Windows platform.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to run as a service in the
      background. The service should already have been created through external
      tools like <b>SC.exe</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service-monitor</b></dt>
  <dd class="It-tag">Causes the <b>ovsdb-server</b> service to be automatically
      restarted by the Windows services manager if the service dies or exits for
      unexpected reasons.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When <b>--service</b> is not specified, this option has no
      effect.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Logging_Options"><a class="selflink" href="#Logging_Options">Logging
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>[<i>spec</i>]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose=</b>[<i>spec</i>]</dt>
  <dd class="It-tag">Sets logging levels. Without any <i>spec</i>, sets the log
      level for every module and destination to <b>dbg</b>. Otherwise,
      <i>spec</i> is a list of words separated by spaces or commas or colons, up
      to one from each category below:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A valid module name, as displayed by the <b>vlog/list</b>
      command on <b>ovs-appctl</b>(8), limits the log level change to the
      specified module.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>syslog</b>, <b>console</b>, or <b>file</b>, to limit the
      log level change to only to the system log, to the console, or to a file,
      respectively. (If <b>--detach</b> is specified, <b>ovsdb-server</b> closes
      its standard file descriptors, so logging to the console will have no
      effect.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows platform, <b>syslog</b> is accepted as a word
      and is only useful along with the <b>--syslog-target</b> option (the word
      has no effect otherwise).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>off</b>, <b>emer</b>, <b>err</b>, <b>warn</b>,
      <b>info</b>, or <b>dbg</b>, to control the log level. Messages of the
      given severity or higher will be logged, and messages of lower severity
      will be filtered out. <b>off</b> filters out all messages. See
      <b>ovs-appctl</b>(8) for a definition of each log level.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Case is not significant within <i>spec</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Regardless of the log levels set for <b>file</b>, logging
      to a file will not take place unless <b>--log-file</b> is also specified
      (see below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For compatibility with older versions of OVS, <b>any</b> is
      accepted as a word but has no effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Sets the maximum logging verbosity level, equivalent to
      <b>--verbose=dbg</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-vPATTERN:</b><i>destination</i><b>:</b><i>pattern</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose=PATTERN:</b><i>destination</i><b>:</b><i>pattern</i></dt>
  <dd class="It-tag">Sets the log pattern for <i>destination</i> to
      <i>pattern</i>. Refer to <b>ovs-appctl</b>(8) for a description of the
      valid syntax for <i>pattern</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-vFACILITY:</b><i>facility</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose=FACILITY:</b><i>facility</i></dt>
  <dd class="It-tag">Sets the RFC5424 facility of the log message.
      <i>facility</i> can be one of <b>kern</b>, <b>user</b>, <b>mail</b>,
      <b>daemon</b>, <b>auth</b>, <b>syslog</b>, <b>lpr</b>, <b>news</b>,
      <b>uucp</b>, <b>clock</b>, <b>ftp</b>, <b>ntp</b>, <b>audit</b>,
      <b>alert</b>, <b>clock2</b>, <b>local0</b>, <b>local1</b>, <b>local2</b>,
      <b>local3</b>, <b>local4</b>, <b>local5</b>, <b>local6</b> or
      <b>local7</b>. If this option is not specified, <b>daemon</b> is used as
      the default for the local system syslog and <b>local0</b> is used while
      sending a message to the target provided via the <b>--syslog-target</b>
      option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-file</b>[<b>=</b><i>file</i>]</dt>
  <dd class="It-tag">Enables logging to a file. If <i>file</i> is specified,
      then it is used as the exact name for the log file. The default log file
      name used if <i>file</i> is omitted is
      <b>/var/log/openvswitch/ovsdb-server.log</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog-target=</b><i>host</i><b>:</b><i>port</i></dt>
  <dd class="It-tag">Send syslog messages to UDP <i>port</i> on <i>host</i>, in
      addition to the system syslog. The <i>host</i> must be a numerical IP
      address, not a hostname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog-method=</b><i>method</i></dt>
  <dd class="It-tag">Specify <i>method</i> how syslog messages should be sent to
      syslog daemon. Following forms are supported:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>libc</b>, use libc <b>syslog()</b> function. This is the
      default behavior. Downside of using this options is that libc adds fixed
      prefix to every message before it is actually sent to the syslog daemon
      over <b>/dev/log</b> UNIX domain socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>unix:</b><i>file</i>, use UNIX domain socket directly.
      It is possible to specify arbitrary message format with this option.
      However, <b>rsyslogd 8.9</b> and older versions use hard coded parser
      function anyway that limits UNIX domain socket use. If you want to use
      arbitrary message format with older <b>rsyslogd</b> versions, then use UDP
      socket to localhost IP address instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>udp:</b><i>ip</i>:<i>port</i>, use UDP socket. With this
      method it is possible to use arbitrary message format also with older
      <b>rsyslogd</b>. When sending syslog messages over UDP socket extra
      precaution needs to be taken into account, for example, syslog daemon
      needs to be configured to listen on the specified UDP port, accidental
      iptables rules could be interfering with local syslog traffic and there
      are some security considerations that apply to UDP sockets, but do not
      apply to UNIX domain sockets.</dd>
</dl>
</div>
<h2 class="Ss" title="Ss" id="Syncing_Options"><a class="selflink" href="#Syncing_Options">Syncing
  Options</a></h2>
The following options allow <b>ovsdb-server</b> to synchronize its databases
  with another running <b>ovsdb-server</b>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sync-from=</b><i>server</i></dt>
  <dd class="It-tag">Sets up <b>ovsdb-server</b> to synchronize its databases
      with the databases in <i>server</i>, which must be an active connection
      method in one of the forms documented in <b>ovsdb-client</b>(1). Every
      transaction committed by <i>server</i> will be replicated to
      <b>ovsdb-server</b>. This option makes <b>ovsdb-server</b> start as a
      backup server; add <b>--active</b> to make it start as an active
    server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sync-exclude-tables=</b><i>db:table[,db:table]...</i></dt>
  <dd class="It-tag">Causes the specified tables to be excluded from
      replication.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--active</b></dt>
  <dd class="It-tag">By default, <b>--sync-from</b> makes <b>ovsdb-server</b>
      start up as a backup for <i>server</i>. With <b>--active</b>, however,
      <b>ovsdb-server</b> starts as an active server. Use this option to allow
      the syncing options to be specified using command line options, yet start
      the server, as the default, active server. To switch the running server to
      backup mode, use <b>ovs-appctl(1)</b> to execute the
      <b>ovsdb-server/connect-active-ovsdb-server</b> command.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Public_Key_Infrastructure_Options"><a class="selflink" href="#Public_Key_Infrastructure_Options">Public
  Key Infrastructure Options</a></h2>
The options described below for configuring the SSL public key infrastructure
  accept a special syntax for obtaining their configuration from the database.
  If any of these options is given
  <b>db:</b><i>db</i><b>,</b><i>table</i><b>,</b> <i>column</i> as its argument,
  then the actual file name is read from the specified <i>column</i> in
  <i>table</i> within the <i>db</i> database. The <i>column</i> must have type
  string or set of strings. The first nonempty string in the table is taken as
  the file name. (This means that ordinarily there should be at most one row in
  <i>table</i>.)
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>privkey.pem</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--private-key=</b><i>privkey.pem</i></dt>
  <dd class="It-tag">Specifies a PEM file containing the private key used as
      <b>ovsdb-server</b>'s identity for outgoing SSL connections.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>cert.pem</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--certificate=</b><i>cert.pem</i></dt>
  <dd class="It-tag">Specifies a PEM file containing a certificate that
      certifies the private key specified on <b>-p</b> or <b>--private-key</b>
      to be trustworthy. The certificate must be signed by the certificate
      authority (CA) that the peer in SSL connections will use to verify
    it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b> <i>cacert.pem</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca-cert=</b><i>cacert.pem</i></dt>
  <dd class="It-tag">Specifies a PEM file containing the CA certificate that
      <b>ovsdb-server</b> should use to verify certificates presented to it by
      SSL peers. (This may be the same certificate that SSL peers use to verify
      the certificate specified on <b>-c</b> or <b>--certificate</b>, or it may
      be a different one, depending on the PKI design in use.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C none</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca-cert=none</b></dt>
  <dd class="It-tag">Disables verification of certificates presented by SSL
      peers. This introduces a security risk, because it means that certificates
      cannot be verified to be those of known trusted hosts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bootstrap-ca-cert=</b><i>cacert.pem</i></dt>
  <dd class="It-tag">When <i>cacert.pem</i> exists, this option has the same
      effect as <b>-C</b> or <b>--ca-cert</b>. If it does not exist, then
      <b>ovsdb-server</b> will attempt to obtain the CA certificate from the SSL
      peer on its first SSL connection and save it to the named PEM file. If it
      is successful, it will immediately drop the connection and reconnect, and
      from then on all SSL connections must be authenticated by a certificate
      signed by the CA certificate thus obtained.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>This option exposes the SSL connection to a
      man-in-the-middle</b> <b>attack obtaining the initial CA certificate</b>,
      but it may be useful for bootstrapping.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is only useful if the SSL peer sends its CA
      certificate as part of the SSL certificate chain. The SSL protocol does
      not require the server to send the CA certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is mutually exclusive with <b>-C</b> and
      <b>--ca-cert</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--peer-ca-cert=</b><i>peer-cacert.pem</i></dt>
  <dd class="It-tag">Specifies a PEM file that contains one or more additional
      certificates to send to SSL peers. <i>peer-cacert.pem</i> should be the CA
      certificate used to sign <b>ovsdb-server</b>'s own certificate, that is,
      the certificate specified on <b>-c</b> or <b>--certificate</b>. If
      <b>ovsdb-server</b>'s certificate is self-signed, then
      <b>--certificate</b> and <b>--peer-ca-cert</b> should specify the same
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is not useful in normal operation, because the
      SSL peer must already have the CA certificate for the peer to have any
      confidence in <b>ovsdb-server</b>'s identity. However, this offers a way
      for a new installation to bootstrap the CA certificate on its first SSL
      connection.</dd>
</dl>
<h2 class="Ss" title="Ss" id="SSL_Connection_Options"><a class="selflink" href="#SSL_Connection_Options">SSL
  Connection Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssl-protocols=</b><i>protocols</i></dt>
  <dd class="It-tag">Specifies, in a comma- or space-delimited list, the SSL
      protocols <b>ovsdb-server</b> will enable for SSL connections. Supported
      <i>protocols</i> include <b>TLSv1</b>, <b>TLSv1.1</b>, and <b>TLSv1.2</b>.
      Regardless of order, the highest protocol supported by both sides will be
      chosen when making the connection. The default when this option is omitted
      is <b>TLSv1,TLSv1.1,TLSv1.2</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssl-ciphers=</b><i>ciphers</i></dt>
  <dd class="It-tag">Specifies, in OpenSSL cipher string format, the ciphers
      <b>ovsdb-server</b> will support for SSL connections. The default when
      this option is omitted is <b>HIGH:!aNULL:!MD5</b>.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Other_Options"><a class="selflink" href="#Other_Options">Other
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unixctl=</b><i>socket</i></dt>
  <dd class="It-tag">Sets the name of the control socket on which
      <b>ovsdb-server</b> listens for runtime management commands (see
      <b>RUNTIME MANAGEMENT COMMANDS</b>, below). If <i>socket</i> does not
      begin with <b>/</b>, it is interpreted as relative to
      <b>/var/run/openvswitch</b>. If <b>--unixctl</b> is not used at all, the
      default socket is
      <b>/var/run/openvswitch/ovsdb-server.</b><i>pid</i><b>.ctl</b>, where
      <i>pid</i> is <b>ovsdb-server</b>'s process ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows a local named pipe is used to listen for runtime
      management commands. A file is created in the absolute path as pointed by
      <i>socket</i> or if <b>--unixctl</b> is not used at all, a file is created
      as <b>ovsdb-server.ctl</b> in the configured <i>OVS_RUNDIR</i> directory.
      The file exists just to mimic the behavior of a Unix domain socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Specifying <b>none</b> for <i>socket</i> disables the
      control socket feature.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Prints a brief help message to the console.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Prints version information to the console.</dd>
</dl>
<h1 class="Sh" title="Sh" id="RUNTIME_MANAGEMENT_COMMANDS"><a class="selflink" href="#RUNTIME_MANAGEMENT_COMMANDS">RUNTIME
  MANAGEMENT COMMANDS</a></h1>
<b>ovs-appctl</b>(8) can send commands to a running <b>ovsdb-server</b> process.
  The currently supported commands are described below.
<h2 class="Ss" title="Ss" id="OVSDB-SERVER_COMMANDS"><a class="selflink" href="#OVSDB-SERVER_COMMANDS">OVSDB-SERVER
  COMMANDS</a></h2>
These commands are specific to <b>ovsdb-server</b>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>exit</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to gracefully terminate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/compact</b> [<i>db</i>]...</dt>
  <dd class="It-tag">Compacts each database <i>db</i> in-place. If no <i>db</i>
      is specified, compacts every database in-place. A database is also
      compacted automatically when a transaction is logged if it is over 4 times
      as large as its previous compacted size (and at least 10 MB), but not
      before 100 commits have been added or 10 minutes have elapsed since the
      last compaction.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/reconnect</b></dt>
  <dd class="It-tag">Makes <b>ovsdb-server</b> drop all of the JSON-RPC
      connections to database clients and reconnect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This command might be useful for debugging issues with
      database clients.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/add-remote </b><i>remote</i></dt>
  <dd class="It-tag">Adds a remote, as if <b>--remote=</b><i>remote</i> had been
      specified on the <b>ovsdb-server</b> command line. (If <i>remote</i> is
      already a remote, this command succeeds without changing the
      configuration.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/remove-remote </b><i>remote</i></dt>
  <dd class="It-tag">Removes the specified <i>remote</i> from the configuration,
      failing with an error if <i>remote</i> is not configured as a remote. This
      command only works with remotes that were named on <b>--remote</b> or
      <b>ovsdb-server/add-remote</b>, that is, it will not remove remotes added
      indirectly because they were read from the database by configuring a
      <b>db:</b> <i>db</i><b>,</b><i>table</i><b>,</b><i>column</i> remote. (You
      can remove a database source with <b>ovsdb-server/remove-remote</b>
      <b></b> <b>db:</b><i>db</i><b>,</b><i>table</i><b>,</b><i>column</i>, but
      not individual remotes found indirectly through the database.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/list-remotes</b></dt>
  <dd class="It-tag">Outputs a list of the currently configured remotes named on
      <b>--remote</b> or <b>ovsdb-server/add-remote</b>, that is, it does not
      list remotes added indirectly because they were read from the database by
      configuring a <b>db:</b><i>db</i><b>,</b><i>table</i><b>,</b><i>column</i>
      remote.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/add-db </b><i>database</i></dt>
  <dd class="It-tag">Adds the <i>database</i> to the running
      <b>ovsdb-server</b>. The database file must already have been created and
      initialized using, for example, <b>ovsdb-tool create</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/remove-db </b><i>database</i></dt>
  <dd class="It-tag">Removes <i>database</i> from the running
      <b>ovsdb-server</b>. <i>database</i> must be a database name as listed by
      <b>ovsdb-server/list-dbs</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If a remote has been configured that points to the
      specified <i>database</i> (e.g.
      <b>--remote=db:</b><i>database</i><b>,</b>... on the command line), then
      it will be disabled until another database with the same name is added
      again (with <b>ovsdb-server/add-db</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Any public key infrastructure options specified through
      this database (e.g. <b>--private-key=db:</b><i>database,</i>... on the
      command line) will be disabled until another database with the same name
      is added again (with <b>ovsdb-server/add-db</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/list-dbs</b></dt>
  <dd class="It-tag">Outputs a list of the currently configured databases added
      either through the command line or through the <b>ovsdb-server/add-db</b>
      command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/set-active-ovsdb-server
    </b><i>server</i></dt>
  <dd class="It-tag">Sets the active <i>server</i> from which
      <b>ovsdb-server</b> connects through
      <b>ovsdb-server/connect-active-ovsdb-server</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/get-active-ovsdb-server</b></dt>
  <dd class="It-tag">Gets the active server from which <b>ovsdb-server</b> is
      currently synchronizing its databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/connect-active-ovsdb-server</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to synchronize its databases
      with the server specified by
    <b>ovsdb-server/set-active-ovsdb-server</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/disconnect-active-ovsdb-server</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to stop synchronizing its
      databases with a active server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/set-sync-exclude-tables
    </b><i>db</i><b>:</b>
    <i>table</i>[<b>,</b><i>db</i><b>:</b><i>table</i>]...</dt>
  <dd class="It-tag">Sets the <i>table</i> whitin <i>db</i> that will be
      excluded from synchronization.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/get-sync-exclude-tables</b></dt>
  <dd class="It-tag">Gets the tables that are currently excluded from
      synchronization.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb-server/sync-status</b></dt>
  <dd class="It-tag">Prints a summary of replication run time information. The
      <b>state</b> information is always provided, indicating whether the server
      is running in the <i>active</i> or the <i>backup</i> mode. When running in
      backup mode, replication connection status, which can be either
      <i>connecting</i>, <i>replicating</i> or <i>error</i>, are shown. When the
      connection is in <i>replicating</i> state, further output shows the list
      of databases currently replicating, and the tables that are excluded.</dd>
</dl>
<h2 class="Ss" title="Ss" id="VLOG_COMMANDS"><a class="selflink" href="#VLOG_COMMANDS">VLOG
  COMMANDS</a></h2>
These commands manage <b>ovsdb-server</b>'s logging settings.
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/set</b> [<i>spec</i>]</dt>
  <dd class="It-tag">Sets logging levels. Without any <i>spec</i>, sets the log
      level for every module and destination to <b>dbg</b>. Otherwise,
      <i>spec</i> is a list of words separated by spaces or commas or colons, up
      to one from each category below:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A valid module name, as displayed by the <b>vlog/list</b>
      command on <b>ovs-appctl</b>(8), limits the log level change to the
      specified module.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>syslog</b>, <b>console</b>, or <b>file</b>, to limit the
      log level change to only to the system log, to the console, or to a file,
      respectively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows platform, <b>syslog</b> is accepted as a word
      and is only useful along with the <b>--syslog-target</b> option (the word
      has no effect otherwise).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>off</b>, <b>emer</b>, <b>err</b>, <b>warn</b>,
      <b>info</b>, or <b>dbg</b>, to control the log level. Messages of the
      given severity or higher will be logged, and messages of lower severity
      will be filtered out. <b>off</b> filters out all messages. See
      <b>ovs-appctl</b>(8) for a definition of each log level.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Case is not significant within <i>spec</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Regardless of the log levels set for <b>file</b>, logging
      to a file will not take place unless <b>ovsdb-server</b> was invoked with
      the <b>--log-file</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For compatibility with older versions of OVS, <b>any</b> is
      accepted as a word but has no effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/set
    PATTERN:</b><i>destination</i><b>:</b><i>pattern</i></dt>
  <dd class="It-tag">Sets the log pattern for <i>destination</i> to
      <i>pattern</i>. Refer to <b>ovs-appctl</b>(8) for a description of the
      valid syntax for <i>pattern</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/list</b></dt>
  <dd class="It-tag">Lists the supported logging modules and their current
      levels.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/list-pattern</b></dt>
  <dd class="It-tag">Lists logging patterns used for each destination.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/close</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to close its log file, if it is
      open. (Use <b>vlog/reopen</b> to reopen it later.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/reopen</b></dt>
  <dd class="It-tag">Causes <b>ovsdb-server</b> to close its log file, if it is
      open, and then reopen it. (This is useful after rotating log files, to
      cause a new log file to be used.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This has no effect unless <b>ovsdb-server</b> was invoked
      with the <b>--log-file</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/disable-rate-limit </b>[<i>module</i>]...</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vlog/enable-rate-limit </b>[<i>module</i>]...</dt>
  <dd class="It-tag">By default, <b>ovsdb-server</b> limits the rate at which
      certain messages can be logged. When a message would appear more
      frequently than the limit, it is suppressed. This saves disk space, makes
      logs easier to read, and speeds up execution, but occasionally
      troubleshooting requires more detail. Therefore,
      <b>vlog/disable-rate-limit</b> allows rate limits to be disabled at the
      level of an individual log module. Specify one or more module names, as
      displayed by the <b>vlog/list</b> command. Specifying either no module
      names at all or the keyword <b>any</b> disables rate limits for every log
      module.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The <b>vlog/enable-rate-limit</b> command, whose syntax is
      the same as <b>vlog/disable-rate-limit</b>, can be used to re-enable a
      rate limit that was previously disabled.</dd>
</dl>
<h2 class="Ss" title="Ss" id="MEMORY_COMMANDS"><a class="selflink" href="#MEMORY_COMMANDS">MEMORY
  COMMANDS</a></h2>
These commands report memory usage.
<dl class="Bl-tag">
  <dt class="It-tag"><b>memory/show</b></dt>
  <dd class="It-tag">Displays some basic statistics about <b>ovsdb-server</b>'s
      memory usage. <b>ovsdb-server</b> also logs this information soon after
      startup and periodically as its memory consumption grows.</dd>
</dl>
<h2 class="Ss" title="Ss" id="COVERAGE_COMMANDS"><a class="selflink" href="#COVERAGE_COMMANDS">COVERAGE
  COMMANDS</a></h2>
These commands manage <b>ovsdb-server</b>'s ``coverage counters,'' which count
  the number of times particular events occur during a daemon's runtime. In
  addition to these commands, <b>ovsdb-server</b> automatically logs coverage
  counter values, at <b>INFO</b> level, when it detects that the daemon's main
  loop takes unusually long to run.
<div class="Pp"></div>
Coverage counters are useful mainly for performance analysis and debugging.
<dl class="Bl-tag">
  <dt class="It-tag"><b>coverage/show</b></dt>
  <dd class="It-tag">Displays the averaged per-second rates for the last few
      seconds, the last minute and the last hour, and the total counts of all of
      the coverage counters.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SPECIFICATIONS"><a class="selflink" href="#SPECIFICATIONS">SPECIFICATIONS</a></h1>
<b>ovsdb-server</b> implements the Open vSwitch Database (OVSDB) protocol
  specified in RFC 7047, with the following clarifications:
<dl class="Bl-tag">
  <dt class="It-tag">3.1. JSON Usage</dt>
  <dd class="It-tag">RFC 4627 says that names within a JSON object should be
      unique. The Open vSwitch JSON parser discards all but the last value for a
      name that is specified more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The definition of &lt;error&gt; allows for implementation
      extensions. Currently <b>ovsdb-server</b> uses the following additional
      &quot;error&quot; strings which might change in later releases):</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>syntax error</b> or <b>unknown column</b></dt>
  <dd class="It-tag">The request could not be parsed as an OVSDB request. An
      additional &quot;syntax&quot; member, whose value is a string that
      contains JSON, may narrow down the particular syntax that could not be
      parsed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>internal error</b></dt>
  <dd class="It-tag">The request triggered a bug in <b>ovsdb-server</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ovsdb error</b></dt>
  <dd class="It-tag">A map or set contains a duplicate key.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">3.2. Schema Format</dt>
  <dd class="It-tag">RFC 7047 requires the &quot;version&quot; field in
      &lt;database-schema&gt;. Current versions of <b>ovsdb-server</b> allow it
      to be omitted (future versions are likely to require it).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">RFC 7047 allows columns that contain weak references to be
      immutable. This raises the issue of the behavior of the weak reference
      when the rows that it references are deleted. Since version 2.6,
      <b>ovsdb-server</b> forces columns that contain weak references to be
      mutable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4. Wire Protocol</dt>
  <dd class="It-tag">The original OVSDB specifications included the following
      reason, omitted from RFC 7047, to operate JSON-RPC directly over a stream
      instead of over HTTP:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">JSON-RPC is a peer-to-peer protocol, but HTTP is a
      client-server protocol, which is a poor match. Thus, JSON-RPC over HTTP
      requires the client to periodically poll the server to receive server
      requests.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">HTTP is more complicated than stream connections and
      doesn't provide any corresponding advantage.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The JSON-RPC specification for HTTP transport is
      incomplete.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">4.1.5. Monitor</dt>
  <dd class="It-tag">For backward compatibility, <b>ovsdb-server</b> currently
      permits a single &lt;monitor-request&gt; to be used instead of an array;
      it is treated as a single-element array. Future versions of
      <b>ovsdb-server</b> might remove this compatibility feature.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Because the &lt;json-value&gt; parameter is used to match
      subsequent update notifications (see below) to the request, it must be
      unique among all active monitors. <b>ovsdb-server</b> rejects attempt to
      create two monitors with the same identifier.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.1.12. Monitor_cond</dt>
  <dd class="It-tag">A new monitor method added in Open vSwitch version 2.6. The
      monitor_cond request enables a client to replicate subsets of tables
      within an OVSDB database by requesting notifications of changes to rows
      matching one of the conditions specified in &quot;where&quot; by receiving
      the specified contents of these rows when table updates occur.
      Monitor_cond also allows a more efficient update notifications by
      receiving table-updates2 notifications (described below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The monitor method described in Section 4.1.5 also applies
      to monitor_cond, with the following exceptions:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">RPC request method becomes &quot;monitor_cond&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Reply result follows &lt;table-updates2&gt;, described in
      Section 4.1.14.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Subsequent changes are sent to the client using the
      &quot;update2&quot; monitor notification, described in Section 4.1.14</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Update notifications are being sent only for rows matching
      [&lt;condition&gt;*].</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The request object has the following members:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
&quot;method&quot;: &quot;monitor_cond&quot;
&quot;params&quot;: [&lt;db-name&gt;, &lt;json-value&gt;, &lt;monitor-cond-requests&gt;]
&quot;id&quot;: &lt;nonnull-json-value&gt;
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &lt;json-value&gt; parameter is used to match
      subsequent update notifications (see below) to this request. The
      &lt;monitor-cond-requests&gt; object maps the name of the table to an
      array of &lt;monitor-cond-request&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Each &lt;monitor-cond-request&gt; is an object with the
      following members:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
&quot;columns&quot;: [&lt;column&gt;*]            optional
&quot;where&quot;: [&lt;condition&gt;*]           optional
&quot;select&quot;: &lt;monitor-select&gt;        optional
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &quot;columns&quot;, if present, define the columns
      within the table to be monitored that match conditions. If not present all
      columns are being monitored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &quot;where&quot; if present is a JSON array of
      &lt;condition&gt; and boolean values. If not present or condition is an
      empty array, implicit True will be considered and updates on all rows will
      be sent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&lt;monitor-select&gt; is an object with the following
      members:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
&quot;initial&quot;: &lt;boolean&gt;              optional
&quot;insert&quot;: &lt;boolean&gt;               optional
&quot;delete&quot;: &lt;boolean&gt;               optional
&quot;modify&quot;: &lt;boolean&gt;               optional
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The contents of this object specify how the columns or
      table are to be monitored as explained in more detail below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The response object has the following members:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
&quot;result&quot;: &lt;table-updates2&gt;
&quot;error&quot;: null
&quot;id&quot;: same &quot;id&quot; as request
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &lt;table-updates2&gt; object is described in detail in
      Section 4.1.14. It contains the contents of the tables for which
      &quot;initial&quot; rows are selected. If no tables initial contents are
      requested, then &quot;result&quot; is an empty object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Subsequently, when changes to a specified table that match
      one of the conditions in monitor-cond-request are committed, the changes
      are automatically sent to the client using the &quot;update2&quot; monitor
      notification (see Section 4.1.14). This monitoring persists until the
      JSON-RPC session terminates or until the client sends a
      &quot;monitor_cancel&quot; JSON-RPC request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Each &lt;monitor-cond-request&gt; specifies one or more
      conditions and the manner in which the rows that match the conditions are
      to be monitored. The circumstances in which an &quot;update&quot;
      notification is sent for a row within the table are determined by
      &lt;monitor-select&gt;:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">If &quot;initial&quot; is omitted or true, every row in the
      original table that matches one of the conditions is sent as part of the
      response to the &quot;monitor_cond&quot; request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">If &quot;insert&quot; is omitted or true,
      &quot;update&quot; notifications are sent for rows newly inserted into the
      table that match conditions or for rows modified in the table so that
      their old version does not match the condition and new version does.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">If &quot;delete&quot; is omitted or true,
      &quot;update&quot; notifications are sent for rows deleted from the table
      that match conditions or for rows modified in the table so that their old
      version does match the conditions and new version does not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">If &quot;modify&quot; is omitted or true,
      &quot;update&quot; notifications are sent whenever a row in the table that
      matches conditions in both old and new version is modified.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Both monitor and monitor_cond sessions can exist
      concurrently. However, monitor and monitor_cond shares the same
      &lt;json-value&gt; parameter space; it must be unique among all monitor
      and monitor_cond sessions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.1.13. Monitor_cond_change</dt>
  <dd class="It-tag">The &quot;monitor_cond_change&quot; request enables a
      client to change an existing &quot;monitor_cond&quot; replication of the
      database by specifying a new condition and columns for each replicated
      table. Currently changing the columns set is not supported.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The request object has the following members:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
&quot;method&quot;: &quot;monitor_cond_change&quot;
&quot;params&quot;: [&lt;json-value&gt;, &lt;json-value&gt;, &lt;monitor-cond-update-requests&gt;]
&quot;id&quot;: &lt;nonnull-json-value&gt;
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &lt;json-value&gt; parameter should have a value of an
      existing conditional monitoring session from this client. The second
      &lt;json-value&gt; in params array is the requested value for this
      session. This value is valid only after &quot;monitor_cond_change&quot; is
      committed. A user can use these values to distinguish between update
      messages before conditions update and after. The
      &lt;monitor-cond-update-requests&gt; object maps the name of the table to
      an array of &lt;monitor-cond-update-request&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Each &lt;monitor-cond-update-request&gt; is an object with
      the following members:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
&quot;columns&quot;: [&lt;column&gt;*]         optional
&quot;where&quot;: [&lt;condition&gt;*]        optional
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &quot;columns&quot; specify a new array of columns to
      be monitored (Currently unsupported).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &quot;where&quot; specify a new array of conditions to
      be applied to this monitoring session.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The response object has the following members:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
&quot;result&quot;: null
&quot;error&quot;: null
&quot;id&quot;: same &quot;id&quot; as request
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Subsequent &lt;table-updates2&gt; notifications are
      described in detail in Section 4.1.14 in the RFC. If insert contents are
      requested by original monitor_cond request, &lt;table-updates2&gt; will
      contain rows that match the new condition and do not match the old
      condition. If deleted contents are requested by origin monitor request,
      &lt;table-updates2&gt; will contain any matched rows by old condition and
      not matched by the new condition.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Changes according to the new conditions are automatically
      sent to the client using the &quot;update2&quot; monitor notification. An
      update, if any, as a result of a condition change, will be sent to the
      client before the reply to the &quot;monitor_cond_change&quot;
    request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.1.14. Update2 notification</dt>
  <dd class="It-tag">The &quot;update2&quot; notification is sent by the server
      to the client to report changes in tables that are being monitored
      following a &quot;monitor_cond&quot; request as described above. The
      notification has the following members:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
&quot;method&quot;: &quot;update2&quot;
&quot;params&quot;: [&lt;json-value&gt;, &lt;table-updates2&gt;]
&quot;id&quot;: null
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The &lt;json-value&gt; in &quot;params&quot; is the same as
      the value passed as the &lt;json-value&gt; in &quot;params&quot; for the
      corresponding &quot;monitor&quot; request. &lt;table-updates2&gt; is an
      object that maps from a table name to a &lt;table-update2&gt;. A
      &lt;table-update2&gt; is an object that maps from row's UUID to a
      &lt;row-update2&gt; object. A &lt;row-update2&gt; is an object with one of
      the following members:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;initial&quot;: &lt;row&gt;</dt>
  <dd class="It-tag">present for &quot;initial&quot; updates</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;insert&quot;: &lt;row&gt;</dt>
  <dd class="It-tag">present for &quot;insert&quot; updates</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;delete&quot;: &lt;row&gt;</dt>
  <dd class="It-tag">present for &quot;delete&quot; updates</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;modify&quot;: &lt;row&gt;</dt>
  <dd class="It-tag">present for &quot;modify&quot; updates</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The format of &lt;row&gt; is described in Section 5.1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&lt;row&gt; is always a null object for a
      &quot;delete&quot; update. In &quot;initial&quot; and &quot;insert&quot;
      updates, &lt;row&gt; omits columns whose values equal the default value of
      the column type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For a &quot;modify&quot; update, &lt;row&gt; contains only
      the columns that are modified. &lt;row&gt; stores the difference between
      the old and new value for those columns, as described below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For columns with single value, the difference is the value
      of the new column.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The difference between two sets are all elements that only
      belong to one of the sets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The difference between two maps are all key-value pairs
      whose keys appears in only one of the maps, plus the key-value pairs whose
      keys appear in both maps but with different values. For the latter
      elements, &lt;row&gt; includes the value from the new column.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Initial views of rows are not presented in update2
      notifications, but in the response object to the monitor_cond request. The
      formatting of the &lt;table-updates2&gt; object, however, is the same in
      either case.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.1.15. Get Server ID</dt>
  <dd class="It-tag">A new RPC method added in Open vSwitch version 2.7. The
      request contains the following members:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
&quot;method&quot;: &quot;get_server_id&quot;
&quot;params&quot;: null
&quot;id&quot;: &lt;nonnull-json-value&gt;
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The response object contains the following members:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
&quot;result&quot;: &quot;&lt;server_id&gt;&quot;
&quot;error&quot;: null
&quot;id&quot;: same &quot;id&quot; as request
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&lt;server_id&gt; is JSON string that contains a UUID that
      uniquely identifies the running OVSDB server process. A fresh UUID is
      generated when the process restarts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5.1. Notation</dt>
  <dd class="It-tag">For &lt;condition&gt;, RFC 7047 only allows the use of
      <b>!=</b>, <b>==</b>, <b>includes</b>, and <b>excludes</b> operators with
      set types. Open vSwitch 2.4 and later extend &lt;condition&gt; to allow
      the use of <b>&lt;</b>, <b>&lt;=</b>, <b>&gt;=</b>, and <b>&gt;</b>
      operators with columns with type ``set of 0 or 1 integer'' and ``set of 0
      or 1 real''. These conditions evaluate to false when the column is empty,
      and otherwise as described in RFC 7047 for integer and real types.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&lt;condition&gt; is specified in Section 5.1 in the RFC
      with the following change: A condition can be either a 3-element JSON
      array as described in the RFC or a boolean value. In case of an empty
      array an implicit true boolean value will be considered.</dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
In Open vSwitch before version 2.4, when <b>ovsdb-server</b> sent JSON-RPC error
  responses to some requests, it incorrectly formulated them with the
  <b>result</b> and <b>error</b> swapped, so that the response appeared to
  indicate success (with a nonsensical result) rather than an error. The
  requests that suffered from this problem were:
<dl class="Bl-tag">
  <dt class="It-tag"><b>transact</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_schema</b></dt>
  <dd class="It-tag">Only if the request names a nonexistent database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>monitor</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lock</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unlock</b></dt>
  <dd class="It-tag">In all error cases.</dd>
</dl>
<div class="Pp"></div>
Of these cases, the only error that a well-written application is likely to
  encounter in practice is <b>monitor</b> of tables or columns that do not
  exist, in an situation where the application has been upgraded but the old
  database schema is still temporarily in use. To handle this situation
  gracefully, we recommend that clients should treat a <b>monitor</b> response
  with a <b>result</b> that contains an <b>error</b> key-value pair as an error
  (assuming that the database being monitored does not contain a table named
  <b>error</b>).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ovsdb-tool</b>(1).</div>
<table class="foot">
  <tr>
    <td class="foot-date">2.7.0</td>
    <td class="foot-os">Open vSwitch</td>
  </tr>
</table>
</body>
</html>
