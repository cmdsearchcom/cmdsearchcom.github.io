<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>bup-gc(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">bup-gc(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">bup-gc(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bup-gc - remove unreferenced, unneeded data (CAUTION: EXPERIMENTAL)
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
bup gc [-#|--verbose] &lt; <i>branch</i>|<i>save</i>...&gt;
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
bup&#x00A0;gc removes (permanently deletes) unreachable data from the
  repository, data that isn't referred to directly or indirectly by the current
  set of branches (backup sets) and tags. But bear in mind that given
  deduplication, deleting a save and running the garbage collector might or
  might not actually delete anything (or reclaim any space).
<div class="Pp"></div>
With the current, proababilistic implementation, some fraction of the
  unreachable data may be retained. In exchange, the garbage collection should
  require much less RAM than might by some more precise approaches.
<div class="Pp"></div>
Typically, the garbage collector would be invoked after some set of invocations
  of bup&#x00A0;rm.
<div class="Pp"></div>
WARNING: This is one of the few bup commands that modifies your archive in
  intentionally destructive ways. Though if an attempt to join or restore the
  data you still care about after a gc succeeds, that's a fairly encouraging
  sign that the commands worked correctly. (The t/compare-trees command in the
  source tree can be used to help test before/after results.)
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--threshold=N</b></dt>
  <dd class="It-tag">only rewrite a packfile if it's over N percent garbage;
      otherwise leave it alone. The default threshold is 10%.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">increase verbosity (can be used more than once). With one
      -v, bup prints every directory name as it gets backed up. With two -v, it
      also prints every filename.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-<i>#</i>, --compress=<i>#</i></b></dt>
  <dd class="It-tag">set the compression level to # (a value from 0-9, where 9
      is the highest and 0 is no compression). The default is 1 (fast, loose
      compression).</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
#&#x00A0;Remove&#x00A0;all&#x00A0;saves&#x00A0;of&#x00A0;&quot;home&quot;&#x00A0;and&#x00A0;most&#x00A0;of&#x00A0;the&#x00A0;otherwise&#x00A0;unreferenced&#x00A0;data.
$&#x00A0;bup&#x00A0;rm&#x00A0;home
$&#x00A0;bup&#x00A0;gc
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
bup-rm(1) and bup-fsck(1)
<h1 class="Sh" title="Sh" id="BUP"><a class="selflink" href="#BUP">BUP</a></h1>
Part of the bup(1) suite.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Rob Browning &lt;rlb@defaultvalue.org&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-01-01</td>
    <td class="foot-os">Bup debian/0.29-2</td>
  </tr>
</table>
</body>
</html>
