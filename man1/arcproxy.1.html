<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>APPROXY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">APPROXY(1)</td>
    <td class="head-vol">NorduGrid Users Manual</td>
    <td class="head-rtitle">APPROXY(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
arcproxy - ARC Credentials Proxy generation utility
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>arcproxy</b> [ <i>OPTION</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
arcproxy generates proxy credentials (general proxy certificate, or proxy
  certificate with VOMS AC extenstion) from private key and certificate of user.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">prints short usage description
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b> <i>filename</i></dt>
  <dd class="It-tag">location of the generated proxy file
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b></dt>
  <dd class="It-tag">location of X509 certificate file, the file can be either
      pem, der, or pkcs12 formated; if this option is not set, then env
      X509_USER_CERT will be searched; if X509_USER_CERT env is not set, then
      certificatepath item in client.conf will be searched; if the location
      still is not found, then ~/.arc/, ~/.globus/, ./etc/arc, and ./ will be
      searched.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b></dt>
  <dd class="It-tag">location of private key file, if the certificate is in
      pkcs12 format, then no need to give private key; if this option is not
      set, then env X509_USER_KEY will be searched; if X509_USER_KEY env is not
      set, then keypath item in client.conf will be searched; if the location
      still is not found, then ~/.arc/, ~/.globus/, ./etc/arc, and ./ will be
      searched.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b></dt>
  <dd class="It-tag">path to trusted certificate directory, only needed for VOMS
      client functionality; if this option is not set, then env X509_CERT_DIR
      will be searched; if X509_CERT_DIR env is not set, then
      cacertificatesdirectory item in client.conf will be searched.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">path to top directory of VOMS *.lsc files, only needed for
      VOMS client functionality
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">path to VOMS server configuration file, only needed for
      VOMS client functionality if the path is a directory rather than a file,
      all of the files under this directory will be searched
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b></dt>
  <dd class="It-tag">voms&lt;:command&gt;. Specify VOMS server.
    <br/>
     :command is optional, and is used to ask for specific attributes(e.g:
      roles)
    <br/>
     command option is:
    <br/>
     all --- put all of this DN's attributes into AC;
    <br/>
     list ---list all of the DN's attribute,will not create AC extension;
    <br/>
     /Role=yourRole --- specify the role, if this DN
    <br/>
     has such a role, the role will be put into AC
    <br/>
     /voname/groupname/Role=yourRole --- specify the vo,group and role if this
      DN
    <br/>
     has such a role, the role will be put into AC
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">group&lt;:role&gt;. Specify ordering of attributes.
    <br/>
     Example: --order /knowarc.eu/coredev:Developer,/knowarc.eu/testers:Tester
    <br/>
     or: --order /knowarc.eu/coredev:Developer --order
      /knowarc.eu/testers:Tester
    <br/>
     Note that it does not make sense to specify the order if you have two or
      more different VOMS server specified
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b></dt>
  <dd class="It-tag">use GSI communication protocol for contacting VOMS services
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b></dt>
  <dd class="It-tag">use HTTP communication protocol for contacting VOMS
      services that provide RESTful access
    <br/>
     Note for RESTful access, 'list' command and multiple VOMS server are not
      supported
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b></dt>
  <dd class="It-tag">this option is not functional anymore (old GSI proxies are
      not supported)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">print all information about this proxy.
    <br/>
     In order to show the Identity (DN without CN as subfix for proxy)
    <br/>
     of the certificate, the 'trusted certdir' is needed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">print selected information about this proxy. Currently
      following information items are supported:
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>subject</b> - subject name of proxy certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>identity</b> - identity subject name of proxy certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>issuer</b> - issuer subject name of proxy certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>ca</b> - subject name of CA which issued initial certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>path</b> - file system path to file containing proxy.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>type</b> - type of proxy certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityStart</b> - timestamp when proxy validity starts.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityEnd</b> - timestamp when proxy validity ends.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityPeriod</b> - duration of proxy validity in seconds.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityLeft</b> - duration of proxy validity left in seconds.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsVO</b> - VO name represented by VOMS attribute.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsSubject</b> - subject of certificate for which VOMS attribute is
      issued.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsIssuer</b> - subject of service which issued VOMS certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsACvalidityStart</b> - timestamp when VOMS attribute validity starts.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsACvalidityEnd</b> - timestamp when VOMS attribute validity ends.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsACvalidityPeriod</b> - duration of VOMS attribute validity in
      seconds.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsACvalidityLeft</b> - duration of VOMS attribute validity left in
      seconds.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>proxyPolicy</b>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>keybits</b> - size of proxy certificate key in bits.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>signingAlgorithm</b> - algorithm used to sign proxy certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    Items are printed in requested order and are separated by newline. If item
      has multiple values they are printed in same line separated by |.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Remove the proxy file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag">Username to myproxy server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b></dt>
  <dd class="It-tag">don't prompt for a credential passphrase, when retrieve a
      credential from on MyProxy server.
    <br/>
     The precondition of this choice is the credential is PUT onto
    <br/>
     the MyProxy server without a passphrase by using -R (--retrievable_by_cert)
    <br/>
     option when being PUTing onto Myproxy server.
    <br/>
     This option is specific for the GET command when contacting Myproxy server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b></dt>
  <dd class="It-tag">Allow specified entity to retrieve credential without
      passphrase.
    <br/>
     This option is specific for the PUT command when contacting Myproxy server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b></dt>
  <dd class="It-tag">hostname of myproxy server optionally followed by colon and
      port number, e.g.
    <br/>
     example.org:7512. If the port number has not
    <br/>
     been specified, 7512 is used by default.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b></dt>
  <dd class="It-tag">command to myproxy server. The command can be PUT and GET.
    <br/>
     PUT/put -- put a delegated credential to myproxy server;
    <br/>
     GET/get -- get a delegated credential from myproxy server,
    <br/>
     credential (certificate and key) is not needed in this case;
    <br/>
     myproxy functionality can be used together with VOMS functionality.
    <br/>
     voms and vomses can be used for Get command if VOMS attributes
    <br/>
     is required to be included in the proxy.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">use NSS credential DB in default Mozilla profiles,
      including Firefox, Seamonkey and Thunderbird.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">constraints of proxy certificate. Currently following
      constraints are supported:
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityStart=time</b> - time when certificate becomes valid. Default is
      now.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityEnd=time</b> - time when certificate becomes invalid. Default is
      43200 (12 hours) from start for local proxy and 7 days for delegated to
      MyProxy.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>validityPeriod=time</b> - for how long certificate is valid. Default is
      43200 (12 hours)for local proxy and 7 days for delegated to MyProxy.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>vomsACvalidityPeriod=time</b> - for how long the AC is valid. Default is
      shorter of validityPeriod and 12 hours.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>myproxyvalidityPeriod=time</b> - lifetime of proxies delegated by
      myproxy server. Default is shorter of validityPeriod and 12 hours.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>proxyPolicy=policy content</b> - assigns specified string to proxy
      policy to limit it's functionality.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>keybits=number</b> - length of the key to generate. Default is 1024
      bits. Special value 'inherit' is to use key length of signing certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>signingAlgorithm=name</b> - signing algorithm to use for signing public
      key of proxy. Default is sha1. Possible values are sha1, sha2 (alias for
      sha256), sha224, sha256, sha384, sha512 and inherit (use algorithm of
      signing certificate).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">password destination=password source. Supported password
      destinations are:
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>key</b> - for reading private key
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>myproxy</b> - for accessing credentials at MyProxy service
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>myproxynew</b> - for creating credentials at MyProxy service
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>all</b> - for any purspose.
    <div style="height: 1.00em;">&#x00A0;</div>
    Supported password sources are:
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>quoted string (&quot;password&quot;)</b> - explicitly specified password
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>int</b> - interactively request password from console
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>stdin</b> - read password from standard input delimited by newline
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>file:filename</b> - read password from file named filename
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>stream:#</b> - read password from input stream number #. Currently only
      0 (standard input) is supported.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">timeout in seconds (default 20)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">configuration file (default ~/.arc/client.conf)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">level of information printed. Possible values are DEBUG,
      VERBOSE, INFO, WARNING, ERROR and FATAL.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">print version information
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
If location of certificate and key are not exlicitly specified they are looked
  for in following location and order:
<div style="height: 1.00em;">&#x00A0;</div>
Key/certificate paths specified by the environment variables X509_USER_KEY and
  X509_USER_CERT respectively.
<div style="height: 1.00em;">&#x00A0;</div>
Paths specified in configuration file.
<div style="height: 1.00em;">&#x00A0;</div>
~/.arc/usercert.pem and ~/.arc/userkey.pem for certificate and key respectively.
<div style="height: 1.00em;">&#x00A0;</div>
~/.globus/usercert.pem and ~/.globus/userkey.pem for certificate and key
  respectively.
<div style="height: 1.00em;">&#x00A0;</div>
If destination location of proxy file is not specified, the value of
  X509_USER_PROXY environment variable is used explicitly. If no value is
  provided, the default location is used - &lt;TEMPORARY
  DIRECTORY&gt;/x509up_u&lt;USER ID&gt;. Here TEMPORARY DIRECTORY is derived
  from environment variables TMPDIR, TMP, TEMP or default location /tmp is used.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to http://bugzilla.nordugrid.org/
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ARC_LOCATION</b></dt>
  <dd class="It-tag">The location where ARC is installed can be specified by
      this variable. If not specified the install location will be determined
      from the path to the command being executed, and if this fails a WARNING
      will be given stating the location which will be used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ARC_PLUGIN_PATH</b></dt>
  <dd class="It-tag">The location of ARC plugins can be specified by this
      variable. Multiple locations can be specified by separating them by : (;
      in Windows). The default location is <b>$ARC_LOCATION</b>/lib/arc (\ in
      Windows).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
APACHE LICENSE Version 2.0
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/vomses</b></dt>
  <dd class="It-tag">Common file containing a list of selected VO contact point,
      one VO per line, for example:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;gin&quot; &quot;kuiken.nikhef.nl&quot;
    &quot;15050&quot;
    &quot;/O=dutchgrid/O=hosts/OU=nikhef.nl/CN=kuiken.nikhef.nl&quot;
    &quot;gin.ggf.org&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;nordugrid.org&quot; &quot;voms.uninett.no&quot;
    &quot;15015&quot; &quot;/O=Grid/O=NorduGrid/CN=host/voms.ndgf.org&quot;
    &quot;nordugrid.org&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.voms/vomses</b></dt>
  <dd class="It-tag">Same as <b>/etc/vomses</b> but located in user's home area.
      If exists, has precedence over <b>/etc/vomses</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">The order of the parsing of vomses location
  is:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">1. command line options</div>
<div style="margin-left: 5.00ex;">2. client configuration file
  ~/.arc/client.conf</div>
<div style="margin-left: 5.00ex;">3. $X509_VOMSES or $X509_VOMS_FILE</div>
<div style="margin-left: 5.00ex;">4. ~/.arc/vomses</div>
<div style="margin-left: 5.00ex;">5. ~/.voms/vomses</div>
<div style="margin-left: 5.00ex;">6. $ARC_LOCATION/etc/vomses (this is for
  Windows environment)</div>
<div style="margin-left: 5.00ex;">7. $ARC_LOCATION/etc/grid-security/vomses
  (this is for Windows environment)</div>
<div style="margin-left: 5.00ex;">8. $PWD/vomses</div>
<div style="margin-left: 5.00ex;">9. /etc/vomses</div>
<div style="margin-left: 5.00ex;">10. /etc/grid-security/vomses</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arc/client.conf</b></dt>
  <dd class="It-tag">Some options can be given default values by specifying them
      in the ARC client configuration file. By using the <b>--conffile</b>
      option a different configuration file can be used than the default.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
ARC software is developed by the NorduGrid Collaboration
  (http://www.nordugrid.org), please consult the AUTHORS file distributed with
  ARC. Please report bugs and feature requests to http://bugzilla.nordugrid.org
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>arccat</b>(1), <b>arcclean</b>(1), <b>arccp</b>(1), <b>arcget</b>(1),
  <b>arcinfo</b>(1), <b>arckill</b>(1), <b>arcls</b>(1), <b>arcmkdir</b>(1),
  <b>arcrenew</b>(1), <b>arcresub</b>(1), <b>arcresume</b>(1), <b>arcrm</b>(1),
  <b>arcstat</b>(1), <b>arcsub</b>(1), <b>arcsync</b>(1), <b>arctest</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-07-11</td>
    <td class="foot-os">NorduGrid ARC 5.3.2</td>
  </tr>
</table>
</body>
</html>
