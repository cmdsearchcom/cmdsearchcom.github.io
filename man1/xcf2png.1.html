<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:43:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>xcf2png(1) xcf2png(1)</p>

<p style="margin-top: 1em">NAME <br>
xcf2png - convert from GIMP xcf files to png format</p>

<p style="margin-top: 1em">SYNOPSIS <br>
xcf2png [ options ] filename [ layer names ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
xcf2png is a command-line tool that converts image files in
the XCF format used by gimp(1) to the generic image format
png, flattening layers if necessary. It does not need to
<br>
have the Gimp engine itself available.</p>

<p style="margin-top: 1em">GENERAL OPTIONS <br>
-A, --force-alpha <br>
Invent a trivial alpha channel even if the flattened image
is completely opaque.</p>

<p style="margin-top: 1em">-b color, --background color
<br>
Use this color for transparent pixels in the image. The
color can be given as #rrggbb or #rgb hexadecimal values, or
as an X11 color name (which will only work if a <br>
color name database can be found in one of a number of
standard locations).</p>

<p style="margin-top: 1em">-c, --color, --colour <br>
Force the output to use RGB color space even if it there are
more compact alternatives.</p>

<p style="margin-top: 1em">-C, --autocrop <br>
Set the converted part of the image such that it just
include the boundaries of the visible (or selected) layers.
This may make it either smaller or larger than the
can&acirc; <br>
vas, depending on the position and size of the visible
layers. (Note that the contents of the layers is not taken
into account when autocropping).</p>

<p style="margin-top: 1em">In the absence of options that
specify otherwise, the converted image will cover the entire
XCF canvas.</p>

<p style="margin-top: 1em">-D, --dissolve <br>
Do a &quot;dissolve&quot; step to eliminate partial
transparency after flattening. If -b is also given, this
happens before the background color is applied.</p>

<p style="margin-top: 1em">-f, --full-image <br>
First flatten the entire image to a memory buffer before
writing output. Then analyse the image to decide on the
details of the output format (e.g., whether a grayscale <br>
output is sufficient). Without this option, the program
flattens only a singe row of &quot;tiles&quot; (height 64)
at a time.</p>

<p style="margin-top: 1em">-g, --gray, --grey <br>
Force the output to be a grayscale image even if it may be
monochrome. If any colored pixels are encountered, exit with
status 103. This will be selected automatically <br>
if the output file&rsquo;s name ends with .pgm.</p>

<p style="margin-top: 1em">-G, --for-gif <br>
Assert that the flattened image will have no partial
transparency (allowing a more compact representation of the
alpha output). Exit with status 102 if the flattened <br>
image has any partial transparency. If -b is also given,
this tests whether there there is partial transparency
before applying the background color.</p>

<p style="margin-top: 1em">-h, --help <br>
Print an option summery to standard output and exit with a
return code of 0.</p>

<p style="margin-top: 1em">-j, --bzip <br>
Equivalent to -Z bzcat. Default if the filename ends with
bz2.</p>

<p style="margin-top: 1em">-o filename, --output filename
<br>
Write the converted picture to filename instead of to
standard output.</p>

<p style="margin-top: 1em">-O x,y, --offset x,y <br>
Offset the converted part of the image from the top-left
corner of the XCF canvas. Usually used with -S.</p>

<p style="margin-top: 1em">-S wxh, --size wxh <br>
Crop the converted image to width w and height h.</p>

<p style="margin-top: 1em">-T, --truecolor <br>
Use standard RGB compositing for flattening indexed layers.
Without this option, xcf2png will mimic the Gimp&rsquo;s
current strategy of rounding each alpha value to either <br>
full transparency or full opacity, and interpret all layer
modes as Normal.</p>

<p style="margin-top: 1em">-u, --utf8 <br>
Use the raw UTF-8 representation from the XCF file to
compare and display layer names. Ordinarily, layer names
will be converted to the character set of the current <br>
locale.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Print progress messages about the conversion to standard
error.</p>

<p style="margin-top: 1em">-V, --version <br>
Print the version numer of xcftools to standard output and
exit with a return code of 0.</p>

<p style="margin-top: 1em">-z, --gzip <br>
Equivalent to -Z zcat. Default if the filename ends with
gz.</p>

<p style="margin-top: 1em">-Z command, --unpack command
<br>
Specify a command that the input file is filtered through
before being interpreted as an XCF file. The command is
invoked as command filename and must produce output to <br>
its standard output. Note that it is not possible to specify
arguments as part of command. An uncompressor is selected
automatically if the filename ends with gz or <br>
bz2; to suppress this, use -Z cat (which is implemented
without actually starting a cat(1) process).</p>

<p style="margin-top: 1em">Several groups of options are
mutually incompatible; in each group the one given last will
win:</p>

<p style="margin-top: 1em">1) -A and -b.</p>

<p style="margin-top: 1em">2) -g and -c .</p>

<p style="margin-top: 1em">3) -D and -G.</p>

<p style="margin-top: 1em">4) -j, -z, and -Z.</p>

<p style="margin-top: 1em">5) -C and -O/-S.</p>

<p style="margin-top: 1em">LAYER SPECIFICATIONS <br>
If no layer name is given on the command line, all of the
visible layers in the XCF file are merged to produce the
output image. It is also possible to specify the layers to
<br>
merge explicitly, by giving their names as separate
arguments after the input filename. In that case, the output
will contain only the named layers. The layers will be
merged in <br>
the order they appear on the command line, with the leftmost
being &quot;at the bottom&quot; - that is, the layer
ordering in the XCF file will be ignored.</p>

<p style="margin-top: 1em">The following options can be
given after a layer name to override the global properties
of the layer:</p>

<p style="margin-top: 1em">--mask Enable the layer
mask.</p>

<p style="margin-top: 1em">--mode mode <br>
Set the layer mode (e.g., Normal or Multiply).</p>

<p style="margin-top: 1em">--nomask <br>
Disable the layer mask.</p>

<p style="margin-top: 1em">--opacity n <br>
Set the opacity on a scale from 0 to 255 (as used
internally)</p>

<p style="margin-top: 1em">--percent n <br>
Set the opacity on a scale from 0 to 100 (as in the Gimp
user interface).</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The exit status of xcf2png is</p>

<p style="margin-top: 1em">0 Success</p>

<p style="margin-top: 1em">20 Problems parsing the command
line, including unknown color names (or missing color name
directory) for -b.</p>

<p style="margin-top: 1em">21 The specified XCF file does
not exist or cannot be read.</p>

<p style="margin-top: 1em">22 A layer named on the command
line was not found, or the --mask option was used for a
layer that has no layer mask.</p>

<p style="margin-top: 1em">102 The -G option was given, yet
partial transparency was found.</p>

<p style="margin-top: 1em">103 -g was given, yet colored
pixels were found.</p>

<p style="margin-top: 1em">123 The XCF file contains
presumably valid features that xcftools does not support.
(As of this writing there is no known way of getting the
Gimp to write an XCF file that will <br>
provoke this return. Please notify the author if you
discover one).</p>

<p style="margin-top: 1em">125 The XCF file is
malformed.</p>

<p style="margin-top: 1em">126 An uncompression program
could not be executed, or terminated abnormally.</p>

<p style="margin-top: 1em">127 Unexpected I/O error,
internal errors, or other &quot;this can&rsquo;t
happen&quot; situations.</p>

<p style="margin-top: 1em">If an uncompression program
returns an error exit status, this will be returned from
xcf2png too.</p>

<p style="margin-top: 1em">BUGS AND LIMITATIONS <br>
When several partially transparent layers are merged, the
pixel values are interpolated without gamma correction. (The
Gimp also does it this way). Some slight rounding errors in
<br>
the interpolation are inevitable; xcf2png sometimes has
different rounding errors than the Gimp itself, especially
when more than two layers are involved, or in case of some
of <br>
the more exotic layer modes. These differences are usually
not visible to the eye.</p>

<p style="margin-top: 1em">Floating selections are
currently not handled correctly.</p>

<p style="margin-top: 1em">There are probably other bugs
lurking in corner cases. If you discover one, please notify
the author.</p>

<p style="margin-top: 1em">FILES <br>
/etc/X11/rgb.txt</p>

<p style="margin-top: 1em">/usr/share/X11/rgb.txt</p>

<p style="margin-top: 1em">/usr/lib/X11/rgb.txt <br>
Color name database for -b.</p>

<p style="margin-top: 1em">AUTHOR <br>
xcf2png was written by Henning Makholm
&lt;henning@makholm.net&gt;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
xcfinfo(1), xcf2pnm(1)</p>

<p style="margin-top: 1em">Xcftools 2006-02-12
xcf2png(1)</p>
<hr>
</body>
</html>
