<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:34:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PYTHONJENKINS(1) Python Jenkins PYTHONJENKINS(1)</p>

<p style="margin-top: 1em">NAME <br>
pythonjenkins - Python Jenkins Documentation</p>

<p style="margin-top: 1em">Python Jenkins is a python
wrapper for the Jenkins REST API which aims to provide a
more conventionally pythonic way of controlling a Jenkins
server. It provides a higher-level <br>
API containing a number of convenience functions.</p>

<p style="margin-top: 1em">We like to use python-jenkins to
automate our Jenkins servers. Here are some of the things
you can use it for:</p>

<p style="margin-top: 1em">&Acirc;&middot; Create new
jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; Copy existing
jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; Delete jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; Update jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; Get a
job&rsquo;s build information</p>

<p style="margin-top: 1em">&Acirc;&middot; Get Jenkins
master version information</p>

<p style="margin-top: 1em">&Acirc;&middot; Get Jenkins
plugin information</p>

<p style="margin-top: 1em">&Acirc;&middot; Start a build on
a job</p>

<p style="margin-top: 1em">&Acirc;&middot; Create nodes</p>

<p style="margin-top: 1em">&Acirc;&middot; Enable/Disable
nodes</p>

<p style="margin-top: 1em">&Acirc;&middot; Get information
on nodes</p>

<p style="margin-top: 1em">&Acirc;&middot;
Create/delete/reconfig views</p>

<p style="margin-top: 1em">&Acirc;&middot; Put server in
shutdown mode (quiet down)</p>

<p style="margin-top: 1em">&Acirc;&middot; List running
builds</p>

<p style="margin-top: 1em">&Acirc;&middot;
Create/delete/update folders [1]</p>

<p style="margin-top: 1em">&Acirc;&middot; Set the next
build number [2]</p>

<p style="margin-top: 1em">&Acirc;&middot; Install
plugins</p>

<p style="margin-top: 1em">&Acirc;&middot; and many
more..</p>

<p style="margin-top: 1em">To install:</p>

<p style="margin-top: 1em">$ sudo python setup.py
install</p>

<p style="margin-top: 1em">Online documentation:</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://python-jenkins.readthedocs.org/en/latest/</p>

<p style="margin-top: 1em">DEVELOPERS <br>
Bug report:</p>

<p style="margin-top: 1em">&Acirc;&middot;
https://bugs.launchpad.net/python-jenkins</p>

<p style="margin-top: 1em">Repository:</p>

<p style="margin-top: 1em">&Acirc;&middot;
https://git.openstack.org/cgit/openstack/python-jenkins</p>

<p style="margin-top: 1em">Cloning:</p>

<p style="margin-top: 1em">&Acirc;&middot; git clone
https://git.openstack.org/openstack/python-jenkins</p>

<p style="margin-top: 1em">Patches are submitted via Gerrit
at:</p>

<p style="margin-top: 1em">&Acirc;&middot;
https://review.openstack.org/</p>

<p style="margin-top: 1em">Please do not submit GitHub pull
requests, they will be automatically closed.</p>

<p style="margin-top: 1em">More details on how you can
contribute is available on our wiki at:</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://docs.openstack.org/infra/manual/developers.html</p>

<p style="margin-top: 1em">WRITING A PATCH <br>
We ask that all code submissions be flake8 clean. The
easiest way to do that is to run tox before submitting code
for review in Gerrit. It will run flake8 in the same manner
as <br>
the automated test suite that will run on proposed
patchsets.</p>

<p style="margin-top: 1em">INSTALLING WITHOUT SETUP.PY <br>
Then install the required python packages using pip:</p>

<p style="margin-top: 1em">$ sudo pip install
python-jenkins</p>

<p style="margin-top: 1em">FOOTNOTES <br>
[1] The free Cloudbees Folders Plugin provides support for a
subset of the full folders functionality. For the complete
capabilities you will need the paid for version of the <br>
plugin.</p>

<p style="margin-top: 1em">[2] The Next Build Number Plugin
provides support for setting the next build number.</p>

<p style="margin-top: 1em">API REFERENCE <br>
See examples at examples</p>

<p style="margin-top: 1em">exception
jenkins.JenkinsException <br>
General exception type for jenkins-API-related failures.</p>

<p style="margin-top: 1em">exception
jenkins.NotFoundException <br>
A special exception to call out the case of receiving a
404.</p>

<p style="margin-top: 1em">exception
jenkins.EmptyResponseException <br>
A special exception to call out the case receiving an empty
response.</p>

<p style="margin-top: 1em">exception
jenkins.BadHTTPException <br>
A special exception to call out the case of a broken HTTP
response.</p>

<p style="margin-top: 1em">exception
jenkins.TimeoutException <br>
A special exception to call out in the case of a socket
timeout.</p>

<p style="margin-top: 1em">jenkins.auth_headers(username,
password) <br>
Simple implementation of HTTP Basic Authentication.</p>

<p style="margin-top: 1em">Returns the
&rsquo;Authentication&rsquo; header value.</p>

<p style="margin-top: 1em">class jenkins.Jenkins(url,
username=None, password=None, timeout=&lt;object object&gt;)
<br>
Create handle to Jenkins instance.</p>

<p style="margin-top: 1em">All methods will raise
JenkinsException on failure.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; username --
Server username, str</p>

<p style="margin-top: 1em">&Acirc;&middot; password --
Server password, str</p>

<p style="margin-top: 1em">&Acirc;&middot; url -- URL of
Jenkins server, str</p>

<p style="margin-top: 1em">&Acirc;&middot; timeout --
Server connection timeout in secs (default: not set),
int</p>

<p style="margin-top: 1em">maybe_add_crumb(req)</p>

<p style="margin-top: 1em">get_job_info(name, depth=0,
fetch_all_builds=False) <br>
Get job information dictionary.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; depth -- JSON
depth, int</p>

<p style="margin-top: 1em">&Acirc;&middot; fetch_all_builds
-- If true, all builds will be retrieved from Jenkins.
Otherwise, Jenkins will only return the most recent 100
builds. This comes at the <br>
expense of an additional API call which may return
significant amounts of data. bool</p>

<p style="margin-top: 1em">Returns <br>
dictionary of job information</p>

<p style="margin-top: 1em">get_job_info_regex(pattern,
depth=0, folder_depth=0)</p>

<p style="margin-top: 1em">Get a list of jobs information
that contain names which match the <br>
regex pattern.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; pattern -- regex
pattern, str</p>

<p style="margin-top: 1em">&Acirc;&middot; depth -- JSON
depth, int</p>

<p style="margin-top: 1em">&Acirc;&middot; folder_depth --
folder level depth to search int</p>

<p style="margin-top: 1em">Returns <br>
List of jobs info, list</p>

<p style="margin-top: 1em">get_job_name(name) <br>
Return the name of a job using the API.</p>

<p style="margin-top: 1em">That is roughly an identity
method which can be used to quickly verify a job exist or is
accessible without causing too much stress on the server
side.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Job name, str</p>

<p style="margin-top: 1em">Returns <br>
Name of job or None</p>

<p style="margin-top: 1em">debug_job_info(job_name) <br>
Print out job info in more readable format.</p>

<p style="margin-top: 1em">jenkins_open(req,
add_crumb=True) <br>
Utility routine for opening an HTTP request to a Jenkins
server.</p>

<p style="margin-top: 1em">This should only be used to
extends the Jenkins API.</p>

<p style="margin-top: 1em">get_build_info(name, number,
depth=0) <br>
Get build information dictionary.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Build
number, int</p>

<p style="margin-top: 1em">&Acirc;&middot; depth -- JSON
depth, int</p>

<p style="margin-top: 1em">Returns <br>
dictionary of build information, dict</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; next_build_number =
server.get_job_info(&rsquo;build_name&rsquo;)[&rsquo;nextBuildNumber&rsquo;]
<br>
&gt;&gt;&gt; output =
server.build_job(&rsquo;build_name&rsquo;) <br>
&gt;&gt;&gt; from time import sleep; sleep(10) <br>
&gt;&gt;&gt; build_info =
server.get_build_info(&rsquo;build_name&rsquo;,
next_build_number) <br>
&gt;&gt;&gt; print(build_info) <br>
{u&rsquo;building&rsquo;: False, u&rsquo;changeSet&rsquo;:
{u&rsquo;items&rsquo;: [{u&rsquo;date&rsquo;:
u&rsquo;2011-12-19T18:01:52.540557Z&rsquo;,
u&rsquo;msg&rsquo;: u&rsquo;test&rsquo;,
u&rsquo;revision&rsquo;: 66, u&rsquo;user&rsquo;:
u&rsquo;unknown&rsquo;, u&rsquo;paths&rsquo;:
[{u&rsquo;editType&rsquo;: u&rsquo;edit&rsquo;,
u&rsquo;file&rsquo;:
u&rsquo;/branches/demo/index.html&rsquo;}]}],
u&rsquo;kind&rsquo;: u&rsquo;svn&rsquo;,
u&rsquo;revisions&rsquo;: [{u&rsquo;module&rsquo;:
u&rsquo;http://eaas-svn01.i3.level3.com/eaas&rsquo;,
u&rsquo;revision&rsquo;: 66}]}, u&rsquo;builtOn&rsquo;:
u&rsquo;&rsquo;, u&rsquo;description&rsquo;: None,
u&rsquo;artifacts&rsquo;: [{u&rsquo;relativePath&rsquo;:
u&rsquo;dist/eaas-87-2011-12-19_18-01-57.war&rsquo;,
u&rsquo;displayPath&rsquo;:
u&rsquo;eaas-87-2011-12-19_18-01-57.war&rsquo;,
u&rsquo;fileName&rsquo;:
u&rsquo;eaas-87-2011-12-19_18-01-57.war&rsquo;},
{u&rsquo;relativePath&rsquo;:
u&rsquo;dist/eaas-87-2011-12-19_18-01-57.war.zip&rsquo;,
u&rsquo;displayPath&rsquo;:
u&rsquo;eaas-87-2011-12-19_18-01-57.war.zip&rsquo;,
u&rsquo;fileName&rsquo;:
u&rsquo;eaas-87-2011-12-19_18-01-57.war.zip&rsquo;}],
u&rsquo;timestamp&rsquo;: 1324317717000,
u&rsquo;number&rsquo;: 87, u&rsquo;actions&rsquo;:
[{u&rsquo;parameters&rsquo;: [{u&rsquo;name&rsquo;:
u&rsquo;SERVICE_NAME&rsquo;, u&rsquo;value&rsquo;:
u&rsquo;eaas&rsquo;}, {u&rsquo;name&rsquo;:
u&rsquo;PROJECT_NAME&rsquo;, u&rsquo;value&rsquo;:
u&rsquo;demo&rsquo;}]}, {u&rsquo;causes&rsquo;:
[{u&rsquo;userName&rsquo;: u&rsquo;anonymous&rsquo;,
u&rsquo;shortDescription&rsquo;: u&rsquo;Started by user
anonymous&rsquo;}]}, {}, {}, {}], u&rsquo;id&rsquo;:
u&rsquo;2011-12-19_18-01-57&rsquo;, u&rsquo;keepLog&rsquo;:
False, u&rsquo;url&rsquo;:
u&rsquo;http://eaas-jenkins01.i3.level3.com:9080/job/build_war/87/&rsquo;,
u&rsquo;culprits&rsquo;: [{u&rsquo;absoluteUrl&rsquo;:
u&rsquo;http://eaas-jenkins01.i3.level3.com:9080/user/unknown&rsquo;,
u&rsquo;fullName&rsquo;: u&rsquo;unknown&rsquo;}],
u&rsquo;result&rsquo;: u&rsquo;SUCCESS&rsquo;,
u&rsquo;duration&rsquo;: 8826,
u&rsquo;fullDisplayName&rsquo;: u&rsquo;build_war
#87&rsquo;}</p>

<p style="margin-top: 1em">get_queue_info()</p>

<p style="margin-top: 1em">Returns <br>
list of job dictionaries, [dict]</p>

<p style="margin-top: 1em">Example::</p>

<p style="margin-top: 1em">&gt;&gt;&gt; queue_info =
server.get_queue_info() <br>
&gt;&gt;&gt; print(queue_info[0]) <br>
{u&rsquo;task&rsquo;: {u&rsquo;url&rsquo;:
u&rsquo;http://your_url/job/my_job/&rsquo;,
u&rsquo;color&rsquo;: u&rsquo;aborted_anime&rsquo;,
u&rsquo;name&rsquo;: u&rsquo;my_job&rsquo;},
u&rsquo;stuck&rsquo;: False, u&rsquo;actions&rsquo;:
[{u&rsquo;causes&rsquo;: [{u&rsquo;shortDescription&rsquo;:
u&rsquo;Started by timer&rsquo;}]}],
u&rsquo;buildable&rsquo;: False, u&rsquo;params&rsquo;:
u&rsquo;&rsquo;, u&rsquo;buildableStartMilliseconds&rsquo;:
1315087293316, u&rsquo;why&rsquo;: u&rsquo;Build #2,532 is
already in progress (ETA:10 min)&rsquo;,
u&rsquo;blocked&rsquo;: True}</p>

<p style="margin-top: 1em">cancel_queue(id) <br>
Cancel a queued build.</p>

<p style="margin-top: 1em">Parameters <br>
id -- Jenkins job id number for the build, int</p>

<p style="margin-top: 1em">get_info(item=&rsquo;&rsquo;,
query=None) <br>
Get information on this Master or item on Master.</p>

<p style="margin-top: 1em">This information includes job
list and view information and can be used to retreive
information on items such as job folders.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; item -- item to
get information about on this Master</p>

<p style="margin-top: 1em">&Acirc;&middot; query -- xpath
to extract information about on this Master</p>

<p style="margin-top: 1em">Returns <br>
dictionary of information about Master or item, dict</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; info =
server.get_info() <br>
&gt;&gt;&gt; jobs = info[&rsquo;jobs&rsquo;] <br>
&gt;&gt;&gt; print(jobs[0]) <br>
{u&rsquo;url&rsquo;:
u&rsquo;http://your_url_here/job/my_job/&rsquo;,
u&rsquo;color&rsquo;: u&rsquo;blue&rsquo;, <br>
u&rsquo;name&rsquo;: u&rsquo;my_job&rsquo;}</p>

<p style="margin-top: 1em">get_whoami() <br>
Get information about the user account that authenticated to
Jenkins. This is a simple way to verify that your
credentials are correct.</p>

<p style="margin-top: 1em">Returns <br>
Information about the current user dict</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; me =
server.get_whoami() <br>
&gt;&gt;&gt; print me[&rsquo;fullName&rsquo;] <br>
&gt;&gt;&gt; &rsquo;John&rsquo;</p>

<p style="margin-top: 1em">get_version() <br>
Get the version of this Master.</p>

<p style="margin-top: 1em">Returns <br>
This master&rsquo;s version number str</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; info =
server.get_version() <br>
&gt;&gt;&gt; print info <br>
&gt;&gt;&gt; 1.541</p>

<p style="margin-top: 1em">get_plugins_info(depth=2) <br>
Get all installed plugins information on this Master.</p>

<p style="margin-top: 1em">This method retrieves
information about each plugin that is installed on master
returning the raw plugin data in a JSON format.</p>

<p style="margin-top: 1em">Deprecated since version 0.4.9:
Use get_plugins() instead.</p>

<p style="margin-top: 1em">Parameters <br>
depth -- JSON depth, int</p>

<p style="margin-top: 1em">Returns <br>
info on all plugins [dict]</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; info =
server.get_plugins_info() <br>
&gt;&gt;&gt; print(info) <br>
[{u&rsquo;backupVersion&rsquo;: None,
u&rsquo;version&rsquo;: u&rsquo;0.0.4&rsquo;,
u&rsquo;deleted&rsquo;: False, <br>
u&rsquo;supportsDynamicLoad&rsquo;: u&rsquo;MAYBE&rsquo;,
u&rsquo;hasUpdate&rsquo;: True, <br>
u&rsquo;enabled&rsquo;: True, u&rsquo;pinned&rsquo;: False,
u&rsquo;downgradable&rsquo;: False, <br>
u&rsquo;dependencies&rsquo;: [], u&rsquo;url&rsquo;: <br>

u&rsquo;http://wiki.jenkins-ci.org/display/JENKINS/Gearman+Plugin&rsquo;,
<br>
u&rsquo;longName&rsquo;: u&rsquo;Gearman Plugin&rsquo;,
u&rsquo;active&rsquo;: True, u&rsquo;shortName&rsquo;: <br>
u&rsquo;gearman-plugin&rsquo;, u&rsquo;bundled&rsquo;:
False}, ..]</p>

<p style="margin-top: 1em">get_plugin_info(name, depth=2)
<br>
Get an installed plugin information on this Master.</p>

<p style="margin-top: 1em">This method retrieves
information about a specific plugin and returns the raw
plugin data in a JSON format. The passed in plugin name
(short or long) must be an <br>
exact match.</p>

<p style="margin-top: 1em">NOTE: <br>
Calling this method will query Jenkins fresh for the
information for all plugins on each call. If you need to
retrieve information for multiple plugins it&rsquo;s
rec&acirc; <br>
ommended to use get_plugins() instead, which will return a
multi key dictionary that can be accessed via either the
short or long name of the plugin.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name
(short or long) of plugin, str</p>

<p style="margin-top: 1em">&Acirc;&middot; depth -- JSON
depth, int</p>

<p style="margin-top: 1em">Returns <br>
a specific plugin dict</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; info =
server.get_plugin_info(&quot;Gearman Plugin&quot;) <br>
&gt;&gt;&gt; print(info) <br>
{u&rsquo;backupVersion&rsquo;: None, u&rsquo;version&rsquo;:
u&rsquo;0.0.4&rsquo;, u&rsquo;deleted&rsquo;: False, <br>
u&rsquo;supportsDynamicLoad&rsquo;: u&rsquo;MAYBE&rsquo;,
u&rsquo;hasUpdate&rsquo;: True, <br>
u&rsquo;enabled&rsquo;: True, u&rsquo;pinned&rsquo;: False,
u&rsquo;downgradable&rsquo;: False, <br>
u&rsquo;dependencies&rsquo;: [], u&rsquo;url&rsquo;: <br>

u&rsquo;http://wiki.jenkins-ci.org/display/JENKINS/Gearman+Plugin&rsquo;,
<br>
u&rsquo;longName&rsquo;: u&rsquo;Gearman Plugin&rsquo;,
u&rsquo;active&rsquo;: True, u&rsquo;shortName&rsquo;: <br>
u&rsquo;gearman-plugin&rsquo;, u&rsquo;bundled&rsquo;:
False}</p>

<p style="margin-top: 1em">get_plugins(depth=2) <br>
Return plugins info using helper class for version
comparison</p>

<p style="margin-top: 1em">This method retrieves
information about all the installed plugins and uses a
Plugin helper class to simplify version comparison. Also
uses a multi key dict to allow <br>
retrieval via either short or long names.</p>

<p style="margin-top: 1em">When printing/dumping the data,
the version will transparently return a unicode string,
which is exactly what was previously returned by the
API.</p>

<p style="margin-top: 1em">Parameters <br>
depth -- JSON depth, int</p>

<p style="margin-top: 1em">Returns <br>
info on all plugins [dict]</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; j = Jenkins() <br>
&gt;&gt;&gt; info = j.get_plugins() <br>
&gt;&gt;&gt; print(info) <br>
{(&rsquo;gearman-plugin&rsquo;, &rsquo;Gearman
Plugin&rsquo;): <br>
{u&rsquo;backupVersion&rsquo;: None, u&rsquo;version&rsquo;:
u&rsquo;0.0.4&rsquo;, <br>
u&rsquo;deleted&rsquo;: False,
u&rsquo;supportsDynamicLoad&rsquo;: u&rsquo;MAYBE&rsquo;,
<br>
u&rsquo;hasUpdate&rsquo;: True, u&rsquo;enabled&rsquo;:
True, u&rsquo;pinned&rsquo;: False, <br>
u&rsquo;downgradable&rsquo;: False,
u&rsquo;dependencies&rsquo;: [], u&rsquo;url&rsquo;: <br>

u&rsquo;http://wiki.jenkins-ci.org/display/JENKINS/Gearman+Plugin&rsquo;,
<br>
u&rsquo;longName&rsquo;: u&rsquo;Gearman Plugin&rsquo;,
u&rsquo;active&rsquo;: True, u&rsquo;shortName&rsquo;: <br>
u&rsquo;gearman-plugin&rsquo;, u&rsquo;bundled&rsquo;:
False}, ...}</p>

<p style="margin-top: 1em">get_jobs(folder_depth=0,
view_name=None) <br>
Get list of jobs.</p>

<p style="margin-top: 1em">Each job is a dictionary with
&rsquo;name&rsquo;, &rsquo;url&rsquo;, &rsquo;color&rsquo;
and &rsquo;fullname&rsquo; keys.</p>

<p style="margin-top: 1em">If the view_name parameter is
present, the list of jobs will be limited to only those
configured in the specified view. In this case, the job
dictionary &rsquo;fullname&rsquo; <br>
key would be equal to the job name.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; folder_depth --
Number of levels to search, int. By default 0, which will
limit search to toplevel. None disables the limit.</p>

<p style="margin-top: 1em">&Acirc;&middot; view_name --
Name of a Jenkins view for which to retrieve jobs, str. By
default, the job list is not limited to a specific view.</p>

<p style="margin-top: 1em">Returns <br>
list of jobs, [{str: str, str: str, str: str, str: str}]</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; jobs =
server.get_jobs() <br>
&gt;&gt;&gt; print(jobs) <br>
[{ <br>
u&rsquo;name&rsquo;: u&rsquo;all_tests&rsquo;, <br>
u&rsquo;url&rsquo;:
u&rsquo;http://your_url.here/job/all_tests/&rsquo;, <br>
u&rsquo;color&rsquo;: u&rsquo;blue&rsquo;, <br>
u&rsquo;fullname&rsquo;: u&rsquo;all_tests&rsquo; <br>
}]</p>

<p style="margin-top: 1em">get_all_jobs(folder_depth=None)
<br>
Get list of all jobs recursively to the given folder
depth.</p>

<p style="margin-top: 1em">Each job is a dictionary with
&rsquo;name&rsquo;, &rsquo;url&rsquo;, &rsquo;color&rsquo;
and &rsquo;fullname&rsquo; keys.</p>

<p style="margin-top: 1em">Parameters <br>
folder_depth -- Number of levels to search, int. By default
None, which will search all levels. 0 limits to
toplevel.</p>

<p style="margin-top: 1em">Returns <br>
list of jobs, [ { str: str} ]</p>

<p style="margin-top: 1em">NOTE: <br>
On instances with many folders it may be more efficient to
use the run_script method to retrieve all jobs instead.</p>

<p style="margin-top: 1em">Example:</p>


<p style="margin-top: 1em">server.run_script(&quot;&quot;&quot;
<br>
import groovy.json.JsonBuilder;</p>

<p style="margin-top: 1em">// get all projects excluding
matrix configuration <br>
// as they are simply part of a matrix project. <br>
// there may be better ways to get just jobs <br>
items = Jenkins.instance.getAllItems(AbstractProject); <br>
items.removeAll { <br>
it instanceof hudson.matrix.MatrixConfiguration <br>
};</p>

<p style="margin-top: 1em">def json = new JsonBuilder()
<br>
def root = json { <br>
jobs items.collect { <br>
[ <br>
name: it.name, <br>
url: Jenkins.instance.getRootUrl() + it.getUrl(), <br>
color: it.getIconColor().toString(), <br>
fullname: it.getFullName() <br>
] <br>
} <br>
}</p>

<p style="margin-top: 1em">// use json.toPrettyString() if
viewing <br>
println json.toString() <br>
&quot;&quot;&quot;)</p>

<p style="margin-top: 1em">copy_job(from_name, to_name)
<br>
Copy a Jenkins job.</p>

<p style="margin-top: 1em">Will raise an exception whenever
the source and destination folder for this jobs won&rsquo;t
be the same.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; from_name --
Name of Jenkins job to copy from, str</p>

<p style="margin-top: 1em">&Acirc;&middot; to_name -- Name
of Jenkins job to copy to, str</p>

<p style="margin-top: 1em">Throws JenkinsException whenever
the source and destination folder are not the same</p>

<p style="margin-top: 1em">rename_job(from_name, to_name)
<br>
Rename an existing Jenkins job</p>

<p style="margin-top: 1em">Will raise an exception whenever
the source and destination folder for this jobs won&rsquo;t
be the same.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; from_name --
Name of Jenkins job to rename, str</p>

<p style="margin-top: 1em">&Acirc;&middot; to_name -- New
Jenkins job name, str</p>

<p style="margin-top: 1em">Throws JenkinsException whenever
the source and destination folder are not the same</p>

<p style="margin-top: 1em">delete_job(name) <br>
Delete Jenkins job permanently.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins job, str</p>

<p style="margin-top: 1em">enable_job(name) <br>
Enable Jenkins job.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins job, str</p>

<p style="margin-top: 1em">disable_job(name) <br>
Disable Jenkins job.</p>

<p style="margin-top: 1em">To re-enable, call
Jenkins.enable_job().</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins job, str</p>

<p style="margin-top: 1em">set_next_build_number(name,
number) <br>
Set a job&rsquo;s next build number.</p>

<p style="margin-top: 1em">The current next build number is
contained within the job information retrieved using
Jenkins.get_job_info(). If the specified next build number
is less than the <br>
last build number, Jenkins will ignore the request.</p>

<p style="margin-top: 1em">Note that the Next Build Number
Plugin must be installed to enable this functionality.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins job, str</p>

<p style="margin-top: 1em">&Acirc;&middot; number -- Next
build number to set, int</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&gt;&gt;&gt; next_bn =
server.get_job_info(&rsquo;job_name&rsquo;)[&rsquo;nextBuildNumber&rsquo;]
<br>
&gt;&gt;&gt;
server.set_next_build_number(&rsquo;job_name&rsquo;, next_bn
+ 50)</p>

<p style="margin-top: 1em">job_exists(name) <br>
Check whether a job exists</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins job, str</p>

<p style="margin-top: 1em">Returns <br>
True if Jenkins job exists</p>

<p style="margin-top: 1em">jobs_count() <br>
Get the number of jobs on the Jenkins server</p>

<p style="margin-top: 1em">Returns <br>
Total number of jobs, int</p>

<p style="margin-top: 1em">NOTE: <br>
On instances with many folders it may be more efficient to
use the run_script method to retrieve the total number of
jobs instead.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em"># get all projects excluding
matrix configuration <br>
# as they are simply part of a matrix project. <br>
server.run_script( <br>
&quot;print(Hudson.instance.getAllItems(&quot; <br>
&quot; hudson.model.AbstractProject).count{&quot; <br>
&quot; !(it instanceof
hudson.matrix.MatrixConfiguration)&quot; <br>
&quot; })&quot;)</p>

<p style="margin-top: 1em">assert_job_exists(name,
exception_message=&rsquo;job[%s] does not exist&rsquo;) <br>
Raise an exception if a job does not exist</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins job, str</p>

<p style="margin-top: 1em">&Acirc;&middot;
exception_message -- Message to use for the exception.
Formatted with name</p>

<p style="margin-top: 1em">Throws JenkinsException whenever
the job does not exist</p>

<p style="margin-top: 1em">create_job(name, config_xml)
<br>
Create a new Jenkins job</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins job, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
config file text, str</p>

<p style="margin-top: 1em">get_job_config(name) <br>
Get configuration of existing Jenkins job.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins job, str</p>

<p style="margin-top: 1em">Returns <br>
job configuration (XML format)</p>

<p style="margin-top: 1em">reconfig_job(name, config_xml)
<br>
Change configuration of existing Jenkins job.</p>

<p style="margin-top: 1em">To create a new job, see
Jenkins.create_job().</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins job, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
New XML configuration, str</p>

<p style="margin-top: 1em">build_job_url(name,
parameters=None, token=None) <br>
Get URL to trigger build job.</p>

<p style="margin-top: 1em">Authenticated setups may require
configuring a token on the server side.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; parameters --
parameters for job, or None., dict</p>

<p style="margin-top: 1em">&Acirc;&middot; token --
(optional) token for building job, str</p>

<p style="margin-top: 1em">Returns <br>
URL for building job</p>

<p style="margin-top: 1em">build_job(name, parameters=None,
token=None) <br>
Trigger build job.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- name of
job</p>

<p style="margin-top: 1em">&Acirc;&middot; parameters --
parameters for job, or None, dict</p>

<p style="margin-top: 1em">&Acirc;&middot; token -- Jenkins
API token</p>

<p style="margin-top: 1em">run_script(script) <br>
Execute a groovy script on the jenkins master.</p>

<p style="margin-top: 1em">Parameters <br>
script -- The groovy script, string</p>

<p style="margin-top: 1em">Returns <br>
The result of the script run.</p>

<p style="margin-top: 1em">Example::</p>

<p style="margin-top: 1em">&gt;&gt;&gt; info =
server.run_script(&quot;println(Jenkins.instance.pluginManager.plugins)&quot;)
<br>
&gt;&gt;&gt; print(info) <br>
u&rsquo;[Plugin:windows-slaves, Plugin:ssh-slaves,
Plugin:translation, <br>
Plugin:cvs, Plugin:nodelabelparameter,
Plugin:external-monitor-job, <br>
Plugin:mailer, Plugin:jquery,
Plugin:antisamy-markup-formatter, <br>
Plugin:maven-plugin, Plugin:pam-auth]&rsquo;</p>

<p style="margin-top: 1em">install_plugin(name,
include_dependencies=True) <br>
Install a plugin and its dependencies from the Jenkins
public repository at
http://repo.jenkins-ci.org/repo/org/jenkins-ci/plugins</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- The
plugin short name, string</p>

<p style="margin-top: 1em">&Acirc;&middot;
include_dependencies -- Install the plugin&rsquo;s
dependencies, bool</p>

<p style="margin-top: 1em">Returns <br>
Whether a Jenkins restart is required, bool</p>

<p style="margin-top: 1em">Example::</p>

<p style="margin-top: 1em">&gt;&gt;&gt; info =
server.install_plugin(&quot;jabber&quot;) <br>
&gt;&gt;&gt; print(info) <br>
True</p>

<p style="margin-top: 1em">stop_build(name, number) <br>
Stop a running Jenkins build.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins job, str</p>

<p style="margin-top: 1em">&Acirc;&middot; number --
Jenkins build number for the job, int</p>

<p style="margin-top: 1em">get_running_builds() <br>
Return list of running builds.</p>

<p style="margin-top: 1em">Each build is a dict with keys
&rsquo;name&rsquo;, &rsquo;number&rsquo;, &rsquo;url&rsquo;,
&rsquo;node&rsquo;, and &rsquo;executor&rsquo;.</p>

<p style="margin-top: 1em">Returns <br>
List of builds, [ { str: str, str: int, str:str, str: str,
str: int} ]</p>

<p style="margin-top: 1em">Example::</p>

<p style="margin-top: 1em">&gt;&gt;&gt; builds =
server.get_running_builds() <br>
&gt;&gt;&gt; print(builds) <br>
[{&rsquo;node&rsquo;: &rsquo;foo-slave&rsquo;,
&rsquo;url&rsquo;:
&rsquo;https://localhost/job/test/15/&rsquo;, <br>
&rsquo;executor&rsquo;: 0, &rsquo;name&rsquo;:
&rsquo;test&rsquo;, &rsquo;number&rsquo;: 15}]</p>

<p style="margin-top: 1em">get_nodes() <br>
Get a list of nodes connected to the Master</p>

<p style="margin-top: 1em">Each node is a dict with keys
&rsquo;name&rsquo; and &rsquo;offline&rsquo;</p>

<p style="margin-top: 1em">Returns <br>
List of nodes, [ { str: str, str: bool} ]</p>

<p style="margin-top: 1em">get_node_info(name, depth=0)
<br>
Get node information dictionary</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Node
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; depth -- JSON
depth, int</p>

<p style="margin-top: 1em">Returns <br>
Dictionary of node info, dict</p>

<p style="margin-top: 1em">node_exists(name) <br>
Check whether a node exists</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins node, str</p>

<p style="margin-top: 1em">Returns <br>
True if Jenkins node exists</p>

<p style="margin-top: 1em">assert_node_exists(name,
exception_message=&rsquo;node[%s] does not exist&rsquo;)
<br>
Raise an exception if a node does not exist</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins node, str</p>

<p style="margin-top: 1em">&Acirc;&middot;
exception_message -- Message to use for the exception.
Formatted with name</p>

<p style="margin-top: 1em">Throws JenkinsException whenever
the node does not exist</p>

<p style="margin-top: 1em">delete_node(name) <br>
Delete Jenkins node permanently.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins node, str</p>

<p style="margin-top: 1em">disable_node(name,
msg=&rsquo;&rsquo;) <br>
Disable a node</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Jenkins
node name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; msg -- Offline
message, str</p>

<p style="margin-top: 1em">enable_node(name) <br>
Enable a node</p>

<p style="margin-top: 1em">Parameters <br>
name -- Jenkins node name, str</p>

<p style="margin-top: 1em">create_node(name,
numExecutors=2, nodeDescription=None,
remoteFS=&rsquo;/var/lib/jenkins&rsquo;, labels=None,
exclusive=False,
launcher=&rsquo;hudson.slaves.CommandLauncher&rsquo;, <br>
launcher_params={}) <br>
Create a node</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- name of
node to create, str</p>

<p style="margin-top: 1em">&Acirc;&middot; numExecutors --
number of executors for node, int</p>

<p style="margin-top: 1em">&Acirc;&middot; nodeDescription
-- Description of node, str</p>

<p style="margin-top: 1em">&Acirc;&middot; remoteFS --
Remote filesystem location to use, str</p>

<p style="margin-top: 1em">&Acirc;&middot; labels -- Labels
to associate with node, str</p>

<p style="margin-top: 1em">&Acirc;&middot; exclusive -- Use
this node for tied jobs only, bool</p>

<p style="margin-top: 1em">&Acirc;&middot; launcher -- The
launch method for the slave, jenkins.LAUNCHER_COMMAND,
jenkins.LAUNCHER_SSH, jenkins.LAUNCHER_JNLP,
jenkins.LAUNCHER_WINDOWS_SERVICE</p>

<p style="margin-top: 1em">&Acirc;&middot; launcher_params
-- Additional parameters for the launcher, dict</p>

<p style="margin-top: 1em">get_node_config(name) <br>
Get the configuration for a node.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Jenkins node name, str</p>

<p style="margin-top: 1em">reconfig_node(name, config_xml)
<br>
Change the configuration for an existing node.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Jenkins
node name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
New XML configuration, str</p>

<p style="margin-top: 1em">get_build_console_output(name,
number) <br>
Get build console text.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Build
number, int</p>

<p style="margin-top: 1em">Returns <br>
Build console output, str</p>

<p style="margin-top: 1em">get_view_name(name) <br>
Return the name of a view using the API.</p>

<p style="margin-top: 1em">That is roughly an identity
method which can be used to quickly verify a view exists or
is accessible without causing too much stress on the server
side.</p>

<p style="margin-top: 1em">Parameters <br>
name -- View name, str</p>

<p style="margin-top: 1em">Returns <br>
Name of view or None</p>

<p style="margin-top: 1em">assert_view_exists(name,
exception_message=&rsquo;view[%s] does not exist&rsquo;)
<br>
Raise an exception if a view does not exist</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins view, str</p>

<p style="margin-top: 1em">&Acirc;&middot;
exception_message -- Message to use for the exception.
Formatted with name</p>

<p style="margin-top: 1em">Throws JenkinsException whenever
the view does not exist</p>

<p style="margin-top: 1em">view_exists(name) <br>
Check whether a view exists</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins view, str</p>

<p style="margin-top: 1em">Returns <br>
True if Jenkins view exists</p>

<p style="margin-top: 1em">get_views() <br>
Get list of views running.</p>

<p style="margin-top: 1em">Each view is a dictionary with
&rsquo;name&rsquo; and &rsquo;url&rsquo; keys.</p>

<p style="margin-top: 1em">Returns <br>
list of views, [ { str: str} ]</p>

<p style="margin-top: 1em">delete_view(name) <br>
Delete Jenkins view permanently.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins view, str</p>

<p style="margin-top: 1em">create_view(name, config_xml)
<br>
Create a new Jenkins view</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins view, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
config file text, str</p>

<p style="margin-top: 1em">reconfig_view(name, config_xml)
<br>
Change configuration of existing Jenkins view.</p>

<p style="margin-top: 1em">To create a new view, see
Jenkins.create_view().</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins view, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
New XML configuration, str</p>

<p style="margin-top: 1em">get_view_config(name) <br>
Get configuration of existing Jenkins view.</p>

<p style="margin-top: 1em">Parameters <br>
name -- Name of Jenkins view, str</p>

<p style="margin-top: 1em">Returns <br>
view configuration (XML format)</p>

<p style="margin-top: 1em">get_promotion_name(name,
job_name) <br>
Return the name of a promotion using the API.</p>

<p style="margin-top: 1em">That is roughly an identity
method which can be used to quickly verify a promotion
exists for a job or is accessible without causing too much
stress on the server <br>
side.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; name --
Promotion name, str</p>

<p style="margin-top: 1em">Returns <br>
Name of promotion or None</p>

<p style="margin-top: 1em">assert_promotion_exists(name,
job_name, exception_message=&rsquo;promotion[%s] does not
exist for job[%s]&rsquo;) <br>
Raise an exception if a job lacks a promotion</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins promotion, str</p>

<p style="margin-top: 1em">&Acirc;&middot;
exception_message -- Message to use for the exception.
Formatted with name and job_name</p>

<p style="margin-top: 1em">Throws JenkinsException whenever
the promotion does not exist on a job</p>

<p style="margin-top: 1em">promotion_exists(name, job_name)
<br>
Check whether a job has a certain promotion</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins promotion, str</p>

<p style="margin-top: 1em">Returns <br>
True if Jenkins promotion exists</p>

<p style="margin-top: 1em">get_promotions_info(job_name,
depth=0) <br>
Get promotion information dictionary of a job</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name --
job_name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; depth -- JSON
depth, int</p>

<p style="margin-top: 1em">Returns <br>
Dictionary of promotion info, dict</p>

<p style="margin-top: 1em">get_promotions(job_name) <br>
Get list of promotions running.</p>

<p style="margin-top: 1em">Each promotion is a dictionary
with &rsquo;name&rsquo; and &rsquo;url&rsquo; keys.</p>

<p style="margin-top: 1em">Parameters <br>
job_name -- Job name, str</p>

<p style="margin-top: 1em">Returns <br>
list of promotions, [ { str: str} ]</p>

<p style="margin-top: 1em">delete_promotion(name, job_name)
<br>
Delete Jenkins promotion permanently.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins promotion, str</p>

<p style="margin-top: 1em">create_promotion(name, job_name,
config_xml) <br>
Create a new Jenkins promotion</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins promotion, str</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
config file text, str</p>

<p style="margin-top: 1em">reconfig_promotion(name,
job_name, config_xml) <br>
Change configuration of existing Jenkins promotion.</p>

<p style="margin-top: 1em">To create a new promotion, see
Jenkins.create_promotion().</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins promotion, str</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">&Acirc;&middot; config_xml --
New XML configuration, str</p>

<p style="margin-top: 1em">get_promotion_config(name,
job_name) <br>
Get configuration of existing Jenkins promotion.</p>

<p style="margin-top: 1em">Parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; name -- Name of
Jenkins promotion, str</p>

<p style="margin-top: 1em">&Acirc;&middot; job_name -- Job
name, str</p>

<p style="margin-top: 1em">Returns <br>
promotion configuration (XML format)</p>

<p style="margin-top: 1em">quiet_down() <br>
Prepare Jenkins for shutdown.</p>

<p style="margin-top: 1em">No new builds will be started
allowing running builds to complete prior to shutdown of the
server.</p>

<p style="margin-top: 1em">wait_for_normal_op(timeout) <br>
Wait for jenkins to enter normal operation mode.</p>

<p style="margin-top: 1em">Parameters <br>
timeout -- number of seconds to wait, int Note this is not
the same as the connection timeout set via __init__ as that
controls the socket timeout. Instead <br>
this is how long to wait until the status returned.</p>

<p style="margin-top: 1em">Returns <br>
True if Jenkins became ready in time, False otherwise.</p>

<p style="margin-top: 1em">Setting timeout to be less than
the configured connection timeout may result in this waiting
for at least the connection timeout length of time before
returning. It <br>
is recommended that the timeout here should be at least as
long as any set connection timeout.</p>

<p style="margin-top: 1em">class
jenkins.plugins.Plugin(*args, **kwargs) <br>
Dictionary object containing plugin metadata.</p>

<p style="margin-top: 1em">Populates dictionary using json
object input.</p>

<p style="margin-top: 1em">accepts same arguments as python
dict class.</p>

<p style="margin-top: 1em">class
jenkins.plugins.PluginVersion(version) <br>
Class providing comparison capabilities for plugin
versions.</p>

<p style="margin-top: 1em">Parse plugin version and store
it for comparison.</p>

<p style="margin-top: 1em">USING PYTHON-JENKINS <br>
The python-jenkins library allows management of a Jenkins
server through the Jenkins REST endpoints. Below are
examples to get you started using the library. If you need
further <br>
help take a look at the api docs for more details.</p>

<p style="margin-top: 1em">Example 1: Get version of
Jenkins <br>
This is an example showing how to connect to a Jenkins
instance and retrieve the Jenkins server version.</p>

<p style="margin-top: 1em">import jenkins</p>

<p style="margin-top: 1em">server =
jenkins.Jenkins(&rsquo;http://localhost:8080&rsquo;,
username=&rsquo;myuser&rsquo;,
password=&rsquo;mypassword&rsquo;) <br>
user = server.get_whoami() <br>
version = server.get_version() <br>
print(&rsquo;Hello %s from Jenkins %s&rsquo; %
(user[&rsquo;fullName&rsquo;], version))</p>

<p style="margin-top: 1em">The above code prints the
fullName attribute of the user and the version of the
Jenkins master running on &rsquo;localhost:8080&rsquo;. For
example, it may print &quot;Hello John from Jenkins <br>
2.0&quot;.</p>

<p style="margin-top: 1em">From Jenkins vesion 1.426 onward
you can specify an API token instead of your real password
while authenticating the user against the Jenkins instance.
Refer to the Jenkins <br>
Authentication wiki for details about how you can generate
an API token. Once you have an API token you can pass the
API token instead of a real password while creating a
Jenkins <br>
instance.</p>

<p style="margin-top: 1em">Example 2: Logging into Jenkins
using kerberos <br>
Kerberos support is only enabled if you have
&quot;kerberos&quot; python package installed. You can
install the &quot;kerberos&quot; package from PyPI using the
obvious pip command.</p>

<p style="margin-top: 1em">pip install kerberos</p>

<p style="margin-top: 1em">NOTE: <br>
This might require python header files as well as kerberos
header files.</p>

<p style="margin-top: 1em">If you have &quot;kerberos&quot;
python package installed, python-jenkins tries to
authenticate using kerberos automatically when the Jenkins
server replies &quot;401 Unauthorized&quot; and indi&acirc;
<br>
cates it supports kerberos. That is, kerberos authentication
should work automagically. For a quick test, just try the
following.</p>

<p style="margin-top: 1em">import jenkins</p>

<p style="margin-top: 1em">server =
jenkins.Jenkins(&rsquo;http://localhost:8080&rsquo;) <br>
print server.jobs_count()</p>

<p style="margin-top: 1em">NOTE: <br>
Jenkins as such does not support kerberos, it needs to be
supported by the Servlet container or a reverse proxy
sitting in front of Jenkins.</p>

<p style="margin-top: 1em">Example 3: Working with Jenkins
Jobs <br>
This is an example showing how to create, configure and
delete Jenkins jobs.</p>


<p style="margin-top: 1em">server.create_job(&rsquo;empty&rsquo;,
jenkins.EMPTY_CONFIG_XML) <br>
jobs = server.get_jobs() <br>
print jobs <br>
server.build_job(&rsquo;empty&rsquo;) <br>
server.disable_job(&rsquo;empty&rsquo;) <br>
server.copy_job(&rsquo;empty&rsquo;,
&rsquo;empty_copy&rsquo;) <br>
server.enable_job(&rsquo;empty_copy&rsquo;) <br>
server.reconfig_job(&rsquo;empty_copy&rsquo;,
jenkins.RECONFIG_XML)</p>


<p style="margin-top: 1em">server.delete_job(&rsquo;empty&rsquo;)
<br>
server.delete_job(&rsquo;empty_copy&rsquo;)</p>

<p style="margin-top: 1em"># build a parameterized job <br>
# requires creating and configuring the api-test job to
accept &rsquo;param1&rsquo; &amp; &rsquo;param2&rsquo; <br>
server.build_job(&rsquo;api-test&rsquo;,
{&rsquo;param1&rsquo;: &rsquo;test value 1&rsquo;,
&rsquo;param2&rsquo;: &rsquo;test value 2&rsquo;}) <br>
last_build_number =
server.get_job_info(&rsquo;api-test&rsquo;)[&rsquo;lastCompletedBuild&rsquo;][&rsquo;number&rsquo;]
<br>
build_info = server.get_build_info(&rsquo;api-test&rsquo;,
last_build_number) <br>
print build_info</p>

<p style="margin-top: 1em"># get all jobs from the specific
view <br>
jobs = server.get_jobs(view_name=&rsquo;View Name&rsquo;)
<br>
print jobs</p>

<p style="margin-top: 1em">Example 4: Working with Jenkins
Views <br>
This is an example showing how to create, configure and
delete Jenkins views.</p>


<p style="margin-top: 1em">server.create_view(&rsquo;EMPTY&rsquo;,
jenkins.EMPTY_VIEW_CONFIG_XML) <br>
view_config = server.get_view_config(&rsquo;EMPTY&rsquo;)
<br>
views = server.get_views() <br>
server.delete_view(&rsquo;EMPTY&rsquo;) <br>
print views</p>

<p style="margin-top: 1em">Example 5: Working with Jenkins
Plugins <br>
This is an example showing how to retrieve Jenkins plugins
information.</p>

<p style="margin-top: 1em">plugins =
server.get_plugins_info() <br>
print plugins</p>

<p style="margin-top: 1em">The above example will print a
dictionary containing all the plugins that are installed on
the Jenkins server. An example of what you can expect from
the get_plugins_info() <br>
method is documented in the api doc.</p>

<p style="margin-top: 1em">Example 6: Working with Jenkins
Nodes <br>
This is an example showing how to add, configure, enable and
delete Jenkins nodes.</p>


<p style="margin-top: 1em">server.create_node(&rsquo;slave1&rsquo;)
<br>
nodes = get_nodes() <br>
print nodes <br>
node_config = server.get_node_info(&rsquo;slave1&rsquo;)
<br>
print node_config <br>
server.disable_node(&rsquo;slave1&rsquo;) <br>
server.enable_node(&rsquo;slave1&rsquo;)</p>

<p style="margin-top: 1em"># create node with parameters
<br>
params = { <br>
&rsquo;port&rsquo;: &rsquo;22&rsquo;, <br>
&rsquo;username&rsquo;: &rsquo;juser&rsquo;, <br>
&rsquo;credentialsId&rsquo;:
&rsquo;10f3a3c8-be35-327e-b60b-a3e5edb0e45f&rsquo;, <br>
&rsquo;host&rsquo;: &rsquo;my.jenkins.slave1&rsquo; <br>
} <br>
server.create_node( <br>
&rsquo;slave1&rsquo;, <br>
nodeDescription=&rsquo;my test slave&rsquo;, <br>
remoteFS=&rsquo;/home/juser&rsquo;, <br>
labels=&rsquo;precise&rsquo;, <br>
exclusive=True, <br>
launcher=jenkins.LAUNCHER_SSH, <br>
launcher_params=params)</p>

<p style="margin-top: 1em">Example 7: Working with Jenkins
Build Queue <br>
This is an example showing how to retrieve information on
the Jenkins queue.</p>


<p style="margin-top: 1em">server.build_job(&rsquo;foo&rsquo;)
<br>
queue_info = server.get_queue_info() <br>
id = queue_info[0].get(&rsquo;id&rsquo;) <br>
server.cancel_queue(id)</p>

<p style="margin-top: 1em">Example 8: Working with Jenkins
Cloudbees Folders <br>
Requires the Cloudbees Folders Plugin for Jenkins.</p>

<p style="margin-top: 1em">This is an example showing how
to create, configure and delete Jenkins folders.</p>


<p style="margin-top: 1em">server.create_job(&rsquo;folder&rsquo;,
jenkins.EMPTY_FOLDER_XML) <br>
server.create_job(&rsquo;folder/empty&rsquo;,
jenkins.EMPTY_FOLDER_XML) <br>
server.copy_job(&rsquo;folder/empty&rsquo;,
&rsquo;folder/empty_copy&rsquo;) <br>
server.delete_job(&rsquo;folder/empty_copy&rsquo;) <br>
server.delete_job(&rsquo;folder&rsquo;)</p>

<p style="margin-top: 1em">Example 9: Updating Next Build
Number <br>
Requires the Next Build Number Plugin for Jenkins.</p>

<p style="margin-top: 1em">This is an example showing how
to update the next build number for a Jenkins job.</p>

<p style="margin-top: 1em">next_bn =
server.get_job_info(&rsquo;job_name&rsquo;)[&rsquo;nextBuildNumber&rsquo;]
<br>
server.set_next_build_number(&rsquo;job_name&rsquo;, next_bn
+ 50)</p>

<p style="margin-top: 1em">Example 9: Working with Build
Promotions <br>
Requires the Promoted Builds Plugin for Jenkins.</p>

<p style="margin-top: 1em">This is an example showing how
to create, configure and delete a promotion process for an
existing job.</p>

<p style="margin-top: 1em">The job in this example is named
prom_job and it needs to have this config xml snippet before
creating the promotion:</p>

<p style="margin-top: 1em">::</p>

<p style="margin-top: 1em">&lt;properties&gt; <br>
&lt;hudson.plugins.promoted__builds.JobPropertyImpl&gt;
&lt;activeProcessNames&gt; <br>
&lt;string&gt;prom_name&lt;/string&gt;</p>

<p style="margin-top: 1em">&lt;/activeProcessNames&gt;</p>


<p style="margin-top: 1em">&lt;/hudson.plugins.promoted__builds.JobPropertyImpl&gt;</p>

<p style="margin-top: 1em">&lt;/properties&gt;</p>

<p style="margin-top: 1em">where prom_name is the name of
the promotion that will get added to the job.</p>

<p style="margin-top: 1em">::
server.create_promotion(&rsquo;prom_name&rsquo;,
&rsquo;prom_job&rsquo;, jenkins.EMPTY_PROMO_CONFIG_XML)
server.promotion_exists(&rsquo;prom_name&rsquo;,
&rsquo;prom_job&rsquo;) print
server.get_promotions(&rsquo;prom_job&rsquo;)</p>


<p style="margin-top: 1em">server.reconfig_promotion(&rsquo;prom_name&rsquo;,
&rsquo;prom_job&rsquo;, jenkins.PROMO_RECONFIG_XML) print
server.get_promotion_config(&rsquo;prom_name&rsquo;,
&rsquo;prom_job&rsquo;)</p>


<p style="margin-top: 1em">server.delete_promotion(&rsquo;prom_name&rsquo;,
&rsquo;prom_job&rsquo;)</p>

<p style="margin-top: 1em">Example 10: Waiting for Jenkins
to be ready <br>
It is possible to ask the API to wait for Jenkins to be
ready with a given timeout. This can be used to aid
launching of Jenkins and then waiting for the REST API to be
respon&acirc; <br>
sive before continuing with subsequent configuration.</p>

<p style="margin-top: 1em">:: # timeout here is the socket
connection timeout, for each connection # attempt it will
wait at most 5 seconds before assuming there is # nothing
listening. Useful where <br>
firewalls may black hole connections. server =
jenkins.Jenkins(&rsquo;http://localhost:8080&rsquo;,
timeout=5)</p>

<p style="margin-top: 1em"># wait for at least 30 seconds
for Jenkins to be ready if server.wait_for_normal_op(30):
<br>
# actions once running</p>

<p style="margin-top: 1em">else: print(&quot;Jenkins failed
to be ready in sufficient time&quot;) exit 2</p>

<p style="margin-top: 1em">Note that the timeout arg to
jenkins.Jenkins() is the socket connection timeout. If you
set this to be more than the timeout value passed to
wait_for_normal_op(), then in cases <br>
where the underlying connection is not rejected (firewall
black-hole, or slow connection) then wait_for_normal_op()
may wait at least the connection timeout, or a multiple of
it <br>
where multiple connection attempts are made. A connection
timeout of 5 seconds and a wait timeout of 8 will result in
potentially waiting 10 seconds if both connections attempts
<br>
do not get responses.</p>

<p style="margin-top: 1em">INSTALLING <br>
The module is known to pip and Debian-based distributions as
python-jenkins.</p>

<p style="margin-top: 1em">pip:</p>

<p style="margin-top: 1em">pip install python-jenkins</p>

<p style="margin-top: 1em">easy_install:</p>

<p style="margin-top: 1em">easy_install python-jenkins</p>

<p style="margin-top: 1em">The module has been packaged
since Ubuntu Oneiric (11.10):</p>

<p style="margin-top: 1em">apt-get install
python-jenkins</p>

<p style="margin-top: 1em">And on Fedora 19 and later:</p>

<p style="margin-top: 1em">yum install python-jenkins</p>

<p style="margin-top: 1em">For development:</p>

<p style="margin-top: 1em">python setup.py develop</p>

<p style="margin-top: 1em">Documentation <br>
Documentation is included in the doc folder. To generate
docs locally execute the command:</p>

<p style="margin-top: 1em">tox -e docs</p>

<p style="margin-top: 1em">The generated documentation is
then available under doc/build/html/index.html.</p>

<p style="margin-top: 1em">Unit Tests <br>
Unit tests have been included and are in the tests folder.
We recently started including unit tests as examples in our
documentation so to keep the examples up to date it is <br>
very important that we include unit tests for every module.
To run the unit tests, execute the command:</p>

<p style="margin-top: 1em">tox -e py27</p>

<p style="margin-top: 1em">&Acirc;&middot; Note: View
tox.ini to run tests on other versions of Python.</p>

<p style="margin-top: 1em">Due to how the tests are split
up into a dedicated class per API method, it is possible to
execute tests against a single API at a time. To execute the
tests for the Jenk&acirc; <br>
ins.get_version() API execute the command:</p>

<p style="margin-top: 1em">tox -e py27 --
tests.test_version.JenkinsVersionTest</p>

<p style="margin-top: 1em">For further details on how to
list tests available and different ways to execute them, see
https://wiki.openstack.org/wiki/Testr.</p>

<p style="margin-top: 1em">Test Coverage <br>
To measure test coverage, execute the command:</p>

<p style="margin-top: 1em">tox -e cover</p>

<p style="margin-top: 1em">&Acirc;&middot; genindex</p>

<p style="margin-top: 1em">&Acirc;&middot; modindex</p>

<p style="margin-top: 1em">&Acirc;&middot; search</p>

<p style="margin-top: 1em">AUTHOR <br>
Ken Conley, James Page, Tully Foote, Matthew Gertner</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2010, Willow Garage</p>

<p style="margin-top: 1em">0.4.14 May 21, 2017
PYTHONJENKINS(1)</p>
<hr>
</body>
</html>
