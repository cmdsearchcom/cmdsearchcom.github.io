<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>clamz(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">clamz(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">clamz(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
clamz - download MP3 music files from Amazon.com
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>clamz</b> [ <i>options</i> ] <i>amz-file</i> ...
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>clamz</b> is a little command-line program to download MP3 files from
  Amazon.com's music store. It is intended to serve as a substitute for Amazon's
  official MP3 Downloader, which is not free software (and therefore is only
  available in binary form for a limited set of platforms.) <b>clamz</b> can be
  used to download either individual songs or complete albums that you have
  purchased from Amazon.
<div style="height: 1.00em;">&#x00A0;</div>
In order to use <b>clamz</b>, you must first enable the ``MP3 dowloader mode''
  by visiting the following URL:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">http://www.amazon.com/gp/dmusic/after_download_manager_install.html?AMDVersion=1.0.9</dd>
</dl>
<div class="Pp"></div>
If you are outside the US, replace `amazon.com' with the corresponding domain
  for your country (e.g., amazon.co.uk for the UK, or amazon.fr for France.)
  Amazon does not allow anyone to purchase MP3 files from outside their country
  of residence.
<div style="height: 1.00em;">&#x00A0;</div>
To download the contents of an AMZ file into the current directory, just run
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">clamz <i>some-file-name</i>.amz</dd>
</dl>
<div class="Pp"></div>
More advanced options are listed below.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> <i>name-format</i>,
    <b>--output</b>=<i>name-format</i></dt>
  <dd class="It-tag">Set the name of the downloaded file(s). This may contain
      any of several variables which are derived from the input AMZ file; see
      <b>FORMAT VARIABLES</b> below. Note that the format string should be
      enclosed in single quotes, to stop the shell from expanding variables
      itself.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>directory-format</i>,
    <b>--output-dir</b>=<i>directory-format</i></dt>
  <dd class="It-tag">Set the directory where the downloaded files should be
      placed. (If this directory does not exist, it will be created.) This may
      also contain format variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--resume</b></dt>
  <dd class="It-tag">Resume downloading a partially-downloaded album. (By
      default, if you are downloading a file named foo.mp3, and the file foo.mp3
      already exists in the destination directory, <b>clamz</b> will rename the
      new file to foo.mp3.1 to avoid overwriting the old file. If the <b>-r</b>
      option is used, <b>clamz</b> will instead assume that the first part of
      the file has already been downloaded, and will resume downloading from
      where it left off.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--info</b></dt>
  <dd class="It-tag">Rather than downloading anything, just display detailed
      information about the given AMZ file(s) to standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>, <b>--xml</b></dt>
  <dd class="It-tag">Rather than downloading anything, print the raw, decrypted
      XML data from the AMZ file to standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Display detailed information while downloading.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">Turn off the normal progress display; display only error
      messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--forbid-chars</b>=<i>characters</i></dt>
  <dd class="It-tag">Do not allow the given <i>characters</i> to be used in
      output filenames. Note that control characters and slashes may never be
      used in filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-chars</b>=<i>characters</i></dt>
  <dd class="It-tag">Opposite of the above; remove the given <i>characters</i>
      from the set of disallowed characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-uppercase</b></dt>
  <dd class="It-tag">Allow uppercase letters in filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--forbid-uppercase</b></dt>
  <dd class="It-tag">Do not allow uppercase letters in filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--utf8-filenames</b></dt>
  <dd class="It-tag">Use UTF-8 when writing filenames (the default behavior is
      to use UTF-8 if the system locale says so, otherwise ASCII.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ascii-filenames</b></dt>
  <dd class="It-tag">Use only ASCII characters in filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Print out a summary of options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print out version information.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="FORMAT_VARIABLES"><a class="selflink" href="#FORMAT_VARIABLES">FORMAT
  VARIABLES</a></h2>
As part of a <i>name-format</i> or <i>directory-format</i> option, you may
  include references to environment variables (e.g., <b>$HOME</b>) or to the
  `xdg-user-dirs' configuration variables (e.g., <b>$XDG_MUSIC_DIR</b> or
  <b>$XDG_DESKTOP_DIR</b>.)
<div style="height: 1.00em;">&#x00A0;</div>
In addition, the following special variables are defined for each track, based
  on the information provided in the AMZ file, and subject to the above
  configuration options ( <b>--forbid-chars</b>, <b>--forbid-uppercase</b>,
  etc.)
<dl class="Bl-tag">
  <dt class="It-tag"><b>${title}</b>, <b>${creator}</b>, <b>${tracknum}</b>,
    <b>${discnum}</b>, <b>${genre}</b>, <b>${asin}</b></dt>
  <dd class="It-tag">Title, creator, track number, disc number, genre, and ASIN
      (Amazon Standard Identification Number) of each individual track.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>${album}</b>, <b>${album_artist}</b>,
    <b>${album_asin}</b></dt>
  <dd class="It-tag">Title, primary artist, and ASIN of the album the track
      comes from. (This information is available both for single-track and
      full-album downloads.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>${suffix}</b></dt>
  <dd class="It-tag">Suffix of the output file (currently only `mp3'.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>${amz_title}</b>, <b>${amz_creator}</b>,
    <b>${amz_genre}</b>, <b>${amz_asin}</b></dt>
  <dd class="It-tag">These variables formerly contained metadata for the AMZ
      file as a whole; current AMZ files do not contain this information. Using
      these variables is not recommended.</dd>
</dl>
<div class="Pp"></div>
Similar to shell variable expansion, you can also use the following conditional
  expressions:
<dl class="Bl-tag">
  <dt class="It-tag"><b>${</b><i>var</i><b>:-</b><i>string</i><b>}</b></dt>
  <dd class="It-tag">Expands to the value of variable <i>var</i> if it is
      defined and non-empty; otherwise, expands to <i>string</i> (which may
      itself contain variable references.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>${</b><i>var</i><b>:+</b><i>string</i><b>}</b></dt>
  <dd class="It-tag">Expands to <i>string</i> if the variable <i>var</i> is
      defined and non-empty; otherwise, expands to an empty string.</dd>
</dl>
<div class="Pp"></div>
Note that when you include format variables in a command-line argument, you will
  usually need to enclose the argument in single quotes ('...'), or insert a
  backslash before the `$', to prevent the shell from trying to expand the
  variables itself.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">$HOME/.clamz/config</dt>
  <dd class="It-tag">General configuration file, providing default settings for
      the <b>--output</b>, <b>--forbid-chars</b>, <b>--allow-uppercase</b> and
      <b>--utf8-filenames</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">$HOME/.clamz/amzfiles/</dt>
  <dd class="It-tag">Directory containing backup copies of AMZ files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">$HOME/.clamz/logs/</dt>
  <dd class="It-tag">Directory containing log files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">http_proxy</dt>
  <dd class="It-tag">HTTP proxy to use for downloading files; use `server:port'
      to specify a port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Benjamin Moody &lt;floppusmaximus@users.sf.net&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 2011</td>
    <td class="foot-os">Clamz 0.5</td>
  </tr>
</table>
</body>
</html>
